var Ext=Ext||window.Ext||{};Ext.Boot=Ext.Boot||function(e){var t,n=document,i={disableCaching:/[?&](?:cache|disableCacheBuster)\b/i.test(location.search)||/(^|[ ;])ext-cache=1/.test(n.cookie)?!1:!0,disableCachingParam:"_dc",loadDelay:!1,preserveScripts:!0,charset:void 0},r=[],o={},a=/\.css(?:\?|$)/i,s=/\/[^\/]*$/,l=n.createElement("a"),d="undefined"!=typeof window,u={browser:d,node:!d&&"function"==typeof require,phantom:"undefined"!=typeof phantom&&phantom.fs},c=[],h=0,f=0,g={loading:0,loaded:0,env:u,config:i,scripts:o,currentFile:null,canonicalUrl:function(e){l.href=e;var t,n,r=l.href,o=i.disableCachingParam,a=o?r.indexOf(o+"="):-1;return a>0&&("?"===(t=r.charAt(a-1))||"&"===t)&&(n=r.indexOf("&",a),n=0>n?"":r.substring(n),n&&"?"===t&&(++a,n=n.substring(1)),r=r.substring(0,a-1)+n),r},init:function(){var e,t,i,r,a,s,l,d=n.getElementsByTagName("script"),u=d.length,c=/\/ext(\-[a-z\-]+)?\.js$/;for(l=0;u>l;l++)i=(t=d[l]).src,i&&(r=t.readyState||null,a||c.test(i)&&(g.hasAsync="async"in t||!("readyState"in t),a=i),o[s=g.canonicalUrl(i)]||(o[s]=e={key:s,url:i,done:null===r||"loaded"===r||"complete"===r,el:t,prop:"src"},e.done||g.watch(e)));a||(t=d[d.length-1],a=t.src,g.hasAsync="async"in t||!("readyState"in t)),g.baseUrl=a.substring(0,a.lastIndexOf("/")+1)},create:function(e,t){var i,r=e&&a.test(e),s=n.createElement(r?"link":"script");if(r)s.rel="stylesheet",i="href";else{if(s.type="text/javascript",!e)return s;i="src",g.hasAsync&&(s.async=!1)}return t=t||e,o[t]={key:t,url:e,css:r,done:!1,el:s,prop:i,loaded:!1,evaluated:!1}},getConfig:function(e){return e?i[e]:i},setConfig:function(e,t){if("string"==typeof e)i[e]=t;else for(var n in e)g.setConfig(n,e[n]);return g},getHead:function(){return g.docHead||(g.docHead=n.head||n.getElementsByTagName("head")[0])},inject:function(e,t,i){var r,l,d,u=g.getHead(),c=!1,h=g.canonicalUrl(t);return a.test(t)?(c=!0,l=n.createElement("style"),l.type="text/css",l.textContent=e,i&&("id"in i&&(l.id=i.id),"disabled"in i&&(l.disabled=i.disabled)),r=n.createElement("base"),r.href=h.replace(s,"/"),u.appendChild(r),u.appendChild(l),u.removeChild(r)):(t&&(e+="\n//@ sourceURL="+h),Ext.globalEval(e)),d=o[h]||(o[h]={key:h,css:c,url:t,el:l}),d.done=!0,d},load:function(e){if(e.sync||f)return this.loadSync(e);if(e.url||(e={url:e}),t)r.push(e);else{g.expandLoadOrder(e);var n,o=e.url,a=o.charAt?[o]:o,s=a.length;e.urls=a,e.loaded=0,e.loading=s,e.charset=e.charset||i.charset,e.buster=("cache"in e?!e.cache:i.disableCaching)&&i.disableCachingParam+"="+ +new Date,t=e,e.sequential=!1;for(n=0;s>n;++n)g.loadUrl(a[n],e)}return this},loadUrl:function(e,t){var n,i,r,a=t.buster,s=t.charset,l=g.getHead();if(t.prependBaseUrl&&(e=g.baseUrl+e),t.sequential?g.currentFile=e:g.currentFile=null,r=g.canonicalUrl(e),n=o[r])n.done?g.notify(n,t):n.requests?n.requests.push(t):n.requests=[t];else if(h++,n=g.create(e,r),i=n.el,!n.css&&s&&(i.charset=s),n.requests=[t],g.watch(n),a&&(e+=(-1===e.indexOf("?")?"?":"&")+a),g.hasAsync||n.css)i[n.prop]=e,l.appendChild(i);else{n.loaded=!1,n.evaluated=!1;var d,u=function(){n.loaded=!0;var e,i,r,a=t.urls,s=a.length;for(e=0;s>e;e++)if(r=g.canonicalUrl(a[e]),i=o[r]){if(!i.loaded)return;i.evaluated||(l.appendChild(i.el),i.evaluated=!0,i.onLoadWas.apply(i.el,arguments))}};"readyState"in i?(d=i.onreadystatechange,i.onreadystatechange=function(){("loaded"===this.readyState||"complete"===this.readyState)&&u.apply(this,arguments)}):(d=i.onload,i.onload=u),n.onLoadWas=d,i[n.prop]=e}},loadSequential:function(e){e.url||(e={url:e}),e.sequential=!0,g.load(e)},loadSequentialBasePrefix:function(e){e.url||(e={url:e}),e.prependBaseUrl=!0,g.loadSequential(e)},fetchSync:function(e){var t,n,i,r;t=!1,n=new XMLHttpRequest;try{n.open("GET",e,!1),n.send(null)}catch(o){t=!0}return i=1223===n.status?204:0!==n.status||"file:"!==(self.location||{}).protocol&&"ionp:"!==(self.location||{}).protocol?n.status:200,r=n.responseText,n=null,{content:r,exception:t,status:i}},loadSync:function(e){f++;var t,n,r,a,s,l,e=g.expandLoadOrder(e.url?e:{url:e}),d=e.url,c=d.charAt?[d]:d,p=c.length,m=i.disableCaching&&"?"+i.disableCachingParam+"="+ +new Date;for(e.loading=p,e.urls=c,e.loaded=0,h++,r=0;p>r;++r){if(d=c[r],e.prependBaseUrl&&(d=g.baseUrl+d),g.currentFile=d,a=g.canonicalUrl(d),n=o[a]){if(n.done){g.notify(n,e);continue}n.el&&(n.preserve=!1,g.cleanup(n)),n.requests?n.requests.push(e):n.requests=[e]}else h++,o[a]=n={key:a,url:d,done:!1,requests:[e],el:null};n.sync=!0,m&&(d+=m),++g.loading,t=g.fetchSync(d),n.done=!0,l=t.exception,s=t.status,t=t.content||"",!l&&0!==s||u.phantom?s>=200&&300>s||304===s||u.phantom||0===s&&t.length>0?g.inject(t,d):n.error="Failed loading synchronously via XHR: '"+d+"'. Please verify that the file exists. XHR status code: "+s||!0:n.error="Failed loading synchronously via XHR: '"+d+"'. It's likely that the file is either being loaded from a different domain or from the local file system where cross origin requests are not allowed for security reasons. Try asynchronous loading instead."||!0,g.notifyAll(n)}return f--,h--,g.fireListeners(),g.currentFile=null,this},loadSyncBasePrefix:function(e){e.url||(e={url:e}),e.prependBaseUrl=!0,g.loadSync(e)},notify:function(e,n){if(n.preserve&&(e.preserve=!0),++n.loaded,!n.loading)throw new Error("Unexpected script load notification "+e.url);if(e.error&&(n.errors||(n.errors=[])).push(e),--n.loading)!f&&n.sequential&&n.loaded<n.urls.length&&g.loadUrl(n.urls[n.loaded],n);else{t=null;var o=n.errors,a=n[o?"failure":"success"],s="delay"in n?n.delay:o?1:i.chainDelay,l=n.scope||n;r.length&&g.load(r.shift()),a&&(0===s||s>0?setTimeout(function(){a.call(l,n)},s):a.call(l,n))}},notifyAll:function(e){var t,n=e.requests,i=n&&n.length;for(e.done=!0,e.requests=null,--g.loading,++g.loaded,t=0;i>t;++t)g.notify(e,n[t]);i||(e.preserve=!0),g.cleanup(e),h--,g.fireListeners()},watch:function(e){var t=e.el,n=e.requests,r=n&&n[0],o=function(){e.done||g.notifyAll(e)};t.onerror=function(){e.error=!0,g.notifyAll(e)},e.preserve=r&&"preserve"in r?r.preserve:i.preserveScripts,"readyState"in t?t.onreadystatechange=function(){("loaded"===this.readyState||"complete"===this.readyState)&&o()}:t.onload=o,++g.loading},cleanup:function(t){var n,i=t.el;if(i){if(!t.preserve){t.el=null,i.parentNode.removeChild(i);for(n in i)try{n!==t.prop&&(i[n]=null),delete i[n]}catch(r){}}i.onload=i.onerror=i.onreadystatechange=e}},fireListeners:function(){for(var e;!h&&(e=c.shift());)e()},onBootReady:function(e){h?c.push(e):e()},createLoadOrderMap:function(e){var t,n,i=e.length,r={};for(t=0;i>t;t++)n=e[t],r[n.path]=n;return r},getLoadIndexes:function(e,t,n,i,r){var a,s,l,d,u,c,h,f,p,m=n[e];if(t[e])return t;for(t[e]=!0,c=!1;!c;){h=!1;for(f in t)if(t.hasOwnProperty(f)){if(m=n[f],!m)continue;if(d=g.canonicalUrl(m.path),u=o[d],!r||!u||!u.done)for(l=m.requires,i&&m.uses&&(l=l.concat(m.uses)),a=l.length,s=0;a>s;s++)p=l[s],t[p]||(t[p]=!0,h=!0)}h||(c=!0)}return t},getPathsFromIndexes:function(e,t){var n,i,r,o=[],a=[];for(n in e)e.hasOwnProperty(n)&&e[n]&&o.push(n);for(o.sort(function(e,t){return e-t}),i=o.length,r=0;i>r;r++)a.push(t[o[r]].path);return a},expandUrl:function(e,t,n,i,r,o){if("string"==typeof e&&(e=[e]),t){n=n||g.createLoadOrderMap(t),i=i||{};var a,s,l=e.length,d=[];for(a=0;l>a;a++)s=n[e[a]],s?g.getLoadIndexes(s.idx,i,t,r,o):d.push(e[a]);return g.getPathsFromIndexes(i,t).concat(d)}return e},expandUrls:function(e,t,n,i){"string"==typeof e&&(e=[e]);var r,o=[],a=e.length;for(r=0;a>r;r++)o=o.concat(g.expandUrl(e[r],t,n,{},i,!0));return 0==o.length&&(o=e),o},expandLoadOrder:function(e){var t,n=e.url,i=e.loadOrder,r=e.loadOrderMap;return e.expanded?t=n:(t=g.expandUrls(n,i,r),e.expanded=!0),e.url=t,n.length!=t.length&&(e.sequential=!0),e}};return Ext.disableCacheBuster=function(e,t){var i=new Date;i.setTime(i.getTime()+24*(e?3650:-1)*60*60*1e3),i=i.toGMTString(),n.cookie="ext-cache=1; expires="+i+"; path="+(t||"/")},g.init(),g}(function(){}),Ext.globalEval=this.execScript?function(e){execScript(e)}:function($$code){!function(){var Ext=this.Ext;eval($$code)}()},Function.prototype.bind||!function(){var e=Array.prototype.slice,t=function(t){var n=e.call(arguments,1),i=this;return n.length?function(){var r=arguments;return i.apply(t,r.length?n.concat(e.call(r)):n)}:(n=null,function(){return i.apply(t,arguments)})};Function.prototype.bind=t,t.$extjs=!0}();var Ext=Ext||{};Ext._startTime=Date.now?Date.now():+new Date,function(){var e,t=this,n=Object.prototype,i=n.toString,r=["valueOf","toLocaleString","toString","constructor"],o=function(){},a=function(){},s=function(e){return e},l=function(){var e=l.caller.caller;return e.$owner.prototype[e.$name].apply(this,arguments)},d=Ext.manifest||{},u=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,c=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/;Ext.global=t,o.$nullFn=s.$nullFn=o.$emptyFn=s.$identityFn=a.$nullFn=!0,a.$privacy="framework",Ext.suspendLayouts=Ext.resumeLayouts=o;for(e in{toString:1})r=null;Ext.enumerables=r,Ext.apply=function(e,t,n){if(n&&Ext.apply(e,n),e&&t&&"object"==typeof t){var i,o,a;for(i in t)e[i]=t[i];if(r)for(o=r.length;o--;)a=r[o],t.hasOwnProperty(a)&&(e[a]=t[a])}return e},Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{}),Ext.apply(Ext,{idSeed:0,idPrefix:"ext-",isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:!1,enableListenerCollection:!0,name:Ext.sandboxName||"Ext",privateFn:a,emptyFn:o,identityFn:s,frameStartTime:+new Date,manifest:d,debugConfig:Ext.debugConfig||d.debug||{hooks:{"*":!0}},validIdRe:/^[a-z_][a-z0-9\-_]*$/i,makeIdSelector:function(e){return Ext.validIdRe.test(e)||Ext.Error.raise('Invalid id selector: "'+e+'"'),"#"+e},id:function(e,t){if(e&&e.id)return e.id;var n=(t||Ext.idPrefix)+ ++Ext.idSeed;return e&&(e.id=n),n},returnId:function(e){return e.getId()},returnTrue:function(){return!0},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,$eventNameMap:{},applyIf:function(e,t){var n;if(e)for(n in t)void 0===e[n]&&(e[n]=t[n]);return e},now:t.performance&&t.performance.now?function(){return performance.now()}:Date.now||(Date.now=function(){return+new Date}),destroy:function(){var e,t,n=arguments.length;for(e=0;n>e;e++)t=arguments[e],t&&(Ext.isArray(t)?this.destroy.apply(this,t):Ext.isFunction(t.destroy)&&t.destroy());return null},destroyMembers:function(e){for(var t,n,i=1,r=arguments,o=r.length;o>i;i++)t=e[n=r[i]],null!=t&&(e[n]=Ext.destroy(t))},override:function(e,t){if(e.$isClass)e.override(t);else if("function"==typeof e)Ext.apply(e.prototype,t);else{var n,i,r=e.self;if(r&&r.$isClass)for(n in t)t.hasOwnProperty(n)&&(i=t[n],"function"==typeof i&&(r.$className&&(i.displayName=r.$className+"#"+n),i.$name=n,i.$owner=r,i.$previous=e.hasOwnProperty(n)?e[n]:l),e[n]=i);else Ext.apply(e,t)}return e},valueFrom:function(e,t,n){return Ext.isEmpty(e,n)?t:e},isEmpty:function(e,t){return null==e||(t?!1:""===e)||Ext.isArray(e)&&0===e.length},isArray:"isArray"in Array?Array.isArray:function(e){return"[object Array]"===i.call(e)},isDate:function(e){return"[object Date]"===i.call(e)},isMSDate:function(e){return Ext.isString(e)?c.test(e):!1},isObject:"[object Object]"===i.call(null)?function(e){return null!==e&&void 0!==e&&"[object Object]"===i.call(e)&&void 0===e.ownerDocument}:function(e){return"[object Object]"===i.call(e)},isSimpleObject:function(e){return e instanceof Object&&e.constructor===Object},isPrimitive:function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},isFunction:"undefined"!=typeof document&&"function"==typeof document.getElementsByTagName("body")?function(e){return!!e&&"[object Function]"===i.call(e)}:function(e){return!!e&&"function"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isString:function(e){return"string"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isElement:function(e){return e?1===e.nodeType:!1},isTextNode:function(e){return e?"#text"===e.nodeName:!1},isDefined:function(e){return"undefined"!=typeof e},isIterable:function(e){return!e||"number"!=typeof e.length||"string"==typeof e||Ext.isFunction(e)?!1:e.propertyIsEnumerable?e.hasOwnProperty("length")&&!e.propertyIsEnumerable("length")?!0:u.test(i.call(e)):!!e.item},isDebugEnabled:function(e,t){var n=Ext.debugConfig.hooks;if(n.hasOwnProperty(e))return n[e];var i=n["*"],r=0;if(void 0!==t&&(i=t),!e)return i;for(var o in n){var a=n[o];"."===e.charAt(o.length)&&e.substring(0,o.length)===o&&r<o.length&&(r=o.length,i=a)}return i}||o,clone:function(e){if(null===e||void 0===e)return e;if(e.nodeType&&e.cloneNode)return e.cloneNode(!0);var t,n,o,a,s,l=i.call(e);if("[object Date]"===l)return new Date(e.getTime());if("[object Array]"===l)for(t=e.length,a=[];t--;)a[t]=Ext.clone(e[t]);else if("[object Object]"===l&&e.constructor===Object){a={};for(s in e)a[s]=Ext.clone(e[s]);if(r)for(n=r.length;n--;)o=r[n],e.hasOwnProperty(o)&&(a[o]=e[o])}return a||e},getUniqueGlobalNamespace:function(){var e,n=this.uniqueGlobalNamespace;if(void 0===n){e=0;do n="ExtBox"+ ++e;while(void 0!==t[n]);t[n]=Ext,this.uniqueGlobalNamespace=n}return n},functionFactoryCache:{},cacheableFunctionFactory:function(){var e,t,n,i=this,r=Array.prototype.slice.call(arguments),o=i.functionFactoryCache;return Ext.isSandboxed&&(n=r.length,n>0&&(n--,r[n]="var Ext=window."+Ext.name+";"+r[n])),e=r.join(""),t=o[e],t||(t=Function.prototype.constructor.apply(Function.prototype,r),o[e]=t),t},functionFactory:function(){var e,t=Array.prototype.slice.call(arguments);return Ext.isSandboxed&&(e=t.length,e>0&&(e--,t[e]="var Ext=window."+Ext.name+";"+t[e])),Function.prototype.constructor.apply(Function.prototype,t)},Logger:{log:function(e,n){e&&t.console&&(n&&n in t.console||(n="log"),e="["+n.toUpperCase()+"] "+e,t.console[n](e))},verbose:function(e){this.log(e,"verbose")},info:function(e){this.log(e,"info")},warn:function(e){this.log(e,"warn")},error:function(e){throw new Error(e)},deprecate:function(e){this.log(e,"warn")}}||{verbose:o,log:o,info:o,warn:o,error:function(e){throw new Error(e)},deprecate:o},getElementById:function(e){return document.getElementById(e)},splitAndUnescape:function(){var e={};return function(t,n){if(!t)return[];if(!n)return[t];var i,r,o=e[n]||(e[n]=new RegExp("\\\\"+n,"g")),a=[];for(i=t.split(n);void 0!==(r=i.shift());){for(;"\\"===r.charAt(r.length-1)&&i.length>0;)r=r+n+i.shift();r=r.replace(o,n),a.push(r)}return a}}()}),Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=!0}(),function(){function e(){var e=this,t=e.sourceClass,n=e.sourceMethod,i=e.msg;return n&&(i?(n+="(): ",n+=i):n+="()"),t&&(n=n?t+"."+n:t),n||i||""}Ext.Error=function(t){Ext.isString(t)&&(t={msg:t});var n=new Error;return Ext.apply(n,t),n.message=n.message||n.msg,n.toString=e,n},Ext.apply(Ext.Error,{ignore:!1,raise:function(t){t=t||{},Ext.isString(t)&&(t={msg:t});var n,i,r=this,o=r.raise.caller;if(o&&(!t.sourceMethod&&(i=o.$name)&&(t.sourceMethod=i),!t.sourceClass&&(i=o.$owner)&&(i=i.$className)&&(t.sourceClass=i)),r.handle(t)!==!0)throw n=e.call(t),Ext.log({msg:n,level:"error",dump:t,stack:!0}),new Ext.Error(t)},handle:function(){return this.ignore}})}(),Ext.deprecated=function(e){function t(){Ext.Error.raise('The method "'+t.$owner.$className+"."+t.$name+'" has been removed. '+e)}return e||(e=""),t},function(){if("undefined"!=typeof window){var e=Ext.global,t=0,n=function(){var n,i=Ext.log&&Ext.log.counters,r=i&&i.error+i.warn+i.info+i.log;r&&t!==r&&(n=[],i.error&&n.push("Errors: "+i.error),i.warn&&n.push("Warnings: "+i.warn),i.info&&n.push("Info: "+i.info),i.log&&n.push("Log: "+i.log),e.status="*** "+n.join(" -- "),t=r)};e.setInterval(n,1e3)}}(),Ext.Array=new function(){function e(e,t){var n,i=e.length,r=new Array(i),o=new Array(i);for(n=0;i>n;n++)r[n]=n;for(r.sort(function(n,i){return t(e[n],e[i])||n-i}),n=0;i>n;n++)o[n]=e[r[n]];for(n=0;i>n;n++)e[n]=o[n];return e}var t=Array.prototype,n=t.slice,i=function(){var e,t=[],n=20;if(!t.splice)return!1;for(;n--;)t.push("A");return t.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F"),e=t.length,t.splice(13,0,"XXX"),e+1!==t.length?!1:!0}(),r="indexOf"in t,o=!0;try{"undefined"!=typeof document&&n.call(document.getElementsByTagName("body"))}catch(a){o=!1}var s=function(e,t){return 0>t?Math.max(0,e.length+t):Math.min(e.length,t)},l=function(e,t,n,i){var r=i?i.length:0,o=e.length,a=s(e,t);if(a===o)r&&e.push.apply(e,i);else{var l,d=Math.min(n,o-a),u=a+d,c=u+r-d,h=o-u,f=o-d;if(u>c)for(l=0;h>l;++l)e[c+l]=e[u+l];else if(c>u)for(l=h;l--;)e[c+l]=e[u+l];if(r&&a===f)e.length=f,e.push.apply(e,i);else for(e.length=f+r,l=0;r>l;++l)e[a+l]=i[l]}return e},d=function(e,t,n,i){return i&&i.length?0!==t||n?t<e.length?e.splice.apply(e,[t,n].concat(i)):e.push.apply(e,i):e.unshift.apply(e,i):e.splice(t,n),e},u=function(e,t,n){return l(e,t,n)},c=function(e,t,n){return e.splice(t,n),e},h=function(e,t,i){var r=s(e,t),o=e.slice(t,s(e,r+i));return arguments.length<4?l(e,r,i):l(e,r,i,n.call(arguments,3)),o},f=function(e){return e.splice.apply(e,n.call(arguments,1))},g=i?c:u,p=i?d:l,m=i?f:h,x={binarySearch:function(e,t,n,i,r){var o,a,s=e.length;for(n instanceof Function?(r=n,n=0,i=s):i instanceof Function?(r=i,i=s):(void 0===n&&(n=0),void 0===i&&(i=s),r=r||x.lexicalCompare),--i;i>=n;)o=n+i>>1,a=r(t,e[o]),a>=0?n=o+1:0>a&&(i=o-1);return n},defaultCompare:function(e,t){return t>e?-1:e>t?1:0},lexicalCompare:function(e,t){return e=String(e),t=String(t),t>e?-1:e>t?1:0},each:function(e,t,n,i){e=x.from(e);var r,o=e.length;if(i!==!0){for(r=0;o>r;r++)if(t.call(n||e[r],e[r],r,e)===!1)return r}else for(r=o-1;r>-1;r--)if(t.call(n||e[r],e[r],r,e)===!1)return r;return!0},forEach:"forEach"in t?function(e,t,n){return e.forEach(t,n)}:function(e,t,n){for(var i=0,r=e.length;r>i;i++)t.call(n,e[i],i,e)},indexOf:r?function(e,n,i){return t.indexOf.call(e,n,i)}:function(e,t,n){var i,r=e.length;for(i=0>n?Math.max(0,r+n):n||0;r>i;i++)if(e[i]===t)return i;return-1},contains:r?function(e,n){return-1!==t.indexOf.call(e,n)}:function(e,t){var n,i;for(n=0,i=e.length;i>n;n++)if(e[n]===t)return!0;return!1},toArray:function(e,t,i){if(!e||!e.length)return[];if("string"==typeof e&&(e=e.split("")),o)return n.call(e,t||0,i||e.length);var r,a=[];for(t=t||0,i=i?0>i?e.length+i:i:e.length,r=t;i>r;r++)a.push(e[r]);return a},pluck:function(e,t){var n,i,r,o=[];for(n=0,i=e.length;i>n;n++)r=e[n],o.push(r[t]);return o},map:"map"in t?function(e,t,n){return Ext.Assert.isFunction(t,"Ext.Array.map must have a callback function passed as second argument."),e.map(t,n)}:function(e,t,n){Ext.Assert.isFunction(t,"Ext.Array.map must have a callback function passed as second argument.");for(var i=[],r=0,o=e.length;o>r;r++)i[r]=t.call(n,e[r],r,e);return i},every:"every"in t?function(e,t,n){return Ext.Assert.isFunction(t,"Ext.Array.every must have a callback function passed as second argument."),e.every(t,n)}:function(e,t,n){Ext.Assert.isFunction(t,"Ext.Array.every must have a callback function passed as second argument.");for(var i=0,r=e.length;r>i;++i)if(!t.call(n,e[i],i,e))return!1;return!0},some:"some"in t?function(e,t,n){return Ext.Assert.isFunction(t,"Ext.Array.some must have a callback function passed as second argument."),e.some(t,n)}:function(e,t,n){Ext.Assert.isFunction(t,"Ext.Array.some must have a callback function passed as second argument.");for(var i=0,r=e.length;r>i;++i)if(t.call(n,e[i],i,e))return!0;return!1},equals:function(e,t){var n,i=e.length,r=t.length;if(e===t)return!0;if(i!==r)return!1;for(n=0;i>n;++n)if(e[n]!==t[n])return!1;return!0},clean:function(e){for(var t,n=[],i=0,r=e.length;r>i;i++)t=e[i],Ext.isEmpty(t)||n.push(t);return n},unique:function(e){for(var t,n=[],i=0,r=e.length;r>i;i++)t=e[i],-1===x.indexOf(n,t)&&n.push(t);return n},filter:"filter"in t?function(e,t,n){return Ext.Assert.isFunction(t,"Ext.Array.filter must have a filter function passed as second argument."),e.filter(t,n)}:function(e,t,n){Ext.Assert.isFunction(t,"Ext.Array.filter must have a filter function passed as second argument.");for(var i=[],r=0,o=e.length;o>r;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i},findBy:function(e,t,n){for(var i=0,r=e.length;r>i;i++)if(t.call(n||e,e[i],i))return e[i];return null},from:function(e,t){if(void 0===e||null===e)return[];if(Ext.isArray(e))return t?n.call(e):e;var i=typeof e;return!e||void 0===e.length||"string"===i||"function"===i&&e.apply?[e]:x.toArray(e)},remove:function(e,t){var n=x.indexOf(e,t);return-1!==n&&g(e,n,1),e},include:function(e,t){x.contains(e,t)||e.push(t)},clone:function(e){return n.call(e)},merge:function(){var e,t,i=n.call(arguments),r=[];for(e=0,t=i.length;t>e;e++)r=r.concat(i[e]);return x.unique(r)},intersect:function(){var e,t,i,r,o,a,s,l,d,u,c,h,f,p=[],m=n.call(arguments);if(!m.length)return p;for(e=m.length,c=o=0;e>c;c++)a=m[c],(!r||a.length<r.length)&&(r=a,o=c);for(r=x.unique(r),g(m,o,1),s=r.length,e=m.length,c=0;s>c;c++){for(l=r[c],u=0,h=0;e>h;h++)for(t=m[h],i=t.length,f=0;i>f;f++)if(d=t[f],l===d){u++;break}u===e&&p.push(l)}return p},difference:function(e,t){var i,r,o,a=n.call(e),s=a.length;for(i=0,o=t.length;o>i;i++)for(r=0;s>r;r++)a[r]===t[i]&&(g(a,r,1),r--,s--);return a},slice:[1,2].slice(1,void 0).length?function(e,t,i){return n.call(e,t,i)}:function(e,t,i){return"undefined"==typeof t?n.call(e):"undefined"==typeof i?n.call(e,t):n.call(e,t,i)},sort:function(t,n){return e(t,n||x.lexicalCompare)},flatten:function(e){function t(e){var i,r,o;for(i=0,r=e.length;r>i;i++)o=e[i],Ext.isArray(o)?t(o):n.push(o);return n}var n=[];return t(e)},min:function(e,t){var n,i,r,o=e[0];for(n=0,i=e.length;i>n;n++)r=e[n],t?1===t(o,r)&&(o=r):o>r&&(o=r);return o},max:function(e,t){var n,i,r,o=e[0];for(n=0,i=e.length;i>n;n++)r=e[n],t?-1===t(o,r)&&(o=r):r>o&&(o=r);return o},mean:function(e){return e.length>0?x.sum(e)/e.length:void 0},sum:function(e){var t,n,i,r=0;for(t=0,n=e.length;n>t;t++)i=e[t],r+=i;return r},toMap:function(e,t,n){var i={},r=e.length;if(t)if("string"==typeof t)for(;r--;)i[e[r][t]]=r+1;else for(;r--;)i[t.call(n,e[r])]=r+1;else for(;r--;)i[e[r]]=r+1;return i},toValueMap:function(e,t,n,i){var r,o,a,s,l,d,u={},c=e.length;if(t)for((s="string"!=typeof t)||(i=n),o=1===i,r=2===i;c--;)d=e[c],l=s?t.call(n,d):d[t],o?l in u?u[l].push(d):u[l]=[d]:r&&l in u?(a=u[l])instanceof Array?a.push(d):u[l]=[a,d]:u[l]=d;else for(;c--;)d=e[c],u[d]=d;return u},_replaceSim:l,_spliceSim:h,erase:g,insert:function(e,t,n){return p(e,t,0,n)},replace:p,splice:m,push:function(e){var t,n=arguments.length,i=1;for(void 0===e?e=[]:Ext.isArray(e)||(e=[e]);n>i;i++)t=arguments[i],Array.prototype.push[Ext.isIterable(t)?"apply":"call"](e,t);return e},numericSortFn:function(e,t){return e-t}};return Ext.each=x.each,x.union=x.merge,Ext.min=x.min,Ext.max=x.max,Ext.sum=x.sum,Ext.mean=x.mean,Ext.flatten=x.flatten,Ext.clean=x.clean,Ext.unique=x.unique,Ext.pluck=x.pluck,Ext.toArray=function(){return x.toArray.apply(x,arguments)},x},Ext.Assert={falsey:function(e,t){e&&Ext.Error.raise(t||"Expected a falsey value but was "+e)},falseyProp:function(e,t){Ext.Assert.truthy(e);var n=e[t];n&&(e.$className&&(t=e.$className+"#"+t),Ext.Error.raise("Expected a falsey value for "+t+" but was "+n))},truthy:function(e,t){e||Ext.Error.raise(t||"Expected a truthy value but was "+typeof e)},truthyProp:function(e,t){Ext.Assert.truthy(e);var n=e[t];n||(e.$className&&(t=e.$className+"#"+t),Ext.Error.raise("Expected a truthy value for "+t+" but was "+typeof n))}},function(){function e(e,t){var n,i=Ext[e];return function(e,r){i(e)||Ext.Error.raise(r||n||(n="Expected value to be "+t))}}function t(e,t){var n,i=Ext[e];return function(e,r){Ext.Assert.truthy(e),i(e[r])||Ext.Error.raise(n||(n="Expected "+(e.$className?e.$className+"#":"")+r+" to be "+t))}}function n(e,t){var n,i=Ext[e];return function(e,r){i(e)&&Ext.Error.raise(r||n||(n="Expected value to NOT be "+t))}}function i(e,t){var n,i=Ext[e];return function(e,r){Ext.Assert.truthy(e),i(e[r])&&Ext.Error.raise(n||(n="Expected "+(e.$className?e.$className+"#":"")+r+" to NOT be "+t))}}for(var r in Ext)if("is"==r.substring(0,2)&&Ext.isFunction(Ext[r])){var o=r.substring(2);Ext.Assert[r]=e(r,o),Ext.Assert[r+"Prop"]=t(r,o),Ext.Assert["isNot"+o]=n(r,o),Ext.Assert["isNot"+o+"Prop"]=i(r,o)}}(),Ext.String=function(){var e,t,n,i,r,o=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,a=/('|\\)/g,s=/\{\d+\}/,l=/([-.*+?\^${}()|\[\]\/\\])/g,d=/^\s+|\s+$/g,u=/\s+/,c=/(^[^a-z]*|[^\w])/gi,h=function(t,n){return e[n]},f=function(e,n){return n in t?t[n]:String.fromCharCode(parseInt(n.substr(2),10))},g=function(e,t){return null===e||void 0===e||null===t||void 0===t?!1:t.length<=e.length},p={useFormat:!1,compiled:!0,stringFormat:!0},m={},x=function(e){return s.test(e)?(e=new Ext.Template(e,p),function(){return e.apply(arguments)}):function(){return e}};return r={insert:function(e,t,n){if(!e)return t;if(!t)return e;var i=e.length;return n||0===n||(n=i),0>n&&(n*=-1,n=n>=i?0:i-n),0===n?e=t+e:n>=e.length?e+=t:e=e.substr(0,n)+t+e.substr(n),e},startsWith:function(e,t,n){var i=g(e,t);return i&&(n&&(e=e.toLowerCase(),t=t.toLowerCase()),i=0===e.lastIndexOf(t,0)),i},endsWith:function(e,t,n){var i=g(e,t);return i&&(n&&(e=e.toLowerCase(),t=t.toLowerCase()),i=-1!==e.indexOf(t,e.length-t.length)),i},createVarName:function(e){return e.replace(c,"")},htmlEncode:function(e){return e?String(e).replace(n,h):e},htmlDecode:function(e){return e?String(e).replace(i,f):e},hasHtmlCharacters:function(e){return n.test(e)},addCharacterEntities:function(r){var o,a,s=[],l=[];for(o in r)a=r[o],t[o]=a,e[a]=o,s.push(a),l.push(o);n=new RegExp("("+s.join("|")+")","g"),i=new RegExp("("+l.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){e={},t={},this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(e,t){return Ext.isEmpty(t)?e:e+(-1===e.indexOf("?")?"?":"&")+t},trim:function(e){return e&&(e=e.replace(o,"")),e||""},capitalize:function(e){return e&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e||""},uncapitalize:function(e){return e&&(e=e.charAt(0).toLowerCase()+e.substr(1)),e||""},ellipsis:function(e,t,n){if(e&&e.length>t){if(n){var i=e.substr(0,t-2),r=Math.max(i.lastIndexOf(" "),i.lastIndexOf("."),i.lastIndexOf("!"),i.lastIndexOf("?"));if(-1!==r&&r>=t-15)return i.substr(0,r)+"..."}return e.substr(0,t-3)+"..."}return e},escapeRegex:function(e){return e.replace(l,"\\$1")},createRegex:function(e,t,n,i){var o=e;return null==e||e.exec||(o=r.escapeRegex(String(e)),t!==!1&&(o="^"+o),n!==!1&&(o+="$"),o=new RegExp(o,i!==!1?"i":"")),o},escape:function(e){return e.replace(a,"\\$1")},toggle:function(e,t,n){return e===t?n:t},leftPad:function(e,t,n){var i=String(e);for(n=n||" ";i.length<t;)i=n+i;return i},format:function(e){var t=m[e]||(m[e]=x(e));return t.apply(this,arguments)},repeat:function(e,t,n){1>t&&(t=0);for(var i=[],r=t;r--;)i.push(e);return i.join(n||"")},splitWords:function(e){return e&&"string"==typeof e?e.replace(d,"").split(u):e||[]}}}(),Ext.String.resetCharacterEntities(),Ext.htmlEncode=Ext.String.htmlEncode,Ext.htmlDecode=Ext.String.htmlDecode,Ext.urlAppend=Ext.String.urlAppend,Ext.Date=function(){function e(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(a,function(e,n){return t[n]})}var t,n=/(\\.)/g,i=/([gGhHisucUOPZ]|MS)/,r=/([djzmnYycU]|MS)/,o=/\\/gi,a=/\{(\d+)\}/g,s=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),l=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear();","jan4 = new Date(year, 0, 4, 0, 0, 0);","d = jan4.getDay();","week1monday = new Date(jan4.getTime() - ((d === 0 ? 6 : d - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return t={now:Date.now,toString:function(e){e||(e=new Date);var t=Ext.String.leftPad;return e.getFullYear()+"-"+t(e.getMonth()+1,2,"0")+"-"+t(e.getDate(),2,"0")+"T"+t(e.getHours(),2,"0")+":"+t(e.getMinutes(),2,"0")+":"+t(e.getSeconds(),2,"0")},getElapsed:function(e,n){return Math.abs(e-(n||t.now()))},useStrict:!1,formatCodeToRegex:function(n,i){var r=t.parseCodes[n];return r&&(r="function"==typeof r?r():r,t.parseCodes[n]=r),r?Ext.applyIf({c:r.c?e(r.c,i||"{0}"):r.c},r):{g:0,c:null,s:Ext.String.escapeRegex(n)}},parseFunctions:{MS:function(e,t){var n=(e||"").match(s);return n?new Date(1*((n[1]||"")+n[2])):null},time:function(e,t){var n=parseInt(e,10);return n||0===n?new Date(n):null},timestamp:function(e,t){var n=parseInt(e,10);return n||0===n?new Date(1e3*n):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return t.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(e){return Ext.Date.monthNames[e].substring(0,3)},getShortDayName:function(e){return Ext.Date.dayNames[e].substring(0,3)},getMonthNumber:function(e){return Ext.Date.monthNumbers[e.substring(0,1).toUpperCase()+e.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(e){return i.test(e.replace(n,""))},formatContainsDateInfo:function(e){return r.test(e.replace(n,""))},unescapeFormat:function(e){return e.replace(o,"")},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",
y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var e,n,i,r,o;for(e="Y-m-dTH:i:sP",n=[],i=0,r=e.length;r>i;++i)o=e.charAt(i),n.push("T"==o?"'T'":t.getFormatCode(o));return n.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(e,n,i,r,o,a,s){r=r||0,o=o||0,a=a||0,s=s||0;var l=t.add(new Date(100>e?100:e,n-1,i,r,o,a,s),t.YEAR,100>e?e-100:0);return e==l.getFullYear()&&n==l.getMonth()+1&&i==l.getDate()&&r==l.getHours()&&o==l.getMinutes()&&a==l.getSeconds()&&s==l.getMilliseconds()},parse:function(e,n,i){var r=t.parseFunctions;return null==r[n]&&t.createParser(n),r[n].call(t,e,Ext.isDefined(i)?i:t.useStrict)},parseDate:function(e,n,i){return t.parse(e,n,i)},getFormatCode:function(e){var n=t.formatCodes[e];return n&&(n="function"==typeof n?n():n,t.formatCodes[e]=n),n||"'"+Ext.String.escape(e)+"'"},createFormat:function(e){var n,i=[],r=!1,o="";for(n=0;n<e.length;++n)o=e.charAt(n),r||"\\"!=o?r?(r=!1,i.push("'"+Ext.String.escape(o)+"'")):"\n"==o?i.push("'\\n'"):i.push(t.getFormatCode(o)):r=!0;t.formatFunctions[e]=Ext.functionFactory("return "+i.join("+"))},createParser:function(n){for(var i,r=t.parseRegexes.length,o=1,a=[],s=[],d=!1,u="",c=0,h=n.length,f=[];h>c;++c)u=n.charAt(c),d||"\\"!=u?d?(d=!1,s.push(Ext.String.escape(u))):(i=t.formatCodeToRegex(u,o),o+=i.g,s.push(i.s),i.g&&i.c&&(i.calcAtEnd?f.push(i.c):a.push(i.c))):d=!0;a=a.concat(f),t.parseRegexes[r]=new RegExp("^"+s.join("")+"$","i"),t.parseFunctions[n]=Ext.functionFactory("input","strict",e(l,r,a.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var e=[],n=0;7>n;e.push(t.getShortDayName(n)),++n);return{g:0,c:null,s:"(?:"+e.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+t.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+t.monthNames.join("|")+")"}},M:function(){for(var e=[],n=0;12>n;e.push(t.getShortMonthName(n)),++n);return Ext.applyIf({s:"("+e.join("|")+")"},t.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var e,n,i=[],r=[t.formatCodeToRegex("Y",1),t.formatCodeToRegex("m",2),t.formatCodeToRegex("d",3),t.formatCodeToRegex("H",4),t.formatCodeToRegex("i",5),t.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",t.formatCodeToRegex("P",8).c,"}else{",t.formatCodeToRegex("O",8).c,"}","}"].join("\n")}];for(e=0,n=r.length;n>e;++e)i.push(r[e].c);return{g:1,c:i.join(""),s:[r[0].s,"(?:","-",r[1].s,"(?:","-",r[2].s,"(?:","(?:T| )?",r[3].s,":",r[4].s,"(?::",r[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(e,n){return t.format(e,n)},isEqual:function(e,t){return e&&t?e.getTime()===t.getTime():!(e||t)},format:function(e,n){var i=t.formatFunctions;return Ext.isDate(e)?(null==i[n]&&t.createFormat(n),i[n].call(e)+""):""},getTimezone:function(e){return e.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(e,t){var n=e.getTimezoneOffset();return(n>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(n)/60),2,"0")+(t?":":"")+Ext.String.leftPad(Math.abs(n%60),2,"0")},getDayOfYear:function(e){var n,i=0,r=Ext.Date.clone(e),o=e.getMonth();for(n=0,r.setDate(1),r.setMonth(0);o>n;r.setMonth(++n))i+=t.getDaysInMonth(r);return i+e.getDate()-1},getWeekOfYear:function(){var e=864e5,t=7*e;return function(n){var i=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()+3)/e,r=Math.floor(i/7),o=new Date(r*t).getUTCFullYear();return r-Math.floor(Date.UTC(o,0,7)/t)+1}}(),isLeapYear:function(e){var t=e.getFullYear();return!(0!=(3&t)||!(t%100||t%400==0&&t))},getFirstDayOfMonth:function(e){var t=(e.getDay()-(e.getDate()-1))%7;return 0>t?t+7:t},getLastDayOfMonth:function(e){return t.getLastDateOfMonth(e).getDay()},getFirstDateOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),1)},getLastDateOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),t.getDaysInMonth(e))},getDaysInMonth:function(){var e=[31,28,31,30,31,30,31,31,30,31,30,31];return function(n){var i=n.getMonth();return 1==i&&t.isLeapYear(n)?29:e[i]}}(),getSuffix:function(e){switch(e.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(e){return new Date(e.getTime())},isDST:function(e){return new Date(e.getFullYear(),0,1).getTimezoneOffset()!=e.getTimezoneOffset()},clearTime:function(e,n){if(n)return Ext.Date.clearTime(Ext.Date.clone(e));var i,r,o=e.getDate();if(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getDate()!=o){for(i=1,r=t.add(e,Ext.Date.HOUR,i);r.getDate()!=o;i++,r=t.add(e,Ext.Date.HOUR,i));e.setDate(o),e.setHours(r.getHours())}return e},add:function(e,n,i){var r,o,a=Ext.Date.clone(e),s=(Ext.Date,0);if(!n||0===i)return a;if(o=i-parseInt(i,10),i=parseInt(i,10))switch(n.toLowerCase()){case Ext.Date.MILLI:a.setTime(a.getTime()+i);break;case Ext.Date.SECOND:a.setTime(a.getTime()+1e3*i);break;case Ext.Date.MINUTE:a.setTime(a.getTime()+60*i*1e3);break;case Ext.Date.HOUR:a.setTime(a.getTime()+60*i*60*1e3);break;case Ext.Date.DAY:a.setDate(a.getDate()+i);break;case Ext.Date.MONTH:r=e.getDate(),r>28&&(r=Math.min(r,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(e),Ext.Date.MONTH,i)).getDate())),a.setDate(r),a.setMonth(e.getMonth()+i);break;case Ext.Date.YEAR:r=e.getDate(),r>28&&(r=Math.min(r,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(e),Ext.Date.YEAR,i)).getDate())),a.setDate(r),a.setFullYear(e.getFullYear()+i)}if(o){switch(n.toLowerCase()){case Ext.Date.MILLI:s=1;break;case Ext.Date.SECOND:s=1e3;break;case Ext.Date.MINUTE:s=6e4;break;case Ext.Date.HOUR:s=36e5;break;case Ext.Date.DAY:s=864e5;break;case Ext.Date.MONTH:r=t.getDaysInMonth(a),s=864e5*r;break;case Ext.Date.YEAR:r=t.isLeapYear(a)?366:365,s=864e5*r}s&&a.setTime(a.getTime()+s*o)}return a},subtract:function(e,n,i){return t.add(e,n,-i)},between:function(e,t,n){var i=e.getTime();return t.getTime()<=i&&i<=n.getTime()},compat:function(){var e,n,i,r,o=window.Date,a=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],s=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],l=a.length,d=s.length;for(r=0;l>r;r++)n=a[r],o[n]=t[n];for(e=0;d>e;e++)i=s[e],o.prototype[i]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this),t[i].apply(t,e)}},diff:function(e,t,n){var i,r=Ext.Date,o=+t-e;switch(n){case r.MILLI:return o;case r.SECOND:return Math.floor(o/1e3);case r.MINUTE:return Math.floor(o/6e4);case r.HOUR:return Math.floor(o/36e5);case r.DAY:return Math.floor(o/864e5);case"w":return Math.floor(o/6048e5);case r.MONTH:return i=12*t.getFullYear()+t.getMonth()-(12*e.getFullYear()+e.getMonth()),Ext.Date.add(e,n,i)>t?i-1:i;case r.YEAR:return i=t.getFullYear()-e.getFullYear(),Ext.Date.add(e,n,i)>t?i-1:i}},align:function(e,t,n){var i=new Date(+e);switch(t.toLowerCase()){case Ext.Date.MILLI:return i;case Ext.Date.SECOND:return i.setUTCSeconds(i.getUTCSeconds()-i.getUTCSeconds()%n),i.setUTCMilliseconds(0),i;case Ext.Date.MINUTE:return i.setUTCMinutes(i.getUTCMinutes()-i.getUTCMinutes()%n),i.setUTCSeconds(0),i.setUTCMilliseconds(0),i;case Ext.Date.HOUR:return i.setUTCHours(i.getUTCHours()-i.getUTCHours()%n),i.setUTCMinutes(0),i.setUTCSeconds(0),i.setUTCMilliseconds(0),i;case Ext.Date.DAY:return(7==n||14==n)&&i.setUTCDate(i.getUTCDate()-i.getUTCDay()+1),i.setUTCHours(0),i.setUTCMinutes(0),i.setUTCSeconds(0),i.setUTCMilliseconds(0),i;case Ext.Date.MONTH:return i.setUTCMonth(i.getUTCMonth()-(i.getUTCMonth()-1)%n,1),i.setUTCHours(0),i.setUTCMinutes(0),i.setUTCSeconds(0),i.setUTCMilliseconds(0),i;case Ext.Date.YEAR:return i.setUTCFullYear(i.getUTCFullYear()-i.getUTCFullYear()%n,1,1),i.setUTCHours(0),i.setUTCMinutes(0),i.setUTCSeconds(0),i.setUTCMilliseconds(0),e}}}}(),Ext.Function={flexSetter:function(e){return function(t,n){var i,r;if(null!==t)if("string"!=typeof t){for(i in t)t.hasOwnProperty(i)&&e.call(this,i,t[i]);if(Ext.enumerables)for(r=Ext.enumerables.length;r--;)i=Ext.enumerables[r],t.hasOwnProperty(i)&&e.call(this,i,t[i])}else e.call(this,t,n);return this}},bind:function(e,t,n,i){if(2===arguments.length)return function(){return e.apply(t,arguments)};var r=e,o=Array.prototype.slice;return function(){var e=n||arguments;return i===!0?(e=o.call(arguments,0),e=e.concat(n)):"number"==typeof i&&(e=o.call(arguments,0),Ext.Array.insert(e,i,n)),r.apply(t||Ext.global,e)}},bindCallback:function(e,t,n,i,r){return function(){var o=Ext.Array.slice(arguments);return Ext.callback(e,t,n?n.concat(o):o,i,r)}},pass:function(e,t,n){return Ext.isArray(t)||(t=Ext.isIterable(t)?Ext.Array.clone(t):void 0!==t?[t]:[]),function(){var i=t.slice();return i.push.apply(i,arguments),e.apply(n||this,i)}},alias:function(e,t){return function(){return e[t].apply(e,arguments)}},clone:function(e){return function(){return e.apply(this,arguments)}},createInterceptor:function(e,t,n,i){return Ext.isFunction(t)?(i=Ext.isDefined(i)?i:null,function(){var r=this,o=arguments;return t.target=r,t.method=e,t.apply(n||r||Ext.global,o)!==!1?e.apply(r||Ext.global,o):i}):e},createDelayed:function(e,t,n,i,r){return(n||i)&&(e=Ext.Function.bind(e,n,i,r)),function(){var n=this,i=Array.prototype.slice.call(arguments);setTimeout(function(){e.apply(n,i)},t)}},defer:function(e,t,n,i,r){return e=Ext.Function.bind(e,n,i,r),t>0?setTimeout(Ext.supports.TimeoutActualLateness?function(){e()}:e,t):(e(),0)},createSequence:function(e,t,n){return t?function(){var i=e.apply(this,arguments);return t.apply(n||this,arguments),i}:e},createBuffered:function(e,t,n,i){var r;return function(){var o=i||Array.prototype.slice.call(arguments,0),a=n||this;r&&clearTimeout(r),r=setTimeout(function(){e.apply(a,o)},t)}},createAnimationFrame:function(e,t,n,i){var r,o=Ext.Function;return i=i||3,function(){var a=n||Array.prototype.slice.call(arguments,0);t=t||this,3===i&&o.cancelAnimationFrame(r),(1&i||!r)&&(r=o.requestAnimationFrame(function(){r=null,e.apply(t,a)}))}},requestAnimationFrame:function(){var e=0,t=window,n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(t){var n=Ext.now(),i=Math.max(0,16-(n-e)),r=window.setTimeout(function(){t(n+i)},i);return e=n+i,r};return function(e){return n(e)}}(),cancelAnimationFrame:function(){var e=window,t=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.oCancelAnimationFrame||function(e){clearTimeout(e)};return function(e){t(e)}}(),createThrottled:function(e,t,n){var i,r,o,a=0,s=function(){e.apply(n,r),a=Ext.now(),o=null};return function(){n||(n=this),i=Ext.now()-a,r=arguments,i>=t?(clearTimeout(o),s()):o||(o=setTimeout(s,t-i))}},createBarrier:function(e,t,n){return function(){--e||t.apply(n,arguments)}},interceptBefore:function(e,t,n,i){var r=e[t]||Ext.emptyFn;return e[t]=function(){var e=n.apply(i||this,arguments);return r.apply(this,arguments),e}},interceptAfter:function(e,t,n,i){var r=e[t]||Ext.emptyFn;return e[t]=function(){return r.apply(this,arguments),n.apply(i||this,arguments)}},makeCallback:function(e,t){return t[e]||(t.$className&&Ext.Error.raise('No method "'+e+'" on '+t.$className),Ext.Error.raise('No method "'+e+'"')),function(){return t[e].apply(t,arguments)}}},Ext.defer=Ext.Function.defer,Ext.pass=Ext.Function.pass,Ext.bind=Ext.Function.bind,Ext.Number=new function(){var e=this,t="1"!==.9.toFixed(),n=Math,i={count:!1,inclusive:!1,wrap:!0};Ext.apply(e,{Clip:{DEFAULT:i,COUNT:Ext.applyIf({count:!0},i),INCLUSIVE:Ext.applyIf({inclusive:!0},i),NOWRAP:Ext.applyIf({wrap:!1},i)},clipIndices:function(e,t,n){n=n||i;var r,o,a,s=0,l=n.wrap;for(t=t||[],a=0;2>a;++a)r=o,o=t[a],null==o?o=s:a&&n.count?(o+=r,o=o>e?e:o):(l&&(o=0>o?e+o:o),a&&n.inclusive&&++o,o=0>o?0:o>e?e:o),s=e;return t[0]=r,t[1]=r>o?r:o,t},constrain:function(e,t,n){var i=parseFloat(e);return t>i?t:i>n?n:i},snap:function(t,n,i,r){var o;return void 0===t||i>t?i||0:(n&&(o=t%n,0!==o&&(t-=o,2*o>=n?t+=n:-n>2*o&&(t-=n))),e.constrain(t,i,r))},snapInRange:function(t,n,i,r){var o;return i=i||0,void 0===t||i>t?i:(n&&(o=(t-i)%n)&&(t-=o,o*=2,o>=n&&(t+=n)),void 0!==r&&t>(r=e.snapInRange(r,n,i))&&(t=r),t)},toFixed:t?function(e,t){t=t||0;var i=n.pow(10,t);return(n.round(e*i)/i).toFixed(t)}:function(e,t){return e.toFixed(t)},from:function(e,t){return isFinite(e)&&(e=parseFloat(e)),isNaN(e)?t:e},randomInt:function(e,t){return n.floor(n.random()*(t-e+1)+e)},correctFloat:function(e){return parseFloat(e.toPrecision(14))}}),Ext.num=function(){return e.from.apply(this,arguments)}},function(){var e=function(){},t=Ext.Object={chain:Object.create||function(t){e.prototype=t;var n=new e;return e.prototype=null,n},clear:function(e){for(var t in e)delete e[t];return e},freeze:Object.freeze?function(e,n){if(e&&"object"==typeof e&&!Object.isFrozen(e)&&(Object.freeze(e),n))for(var i in e)t.freeze(e[i],n);return e}:Ext.identityFn,toQueryObjects:function(e,n,i){var r,o,a=t.toQueryObjects,s=[];if(Ext.isArray(n))for(r=0,o=n.length;o>r;r++)i?s=s.concat(a(e+"["+r+"]",n[r],!0)):s.push({name:e,value:n[r]});else if(Ext.isObject(n))for(r in n)n.hasOwnProperty(r)&&(i?s=s.concat(a(e+"["+r+"]",n[r],!0)):s.push({name:e,value:n[r]}));else s.push({name:e,value:n});return s},toQueryString:function(e,n){var i,r,o,a,s,l=[],d=[];for(i in e)e.hasOwnProperty(i)&&(l=l.concat(t.toQueryObjects(i,e[i],n)));for(r=0,o=l.length;o>r;r++)a=l[r],s=a.value,Ext.isEmpty(s)?s="":Ext.isDate(s)&&(s=Ext.Date.toString(s)),d.push(encodeURIComponent(a.name)+"="+encodeURIComponent(String(s)));return d.join("&")},fromQueryString:function(e,t){var n,i,r,o,a,s,l,d,u,c,h,f,g,p,m=e.replace(/^\?/,"").split("&"),x={};for(a=0,s=m.length;s>a;a++)if(l=m[a],l.length>0)if(i=l.split("="),r=decodeURIComponent(i[0]),o=void 0!==i[1]?decodeURIComponent(i[1]):"",t){if(c=r.match(/(\[):?([^\]]*)\]/g),h=r.match(/^([^\[]+)/),!h)throw new Error('[Ext.Object.fromQueryString] Malformed query string given, failed parsing name from "'+l+'"');if(r=h[0],f=[],null===c){x[r]=o;continue}for(d=0,u=c.length;u>d;d++)g=c[d],g=2===g.length?"":g.substring(1,g.length-1),f.push(g);for(f.unshift(r),n=x,d=0,u=f.length;u>d;d++)g=f[d],d===u-1?Ext.isArray(n)&&""===g?n.push(o):n[g]=o:((void 0===n[g]||"string"==typeof n[g])&&(p=f[d+1],n[g]=Ext.isNumeric(p)||""===p?[]:{}),n=n[g])}else x.hasOwnProperty(r)?(Ext.isArray(x[r])||(x[r]=[x[r]]),x[r].push(o)):x[r]=o;return x},each:function(e,t,n){var i,r,o=Ext.enumerables;n=n||e;for(r in e)if(e.hasOwnProperty(r)&&t.call(n,r,e[r],e)===!1)return;if(o)for(i=o.length;i--;)if(e.hasOwnProperty(r=o[i])&&t.call(n,r,e[r],e)===!1)return},eachValue:function(e,t,n){var i,r,o=Ext.enumerables;n=n||e;for(r in e)if(e.hasOwnProperty(r)&&t.call(n,e[r])===!1)return;if(o)for(i=o.length;i--;)if(e.hasOwnProperty(r=o[i])&&t.call(n,e[r])===!1)return},merge:function(e){for(var n,i,r,o,a=1,s=arguments.length,l=t.merge,d=Ext.clone;s>a;a++){n=arguments[a];for(i in n)r=n[i],r&&r.constructor===Object?(o=e[i],o&&o.constructor===Object?l(o,r):e[i]=d(r)):e[i]=r}return e},mergeIf:function(e){for(var t,n,i,r=1,o=arguments.length,a=Ext.clone;o>r;r++){t=arguments[r];for(n in t)n in e||(i=t[n],i&&i.constructor===Object?e[n]=a(i):e[n]=i)}return e},getKey:function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n;return null},getValues:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n},getKeys:"function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},getSize:function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},equals:function(){var e=function(e,t){var n;for(n in e)if(e.hasOwnProperty(n)&&e[n]!==t[n])return!1;return!0};return function(t,n){return t===n?!0:t&&n?e(t,n)&&e(n,t):t||n?!1:t===n}}(),fork:function(e){var n,i,r;Ext.Array;if(e&&e.constructor===Object){n=t.chain(e);for(i in e)r=e[i],r&&(r.constructor===Object?n[i]=t.fork(r):r instanceof Array&&(n[i]=Ext.Array.clone(r)))}else n=e;return n},defineProperty:"defineProperty"in Object?Object.defineProperty:function(e,t,n){Object.prototype.__defineGetter__&&(n.get&&e.__defineGetter__(t,n.get),n.set&&e.__defineSetter__(t,n.set))},classify:function(e){var n,i,r=e,o=[],a={},s=function(){for(var e,t=0,n=o.length;n>t;t++)e=o[t],this[e]=new a[e]};for(n in e)e.hasOwnProperty(n)&&(i=e[n],i&&i.constructor===Object&&(o.push(n),a[n]=t.classify(i)));return s.prototype=r,s}};Ext.merge=Ext.Object.merge,Ext.mergeIf=Ext.Object.mergeIf}(),Ext.apply(Ext,{escapeId:function(){var e=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,t=/([\W]{1})/g,n=/^(\d)/g,i=function(e,t){return"\\"+t},r=function(e,t){return"\\00"+t.charCodeAt(0).toString(16)+" "};return function(o){return e.test(o)?o:o.replace(t,i).replace(n,r)}}(),callback:function(e,t,n,i,r,o){if(e){var a="this"===t||"controller"===t;e.charAt?(t&&!a||!r||(t=r.resolveListenerScope(a?t:o)),t&&Ext.isObject(t)||Ext.Error.raise('Named method "'+e+'" requires a scope object'),Ext.isFunction(t[e])||Ext.Error.raise('No method named "'+e+'" on '+(t.$className||"scope object")),e=t[e]):a?t=o||r:t||(t=r);var s;return e&&Ext.isFunction(e)&&(t=t||Ext.global,i?Ext.defer(e,i,t,n):s=n?e.apply(t,n):e.call(t)),s}},coerce:function(e,t){var n=Ext.typeOf(e),i=Ext.typeOf(t),r="string"==typeof e;if(n!==i)switch(i){case"string":return String(e);case"number":return Number(e);case"boolean":return!r||e&&"false"!==e?Boolean(e):!1;case"null":return!r||e&&"null"!==e?e:null;case"undefined":return!r||e&&"undefined"!==e?e:void 0;case"date":return r&&isNaN(e)?Ext.Date.parse(e,Ext.Date.defaultFormat):Date(Number(e))}return e},copyTo:function(e,t,n,i){"string"==typeof n&&(n=n.split(/[,;\s]/));var r,o,a=n?n.length:0;for(r=0;a>r;r++)o=n[r],(i||t.hasOwnProperty(o))&&(e[o]=t[o]);return e},extend:function(){var e=Object.prototype.constructor,t=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])};return function(n,i,r){Ext.isObject(i)&&(r=i,i=n,n=r.constructor!==e?r.constructor:function(){i.apply(this,arguments)}),i||Ext.Error.raise({sourceClass:"Ext",sourceMethod:"extend",msg:"Attempting to extend from a class which has not been loaded on the page."});var o,a=function(){},s=i.prototype;return a.prototype=s,o=n.prototype=new a,o.constructor=n,n.superclass=s,s.constructor===e&&(s.constructor=i),n.override=function(e){Ext.override(n,e)},o.override=t,o.proto=o,n.override(r),n.extend=function(e){return Ext.extend(n,e)},n}}(),iterate:function(e,t,n){Ext.isEmpty(e)||(void 0===n&&(n=e),Ext.isIterable(e)?Ext.Array.each.call(Ext.Array,e,t,n):Ext.Object.each.call(Ext.Object,e,t,n))},urlEncode:function(){var e=Ext.Array.from(arguments),t="";return Ext.isString(e[1])&&(t=e[1]+"&",e[1]=!1),t+Ext.Object.toQueryString.apply(Ext.Object,e)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(e){if(!Ext.isReady)return{};var t=Ext._scrollbarSize;if(e||!t){var n=document.body,i=document.createElement("div");i.style.width=i.style.height="100px",i.style.overflow="scroll",i.style.position="absolute",n.appendChild(i),Ext._scrollbarSize=t={width:i.offsetWidth-i.clientWidth,height:i.offsetHeight-i.clientHeight},n.removeChild(i)}return t},typeOf:function(){var e=/\S/,t=Object.prototype.toString,n={number:1,string:1,"boolean":1,undefined:1},i={"[object Array]":"array","[object Date]":"date","[object Boolean]":"boolean","[object Number]":"number","[object RegExp]":"regexp"};return function(r){if(null===r)return"null";var o,a,s=typeof r;return n[s]?s:(o=i[a=t.call(r)])?o:"function"===s?"function":"object"===s?void 0!==r.nodeType?3===r.nodeType?e.test(r.nodeValue)?"textnode":"whitespace":"element":"object":(Ext.Error.raise({sourceClass:"Ext",sourceMethod:"typeOf",msg:'Failed to determine the type of "'+r+'".'}),a)}}(),factory:function(e,t,n,i){var r,o=Ext.ClassManager;if(!e||e.isInstance)return n&&n!==e&&n.destroy(),e;if(i){if("string"==typeof e)return o.instantiateByAlias(i+"."+e);if(Ext.isObject(e)&&"type"in e)return o.instantiateByAlias(i+"."+e.type,e)}return e===!0?n||Ext.create(t):(Ext.isObject(e)||Ext.Logger.error("Invalid config, must be a valid config object"),"xtype"in e?r=o.instantiateByAlias("widget."+e.xtype,e):"xclass"in e&&(r=Ext.create(e.xclass,e)),r?(n&&n.destroy(),r):n?n.setConfig(e):Ext.create(t,e))},log:function(){function e(e,t,n,r){var o,a,s,l,d,u,c=[];if(Ext.isArray(e)?(d="[",u="]"):Ext.isObject(e)&&(d="{",u="}"),n||(n=3),t>n)return d+"..."+u;t=t||1;var h=new Array(t).join("    ");for(l in e)if(e.hasOwnProperty(l)){if(s=e[l],a=typeof s,"function"==a){if(!r)continue;o=a}else o="undefined"==a?a:null===s||i.test(a)||Ext.isDate(s)?Ext.encode(s):Ext.isArray(s)?this.dumpObject(s,t+1,n,r):Ext.isObject(s)?this.dumpObject(s,t+1,n,r):a;c.push(h+l+": "+o)}return c.length?d+"\n    "+c.join(",\n    ")+"\n"+h+u:d+u}function t(n){var i,r,o,a,s,l=Ext.global.console,d="log",u=t.indent||0;t.indent=u,"string"!=typeof n&&(i=n,n=i.msg||"",d=i.level||d,r=i.dump,o=i.stack,i.indent?++t.indent:i.outdent&&(t.indent=u=Math.max(u-1,0)),!r||l&&l.dir||(n+=e(r),r=null)),arguments.length>1&&(n+=Array.prototype.slice.call(arguments,1).join("")),n=u?Ext.String.repeat(" ",t.indentSize*u)+n:n,"log"!=d&&(n="["+d.charAt(0).toUpperCase()+"] "+n),l?(l[d]?l[d](n):l.log(n),r&&l.dir(r),o&&l.trace&&(l.firebug&&"error"==d||l.trace())):Ext.isOpera?opera.postError(n):(a=t.out,s=t.max,a.length>=s&&Ext.Array.erase(a,0,a.length-3*Math.floor(s/4)),a.push(n)),++t.count,++t.counters[d]}function n(e,n){"string"==typeof n[0]&&n.unshift({}),n[0].level=e,t.apply(this,n)}var i=/string|number|boolean/;return t.error=function(){n("error",Array.prototype.slice.call(arguments))},t.info=function(){n("info",Array.prototype.slice.call(arguments))},t.warn=function(){n("warn",Array.prototype.slice.call(arguments))},t.count=0,t.counters={error:0,warn:0,info:0,log:0},t.indentSize=2,t.out=[],t.max=750,t}()||function(){var e=function(){};return e.info=e.warn=e.error=Ext.emptyFn,e}()}),function(){var e,t=[""],n=/([^\d\.])/,i=/[^\d]/g,r=/[\-+]/g,o=/\s/g,a=/_/g;Ext.Version=e=function(t,o){var s,l,d,u,c,h,f,g=this,p=g.padModes;t.isVersion&&(t=t.version),g.version=f=String(t).toLowerCase().replace(a,".").replace(r,""),s=f.charAt(0),s in p?(f=f.substring(1),d=p[s]):d=o?p[o]:0,g.pad=d,h=f.search(n),g.shortVersion=f,-1!==h&&(g.release=c=f.substr(h,t.length),g.shortVersion=f.substr(0,h),c=e.releaseValueMap[c]||c),g.releaseValue=c||d,g.shortVersion=g.shortVersion.replace(i,""),g.parts=u=f.split(".");for(l=u.length;l--;)u[l]=parseInt(u[l],10);return d===1/0&&u.push(d),g.major=u[0]||d,g.minor=u[1]||d,g.patch=u[2]||d,g.build=u[3]||d,g},e.prototype={isVersion:!0,padModes:{"~":NaN,"^":1/0},release:"",compareTo:function(t){var n,i,r,o=this,a=o.pad,s=o.parts,l=s.length,d=t.isVersion?t:new e(t),u=d.pad,c=d.parts,h=c.length,f=Math.max(l,h);for(n=0;f>n;n++){if(i=l>n?s[n]:a,r=h>n?c[n]:u,r>i)return-1;if(i>r)return 1}return i=o.releaseValue,r=d.releaseValue,r>i?-1:i>r?1:0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(e){return this.compareTo(e)>0},isGreaterThanOrEqual:function(e){return this.compareTo(e)>=0},isLessThan:function(e){return this.compareTo(e)<0},isLessThanOrEqual:function(e){return this.compareTo(e)<=0},equals:function(e){return 0===this.compareTo(e)},match:function(e){return e=String(e),this.version.substr(0,e.length)===e},toArray:function(){var e=this;return[e.getMajor(),e.getMinor(),e.getPatch(),e.getBuild(),e.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(e){return this.compareTo(e)>0},lt:function(e){return this.compareTo(e)<0},gtEq:function(e){return this.compareTo(e)>=0},ltEq:function(e){return this.compareTo(e)<=0}},Ext.apply(e,{aliases:{from:{extjs:"ext",core:"sencha-core"},to:{ext:["extjs"],"sencha-core":["core"]}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(e){return e?isNaN(e)?this.releaseValueMap[e]||e:parseInt(e,10):0},compare:function(t,n){var i=t.isVersion?t:new e(t);return i.compareTo(n)},set:function(t,n,i){var r,o=e.aliases.to[n],a=i.isVersion?i:new e(i);if(t[n]=a,o)for(r=o.length;r-->0;)t[o[r]]=a;return a}}),Ext.apply(Ext,{compatVersions:{},versions:{},lastRegisteredVersion:null,getCompatVersion:function(t){var n,i=Ext.compatVersions;return n=t?i[e.aliases.from[t]||t]:i.ext||i.touch||i.core,n||Ext.getVersion(t)},setCompatVersion:function(t,n){e.set(Ext.compatVersions,t,n)},setVersion:function(t,n){return Ext.lastRegisteredVersion=e.set(Ext.versions,t,n),this},getVersion:function(t){var n=Ext.versions;return t?n[e.aliases.from[t]||t]:n.ext||n.touch||n.core},checkVersion:function(n,i){var r,a,s,l,d,u,c,h,f,g=Ext.isArray(n),p=e.aliases.from,m=g?n:t,x=m.length,E=Ext.versions,v=E.ext||E.touch;for(g||(t[0]=n),r=0;x>r;++r){if(Ext.isString(c=m[r])){if(c.indexOf(" ")>=0&&(c=c.replace(o,"")),a=c.indexOf("@"),0>a)h=c,f=v;else{if(u=c.substring(0,a),!(f=E[p[u]||u])){if(i)return!1;continue}h=c.substring(a+1)}a=h.indexOf("-"),0>a?"+"===h.charAt(a=h.length-1)?(l=h.substring(0,a),d=null):l=d=h:a>0?(l=h.substring(0,a),d=h.substring(a+1)):(l=null,d=h.substring(a+1)),s=!0,l&&(l=new e(l,"~"),s=l.ltEq(f)),s&&d&&(d=new e(d,"~"),s=d.gtEq(f))}else s=Ext.checkVersion(c.and||c.or,!c.or),c.not&&(s=!s);if(s){if(!i)return!0}else if(i)return!1}return!!i},deprecate:function(t,n,i,r){e.compare(Ext.getVersion(t),n)<1&&i.call(r)}})}(),function(e){var t,n,i=e&&e.packages||{},r=e&&e.compatibility;for(t in i)n=i[t],Ext.setVersion(t,n.version);if(r)if(Ext.isString(r))Ext.setCompatVersion("core",r);else for(t in r)Ext.setCompatVersion(t,r[t]);i.ext||i.touch||(Ext.setVersion("ext","5.0.0.970"),Ext.setVersion("sencha-core","5.0.0.970"))}(Ext.manifest),Ext.Config=function(e){var t=this,n=e.charAt(0).toUpperCase()+e.substr(1);t.name=e,t.names={internal:"_"+e,initializing:"is"+n+"Initializing",apply:"apply"+n,update:"update"+n,get:"get"+n,set:"set"+n,initGet:"initGet"+n,doSet:"doSet"+n,changeEvent:e.toLowerCase()+"change"},t.root=t},Ext.Config.map={},Ext.Config.get=function(e){var t=Ext.Config.map,n=t[e]||(t[e]=new Ext.Config(e));return n},Ext.Config.prototype={self:Ext.Config,isConfig:!0,getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getInternalName:function(e){return e.$configPrefixed?this.names.internal:this.name},mergeSets:function(e,t,n){var i,r,o=t?Ext.Object.chain(t):{};if(e instanceof Array)for(i=e.length;i--;)r=e[i],n&&r in o||(o[r]=!0);else if(e)if(e.constructor===Object)for(i in e)r=e[i],n&&i in o||(o[i]=r);else n&&e in o||(o[e]=!0);return o},makeGetter:function(){var e=this.name,t=this.names.internal;return function(){var n=this.$configPrefixed?t:e;return this[n]}},makeInitGetter:function(){var e=this.name,t=this.names,n=t.set,i=t.get,r=t.initializing;return function(){var t=this;return t[r]=!0,delete t[i],t[n](t.config[e]),delete t[r],t[i].apply(t,arguments)}},makeSetter:function(){var e,t=this.name,n=this.names,i=n.internal,r=n.get,o=n.apply,a=n.update;return e=function(e){var n=this,s=n.$configPrefixed?i:t,l=n[s];return delete n[r],n[o]&&void 0===(e=n[o](e,l))||e!==(l=n[s])&&(n[s]=e,n[a]&&n[a](e,l)),n},e.$isDefault=!0,e}},function(){var e=Ext.Config,t=e.map,n=Ext.Object;Ext.Configurator=function(e){var t=this,i=e.prototype,r=e.superclass?e.superclass.self.$config:null;t.cls=e,r?(t.configs=n.chain(r.configs),t.cachedConfigs=n.chain(r.cachedConfigs),t.initMap=n.chain(r.initMap),t.values=n.chain(r.values)):(t.configs={},t.cachedConfigs={},t.initMap={},t.values={}),i.config=i.defaultConfig=t.values,e.$config=t},Ext.Configurator.prototype={self:Ext.Configurator,initList:null,add:function(t,i){var r,o,a,s,l,d,u,c,h,f,g=this,p=g.cls,m=g.configs,x=g.cachedConfigs,E=g.initMap,v=p.prototype,y=i&&i.$config.configs,b=g.values;for(u in t){if(f=t[u],r=f&&f.constructor===Object,o=r&&"$value"in f?f:null,o&&(a=!!o.cached,f=o.$value),s=o&&o.merge,l=m[u]){if(i){if(s=l.merge,!s)continue;o=null}else s=s||l.merge;i||!a||x[u]||Ext.Error.raise("Redefining config as cached: "+u+" in class: "+p.$className),d=b[u],s?f=s.call(l,f,d,p,i):r&&d&&d.constructor===Object&&(f=n.merge({},d,f));
}else y?(l=y[u],o=null):l=e.get(u),m[u]=l,(l.cached||a)&&(x[u]=!0),c=l.names,v[h=c.get]||(v[h]=l.getGetter()),v[h=c.set]||(v[h]=l.getSetter());o&&(l.owner!==p&&(m[u]=l=Ext.Object.chain(l),l.owner=p),Ext.apply(l,o),delete l.$value),null!==f?E[u]=!0:(v.$configPrefixed?v[m[u].names.internal]=null:v[m[u].name]=null,u in E&&(E[u]=!1)),b[u]=f}},configure:function(e,t){var i,r,o,a,s,l,d,u,c,h,f,g,p,m=this,x=m.configs,E=m.initMap,v=m.initListMap,y=m.initList,b=m.cls.prototype,C=n.fork(m.values),S=!e.$configStrict,w=0,T=!y;if(T){m.initList=y=[],m.initListMap=v={},e.isFirstInstance=!0;for(c in E)a=E[c],r=x[c],f=r.cached,a?(u=r.names,h=C[c],!b[u.set].$isDefault||b[u.apply]||b[u.update]||"object"==typeof h?(f?(i||(i=[])).push(r):(y.push(r),v[c]=!0),e[u.get]=r.initGetter||r.getInitGetter()):b[r.getInternalName(b)]=h):f&&(b[r.getInternalName(b)]=void 0)}if(d=i&&i.length){for(s=0;d>s;++s)l=i[s].getInternalName(b),e[l]=null;for(s=0;d>s;++s)u=(r=i[s]).names,o=u.get,e.hasOwnProperty(o)&&(e[u.set](C[r.name]),delete e[o]);for(s=0;d>s;++s)l=i[s].getInternalName(b),b[l]=e[l],delete e[l]}for(T&&e.afterCachedConfig&&!e.afterCachedConfig.$nullFn&&e.afterCachedConfig(t),e.isConfiguring=!0,e.config=C,s=0,d=y.length;d>s;++s)r=y[s],e[r.names.get]=r.initGetter||r.getInitGetter();if(e.transformInstanceConfig&&(t=e.transformInstanceConfig(t)),t)for(c in t)h=t[c],r=x[c],r?(r.lazy||++w,v[c]||(e[r.names.get]=r.initGetter||r.getInitGetter()),g=r.merge,g?h=g.call(r,h,C[c],e):h&&h.constructor===Object&&(p=C[c],h=p&&p.constructor===Object?n.merge(C[c],h):Ext.clone(h))):S&&(e[c]=h),C[c]=h;if(!e.beforeInitConfig||e.beforeInitConfig.$nullFn||e.beforeInitConfig(t)!==!1){if(t)for(c in t){if(!w)break;r=x[c],r&&!r.lazy&&(--w,u=r.names,o=u.get,e.hasOwnProperty(o)&&(e[u.set](C[c]),delete e[u.get]))}for(s=0,d=y.length;d>s;++s)r=y[s],u=r.names,o=u.get,!r.lazy&&e.hasOwnProperty(o)&&(e[u.set](C[r.name]),delete e[o]);delete e.isConfiguring}},getCurrentConfig:function(e){var n,i=e.defaultConfig,r={};for(n in i)r[n]=e[t[n].names.get]();return r},reconfigure:function(e,n,i){var r,o,a,s,l,d,u=e.config,c=e.initialConfig,h=[],f=e.$configStrict;for(l in n)if(!(i&&l in c)){if(u[l]=n[l],r=t[l])e[r.names.get]=r.initGetter||r.getInitGetter();else if(f){"type"!==l&&Ext.log.error('No such config "'+l+'" for class '+e.$className);continue}h.push(l)}for(a=0,s=h.length;s>a;a++)l=h[a],r=t[l],r?(d=r.names,o=d.get,e.hasOwnProperty(o)&&(e[d.set](n[l]),delete e[o])):f||(r=Ext.Config.get(l),d=r.names,e[d.set]?e[d.set](n[l]):"type"!==l&&Ext.Error.raise('Config "'+l+'" has no setter on class '+e.$className))}}}(),Ext.Base=function(e){var t,n=[],i=[],r=function(e,t){var n,i,r,o=this;return e?(i=Ext.Config.map[e],i||Ext.Logger.error("Invalid property name for getter: '"+e+"' for '"+o.$className+"'."),r=i.names.get,n=t&&o.hasOwnProperty(r)?o.config[e]:o[r]()):n=o.getCurrentConfig(),n},o=function(e,t,n){var i='"'+e+'" is deprecated.';return n?i+=" "+n:t&&(i+=' Please use "'+t+'" instead.'),function(){Ext.Error.raise(i)}},a=function(e,t,n,i){i||(i='"'+t+'" is deprecated.'),n&&(i+=' Please use "'+n+'" instead.'),i&&Ext.Object.defineProperty(e,t,{get:function(){Ext.Error.raise(i)},set:function(e){Ext.Error.raise(i)},configurable:!0})},s=function(e){return function(){return this[e].apply(this,arguments)}},l=Ext.Version,d=/^\d/,u={},c={},h=function(){},f=h.prototype;Ext.apply(h,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addDeprecations:function(e){var t,n,i,r,u,c,h,f,g,p,m,x,E,v,y=this,b=[],C=Ext.getCompatVersion(e.name),S=(y.$className||"")+"#";for(n in e)d.test(n)&&(v=new Ext.Version(n),v.deprecations=e[n],b.push(v));for(b.sort(l.compare),i=b.length;i--;){if(t=(v=b[i]).deprecations,u=y.prototype,E=t.statics,c=C&&C.lt(v)){if(!c)break}else;for(;t;){if(g=t.methods)for(p in g)x=g[p],f=null,x?Ext.isString(x)?(Ext.Assert.isNotDefinedProp(u,p),Ext.Assert.isDefinedProp(u,x),f=c?s(x):o(S+p,x)):(r="",(x.message||x.fn)&&(r=x.message,x=x.fn),h=u.hasOwnProperty(p)&&u[p],c&&x?(x.$owner=y,x.$name=p,x.displayName=S+p,h&&(x.$previous=h),f=x):h||(f=o(S+p,null,r))):(Ext.Assert.isNotDefinedProp(u,p),f=o(S+p)),f&&(u[p]=f);if(g=t.properties,g&&!c)for(p in g)m=g[p],Ext.isString(m)?a(u,S+p,m):m&&m.message?a(u,S+p,null,m.message):a(u,S+p);t=E,E=null,u=y}}},extend:function(e){var t,n,i,r,o,a=this,s=e.prototype;if(t=a.prototype=Ext.Object.chain(s),t.self=a,a.superclass=t.superclass=s,!e.$isClass)for(n in f)n in t&&(t[n]=f[n]);if(o=s.$inheritableStatics)for(n=0,i=o.length;i>n;n++)r=o[n],a.hasOwnProperty(r)||(a[r]=e[r]);e.$onExtended&&(a.$onExtended=e.$onExtended.slice()),a.getConfigurator()},$onExtended:[],triggerExtended:function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.Base#triggerExtended",arguments);var e,t,n=this.$onExtended,i=n.length;if(i>0)for(e=0;i>e;e++)t=n[e],t.fn.apply(t.scope||this,arguments)},onExtended:function(e,t){return this.$onExtended.push({fn:e,scope:t}),this},addStatics:function(e){return this.addMembers(e,!0),this},addInheritableStatics:function(e){var t,n,i,r,o=this.prototype;t=o.$inheritableStatics,n=o.$hasInheritableStatics,t||(t=o.$inheritableStatics=[],n=o.$hasInheritableStatics={});var a=Ext.getClassName(this)+".";for(i in e)e.hasOwnProperty(i)&&(r=e[i],"function"==typeof r&&(r.displayName=a+i),this[i]=r,n[i]||(n[i]=!0,t.push(i)));return this},addMembers:function(e,t,n){var i,r,o,a,s,l,d=this,u=Ext.Function.clone,c=t?d:d.prototype,h=!t&&c.defaultConfig,f=Ext.enumerables,g=e.privates,p=(d.$className||"")+"#";g&&(delete e.privates,l=g.privacy||n||"framework",d.addMembers(g,t,l),g=g.statics,g&&!t&&d.addMembers(g,!0,l));for(s in e)if(e.hasOwnProperty(s)){if(a=e[s],a&&a.$nullFn&&n!==a.$privacy&&Ext.Error.raise("Cannot use stock function for private method "+(d.$className?d.$className+"#":"")+s),"function"!=typeof a||a.$isClass||a.$nullFn){if(h&&s in h&&!c.config.hasOwnProperty(s)){(i||(i={}))[s]=a;continue}}else{a.$owner&&(a=u(a)),c.hasOwnProperty(s)&&(a.$previous=c[s]),a.$owner=d,a.$name=s,a.displayName=p+s;var m=c[s];n?(n===!0&&(n="framework"),a.$privacy=n,m&&m.$privacy&&m.$privacy!==n&&Ext.privacyViolation(d,m,a,t)):m&&m.$privacy&&Ext.privacyViolation(d,m,a,t)}c[s]=a}if(i&&d.addConfig(i),f)for(r=0,o=f.length;o>r;++r)e.hasOwnProperty(s=f[r])&&(a=e[s],a&&!a.$nullFn&&(a.$owner&&(a=u(a)),a.$owner=d,a.$name=s,a.displayName=p+s,c.hasOwnProperty(s)&&(a.$previous=c[s])),c[s]=a);return this},addMember:function(e,t){return u[e]=t,this.addMembers(u),delete u[e],this},borrow:function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.Base#borrow",arguments);var n,i,r,o=e.prototype,a={};for(t=Ext.Array.from(t),n=0,i=t.length;i>n;n++)r=t[n],a[r]=o[r];return this.addMembers(a)},override:function(e){var t=this,n=e.statics,i=e.inheritableStatics,r=e.config,o=e.mixins,a=e.cachedConfig;return(n||i||r)&&(e=Ext.apply({},e)),n&&(t.addMembers(n,!0),delete e.statics),i&&(t.addInheritableStatics(i),delete e.inheritableStatics),r&&(t.addConfig(r),delete e.config),a&&(t.addCachedConfig(a),delete e.cachedConfig),delete e.mixins,t.addMembers(e),o&&t.mixin(o),t},callParent:function(e){var t;return(t=this.callParent.caller)&&(t.$previous||(t=t.$owner?t:t.caller)&&t.$owner.superclass.self[t.$name]).apply(this,e||n)},callSuper:function(e){var t;return(t=this.callSuper.caller)&&((t=t.$owner?t:t.caller)&&t.$owner.superclass.self[t.$name]).apply(this,e||n)},mixin:function(e,t){var n,i,r,o,a,s,l,d,u,c=this;{if("string"==typeof e){n=t.prototype,i=c.prototype,n.onClassMixedIn&&n.onClassMixedIn.call(t,c),i.hasOwnProperty("mixins")||("mixins"in i?i.mixins=Ext.Object.chain(i.mixins):i.mixins={});for(r in n)d=n[r],"mixins"===r?Ext.applyIf(i.mixins,d):"mixinId"!==r&&"config"!==r&&void 0===i[r]&&(i[r]=d);if(o=n.$inheritableStatics)for(a=0,s=o.length;s>a;a++)l=o[a],c.hasOwnProperty(l)||(c[l]=t[l]);return"config"in n&&c.addConfig(n.config,t),i.mixins[e]=n,n.afterClassMixedIn&&n.afterClassMixedIn.call(t,c),c}if(u=e,u instanceof Array)for(a=0,s=u.length;s>a;a++)n=u[a],c.mixin(n.prototype.mixinId||n.$className,n);else for(var h in u)c.mixin(h,u[h])}},addConfig:function(e,t){var n=this.$config||this.getConfigurator();n.add(e,t)},addCachedConfig:function(e,t){var n,i={};for(n in e)i[n]={cached:!0,$value:e[n]};this.addConfig(i,t)},getConfigurator:function(){return this.$config||new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:e(function(e,t){c[e]=function(){return this[t].apply(this,arguments)},this.override(c),delete c[e]})});for(t in h)h.hasOwnProperty(t)&&i.push(t);return h.$staticMembers=i,h.getConfigurator(),h.addMembers({$className:"Ext.Base",isInstance:!0,$configPrefixed:!0,$configStrict:!0,isConfiguring:!1,isFirstInstance:!1,statics:function(){var e=this.statics.caller,t=this.self;return e?e.$owner:t},callParent:function(e){var t,i=(t=this.callParent.caller)&&(t.$previous||(t=t.$owner?t:t.caller)&&t.$owner.superclass[t.$name]);if(!i){t=this.callParent.caller;var r,o;if(!t.$owner){if(!t.caller)throw new Error("Attempting to call a protected method from the public scope, which is not allowed");t=t.caller}if(r=t.$owner.superclass,o=t.$name,!(o in r))throw new Error("this.callParent() was called but there's no such method ("+o+") found in the parent class ("+(Ext.getClassName(r)||"Object")+")")}return i.apply(this,e||n)},callSuper:function(e){var t,i=(t=this.callSuper.caller)&&(t=t.$owner?t:t.caller)&&t.$owner.superclass[t.$name];if(!i){t=this.callSuper.caller;var r,o;if(!t.$owner){if(!t.caller)throw new Error("Attempting to call a protected method from the public scope, which is not allowed");t=t.caller}if(r=t.$owner.superclass,o=t.$name,!(o in r))throw new Error("this.callSuper() was called but there's no such method ("+o+") found in the parent class ("+(Ext.getClassName(r)||"Object")+")")}return i.apply(this,e||n)},self:h,constructor:function(){return this},getConfigurator:function(){return this.$config||this.self.getConfigurator()},initConfig:function(e){var t=this,n=t.getConfigurator();return t.initConfig=Ext.emptyFn,t.initialConfig=e||{},n.configure(t,e),t},beforeInitConfig:Ext.emptyFn,getConfig:r,setConfig:function(e,t){var n,i=this;return"string"==typeof e?(n=Ext.Config.map[e],n||Ext.Logger.error("Invalid property name for setter: '"+e+"' for '"+this.$className+"'."),this[n.names.set](t)):e&&i.getConfigurator().reconfigure(i,e),i},getCurrentConfig:function(){var e=this.getConfigurator();return e.getCurrentConfig(this)},hasConfig:function(e){return e in this.defaultConfig},getInitialConfig:function(e){var t=this.config;return e?t[e]:t},$links:null,link:function(e,t){var n=this,i=n.$links||(n.$links={});return i[e]=!0,n[e]=t,t},unlink:function(e){var t,n,i,r,o=this;for(Ext.isArray(e)||Ext.Error.raise("Invalid argument - expected array of strings"),t=0,n=e.length;n>t;t++)i=e[t],r=o[i],r&&(r.isInstance&&!r.isDestroyed?r.destroy():r.parentNode&&"nodeType"in r&&r.parentNode.removeChild(r)),o[i]=null;return o},destroy:function(){var e=this,t=e.$links;e.destroy=Ext.emptyFn,e.isDestroyed=!0,t&&(e.$links=null,e.unlink(Ext.Object.getKeys(t)))}}),f.callOverridden=f.callParent,Ext.privacyViolation=function(e,t,n,i){var r=n.$name,o=t.$owner&&t.$owner.$className,a=i?"static ":"",s=n.$privacy?"Private "+a+n.$privacy+' method "'+r+'"':"Public "+a+'method "'+r+'"';e.$className&&(s=e.$className+": "+s),s+=t.$privacy?o?" conflicts with private "+t.$privacy+" method declared by "+o:" conflicts with inherited private "+t.$privacy+" method.":o?" hides public method inherited from "+o:" hides inherited public method.";var l=Ext.getCompatVersion(),d=Ext.getVersion();d&&l&&l.lt(d)?Ext.log.error(s):Ext.Error.raise(s)},h}(Ext.Function.flexSetter),function(){function e(e){function t(){return this.constructor.apply(this,arguments)||null}return e&&(t.displayName=e),t}var t,n=Ext.Base,i=n.$staticMembers;Ext.Class=t=function(e,n,i){return"function"!=typeof e&&(i=n,n=e,e=null),n||(n={}),e=t.create(e,n),t.process(e,n,i),e},Ext.apply(t,{makeCtor:e,onBeforeCreated:function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,">> Ext.Class#onBeforeCreated",arguments),e.addMembers(t),n.onCreated.call(e,e),Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"<< Ext.Class#onBeforeCreated",arguments)},create:function(t,r){var o,a=i.length;for(t||(t=e(r.$className));a--;)o=i[a],t[o]=n[o];return t},process:function(e,n,i){var r,o,a,s,l,d,u,c=n.preprocessors||t.defaultPreprocessors,h=this.preprocessors,f={onBeforeCreated:this.onBeforeCreated},g=[];for(delete n.preprocessors,e._classHooks=f,a=0,s=c.length;s>a;a++)if(r=c[a],"string"==typeof r){if(r=h[r],o=r.properties,o===!0)g.push(r.fn);else if(o)for(l=0,d=o.length;d>l;l++)if(u=o[l],n.hasOwnProperty(u)){g.push(r.fn);break}}else g.push(r);f.onCreated=i?i:Ext.emptyFn,f.preprocessors=g,this.doProcess(e,n,f)},doProcess:function(e,t,n){for(var i=this,r=n.preprocessors,o=r.shift(),a=i.doProcess;o;o=r.shift())if(o.call(i,e,t,n,a)===!1)return;n.onBeforeCreated.apply(i,arguments)},preprocessors:{},registerPreprocessor:function(e,t,n,i,r){return i||(i="last"),n||(n=[e]),this.preprocessors[e]={name:e,properties:n||!1,fn:t},this.setDefaultPreprocessorPosition(e,i,r),this},getPreprocessor:function(e){return this.preprocessors[e]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(e){return this.defaultPreprocessors=Ext.Array.from(e),this},setDefaultPreprocessorPosition:function(e,t,n){var i,r=this.defaultPreprocessors;if("string"==typeof t){if("first"===t)return r.unshift(e),this;if("last"===t)return r.push(e),this;t="after"===t?1:-1}return i=Ext.Array.indexOf(r,n),-1!==i&&Ext.Array.splice(r,Math.max(0,i+t),0,e),this}}),t.registerPreprocessor("extend",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#extendPreProcessor",arguments);var i,r,o,a=Ext.Base,s=a.prototype,l=t.extend;if(delete t.extend,i=l&&l!==Object?l:a,r=i.prototype,!i.$isClass)for(o in s)r[o]||(r[o]=s[o]);e.extend(i),e.triggerExtended.apply(e,arguments),t.onClassExtended&&(e.onExtended(t.onClassExtended,e),delete t.onClassExtended)},!0),t.registerPreprocessor("privates",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#privatePreprocessor",arguments);var n=t.privates,i=n.statics,r=n.privacy||!0;delete t.privates,delete n.statics,e.addMembers(n,!1,r),i&&e.addMembers(i,!0,r)}),t.registerPreprocessor("statics",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#staticsPreprocessor",arguments),e.addStatics(t.statics),delete t.statics}),t.registerPreprocessor("inheritableStatics",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#inheritableStaticsPreprocessor",arguments),e.addInheritableStatics(t.inheritableStatics),delete t.inheritableStatics}),t.registerPreprocessor("platformConfig",function(e,t,n){var i,r,o,a,s,l,d,u=t.platformConfig,c=t.config||{},h=Ext.theme||(Ext.theme={name:"Default"});for(delete t.platformConfig,h=h&&h.name,Ext.filterPlatform||(Ext.filterPlatform=function(e){function t(e){var t=/Mobile(\/|\s)/.test(e);return/(iPhone|iPod)/.test(e)||!/(Silk)/.test(e)&&/(Android)/.test(e)&&(/(Android 2)/.test(e)||t)||/(BlackBerry|BB)/.test(e)&&t||/(Windows Phone)/.test(e)}function n(e){return!t(e)&&(/iPad/.test(e)||/Android/.test(e)||/(RIM Tablet OS)/.test(e)||/MSIE 10/.test(e)&&/; Touch/.test(e))}var i,r,o=!1,a=navigator.userAgent;e=[].concat(e);var s,l,d=window.location.search.substr(1),u=d.split("&"),c={};for(l=0;l<u.length;l++){var h=u[l].split("=");c[h[0]]=h[1]}if(s=c.platform)return-1!=e.indexOf(s);for(i=0,r=e.length;r>i;i++){switch(e[i]){case"phone":o=t(a);break;case"tablet":o=n(a);break;case"desktop":o=!t(a)&&!n(a);break;case"ios":o=/(iPad|iPhone|iPod)/.test(a);break;case"android":o=/(Android|Silk)/.test(a);break;case"blackberry":o=/(BlackBerry|BB)/.test(a);break;case"safari":o=/Safari/.test(a)&&!/(BlackBerry|BB)/.test(a);break;case"chrome":o=/Chrome/.test(a);break;case"ie10":o=/MSIE 10/.test(a)}if(o)return!0}return!1}),a=0,s=u.length;s>a;a++)if(o=u[a],i=o.platform,delete o.platform,r=[].concat(o.theme),d=r.length,delete o.theme,i&&Ext.filterPlatform(i)&&Ext.merge(c,o),d)for(l=0;d>l;l++)Ext.theme.name==r[l]&&Ext.merge(c,o)}),t.registerPreprocessor("config",function(e,t){t.hasOwnProperty("$configPrefixed")&&(e.prototype.$configPrefixed=t.$configPrefixed),e.addConfig(t.config),delete t.config}),t.registerPreprocessor("cachedConfig",function(e,t){t.hasOwnProperty("$configPrefixed")&&(e.prototype.$configPrefixed=t.$configPrefixed),e.addCachedConfig(t.cachedConfig),delete t.cachedConfig}),t.registerPreprocessor("mixins",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#mixinsPreprocessor",arguments);var i=t.mixins,r=n.onCreated;delete t.mixins,n.onCreated=function(){return Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#mixinsPreprocessor#beforeCreated",arguments),n.onCreated=r,e.mixin(i),n.onCreated.apply(this,arguments)}}),Ext.extend=function(e,n,i){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#extend-backwards-compatible",arguments),2===arguments.length&&Ext.isObject(n)&&(i=n,n=e,e=null);var r;if(!n)throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");return i.extend=n,i.preprocessors=["extend","statics","inheritableStatics","mixins","platformConfig","config"],e?(r=new t(e,i),r.prototype.constructor=e):r=new t(i),r.prototype.override=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},r}}(),Ext.Inventory=function(){var e=this;e.names=[],e.paths={},e.alternateToName={},e.aliasToName={},e.nameToAliases={},e.nameToAlternates={}},Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(e,t){return this.addMapping(e,t,this.aliasToName,this.nameToAliases)},addAlternate:function(e,t){return this.addMapping(e,t,this.alternateToName,this.nameToAlternates)},addMapping:function(e,t,n,i){var r,o,a,s,l,d,u=e.$className||e,c=u,h=this._array1;Ext.isString(u)&&(c={},c[u]=t);for(a in c)for(o=c[a],Ext.isString(o)&&(h[0]=o,o=h),l=o.length,d=i[a]||(i[a]=[]),s=0;l>s;++s)(r=o[s])&&n[r]!==a&&(n[r]&&Ext.log.warn("Overriding existing mapping: '"+r+"' From '"+n[r]+"' to '"+a+"'. Is this intentional?"),n[r]=a,d.push(r))},getAliasesByName:function(e){return this.nameToAliases[e]||null},getAlternatesByName:function(e){return this.nameToAliases[e]||null},getNameByAlias:function(e){return this.aliasToName[e]||""},getNameByAlternate:function(e){return this.alternateToName[e]||""},getNamesByExpression:function(e,t,n){var i,r,o,a,s,l,d,u=this,c=u.aliasToName,h=u.alternateToName,f=u.nameToAliases,g=u.nameToAlternates,p=n?t:{},m=[],x=Ext.isString(e)?[e]:e,E=x.length,v=u.wildcardRe;for(r=0;E>r;++r)if((i=x[r]).indexOf("*")<0)(l=c[i])||(l=h[i])||(l=i),l in p||t&&l in t||(p[l]=1,m.push(l));else{d=new RegExp("^"+i.replace(v,"(.*?)")+"$");for(l in f)if(!(l in p||t&&l in t)){if(!(a=d.test(l))){for(s=(o=f[l]).length;!a&&s-->0;)a=d.test(o[s]);if(o=g[l],o&&!a)for(s=o.length;!a&&s-->0;)a=d.test(o[s])}a&&(p[l]=1,m.push(l))}}return m},getPath:function(e){var t,n=this,i=n.paths,r="";return e in i?r=i[e]:(t=n.getPrefix(e),t&&(e=e.substring(t.length+1),r=i[t],r&&(r+="/")),r+=e.replace(n.dotRe,"/")+".js"),r},getPrefix:function(e){if(e in this.paths)return e;for(var t,n,i=this.getPrefixes(),r=i.length;r-->0;)if(t=(n=i[r]).length,t<e.length&&"."===e.charAt(t)&&n===e.substring(0,t))return n;return""},getPrefixes:function(){var e=this,t=e.prefixes;return t||(e.prefixes=t=e.names.slice(0),t.sort(e._compareNames)),t},removeName:function(e){var t,n,i=this,r=i.aliasToName,o=i.alternateToName,a=i.nameToAliases,s=i.nameToAlternates,l=a[e],d=s[e];if(delete a[e],delete s[e],l)for(t=l.length;t--;)e===(n=l[t])&&delete r[n];if(d)for(t=d.length;t--;)e===(n=d[t])&&delete o[n]},resolveName:function(e){var t,n=this;return e in n.nameToAliases||(t=n.aliasToName[e])||(t=n.alternateToName[e]),t||e},select:function(e,t){var n,i=this,r={},o={excludes:r,exclude:function(){return i.getNamesByExpression(arguments,r,!0),this}};for(n in e)o[n]=i.selectMethod(r,e[n],t||e);return o},selectMethod:function(e,t,n){var i=this;return function(r){var o=Ext.Array.slice(arguments,1);return o.unshift(i.getNamesByExpression(r,e)),t.apply(n,o)}},setPath:Ext.Function.flexSetter(function(e,t){var n=this;return n.paths[e]=t,n.names.push(e),n.prefixes=null,n}),_compareNames:function(e,t){var n=e.length-t.length;return n||(n=t>e?-1:1),n}},Ext.ClassManager=function(e,t,n,i,r){var o=Ext.Class.makeCtor,a=Ext.apply(new Ext.Inventory,{classes:{},classState:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],enableNamespaceParseCache:!0,namespaceParseCache:{},instantiators:[],isCreated:function(e){var t,n,i,o,s;if("string"!=typeof e||e.length<1)throw new Error("[Ext.ClassManager] Invalid classname, must be a string and must not be empty");if(a.classes[e]||a.existCache[e])return!0;for(o=r,s=a.parseNamespace(e),t=0,n=s.length;n>t;t++)if(i=s[t],"string"!=typeof i)o=i;else{if(!o||!o[i])return!1;o=o[i]}return a.triggerCreated(e),!0},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},triggerCreated:function(e){a.existCache[e]||a.triggerExists(e),a.classState[e]+=20,a.notify(e,a.createdListeners,a.nameCreatedListeners)},onCreated:function(e,t,n){a.addListener(e,t,n,a.createdListeners,a.nameCreatedListeners)},triggerExists:function(e,t){a.existCache[e]=t||1,a.classState[e]+=20,a.notify(e,a.existsListeners,a.nameExistsListeners)},onExists:function(e,t,n){a.addListener(e,t,n,a.existsListeners,a.nameExistsListeners)},notify:function(e,t,n){var i,r,o,s,l,d,u=a.getAlternatesByName(e),c=[e];for(i=0,r=t.length;r>i;i++)l=t[i],l.fn.call(l.scope,e);for(;c;){for(i=0,r=c.length;r>i;i++)if(d=c[i],t=n[d]){for(o=0,s=t.length;s>o;o++)l=t[o],l.fn.call(l.scope,d);delete n[d]}c=u,u=null}},addListener:function(e,t,n,i,r){if(Ext.isArray(n))for(e=Ext.Function.createBarrier(n.length,e,t),o=0;o<n.length;o++)this.addListener(e,null,n[o],i,r);else{var o,a={fn:e,scope:t};if(n){if(this.isCreated(n))return void e.call(t,n);r[n]||(r[n]=[]),r[n].push(a)}else i.push(a)}},parseNamespace:function(e){if("string"!=typeof e)throw new Error("[Ext.ClassManager] Invalid namespace, must be a string");var t,n,i,o,a,s,l,d,u,c=this.namespaceParseCache;if(this.enableNamespaceParseCache&&c.hasOwnProperty(e))return c[e];for(t=[],n=this.namespaceRewrites,i=r,o=e,d=0,u=n.length;u>d;d++)if(a=n[d],s=a.from,l=a.to,o===s||o.substring(0,s.length)===s){o=o.substring(s.length),"string"!=typeof l?i=l:t=t.concat(l.split("."));break}return t.push(i),t=t.concat(o.split(".")),this.enableNamespaceParseCache&&(c[e]=t),t},setNamespace:function(e,t){var n,i,o=r,a=this.parseNamespace(e),s=a.length-1,l=a[s];for(n=0;s>n;n++)i=a[n],"string"!=typeof i?o=i:(o[i]||(o[i]={}),o=o[i]);return o[l]=t,o[l]},createNamespaces:function(){var e,t,n,i,o,a,s=r;for(n=0,o=arguments.length;o>n;n++)for(e=this.parseNamespace(arguments[n]),i=0,a=e.length;a>i;i++)t=e[i],"string"!=typeof t?s=t:(s[t]||(s[t]={}),s=s[t]);return s},set:function(e,t){var n=this,i=n.getName(t);return n.classes[e]=n.setNamespace(e,t),i&&i!==e&&n.addAlternate(i,e),this},get:function(e){var t,n,i,o,a,s=this.classes;if(s[e])return s[e];for(t=r,n=this.parseNamespace(e),o=0,a=n.length;a>o;o++)if(i=n[o],"string"!=typeof i)t=i;else{if(!t||!t[i])return null;t=t[i]}return t},addNameAliasMappings:function(e){this.addAlias(e)},addNameAlternateMappings:function(e){this.addAlternate(e)},getByAlias:function(e){return this.get(this.getNameByAlias(e))},getName:function(e){return e&&e.$className||""},getClass:function(e){return e&&e.self||null},create:function(t,n,i){if(null!=t&&"string"!=typeof t)throw new Error("[Ext.define] Invalid class name '"+t+"' specified, must be a non-empty string");var r=o(t);return"function"==typeof n&&(n=n(r)),t&&(a.classes[t]&&Ext.log.warn("[Ext.define] Duplicate class name '"+t+"' specified, must be a non-empty string"),r.displayName=t),n.$className=t,new e(r,n,function(){var e,r,o,s,l,d,u,c=n.postprocessors||a.defaultPostprocessors,h=a.postprocessors,f=[];for(delete n.postprocessors,r=0,o=c.length;o>r;r++)if(e=c[r],"string"==typeof e){if(e=h[e],d=e.properties,d===!0)f.push(e.fn);else if(d)for(s=0,l=d.length;l>s;s++)if(u=d[s],n.hasOwnProperty(u)){f.push(e.fn);break}}else f.push(e);n.postprocessors=f,n.createdFn=i,a.processCreate(t,this,n)})},processCreate:function(e,t,n){var i=this,r=n.postprocessors.shift(),o=n.createdFn;return r?void(r.call(i,e,t,n,i.processCreate)!==!1&&i.processCreate(e,t,n)):(Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#classCreated",arguments),e&&i.set(e,t),delete t._classHooks,o&&o.call(t,t),void(e&&i.triggerCreated(e)))},createOverride:function(e,t,n){var i,r,o=this,a=t.override,s=t.requires,l=t.uses,d=t.mixins,u=t.compatibility,c=function(){var u,h,f,g,p;if(!r){if(h=s?s.slice(0):[],d)if(i=d instanceof Array)for(f=0,p=d.length;p>f;++f)Ext.isString(u=d[f])&&h.push(u);else for(g in d)Ext.isString(u=d[g])&&h.push(u);if(r=!0,h.length)return void Ext.require(h,c)}if(i)for(f=0,p=d.length;p>f;++f)Ext.isString(u=d[f])&&(d[f]=Ext.ClassManager.get(u));else if(d)for(g in d)Ext.isString(u=d[g])&&(d[g]=Ext.ClassManager.get(u));u=o.get(a),delete t.override,delete t.compatibility,delete t.requires,delete t.uses,Ext.override(u,t),o.triggerCreated(e),l&&Ext.Loader.addUsedClasses(l),n&&n.call(u,u)};return o.triggerExists(e,2),(!u||Ext.checkVersion(u))&&o.onCreated(c,o,a),o},instantiateByAlias:function(){var e=arguments[0],t=n.call(arguments),i=this.getNameByAlias(e);if(!i)throw new Error("[Ext.createByAlias] Unrecognized alias: "+e);return t[0]=i,Ext.create.apply(Ext,t)},instantiate:function(){return Ext.log.warn("Ext.ClassManager.instantiate() is deprecated.  Use Ext.create() instead."),Ext.create.apply(Ext,arguments)},dynInstantiate:function(e,t){return t=i(t,!0),t.unshift(e),Ext.create.apply(Ext,t)},getInstantiator:function(e){var t,n,i,r=this.instantiators;if(t=r[e],!t){for(n=e,i=[],n=0;e>n;n++)i.push("a["+n+"]");t=r[e]=new Function("c","a","return new c("+i.join(",")+")"),t.displayName="Ext.create"+e}return t},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(e,t,n,i,r){return i||(i="last"),n||(n=[e]),this.postprocessors[e]={name:e,properties:n||!1,fn:t},this.setDefaultPostprocessorPosition(e,i,r),this},setDefaultPostprocessors:function(e){return this.defaultPostprocessors=i(e),this},setDefaultPostprocessorPosition:function(e,t,n){var i,r=this.defaultPostprocessors;if("string"==typeof t){if("first"===t)return r.unshift(e),this;if("last"===t)return r.push(e),this;t="after"===t?1:-1}return i=Ext.Array.indexOf(r,n),-1!==i&&Ext.Array.splice(r,Math.max(0,i+t),0,e),this}});if(a.registerPostprocessor("alias",function(e,n,i){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#aliasPostProcessor",arguments);var r,o,a=Ext.Array.from(i.alias);for(r=0,o=a.length;o>r;r++)t=a[r],this.addAlias(n,t)},["xtype","alias"]),a.registerPostprocessor("singleton",function(e,t,n,i){return Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#singletonPostProcessor",arguments),n.singleton?(i.call(this,e,new t,n),!1):!0}),a.registerPostprocessor("alternateClassName",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#alternateClassNamePostprocessor",arguments);var i,r,o,a=n.alternateClassName;for(a instanceof Array||(a=[a]),i=0,r=a.length;r>i;i++){if(o=a[i],"string"!=typeof o)throw new Error("[Ext.define] Invalid alternate of: '"+o+"' for class: '"+e+"'; must be a valid string");this.set(o,t)}}),a.registerPostprocessor("debugHooks",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(t,"Ext.Class#debugHooks",arguments),Ext.isDebugEnabled(t.$className,n.debugHooks.$enabled)&&(delete n.debugHooks.$enabled,Ext.override(t,n.debugHooks));var i=t.isInstance?t.self:t;delete i.prototype.debugHooks}),a.registerPostprocessor("deprecated",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(t,"Ext.Class#deprecated",arguments);var i=t.isInstance?t.self:t;i.addDeprecations(n.deprecated),delete i.prototype.deprecated}),Ext.apply(Ext,{create:function(){var e,t=arguments[0],i=typeof t,r=n.call(arguments,1);if("function"===i)e=t;else{if("string"!==i&&0===r.length&&(r=[t],(t=t.xclass)||(t=r[0].xtype,t&&(t="widget."+t))),"string"!=typeof t||t.length<1)throw new Error("[Ext.create] Invalid class name or alias '"+t+"' specified, must be a non-empty string");t=a.resolveName(t),e=a.get(t)}if(e||(Ext.log.warn("[Ext.Loader] Synchronously loading '"+t+"'; consider adding Ext.require('"+t+"') above Ext.onReady"),Ext.syncRequire(t),e=a.get(t)),!e)throw new Error("[Ext.create] Unrecognized class name / alias: "+t);if("function"!=typeof e)throw new Error("[Ext.create] Singleton '"+t+"' cannot be instantiated.");return a.getInstantiator(r.length)(e,r)},widget:function(e,t){var n,i,r,o=e;return"string"!=typeof o?(t=e,o=t.xtype,i=t.xclass):t=t||{},t.isComponent?t:(i||(n="widget."+o,i=a.getNameByAlias(n)),i&&(r=a.get(i)),r?new r(t):Ext.create(i||n,t))},createByAlias:t(a,"instantiateByAlias"),define:function(e,t,n){return Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"ClassManager#define",arguments),t.override?(a.classState[e]=20,a.createOverride.apply(a,arguments)):(a.classState[e]=10,a.create.apply(a,arguments))},undefine:function(e){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#undefine",arguments);var t,n,i,r,o=a.classes;for(delete a.namespaceParseCache[e],delete o[e],delete a.existCache[e],delete a.classState[e],a.removeName(e),t=a.parseNamespace(e),n=t.length-1,i=t[0],r=1;n>r;r++)if(i=i[t[r]],!i)return;try{delete i[t[n]]}catch(s){i[t[n]]=void 0}},getClassName:t(a,"getName"),getDisplayName:function(e){if(e){if(e.displayName)return e.displayName;if(e.$name&&e.$class)return Ext.getClassName(e.$class)+"#"+e.$name;if(e.$className)return e.$className}return"Anonymous"},getClass:t(a,"getClass"),namespace:t(a,"createNamespaces")}),Ext.createWidget=Ext.widget,Ext.ns=Ext.namespace,e.registerPreprocessor("className",function(e,t){"$className"in t&&(e.$className=t.$className,e.displayName=e.$className),Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#classNamePreprocessor",arguments)},!0,"first"),e.registerPreprocessor("alias",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#aliasPreprocessor",arguments);var n,r,o,a,s=e.prototype,l=i(t.xtype),u=i(t.alias),c="widget.",h=c.length,f=Array.prototype.slice.call(s.xtypesChain||[]),g=Ext.merge({},s.xtypesMap||{});for(n=0,r=u.length;r>n;n++){if(o=u[n],"string"!=typeof o||o.length<1)throw new Error("[Ext.define] Invalid alias of: '"+o+"' for class: '"+d+"'; must be a valid string");o.substring(0,h)===c&&(a=o.substring(h),Ext.Array.include(l,a))}for(e.xtype=t.xtype=l[0],t.xtypes=l,n=0,r=l.length;r>n;n++)a=l[n],g[a]||(g[a]=!0,f.push(a));for(t.xtypesChain=f,t.xtypesMap=g,Ext.Function.interceptAfter(t,"onClassCreated",function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#aliasPreprocessor#afterClassCreated",arguments);var t,i,o=s.mixins;for(t in o)if(o.hasOwnProperty(t)&&(i=o[t],l=i.xtypes))for(n=0,r=l.length;r>n;n++)a=l[n],g[a]||(g[a]=!0,f.push(a))}),n=0,r=l.length;r>n;n++){if(a=l[n],"string"!=typeof a||a.length<1)throw new Error("[Ext.define] Invalid xtype of: '"+a+"' for class: '"+d+"'; must be a valid non-empty string");Ext.Array.include(u,c+a)}t.alias=u},["xtype","alias"]),Ext.manifest){var s,l,d,u=Ext.manifest,c=u.classes,h=u.paths,f={},g={};if(h){if(u.bootRelative){baseUrl=Ext.Boot.baseUrl;for(path in h)h.hasOwnProperty(path)&&(h[path]=baseUrl+h[path])}a.setPath(h)}if(c)for(s in c)g[s]=[],f[s]=[],l=c[s],l.alias&&(f[s]=l.alias),l.alternates&&(g[s]=l.alternates);a.addAlias(f),a.addAlternate(g)}return a}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global),Ext.env||(Ext.env={}),Ext.env.Browser=function(e,t){var n,i,r,o=this,a=o.browserPrefixes,s=o.enginePrefixes,l=e.match(new RegExp("((?:"+Ext.Object.getValues(a).join(")|(?:")+"))([\\w\\._]+)")),d=e.match(new RegExp("((?:"+Ext.Object.getValues(s).join(")|(?:")+"))([\\w\\._]+)")),u=o.browserNames,c=u.other,h=o.engineNames,f=h.other,g="",p="",m="",x=!1;
if(o.userAgent=e,l&&(c=u[Ext.Object.getKey(a,l[1])],"Safari"===c&&/^Opera/.test(e)&&(c="Opera"),g=new Ext.Version(l[2])),d&&(f=h[Ext.Object.getKey(s,d[1])],p=new Ext.Version(d[2])),"Trident"==f&&"IE"!=c){c="IE";var E=e.match(/.*rv:(\d+.\d+)/);E&&E.length&&(E=E[1],g=new Ext.Version(E))}e.match(/FB/)&&"Other"==c&&(c=u.safari,f=h.webkit),e.match(/Android.*Chrome/g)&&(c="ChromeMobile"),e.match(/OPR/)&&(c="Opera",l=e.match(/OPR\/(\d+.\d+)/),g=new Ext.Version(l[1])),Ext.apply(this,{engineName:f,engineVersion:p,name:c,version:g}),this.setFlag(c,!0,t),g&&(m=g.getMajor()||"",o.is.IE&&(m=parseInt(m,10),i=document.documentMode,7==i||7==m&&8!=i&&9!=i&&10!=i?m=7:8==i||8==m&&8!=i&&9!=i&&10!=i?m=8:9==i||9==m&&7!=i&&8!=i&&10!=i?m=9:(10==i||10==m&&7!=i&&8!=i&&9!=i)&&(m=10),7>=m&&(Ext.isIE7m=!0),8>=m&&(Ext.isIE8m=!0),9>=m&&(Ext.isIE9m=!0),m>=7&&(Ext.isIE7p=!0),m>=8&&(Ext.isIE8p=!0),m>=9&&(Ext.isIE9p=!0),m>=10&&(Ext.isIE10p=!0)),o.is.Opera&&parseInt(m,10)<=12&&(Ext.isOpera12m=!0),Ext.chromeVersion=Ext.isChrome?m:0,Ext.firefoxVersion=Ext.isFirefox?m:0,Ext.ieVersion=Ext.isIE?m:0,Ext.operaVersion=Ext.isOpera?m:0,Ext.safariVersion=Ext.isSafari?m:0,Ext.webKitVersion=Ext.isWebKit?m:0,this.setFlag(c+m,!0,t),this.setFlag(c+g.getShortVersion()));for(n in u)u.hasOwnProperty(n)&&(r=u[n],this.setFlag(r,c===r));this.setFlag(r),p&&(this.setFlag(f+(p.getMajor()||"")),this.setFlag(f+p.getShortVersion()));for(n in h)h.hasOwnProperty(n)&&(r=h[n],this.setFlag(r,f===r,t));this.setFlag("Standalone",!!navigator.standalone),this.setFlag("Ripple",!!document.getElementById("tinyhippos-injected")&&!Ext.isEmpty(window.top.ripple)),this.setFlag("WebWorks",!!window.blackberry),"undefined"!=typeof window.PhoneGap||"undefined"!=typeof window.Cordova||"undefined"!=typeof window.cordova?(x=!0,this.setFlag("PhoneGap"),this.setFlag("Cordova")):window.isNK&&(x=!0,this.setFlag("Sencha")),/(Glass)/i.test(e)&&this.setFlag("GoogleGlass"),/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(e)&&(x=!0),this.setFlag("WebView",x),this.isStrict=Ext.isStrict="CSS1Compat"==document.compatMode,this.isSecure=/^https/i.test(window.location.protocol),this.identity=c+m+(this.isStrict?"Strict":"Quirks")},Ext.env.Browser.prototype={constructor:Ext.env.Browser,browserNames:{ie:"IE",firefox:"Firefox",safari:"Safari",chrome:"Chrome",opera:"Opera",dolfin:"Dolfin",webosbrowser:"webOSBrowser",chromeMobile:"ChromeMobile",chromeiOS:"ChromeiOS",silk:"Silk",other:"Other"},engineNames:{webkit:"WebKit",gecko:"Gecko",presto:"Presto",trident:"Trident",other:"Other"},enginePrefixes:{webkit:"AppleWebKit/",gecko:"Gecko/",presto:"Presto/",trident:"Trident/"},browserPrefixes:{ie:"MSIE ",firefox:"Firefox/",chrome:"Chrome/",safari:"Version/",opera:"OPR/",dolfin:"Dolfin/",webosbrowser:"wOSBrowser/",chromeMobile:"CrMo/",chromeiOS:"CriOS/",silk:"Silk/"},styleDashPrefixes:{WebKit:"-webkit-",Gecko:"-moz-",Trident:"-ms-",Presto:"-o-",Other:""},stylePrefixes:{WebKit:"Webkit",Gecko:"Moz",Trident:"ms",Presto:"O",Other:""},propertyPrefixes:{WebKit:"webkit",Gecko:"moz",Trident:"ms",Presto:"o",Other:""},is:function(e){return!!this.is[e]},name:null,version:null,engineName:null,engineVersion:null,setFlag:function(e,t,n){return"undefined"==typeof t&&(t=!0),this.is[e]=t,this.is[e.toLowerCase()]=t,n&&(Ext["is"+e]=t),this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(e){var t=this.propertyPrefixes[this.engineName];return t.length>0?t+Ext.String.capitalize(e):e},getPreferredTranslationMethod:function(e){return"object"==typeof e&&"translationMethod"in e&&"auto"!==e.translationMethod?e.translationMethod:this.is.AndroidStock2||this.is.IE?"scrollposition":"csstransform"}},function(e){Ext.browser=new Ext.env.Browser(e,!0),Ext.userAgent=e.toLowerCase()}(Ext.global.navigator.userAgent),Ext.env.OS=function(e,t,n){var i,r,o,a,s,l,d=this,u=d.names,c=d.prefixes,h="",f=d.is;n=n||Ext.browser;for(r in c)if(c.hasOwnProperty(r)&&(o=c[r],a=e.match(new RegExp("(?:"+o+")([^\\s;]+)")))){i=u[r],l=a[1],h=l&&"HTC_"==l?new Ext.Version("2.3"):l&&"Silk/"==l?new Ext.Version("2.3"):new Ext.Version(a[a.length-1]);break}i||(i=u[(e.toLowerCase().match(/mac|win|linux/)||["other"])[0]],h=new Ext.Version("")),this.name=i,this.version=h,t&&this.setFlag(t.replace(/ simulator$/i,"")),this.setFlag(i),h&&(this.setFlag(i+(h.getMajor()||"")),this.setFlag(i+h.getShortVersion()));for(r in u)u.hasOwnProperty(r)&&(s=u[r],f.hasOwnProperty(i)||this.setFlag(s,i===s));"iOS"==this.name&&568==window.screen.height&&this.setFlag("iPhone5"),(n.is.Safari||n.is.Silk)&&((this.is.Android2||this.is.Android3||501==n.version.shortVersion)&&(n.setFlag("AndroidStock"),n.setFlag("AndroidStock2")),this.is.Android4&&(n.setFlag("AndroidStock"),n.setFlag("AndroidStock4")))},Ext.env.OS.prototype={constructor:Ext.env.OS,names:{ios:"iOS",android:"Android",windowsPhone:"WindowsPhone",webos:"webOS",blackberry:"BlackBerry",rimTablet:"RIMTablet",mac:"MacOS",win:"Windows",tizen:"Tizen",linux:"Linux",bada:"Bada",chrome:"ChromeOS",other:"Other"},prefixes:{tizen:"(Tizen )",ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",windowsPhone:"Windows Phone ",blackberry:"(?:BlackBerry|BB)(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/",chrome:"CrOS "},is:function(e){return!!this[e]},name:null,version:null,setFlag:function(e,t){return"undefined"==typeof t&&(t=!0),this.flags&&(this.flags[e]=t),this.is[e]=t,this.is[e.toLowerCase()]=t,this}},function(){var e,t,n,i=Ext.global.navigator,r=i.userAgent,o=Ext.env.OS,a=Ext.is||(Ext.is={});o.prototype.flags=a,Ext.os=e=new o(r,i.platform),t=e.name,Ext["is"+t]=!0,Ext.isMac=a.Mac=a.MacOS;var s=window.location.search.match(/deviceType=(Tablet|Phone)/),l=window.deviceType;s&&s[1]?n=s[1]:"iPhone"===l?n="Phone":"iPad"===l?n="Tablet":e.is.Android||e.is.iOS||e.is.WindowsPhone||!/Windows|Linux|MacOS/.test(t)?n=e.is.iPad||e.is.RIMTablet||e.is.Android3||Ext.browser.is.Silk||e.is.Android4&&-1==r.search(/mobile/i)?"Tablet":"Phone":(n="Desktop",Ext.browser.is.WebView=!!Ext.browser.is.Ripple),e.setFlag(n,!0),e.deviceType=n,delete o.prototype.flags}(),Ext.feature={has:function(e){return!!this.has[e]},testElements:{},getTestElement:function(e,t){if(void 0===e)e="div";else if("string"!=typeof e)return e;return t?document.createElement(e):(this.testElements[e]||(this.testElements[e]=document.createElement(e)),this.testElements[e])},isStyleSupported:function(e,t){var n=this.getTestElement(t).style,i=Ext.String.capitalize(e);return"undefined"!=typeof n[e]||"undefined"!=typeof n[Ext.browser.getStylePrefix(e)+i]?!0:!1},isStyleSupportedWithoutPrefix:function(e,t){var n=this.getTestElement(t).style;return"undefined"!=typeof n[e]?!0:!1},isEventSupported:function(e,t){void 0===t&&(t=window);var n=this.getTestElement(t),i="on"+e.toLowerCase(),r=i in n;return r||n.setAttribute&&n.removeAttribute&&(n.setAttribute(i,""),r="function"==typeof n[i],"undefined"!=typeof n[i]&&(n[i]=void 0),n.removeAttribute(i)),r},getStyle:function(e,t){var n=e.ownerDocument.defaultView,i=(n?n.getComputedStyle(e,null):e.currentStyle)||e.style;return i[t]},getSupportedPropertyName:function(e,t){var n=Ext.browser.getVendorProperyName(t);return n in e?n:t in e?t:null},detect:function(e){var t,n,i,r,o=this,a=document,s=o.toRun||o.tests,l=s.length,d=a.createElement("div"),u=[],c=Ext.supports,h=o.has;for(Ext.theme||(Ext.theme={name:"Default"}),Ext.theme.is={},Ext.theme.is[Ext.theme.name]=!0,d.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div></div><div style="position: absolute; left: 10%; top: 10%;"></div><div style="float:left; background-color:transparent;"></div>',e&&a.body.appendChild(d),i=o.preDetected[Ext.browser.identity]||[];l--;){if(n=s[l],r=i[l],t=n.name,void 0===r){if(!e&&n.ready){u.push(n);continue}r=n.fn.call(o,a,d)}c[t]=h[t]=r}e&&a.body.removeChild(d),o.toRun=u},report:function(){var e,t=[],n=this.tests.length;for(e=0;n>e;++e)t.push(this.has[this.tests[e].name]?1:0);Ext.log(Ext.browser.identity+": ["+t.join(",")+"]")},preDetected:{},tests:[{name:"CSSPointerEvents",fn:function(e){return"pointerEvents"in e.documentElement.style}},{name:"CSS3BoxShadow",fn:function(e){return"boxShadow"in e.documentElement.style||"WebkitBoxShadow"in e.documentElement.style||"MozBoxShadow"in e.documentElement.style}},{name:"ClassList",fn:function(e){return!!e.documentElement.classList}},{name:"TimeoutActualLateness",fn:function(){setTimeout(function(){Ext.supports.TimeoutActualLateness=0!==arguments.length},0)}},{name:"Canvas",fn:function(){var e=this.getTestElement("canvas");return!!(e&&e.getContext&&e.getContext("2d"))}},{name:"Svg",fn:function(e){return!(!e.createElementNS||!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)}},{name:"Vml",fn:function(){var e=this.getTestElement(),t=!1;return e.innerHTML="<!--[if vml]><br><![endif]-->",t=1===e.childNodes.length,e.innerHTML="",t}},{name:"TouchEvents",fn:function(){return this.isEventSupported("touchend")}},{name:"Touch",fn:function(){var e=navigator.msMaxTouchPoints||navigator.maxTouchPoints;return this.isEventSupported("touchend")&&1!==e||e>1}},{name:"PointerEvents",fn:function(){return navigator.pointerEnabled}},{name:"MSPointerEvents",fn:function(){return navigator.msPointerEnabled}},{name:"Orientation",fn:function(){return"orientation"in window&&this.isEventSupported("orientationchange")}},{name:"OrientationChange",fn:function(){return this.isEventSupported("orientationchange")}},{name:"DeviceMotion",fn:function(){return this.isEventSupported("devicemotion")}},{names:["Geolocation","GeoLocation"],fn:function(){return"geolocation"in window.navigator}},{name:"SqlDatabase",fn:function(){return"openDatabase"in window}},{name:"WebSockets",fn:function(){return"WebSocket"in window}},{name:"Range",fn:function(){return!!document.createRange}},{name:"CreateContextualFragment",fn:function(){var e=document.createRange?document.createRange():!1;return e&&!!e.createContextualFragment}},{name:"History",fn:function(){return"history"in window&&"pushState"in window.history}},{name:"CssTransforms",fn:function(){return this.isStyleSupported("transform")}},{name:"CssTransformNoPrefix",fn:function(){return this.isStyleSupportedWithoutPrefix("transform")}},{name:"Css3dTransforms",fn:function(){return this.has("CssTransforms")&&this.isStyleSupported("perspective")&&!Ext.browser.is.AndroidStock2}},{name:"CssAnimations",fn:function(){return this.isStyleSupported("animationName")}},{names:["CssTransitions","Transitions"],fn:function(){return this.isStyleSupported("transitionProperty")}},{names:["Audio","AudioTag"],fn:function(){return!!this.getTestElement("audio").canPlayType}},{name:"Video",fn:function(){return!!this.getTestElement("video").canPlayType}},{name:"LocalStorage",fn:function(){try{if("localStorage"in window&&null!==window.localStorage)return localStorage.setItem("sencha-localstorage-test","test success"),localStorage.removeItem("sencha-localstorage-test"),!0}catch(e){}return!1}},{name:"XHR2",fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}},{name:"XHRUploadProgress",fn:function(){if(window.XMLHttpRequest&&!Ext.browser.is.AndroidStock){var e=new XMLHttpRequest;return e&&"upload"in e&&"onprogress"in e.upload}return!1}},{name:"NumericInputPlaceHolder",fn:function(){return!(Ext.browser.is.AndroidStock4&&Ext.os.version.getMinor()<2)}},{name:"ProperHBoxStretching",ready:!0,fn:function(){var e,t=document.createElement("div"),n=t.appendChild(document.createElement("div")),i=n.appendChild(document.createElement("div"));return t.setAttribute("style","width: 100px; height: 100px; position: relative;"),n.setAttribute("style","position: absolute; display: -ms-flexbox; display: -webkit-flex; display: -moz-flexbox; display: flex; -ms-flex-direction: row; -webkit-flex-direction: row; -moz-flex-direction: row; flex-direction: row; min-width: 100%;"),i.setAttribute("style","width: 200px; height: 50px;"),document.body.appendChild(t),e=n.offsetWidth,document.body.removeChild(t),e>100}},{name:"matchesSelector",fn:function(){var e=document.documentElement,t="matches",n="webkitMatchesSelector",i="msMatchesSelector",r="mozMatchesSelector";return e[t]?t:e[n]?n:e[i]?i:e[r]?r:null}},{name:"RightMargin",ready:!0,fn:function(e,t){var n=e.defaultView;return!(n&&"0px"!=n.getComputedStyle(t.firstChild.firstChild,null).marginRight)}},{name:"DisplayChangeInputSelectionBug",fn:function(){var e=Ext.webKitVersion;return e>0&&533>e}},{name:"DisplayChangeTextAreaSelectionBug",fn:function(){var e=Ext.webKitVersion;return e>0&&534.24>e}},{name:"TransparentColor",ready:!0,fn:function(e,t,n){return n=e.defaultView,!(n&&"transparent"!=n.getComputedStyle(t.lastChild,null).backgroundColor)}},{name:"ComputedStyle",ready:!0,fn:function(e,t,n){return n=e.defaultView,n&&n.getComputedStyle}},{name:"Float",fn:function(e){return"cssFloat"in e.documentElement.style}},{name:"CSS3BorderRadius",ready:!0,fn:function(e){var t,n=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],i=!1;for(t=0;t<n.length;t++)if(void 0!==e.documentElement.style[n[t]])return!0;return i}},{name:"CSS3LinearGradient",fn:function(e,t){var n="background-image:",i="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",r="linear-gradient(left top, black, white)",o="-moz-"+r,a="-ms-"+r,s="-o-"+r,l=[n+i,n+r,n+o,n+a,n+s];return t.style.cssText=l.join(";"),-1!==(""+t.style.backgroundImage).indexOf("gradient")&&!Ext.isIE9}},{name:"MouseEnterLeave",fn:function(e){return"onmouseenter"in e.documentElement&&"onmouseleave"in e.documentElement}},{name:"MouseWheel",fn:function(e){return"onmousewheel"in e.documentElement}},{name:"Opacity",fn:function(e,t){return Ext.isIE8?!1:(t.firstChild.style.cssText="opacity:0.73","0.73"==t.firstChild.style.opacity)}},{name:"Placeholder",fn:function(e){return"placeholder"in e.createElement("input")}},{name:"Direct2DBug",fn:function(e){return Ext.isString(e.documentElement.style.msTransformOrigin)&&Ext.isIE10m}},{name:"BoundingClientRect",fn:function(e){return"getBoundingClientRect"in e.documentElement}},{name:"RotatedBoundingClientRect",ready:!0,fn:function(e){var t=e.body,n=!1,i=this.getTestElement(),r=i.style;return i.getBoundingClientRect&&(r.WebkitTransform=r.MozTransform=r.msTransform=r.OTransform=r.transform="rotate(90deg)",r.width="100px",r.height="30px",t.appendChild(i),n=100!==i.getBoundingClientRect().height,t.removeChild(i)),n}},{name:"IncludePaddingInWidthCalculation",ready:!0,fn:function(e,t){return 210==t.childNodes[1].firstChild.offsetWidth}},{name:"IncludePaddingInHeightCalculation",ready:!0,fn:function(e,t){return 210==t.childNodes[1].firstChild.offsetHeight}},{name:"TextAreaMaxLength",fn:function(e){return"maxlength"in e.createElement("textarea")}},{name:"GetPositionPercentage",ready:!0,fn:function(e,t){return"10%"==Ext.feature.getStyle(t.childNodes[2],"left")}},{name:"PercentageHeightOverflowBug",ready:!0,fn:function(e){var t,n,i=!1;return Ext.getScrollbarSize().height&&(n=this.getTestElement(),t=n.style,t.height="50px",t.width="50px",t.overflow="auto",t.position="absolute",n.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join(""),e.body.appendChild(n),50===n.firstChild.offsetHeight&&(i=!0),e.body.removeChild(n)),i}},{name:"xOriginBug",ready:!0,fn:function(e,t){t.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var n=document.getElementById("b1").getBoundingClientRect(),i=document.getElementById("b2").getBoundingClientRect(),r=document.getElementById("b3").getBoundingClientRect();return i.left!==n.left&&r.right!==n.right}},{name:"ScrollWidthInlinePaddingBug",ready:!0,fn:function(e){var t,n,i=!1;return n=e.createElement("div"),t=n.style,t.height="50px",t.width="50px",t.padding="10px",t.overflow="hidden",t.position="absolute",n.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>',e.body.appendChild(n),70===n.scrollWidth&&(i=!0),e.body.removeChild(n),i}},{name:"rtlVertScrollbarOnRight",ready:!0,fn:function(e,t){t.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:scroll"><div style="width:20px;height:200px;"></div></div>';var n=t.firstChild,i=n.firstChild;return i.offsetLeft+i.offsetWidth!==n.offsetLeft+n.offsetWidth}},{name:"rtlVertScrollbarOverflowBug",ready:!0,fn:function(e,t){t.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:auto"><div style="width:95px;height:200px;"></div></div>';var n=t.firstChild;return n.clientHeight===n.offsetHeight}},{identity:"defineProperty",fn:function(){return Ext.isIE8m?(Ext.Object.defineProperty=Ext.emptyFn,!1):!0}},{identify:"nativeXhr",fn:function(){return"undefined"!=typeof XMLHttpRequest?!0:(XMLHttpRequest=function(){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return null}},!1)}},{name:"SpecialKeyDownRepeat",fn:function(){return Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera&&Ext.operaVersion<12)}},{name:"EmulatedMouseOver",fn:function(){return Ext.os.is.iOS}},{name:"Hashchange",fn:function(){var e=document.documentMode;return"onhashchange"in window&&(void 0===e||e>7)}},{name:"FixedTableWidthBug",ready:!0,fn:function(){if(Ext.isIE8)return!1;var e,t=document.createElement("div"),n=document.createElement("div");return t.setAttribute("style","display:table;table-layout:fixed;"),n.setAttribute("style","display:table-cell;min-width:50px;"),t.appendChild(n),document.body.appendChild(t),t.offsetWidth,t.style.width="25px",e=t.offsetWidth,document.body.removeChild(t),50===e}}]},Ext.supports={},Ext.feature.detect(),Ext.env.Ready={blocks:0,bound:0,delay:1,events:[],firing:!1,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var e=Ext.env.Ready,t=document;e.bound||("complete"==t.readyState?e.onReadyEvent({type:t.readyState||"body"}):(e.bound=1,Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop&&(e.bound=2,t.addEventListener("deviceready",e.onReadyEvent,!1)),t.addEventListener("DOMContentLoaded",e.onReadyEvent,!1),window.addEventListener("load",e.onReadyEvent,!1)))},block:function(){++this.blocks},fireReady:function(){var e=Ext.env.Ready;e.state||(Ext._readyTime=Ext.now(),Ext.isDomReady=!0,e.state=1,Ext.feature.detect(!0),e.delay?navigator.standalone?e.timer=setTimeout(function(){e.timer=null,e.handleReadySoon()},1):e.handleReadySoon():e.handleReady())},handleReady:function(){var e=this;1===e.state&&(e.isPaused()?e.handleReadySoon(250):(e.state=2,Ext._beforeReadyTime=Ext.now(),e.invokeAll(),Ext._afterReadytime=Ext.now()))},handleReadySoon:function(e){var t=this;t.timer||(t.timer=setTimeout(function(){t.timer=null,t.handleReady()},e||t.delay))},invoke:function(e){var t=e.delay;t?setTimeout(function(){e.fn.call(e.scope)},t):e.fn.call(e.scope)},invokeAll:function(){var e,t=this,n=t.listeners;for(t.blocks||(Ext.isReady=!0),t.firing=!0;n.length;){if(t.sortGeneration!==t.generation&&(t.sortGeneration=t.generation,n.sort(t.sortFn)),e=n.pop(),t.blocks&&!e.dom){n.push(e);break}t.invoke(e)}t.firing=!1},isPaused:function(){return(location.search||"").indexOf("ext-pauseReadyFire")>0&&!Ext._continueFireReady},makeListener:function(e,t,n){var i={fn:e,id:++this.nextId,scope:t,dom:!1,priority:0};return n&&Ext.apply(i,n),i.phase=i.dom?0:1,i},on:function(e,t,n){var i=Ext.env.Ready,r=i.makeListener(e,t,n);2!==i.state||i.firing||!r.dom&&i.blocks?(i.listeners.push(r),++i.generation,i.bound||i.bind()):i.invoke(r)},onReadyEvent:function(e){var t=Ext.env.Ready;e&&e.type&&t.events.push(e),t.bound>0&&(t.unbind(),t.bound=-1),t.state||t.fireReady()},sortFn:function(e,t){return-(e.phase-t.phase||t.priority-e.priority||e.id-t.id)},unblock:function(){var e=this;e.blocks&&(--e.blocks||2!==e.state||e.firing||e.invokeAll())},unbind:function(){var e=this,t=document;e.bound>1&&t.removeEventListener("deviceready",e.onReadyEvent,!1),t.removeEventListener("DOMContentLoaded",e.onReadyEvent,!1),window.removeEventListener("load",e.onReadyEvent,!1)}},function(){var e=Ext.env.Ready;Ext.isIE8&&Ext.apply(e,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var t=!0;try{document.documentElement.doScroll("left")}catch(n){t=!1}return t&&document.body?e.onReadyEvent({type:"doScroll"}):e.scrollTimer=setTimeout(e.pollScroll,20),t},bind:function(){if(!e.bound){var t,n=document;try{t=void 0===window.frameElement}catch(i){}if(t&&n.documentElement.doScroll){if(e.pollScroll())return}else e.pollScroll=Ext.emptyFn;"complete"==n.readyState?e.onReadyEvent({type:"already "+(n.readyState||"body")}):(n.attachEvent("onreadystatechange",e.onReadyStateChange),window.attachEvent("onload",e.onReadyEvent),e.bound=1)}},unbind:function(){document.detachEvent("onreadystatechange",e.onReadyStateChange),window.detachEvent("onload",e.onReadyEvent),Ext.isNumber(e.scrollTimer)&&(clearTimeout(e.scrollTimer),e.scrollTimer=null)},onReadyStateChange:function(){var t=document.readyState;e.readyStatesRe.test(t)&&e.onReadyEvent({type:t})}}),Ext.onDocumentReady=function(t,n,i){var r={dom:!0};i&&Ext.apply(r,i),e.on(t,n,r)},Ext.onReady=function(t,n,i){e.on(t,n,i)},e.bind()}(),Ext.Loader=new function(){var e=this,t=Ext.ClassManager,n=Ext.Boot,i=Ext.Class,r=Ext.env.Ready,o=Ext.Function.alias,a=["extend","mixins","requires"],s={},l=[],d=[],u=[],c={},h={},f={enabled:!0,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:"_dc",paths:t.paths,preserveScripts:!0,scriptCharset:void 0},g={disableCaching:!0,disableCachingParam:!0,preserveScripts:!0,scriptChainDelay:"loadDelay"};Ext.apply(e,{isInHistory:s,isLoading:!1,history:l,config:f,readyListeners:d,optionalRequires:u,requiresMap:c,hasFileLoadError:!1,scriptsLoading:0,classesLoading:[],syncModeEnabled:!1,missingQueue:h,init:function(){var n,i,o,a,s,l=document.getElementsByTagName("script"),d=l[l.length-1].src,u=d.substring(0,d.lastIndexOf("/")+1),c=Ext._classPathMetadata,h=Ext.Microloader,f=Ext.manifest;if(-1!==d.indexOf("packages/sencha-core/src/")?u+="../../":-1!==d.indexOf("/core/src/class/")&&(u+="../../../"),t.getPath("Ext")||t.setPath("Ext",u+"src"),c&&(Ext._classPathMetadata=null,e.addClassPathMappings(c)),f&&(n=f.loadOrder,i=Ext.Boot.baseUrl,n&&f.bootRelative))for(o=n.length,a=0;o>a;a++)s=n[a],s.path=i+s.path;h&&(r.block(),h.onMicroloaderReady(function(){r.unblock()}))},setConfig:Ext.Function.flexSetter(function(t,i){if("paths"===t)e.setPath(i);else{f[t]=i;var r=g[t];r&&n.setConfig(r===!0?t:r,i)}return e}),getConfig:function(e){return e?f[e]:f},setPath:function(){return t.setPath.apply(t,arguments),e},addClassPathMappings:function(n){return t.setPath(n),e},addBaseUrlClassPathMappings:function(e){for(var t in e)e[t]=n.baseUrl+e[t];Ext.Loader.addClassPathMappings(e)},getPath:function(e){return t.getPath(e)},require:function(n,i,r,o){if(o)return e.exclude(o).require(n,i,r);var a=t.getNamesByExpression(n);return e.load(a,i,r)},syncRequire:function(){var t=e.syncModeEnabled;e.syncModeEnabled=!0;var n=e.require.apply(e,arguments);return e.syncModeEnabled=t,n},exclude:function(n){var i=t.select({require:function(t,n,i){return e.load(t,n,i)},syncRequire:function(t,n,i){var r=e.syncModeEnabled;e.syncModeEnabled=!0;var o=e.load(t,n,i);return e.syncModeEnabled=r,o}});return i.exclude(n),i},load:function(n,i,r){i&&(i.length&&(i=e.makeLoadCallback(n,i)),i=i.bind(r||Ext.global));var o,a,s,l=[],d=n.length,u=[],c=t.classState;for(a=0;d>a;++a)o=t.resolveName(n[a]),t.isCreated(o)||(l.push(o),h[o]=e.getPath(o),c[o]||u.push(h[o]));return s=l.length,s?(e.missingCount+=s,Ext.Array.push(e.classesLoading,l),Ext.each(l,function(n,i){t.onExists(function(){var e=Ext.Boot.canonicalUrl(u[i]),t=Ext.Boot.scripts[e];t&&!t.done&&Ext.Boot.notifyAll(t)},e,n)}),t.onExists(function(){Ext.Array.remove(e.classesLoading,l),Ext.each(l,function(t){Ext.Array.remove(e.classesLoading,t)}),i&&Ext.callback(i,r,arguments),e.checkReady()},e,l),f.enabled||Ext.Error.raise("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(l.length>1?"es":"")+": "+l.join(", ")),u.length?e.loadScripts({url:u,_classNames:l}):e.checkReady()):(i&&i.call(r),e.checkReady()),e.syncModeEnabled&&1===d?t.get(n[0]):e},makeLoadCallback:function(e,n){return function(){for(var i=[],r=e.length;r-->0;)i[r]=t.get(e[r]);return n.apply(this,i)}},onLoadFailure:function(){var t=this,n=t.onError;e.hasFileLoadError=!0,--e.scriptsLoading,n?n.call(t.userScope,t):Ext.Error.raise("[Ext.Loader] Some requested files failed to load."),e.checkReady()},onLoadSuccess:function(){var t=this,n=t.onLoad;--e.scriptsLoading,n&&n.call(t.userScope,t),e.checkReady()},reportMissingClasses:function(){if(!e.syncModeEnabled&&!e.scriptsLoading&&e.isLoading&&!e.hasFileLoadError){var t=[],n=[];for(var i in h)t.push(i),n.push(h[i]);if(t.length)throw new Error("The following classes are not declared even if their files have been loaded: '"+t.join("', '")+"'. Please check the source code of their corresponding files for possible typos: '"+n.join("', '"))}},onReady:function(t,n,i,o){if(i)r.on(t,n,o);else{var a=r.makeListener(t,n,o);e.isLoading?d.push(a):r.invoke(a)}},addUsedClasses:function(t){var n,i,r;if(t)for(t="string"==typeof t?[t]:t,i=0,r=t.length;r>i;i++)n=t[i],"string"!=typeof n||Ext.Array.contains(u,n)||u.push(n);return e},triggerReady:function(){var t,n=u;if(e.isLoading&&n.length)u=[],e.require(n);else{for(e.isLoading=!1,d.sort(r.sortFn);d.length&&!e.isLoading;)t=d.pop(),r.invoke(t);r.unblock()}},historyPush:function(t){return t&&!s[t]&&(s[t]=!0,l.push(t)),e},loadScripts:function(t){var i,r=Ext.manifest,o=r&&r.loadOrder,a=r&&r.loadOrderMap;++e.scriptsLoading,o&&!a&&(r.loadOrderMap=a=n.createLoadOrderMap(o)),e.checkReady(),i=Ext.apply({loadOrder:o,loadOrderMap:a,charset:f.scriptCharset,success:e.onLoadSuccess,failure:e.onLoadFailure,sync:e.syncModeEnabled,_classNames:[]},t),i.userScope=i.scope,i.scope=i,n.load(i)},loadScriptsSync:function(t){var n=e.syncModeEnabled;e.syncModeEnabled=!0,e.loadScripts({url:t}),e.syncModeEnabled=n},loadScriptsSyncBasePrefix:function(t){var n=e.syncModeEnabled;e.syncModeEnabled=!0,e.loadScripts({url:t,prependBaseUrl:!0}),e.syncModeEnabled=n},loadScript:function(t){var n="string"==typeof t,i=t instanceof Array,r=!i&&!n,o=r?t.url:t,a=r&&t.onError,s=r&&t.onLoad,l=r&&t.scope,d={url:o,scope:l,onLoad:s,onError:a,_classNames:[]};e.loadScripts(d)},flushMissingQueue:function(){var e,n,i=0,r=0;for(e in h)i++,n=h[e],t.isCreated(e)?delete h[e]:2===t.existCache[e]?delete h[e]:++r;this.missingCount=r},checkReady:function(){var t,n=e.isLoading;e.flushMissingQueue(),t=e.missingCount+e.scriptsLoading,t&&!n?(r.block(),e.isLoading=!!t):!t&&n&&e.triggerReady()}}),Ext.require=o(e,"require"),Ext.syncRequire=o(e,"syncRequire"),Ext.exclude=o(e,"exclude"),i.registerPreprocessor("loader",function(n,i,r,o){Ext.classSystemMonitor&&Ext.classSystemMonitor(n,"Ext.Loader#loaderPreprocessor",arguments);var s,l,d,u,h,f,g,p,m,x=this,E=[],v=t.getName(n);for(l=0,u=a.length;u>l;l++)if(g=a[l],i.hasOwnProperty(g))if(p=i[g],"string"==typeof p)E.push(p);else if(p instanceof Array)for(d=0,h=p.length;h>d;d++)f=p[d],"string"==typeof f&&E.push(f);else if("function"!=typeof p)for(d in p)p.hasOwnProperty(d)&&(f=p[d],"string"==typeof f&&E.push(f));if(0!==E.length){v&&(c[v]=E);var y,b=[];if(v){for(m=e.requiredByMap||(e.requiredByMap={}),l=0,u=E.length;u>l;l++)s=E[l],(m[s]||(m[s]=[])).push(v);y=function(e){if(b.push(e),c[e])for(Ext.Array.contains(c[e],v)&&Ext.Error.raise("Circular requirement detected! '"+v+"' and '"+b[1]+"' mutually require each other. Path: "+b.join(" -> ")+" -> "+b[0]),l=0,u=c[e].length;u>l;l++)y(c[e][l])},y(v)}return(v?e.exclude(v):e).require(E,function(){for(l=0,u=a.length;u>l;l++)if(g=a[l],i.hasOwnProperty(g))if(p=i[g],"string"==typeof p)i[g]=t.get(p);else if(p instanceof Array)for(d=0,h=p.length;h>d;d++)f=p[d],"string"==typeof f&&(i[g][d]=t.get(f));else if("function"!=typeof p)for(var e in p)p.hasOwnProperty(e)&&(f=p[e],"string"==typeof f&&(i[g][e]=t.get(f)));o.call(x,n,i,r)}),!1}},!0,"after","className"),t.registerPostprocessor("uses",function(t,n,i){Ext.classSystemMonitor&&Ext.classSystemMonitor(n,"Ext.Loader#usesPostprocessor",arguments);var r,o,a,s,l,d,u=Ext.manifest,c=u&&u.loadOrder,h=u&&u.classes;if(c&&(o=h[t],o&&!isNaN(l=o.idx))){for(a=c[l],r=a.uses,d={},s=r.length,l=0;s>l;l++)d[r[l]]=!0;r=Ext.Boot.getPathsFromIndexes(d,c,!0),r.length>0&&e.loadScripts({url:r,sequential:!0})}i.uses&&(r=i.uses,e.addUsedClasses(r))}),t.onCreated(e.historyPush),e.init()},Ext._endTime=(new Date).getTime(),Ext._beforereadyhandler&&Ext._beforereadyhandler(),Ext.define("Ext.mixin.Identifiable",{statics:{uniqueIds:{}},isIdentifiable:!0,mixinId:"identifiable",idCleanRegex:/\.|[^\w\-]/g,defaultIdPrefix:"ext-",defaultIdSeparator:"-",getOptimizedId:function(){return this.id},getUniqueId:function(){var e,t,n,i,r,o=this.id;return o||0===o||(e=this.self.prototype,t=this.defaultIdSeparator,i=Ext.mixin.Identifiable.uniqueIds,e.hasOwnProperty("identifiablePrefix")||(n=this.xtype,r=n?this.defaultIdPrefix+n.replace(this.idCleanRegex,t)+t:(r=e.$className)?r.replace(this.idCleanRegex,t).toLowerCase()+t:this.defaultIdPrefix+"anonymous"+t,e.identifiablePrefix=r),r=this.identifiablePrefix,i.hasOwnProperty(r)||(i[r]=0),o=this.id=r+ ++i[r]),this.getUniqueId=this.getOptimizedId,o},setId:function(e){this.id=e},getId:function(){var e=this.id;return e||(e=this.getUniqueId()),this.getId=this.getOptimizedId,e}}),Ext.define("Ext.event.gesture.Recognizer",{mixins:["Ext.mixin.Identifiable"],handledEvents:[],config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(e){return this.initConfig(e),this},getHandledEvents:function(){return this.handledEvents},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn,onTouchCancel:Ext.emptyFn,fail:function(){return!1},fire:function(){this.getOnRecognized().apply(this.getCallbackScope(),arguments)},debugHooks:{$enabled:!1,fail:function(e){return Ext.log.info(this.$className+" Gesture Failed: "+e),!1}}}),Ext.define("Ext.event.gesture.SingleTouch",{extend:"Ext.event.gesture.Recognizer",inheritableStatics:{NOT_SINGLE_TOUCH:"Not Single Touch",TOUCH_MOVED:"Touch Moved",EVENT_CANCELED:"Event Canceled"},onTouchStart:function(e){return e.touches.length>1?this.fail(this.self.NOT_SINGLE_TOUCH):void 0},onTouchCancel:function(){return!1}}),Ext.define("Ext.event.gesture.DoubleTap",{extend:"Ext.event.gesture.SingleTouch",inheritableStatics:{DIFFERENT_TARGET:"Different Target"},config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(e){var t,n=this;return n.callParent(arguments)===!1?!1:(t=n.lastStartPoint=e.changedTouches[0].point,n.startPoint=n.startPoint||t,n.startTime=e.time,void clearTimeout(n.singleTapTimer))},onTouchMove:function(e){var t=this,n=e.changedTouches[0].point;return Math.abs(n.getDistanceTo(t.lastStartPoint))>=t.getMoveDistance()?(t.startPoint=null,t.fail(t.self.TOUCH_MOVED)):void 0},onTouchEnd:function(e){var t,n=this,i=n.getMaxDuration(),r=e.time,o=e.target,a=n.lastTapTime,s=n.lastTarget,l=e.changedTouches[0].point;return n.lastTapTime=r,n.lastTarget=o,a&&(t=r-a,i>=t&&Math.abs(l.getDistanceTo(n.startPoint))<=n.getTapDistance())?o!==s?n.fail(n.self.DIFFERENT_TARGET):(n.lastTarget=null,n.lastTapTime=0,n.fire("doubletap",e,{touch:e.changedTouches[0],duration:t}),void(n.startPoint=null)):void(r-n.startTime>i?n.fireSingleTap(e):n.setSingleTapTimer(e))},setSingleTapTimer:function(e){
var t=this;t.singleTapTimer=setTimeout(function(){t.fireSingleTap(e)},t.getMaxDuration())},fireSingleTap:function(e,t){this.fire("singletap",e,{touch:t}),this.startPoint=null}}),Ext.define("Ext.event.gesture.Drag",{extend:"Ext.event.gesture.SingleTouch",isStarted:!1,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend","dragcancel"],config:{minDistance:8},constructor:function(){this.callSuper(arguments),this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0}}},onTouchStart:function(e){return this.callSuper(arguments)===!1?(this.isStarted&&null!==this.lastMoveEvent&&(this.lastMoveEvent.isStopped=!1,this.onTouchEnd(this.lastMoveEvent)),!1):(this.startTime=e.time,void(this.startPoint=e.changedTouches[0].point))},tryDragStart:function(e){var t=this.startPoint,n=e.changedTouches[0],i=n.point,r=this.getMinDistance(),o=this.info;Math.abs(i.getDistanceTo(t))>=r&&(this.isStarted=!0,this.previousPoint=this.lastPoint=i,this.resetInfo("x",e,n),this.resetInfo("y",e,n),o.time=e.time,this.fire("dragstart",e,o))},onTouchMove:function(e){if(this.isStarted||this.tryDragStart(e),this.isStarted){var t=e.changedTouches[0],n=t.point;this.lastPoint&&(this.previousPoint=this.lastPoint),this.lastPoint=n,this.lastMoveEvent=e,this.updateInfo("x",e,t),this.updateInfo("y",e,t),this.info.time=e.time,this.fire("drag",e,this.info)}},onAxisDragEnd:function(e,t){var n=t.time-t.previousTime[e];n>0&&(t.flick.velocity[e]=(t[e]-t.previous[e])/n)},resetInfo:function(e,t,n){var i=this.lastPoint[e],r=this.startPoint[e],o=i-r,a=e.toUpperCase(),s=this.info;s.touch=n,s.delta[e]=o,s.absDelta[e]=Math.abs(o),s.previousTime[e]=this.startTime,s.previous[e]=r,s[e]=i,s.direction[e]=0,s["start"+a]=this.startPoint[e],s["previous"+a]=s.previous[e],s["page"+a]=s[e],s["delta"+a]=s.delta[e],s["absDelta"+a]=s.absDelta[e],s["previousDelta"+a]=0,s.startTime=this.startTime},updateInfo:function(e,t,n){var i=this,r=i.lastPoint[e],o=i.previousPoint[e],a=i.startPoint[e],s=r-a,l=i.info,d=l.direction,u=e.toUpperCase(),c=l.previous[e];l.touch=n,l.delta[e]=s,l.absDelta[e]=Math.abs(s),r!==c&&r!==l[e]&&(l.previous[e]=l[e],l.previousTime[e]=l.time),l[e]=r,r>o?d[e]=1:o>r&&(d[e]=-1),l["start"+u]=a,l["previous"+u]=l.previous[e],l["page"+u]=l[e],l["delta"+u]=l.delta[e],l["absDelta"+u]=l.absDelta[e],l["previousDelta"+u]=l.previous[e]-a,l.startTime=i.startTime},onTouchEnd:function(e){this.doEnd(e)},onTouchCancel:function(e){return this.doEnd(e,!0),!1},doEnd:function(e,t){if(this.isStarted||this.tryDragStart(e),this.isStarted){var n=e.changedTouches[0],i=n.point,r=this.info;this.isStarted=!1,this.lastPoint=i,this.updateInfo("x",e,n),this.updateInfo("y",e,n),r.time=e.time,this.onAxisDragEnd("x",r),this.onAxisDragEnd("y",r),this.fire(t?"dragcancel":"dragend",e,r),this.startPoint=null,this.previousPoint=null,this.lastPoint=null,this.lastMoveEvent=null}}}),Ext.define("Ext.event.gesture.Swipe",{extend:"Ext.event.gesture.SingleTouch",handledEvents:["swipestart","swipe","swipecancel"],inheritableStatics:{MAX_OFFSET_EXCEEDED:"Max Offset Exceeded",MAX_DURATION_EXCEEDED:"Max Duration Exceeded",DISTANCE_NOT_ENOUGH:"Distance Not Enough"},config:{minDistance:80,maxOffset:35,maxDuration:1e3},onTouchStart:function(e){if(this.callParent(arguments)===!1)return!1;var t=e.changedTouches[0];this.startTime=e.time,this.isHorizontal=!0,this.isVertical=!0,this.startX=t.pageX,this.startY=t.pageY},onTouchMove:function(e){var t,n,i=e.changedTouches[0],r=i.pageX,o=i.pageY,a=r-this.startX,s=o-this.startY,l=Math.abs(r-this.startX),d=Math.abs(o-this.startY),u=e.time-this.startTime,c=this.getMinDistance(),h=e.time;return h-this.startTime>this.getMaxDuration()?this.fail(this.self.MAX_DURATION_EXCEEDED):(this.isHorizontal&&d>this.getMaxOffset()&&(this.isHorizontal=!1),this.isVertical&&l>this.getMaxOffset()&&(this.isVertical=!1),this.isVertical&&this.isHorizontal||(this.isHorizontal&&c>l?(t=0>a?"left":"right",n=l):this.isVertical&&c>d&&(t=0>s?"up":"down",n=d)),t&&!this.started&&(this.started=!0,this.fire("swipestart",e,{touch:i,direction:t,distance:n,duration:u})),this.isHorizontal||this.isVertical?void 0:this.fail(this.self.MAX_OFFSET_EXCEEDED))},onTouchEnd:function(e){if(this.onTouchMove(e)===!1)return!1;var t,n,i=e.changedTouches[0],r=i.pageX,o=i.pageY,a=r-this.startX,s=o-this.startY,l=Math.abs(a),d=Math.abs(s),u=this.getMinDistance(),c=e.time-this.startTime;if(this.isVertical&&u>d&&(this.isVertical=!1),this.isHorizontal&&u>l&&(this.isHorizontal=!1),this.isHorizontal)t=0>a?"left":"right",n=l;else{if(!this.isVertical)return this.fail(this.self.DISTANCE_NOT_ENOUGH);t=0>s?"up":"down",n=d}this.started=!1,this.fire("swipe",e,{touch:i,direction:t,distance:n,duration:c})},onTouchCancel:function(e){return this.fire("swipecancel",e),!1}}),Ext.define("Ext.event.gesture.EdgeSwipe",{extend:"Ext.event.gesture.Swipe",handledEvents:["edgeswipe","edgeswipestart","edgeswipeend","edgeswipecancel"],inheritableStatics:{NOT_NEAR_EDGE:"Not Near Edge"},config:{minDistance:60},onTouchStart:function(e){if(this.callParent(arguments)===!1)return!1;var t=e.changedTouches[0];this.started=!1,this.direction=null,this.isHorizontal=!0,this.isVertical=!0,this.startX=t.pageX,this.startY=t.pageY},onTouchMove:function(e){var t,n,i=e.changedTouches[0],r=i.pageX,o=i.pageY,a=r-this.startX,s=o-this.startY,l=Math.abs(o-this.startY),d=Math.abs(r-this.startX),u=this.getMinDistance(),c=this.getMaxOffset(),h=e.time-this.startTime,f=Ext.Viewport&&Ext.Element.getViewportWidth(),g=Ext.Viewport&&Ext.Element.getViewportHeight();if(this.isVertical&&d>c&&(this.isVertical=!1),this.isHorizontal&&l>c&&(this.isHorizontal=!1),this.isVertical&&this.isHorizontal&&(l>d?this.isHorizontal=!1:this.isVertical=!1),this.isHorizontal?(t=0>a?"left":"right",n=a):this.isVertical&&(t=0>s?"up":"down",n=s),this.direction=this.direction||t,"up"==this.direction?n=-1*s:"left"==this.direction&&(n=-1*a),this.distance=n,0==n)return this.fail(this.self.DISTANCE_NOT_ENOUGH);if(this.started)this.fire("edgeswipe",e,{touch:i,direction:this.direction,distance:this.distance,duration:h});else{if("right"==this.direction&&this.startX>u)return this.fail(this.self.NOT_NEAR_EDGE);if("down"==this.direction&&this.startY>u)return this.fail(this.self.NOT_NEAR_EDGE);if("left"==this.direction&&f-this.startX>u)return this.fail(this.self.NOT_NEAR_EDGE);if("up"==this.direction&&g-this.startY>u)return this.fail(this.self.NOT_NEAR_EDGE);this.started=!0,this.startTime=e.time,this.fire("edgeswipestart",e,{touch:i,direction:this.direction,distance:this.distance,duration:h})}},onTouchEnd:function(e){var t;this.onTouchMove(e)!==!1&&(t=e.time-this.startTime,this.fire("edgeswipeend",e,{touch:e.changedTouches[0],direction:this.direction,distance:this.distance,duration:t}))},onTouchCancel:function(e){return this.fire("edgeswipecancel",e,{touch:e.changedTouches[0]}),!1}}),Ext.define("Ext.event.gesture.LongPress",{extend:"Ext.event.gesture.SingleTouch",inheritableStatics:{DURATION_NOT_ENOUGH:"Duration Not Enough"},config:{moveDistance:8,minDuration:1e3},handledEvents:["longpress"],fireLongPress:function(e){this.fire("longpress",e,{touch:e.changedTouches[0],duration:this.getMinDuration()}),this.isLongPress=!0},onTouchStart:function(e){return this.callParent(arguments)===!1?!1:(this.startPoint=e.changedTouches[0].point,this.isLongPress=!1,void this.setLongPressTimer(e))},setLongPressTimer:function(e){var t=this;t.timer=setTimeout(function(){t.fireLongPress(e)},t.getMinDuration())},onTouchMove:function(e){var t=e.changedTouches[0].point;return Math.abs(t.getDistanceTo(this.startPoint))>=this.getMoveDistance()?this.fail(this.self.TOUCH_MOVED):void 0},onTouchEnd:function(){return this.isLongPress?void 0:this.fail(this.self.DURATION_NOT_ENOUGH)},fail:function(){return clearTimeout(this.timer),this.callParent(arguments)}},function(){this.override({handledEvents:["longpress","taphold"],fire:function(e){if("longpress"===e){var t=Array.prototype.slice.call(arguments);t[0]="taphold",this.fire.apply(this,t)}return this.callOverridden(arguments)}})}),Ext.define("Ext.event.gesture.MultiTouch",{extend:"Ext.event.gesture.Recognizer",requiredTouchesCount:2,isTracking:!1,isStarted:!1,onTouchStart:function(e){var t=this.requiredTouchesCount,n=e.touches,i=n.length;i===t?this.start(e):i>t&&this.end(e)},onTouchEnd:function(e){this.end(e)},onTouchCancel:function(e){return this.end(e,!0),!1},start:function(){this.isTracking||(this.isTracking=!0,this.isStarted=!1)},end:function(e,t){this.isTracking&&(this.isTracking=!1,this.isStarted&&(this.isStarted=!1,this[t?"fireCancel":"fireEnd"](e)))}}),Ext.define("Ext.event.gesture.Pinch",{extend:"Ext.event.gesture.MultiTouch",handledEvents:["pinchstart","pinch","pinchend","pinchcancel"],startDistance:0,lastTouches:null,onTouchMove:function(e){if(this.isTracking){var t,n,i,r=e.touches;t=r[0].point,n=r[1].point,i=t.getDistanceTo(n),0!==i&&(this.isStarted?this.fire("pinch",e,{touches:r,distance:i,scale:i/this.startDistance}):(this.isStarted=!0,this.startDistance=i,this.fire("pinchstart",e,{touches:r,distance:i,scale:1})))}},fireEnd:function(e){this.fire("pinchend",e)},fireCancel:function(e){this.fire("pinchcancel",e)},fail:function(){return this.callParent(arguments)}}),Ext.define("Ext.event.gesture.Rotate",{extend:"Ext.event.gesture.MultiTouch",handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(e){if(this.isTracking){var t,n,i,r,o,a,s=e.touches,l=this.lastAngle;t=s[0].point,n=s[1].point,i=t.getAngleTo(n),null!==l&&(a=Math.abs(l-i),r=i+360,o=i-360,Math.abs(r-l)<a?i=r:Math.abs(o-l)<a&&(i=o)),this.lastAngle=i,this.isStarted?this.fire("rotate",e,{touches:s,angle:i,rotation:i-this.startAngle}):(this.isStarted=!0,this.startAngle=i,this.fire("rotatestart",e,{touches:s,angle:i,rotation:0})),this.lastTouches=Ext.Array.clone(s)}},fireEnd:function(e){this.lastAngle=null,this.fire("rotateend",e)},fireCancel:function(e){this.lastAngle=null,this.fire("rotatecancel",e)}}),Ext.define("Ext.event.gesture.Tap",{extend:"Ext.event.gesture.SingleTouch",handledEvents:["tap","tapcancel"],config:{moveDistance:8},onTouchStart:function(e){return this.callParent([e])===!1?!1:void(this.startPoint=e.changedTouches[0].point)},onTouchMove:function(e){var t=e.changedTouches[0],n=t.point;return Math.abs(n.getDistanceTo(this.startPoint))>=this.getMoveDistance()?(this.fire("tapcancel",e,{touch:t}),this.fail(this.self.TOUCH_MOVED)):void 0},onTouchEnd:function(e){this.fire("tap",e,{touch:e.changedTouches[0]})},onTouchCancel:function(e){return this.fire("tapcancel",e,{touch:e.changedTouches[0]}),!1}}),Ext.define("Ext.event.publisher.Publisher",{targetType:"",idSelectorRegex:/^#([\w\-]+)$/i,constructor:function(){var e,t,n,i,r=this.handledEvents||[];for(e=this.handledEventsMap={},t=0,n=r.length;n>t;t++)i=r[t],e[i]=!0;return this.subscribers={},this},handles:function(e){var t=this.handledEventsMap;return!!t[e]||!!t["*"]||"*"===e},getHandledEvents:function(){return this.handledEvents},setDispatcher:function(e){this.dispatcher=e},subscribe:function(){return!1},unsubscribe:function(){return!1},unsubscribeAll:function(){return delete this.subscribers,this.subscribers={},this},notify:function(){return!1},getTargetType:function(){return this.targetType},dispatch:function(e,t,n,i){this.dispatcher.doDispatchEvent(this.targetType,e,t,n,null,null,i)},destroy:Ext.emptyFn}),Ext.define("Ext.util.Offset",{statics:{fromObject:function(e){return new this(e.x,e.y)}},constructor:function(e,t){return this.x=null==e||isNaN(e)?0:e,this.y=null==t||isNaN(t)?0:t,this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(e){this.x=e.x,this.y=e.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(e){return e instanceof this.statics()||Ext.Error.raise("Offset must be an instance of Ext.util.Offset"),this.x==e.x&&this.y==e.y},round:function(e){if(isNaN(e))this.x=Math.round(this.x),this.y=Math.round(this.y);else{var t=Math.pow(10,e);this.x=Math.round(this.x*t)/t,this.y=Math.round(this.y*t)/t}},isZero:function(){return 0==this.x&&0==this.y}}),Ext.define("Ext.util.Region",{requires:["Ext.util.Offset"],isRegion:!0,statics:{getRegion:function(e){return Ext.fly(e).getRegion()},from:function(e){return new this(e.top,e.right,e.bottom,e.left)}},constructor:function(e,t,n,i){var r=this;r.y=r.top=r[1]=e,r.right=t,r.bottom=n,r.x=r.left=r[0]=i},contains:function(e){var t=this;return e.x>=t.x&&e.right<=t.right&&e.y>=t.y&&e.bottom<=t.bottom},intersect:function(e){var t=this,n=Math.max(t.y,e.y),i=Math.min(t.right,e.right),r=Math.min(t.bottom,e.bottom),o=Math.max(t.x,e.x);return r>n&&i>o?new this.self(n,i,r,o):!1},union:function(e){var t=this,n=Math.min(t.y,e.y),i=Math.max(t.right,e.right),r=Math.max(t.bottom,e.bottom),o=Math.min(t.x,e.x);return new this.self(n,i,r,o)},constrainTo:function(e){var t=this,n=Ext.Number.constrain;return t.top=t.y=n(t.top,e.y,e.bottom),t.bottom=n(t.bottom,e.y,e.bottom),t.left=t.x=n(t.left,e.x,e.right),t.right=n(t.right,e.x,e.right),t},adjust:function(e,t,n,i){var r=this;return r.top=r.y+=e,r.left=r.x+=i,r.right+=t,r.bottom+=n,r},getOutOfBoundOffset:function(e,t){if(Ext.isObject(e)){t=e;var n=new Ext.util.Offset;return n.x=this.getOutOfBoundOffsetX(t.x),n.y=this.getOutOfBoundOffsetY(t.y),n}return"x"==e?this.getOutOfBoundOffsetX(t):this.getOutOfBoundOffsetY(t)},getOutOfBoundOffsetX:function(e){return e<=this.x?this.x-e:e>=this.right?this.right-e:0},getOutOfBoundOffsetY:function(e){return e<=this.y?this.y-e:e>=this.bottom?this.bottom-e:0},isOutOfBound:function(e,t){return Ext.isObject(e)?(t=e,this.isOutOfBoundX(t.x)||this.isOutOfBoundY(t.y)):"x"==e?this.isOutOfBoundX(t):this.isOutOfBoundY(t)},isOutOfBoundX:function(e){return e<this.x||e>this.right},isOutOfBoundY:function(e){return e<this.y||e>this.bottom},restrict:function(e,t,n){if(Ext.isObject(e)){var i;return n=t,t=e,i=t.copy?t.copy():{x:t.x,y:t.y},i.x=this.restrictX(t.x,n),i.y=this.restrictY(t.y,n),i}return"x"==e?this.restrictX(t,n):this.restrictY(t,n)},restrictX:function(e,t){return t||(t=1),e<=this.x?e-=(e-this.x)*t:e>=this.right&&(e-=(e-this.right)*t),e},restrictY:function(e,t){return t||(t=1),e<=this.y?e-=(e-this.y)*t:e>=this.bottom&&(e-=(e-this.bottom)*t),e},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(e){var t=this;return t.top=t.y=t[1]=e.y,t.right=e.right,t.bottom=e.bottom,t.left=t.x=t[0]=e.x,this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(e,t){1==arguments.length&&(t=e.y,e=e.x);var n=this;return n.top=n.y+=t,n.right+=e,n.bottom+=t,n.left=n.x+=e,n},round:function(){var e=this;return e.top=e.y=Math.round(e.y),e.right=Math.round(e.right),e.bottom=Math.round(e.bottom),e.left=e.x=Math.round(e.x),e},equals:function(e){return this.top===e.top&&this.right===e.right&&this.bottom===e.bottom&&this.left===e.left}}),Ext.define("Ext.util.Point",{extend:"Ext.util.Region",radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(e){var t=e.changedTouches,n=t&&t.length>0?t[0]:e;return this.fromTouch(n)},fromTouch:function(e){return new this(e.pageX,e.pageY)},from:function(e){return e?e instanceof this?e:new this(e.x,e.y):new this(0,0)}},constructor:function(e,t){null==e&&(e=0),null==t&&(t=0),this.callParent([t,e,t,e])},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(e){return this.x=e.x,this.y=e.y,this},toString:function(){return"Point["+this.x+","+this.y+"]"},isCloseTo:function(e,t){if("number"==typeof t)return this.getDistanceTo(e)<=t;var n=e.x,i=e.y,r=t.x,o=t.y;return this.x<=n+r&&this.x>=n-r&&this.y<=i+o&&this.y>=i-o},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(e){return e instanceof Ext.util.Region||(e=Ext.get(e.el||e).getRegion()),e.contains(this)},roundedEquals:function(e){return"object"!=typeof e&&(e=this.origin),Math.round(this.x)===Math.round(e.x)&&Math.round(this.y)===Math.round(e.y)},getDistanceTo:function(e){"object"!=typeof e&&(e=this.origin);var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},getAngleTo:function(e){"object"!=typeof e&&(e=this.origin);var t=this.x-e.x,n=this.y-e.y;return Math.atan2(n,t)*this.radianToDegreeConstant}},function(){this.prototype.translate=this.prototype.translateBy}),Ext.define("Ext.event.Event",{alternateClassName:"Ext.EventObjectImpl",requires:["Ext.util.Point"],isStopped:!1,isEvent:!0,statics:{resolveTextNode:function(e){return e&&3===e.nodeType?e.parentNode:e},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},pointerTypes:{2:"touch",3:"pen",4:"mouse",touch:"touch",pen:"pen",mouse:"mouse"}},constructor:function(e){var t,n,i=this,r=i.self,o=i.self.resolveTextNode,a=e.changedTouches,s=a?a[0]:e,l=e.type;i.pageX=s.pageX,i.pageY=s.pageY,i.target=i.delegatedTarget=o(e.target),n=e.relatedTarget,n&&(i.relatedTarget=o(n)),i.browserEvent=i.event=e,i.type=l,i.button=e.button||0,i.shiftKey=e.shiftKey,i.ctrlKey=e.ctrlKey||e.metaKey||!1,i.altKey=e.altKey,i.charCode=e.charCode,i.keyCode=e.keyCode,r.mouseEvents[l]?t="mouse":r.pointerEvents[l]?t=r.pointerTypes[e.pointerType]:r.touchEvents[l]&&(t="touch"),t&&(i.pointerType=t),i.timeStamp=i.time=+(e.timeStamp||new Date)},chain:function(e){var t=Ext.Object.chain(this);return t.parentEvent=this,Ext.apply(t,e)},correctWheelDelta:function(e){var t=this.WHEEL_SCALE,n=Math.round(e/t);return!n&&e&&(n=0>e?-1:1),n},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getPoint:function(){var e=this.getXY();return new Ext.util.Point(e[0],e[1])},getRelatedTarget:function(e,t,n){var i=this.relatedTarget,r=null;return i&&(r=e?Ext.fly(i).findParent(e,t,n):n?Ext.get(i):i),r},getTarget:function(e,t,n){return e?Ext.fly(this.target).findParent(e,t,n):n?Ext.get(this.target):this.target},getTime:function(){return this.time},getWheelDelta:function(){var e=this.getWheelDeltas();return e.y},getWheelDeltas:function(){var e=this,t=e.browserEvent,n=0,i=0;return Ext.isDefined(t.wheelDeltaX)?(n=t.wheelDeltaX,i=t.wheelDeltaY):t.wheelDelta?i=t.wheelDelta:t.detail&&(i=-t.detail,i>100?i=3:-100>i&&(i=-3),Ext.isDefined(t.axis)&&t.axis===t.HORIZONTAL_AXIS&&(n=i,i=0)),{x:e.correctWheelDelta(n),y:e.correctWheelDelta(i)}},getX:function(){return this.getXY()[0]},getXY:function(){return this.xy||(this.xy=[this.pageX,this.pageY]),this.xy},getY:function(){return this.getXY()[1]},hasModifier:function(){var e=this;return!!(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)},isNavKeyPress:function(){var e=this,t=e.keyCode;return t>=33&&40>=t||t===e.RETURN||t===e.TAB||t===e.ESC},isSpecialKey:function(){var e=this.keyCode;return"keypress"===this.type&&this.ctrlKey||this.isNavKeyPress()||e===this.BACKSPACE||e>=16&&20>=e||e>=44&&46>=e},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn},preventDefault:function(){return this.browserEvent.preventDefault(),this},setCurrentTarget:function(e){this.currentTarget=this.delegatedTarget=e},stopEvent:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){var e=this,t=e.browserEvent,n=e.parentEvent;return e.isStopped=!0,n&&(n.isStopped=!0),t.stopPropagation?(t.stopPropagation(),e):(t.cancelBubble=!0,e)},within:function(e,t,n){if(e){var i,r=t?this.getRelatedTarget():this.getTarget();if(r)return i=Ext.fly(e).contains(r),!i&&n&&(i=r===Ext.getDom(e)),i}return!1},deprecated:{"4.0":{methods:{getPageX:"getX",getPageY:"getY"}}}},function(e){var t={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){var e;return Ext.isGecko?e=3:Ext.isMac?(e=Ext.isSafari&&Ext.webKitVersion>=532?120:12,e*=3):e=120,e}()};Ext.apply(e,t),Ext.apply(e.prototype,t)}),Ext.define("Ext.overrides.event.Event",{override:"Ext.event.Event",mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},getXY:function(){var e,t,n,i,r,o=this,a=o.xy;return a||(a=o.callParent(),e=a[0],e||0===e||(t=o.browserEvent,n=document,i=n.documentElement,r=n.body,a[0]=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),a[1]=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0))),a},injectEvent:function(){function e(e,t){var i="mousemove"!=e;return function(r,o){var a=o.getXY(),s=n.createMouseEvent(r.ownerDocument,e,!0,i,t,a[0],a[1],o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget);n.fireEvent(r,e,s)}}function t(e,t){}var n,i,r={};return!Ext.isIE9m&&document.createEvent?n={createHtmlEvent:function(e,t,n,i){var r=e.createEvent("HTMLEvents");return r.initEvent(t,n,i),r},createMouseEvent:function(e,t,n,i,r,o,a,s,l,d,u,c,h){var f=e.createEvent("MouseEvents"),g=e.defaultView||window;return f.initMouseEvent?f.initMouseEvent(t,n,i,g,r,o,a,o,a,s,l,d,u,c,h):(f=e.createEvent("UIEvents"),f.initEvent(t,n,i),f.view=g,f.detail=r,f.screenX=o,f.screenY=a,f.clientX=o,f.clientY=a,f.ctrlKey=s,f.altKey=l,f.metaKey=u,f.shiftKey=d,f.button=c,f.relatedTarget=h),f},createUIEvent:function(e,t,n,i,r){var o=e.createEvent("UIEvents"),a=e.defaultView||window;return o.initUIEvent(t,n,i,a,r),o},fireEvent:function(e,t,n){e.dispatchEvent(n)}}:document.createEventObject&&(i={0:1,1:4,2:2},n={createHtmlEvent:function(e,t,n,i){var r=e.createEventObject();return r.bubbles=n,r.cancelable=i,r},createMouseEvent:function(e,t,n,r,o,a,s,l,d,u,c,h,f){var g=e.createEventObject();return g.bubbles=n,g.cancelable=r,g.detail=o,g.screenX=a,g.screenY=s,g.clientX=a,g.clientY=s,g.ctrlKey=l,g.altKey=d,g.shiftKey=u,g.metaKey=c,g.button=i[h]||h,g.relatedTarget=f,g},createUIEvent:function(e,t,n,i,r){var o=e.createEventObject();return o.bubbles=n,o.cancelable=i,o},fireEvent:function(e,t,n){e.fireEvent("on"+t,n)}}),Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(e,t){var i=t[0],o=t[1];r[e]=function(t,r){var a=n.createHtmlEvent(e,i,o);n.fireEvent(t,e,a)}}),Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(t){r[t]=e(t,1)}),Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(e,t){var i=t[0],o=t[1];r[e]=function(t,r){var a=n.createUIEvent(t.ownerDocument,e,i,o,1);n.fireEvent(t,e,a)}}),n||(r={},n={}),function(e){var n=this,i=r[n.type]||t,o=e?e.dom||e:n.getTarget();i(o,n)}}(),preventDefault:function(){var e=this,t=e.browserEvent;return t.preventDefault?t.preventDefault():(t.returnValue=!1,(t.ctrlKey||t.keyCode>111&&t.keyCode<124)&&(t.keyCode=-1)),e},stopPropagation:function(){var e=this;return e.mousedownEvents[e.type]&&Ext.GlobalEvents.fireMouseDown(e),e.callParent()},deprecated:{"5.0":{methods:{clone:function(){return new this.self(this.browserEvent,this)}}}}},function(){var e,t=this;Ext.isIE9m&&(e={1:0,4:1,2:2},t.override({statics:{enableIEAsync:function(e){var t,n={};for(t in e)n[t]=e[t];return n}},constructor:function(t,n,i,r){var o=this;o.callParent([t,n,i,r]),o.button=e[t.button],o.toElement=t.toElement,o.fromElement=t.fromElement},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,enableIEAsync:function(e){this.browserEvent=this.self.enableIEAsync(e)},getRelatedTarget:function(e,t,n){var i,r,o=this;return o.relatedTarget||(i=o.type,o.mouseLeaveRe.test(i)?r=o.toElement:o.mouseEnterRe.test(i)&&(r=o.fromElement),r&&(o.relatedTarget=o.self.resolveTextNode(r))),o.callParent([e,t,n])}}))}),Ext.define("Ext.event.ListenerStack",{currentOrder:"current",length:0,constructor:function(){return this.listeners={before:[],current:[],after:[]},this.lateBindingMap={},this},add:function(e,t,n,i,r){var o,a,s,l=this.lateBindingMap,d=this.getAll(i),u=d.length,c="string"==typeof e;if(c&&t&&t.isIdentifiable)if(s=t.getId(),o=l[s]){if(o[e])return!1;o[e]=!0}else l[s]=o={},o[e]=!0;else if(u>0)for(;u--;)if(a=d[u],a.fn===e&&a.scope===t)return a.options=n,!1;return a=this.create(e,t,n,i,r),!c||t&&"this"!==t&&"controller"!==t||(a.boundFn=this.bindDynamicScope(r,e,t),a.isLateBinding=!1),n&&n.prepend?(delete n.prepend,d.unshift(a)):d.push(a),this.length++,!0},bindDynamicScope:function(e,t,n){return function(){var i=e.resolveListenerScope(n);return"function"!=typeof i[t]&&Ext.Error.raise("No such method "+t+" on "+i.$className),i[t].apply(i,arguments)}},getAt:function(e,t){return this.getAll(t)[e]},getAll:function(e){return this.listeners[e||this.currentOrder]},count:function(e){return this.getAll(e).length},create:function(e,t,n,i,r){return n=n||{},{stack:this,fn:e,firingFn:!1,boundFn:!1,isLateBinding:"string"==typeof e,scope:t,options:n,order:i,observable:r,type:n.type}},remove:function(e,t,n){var i,r,o=this.getAll(n),a=o.length,s=!1,l=this.lateBindingMap;if(a>0)for(;a--;)if(i=o[a],i.fn===e&&i.scope===t){o.splice(a,1),s=!0,this.length--,t&&t.isIdentifiable&&"string"==typeof e&&(r=t.getId(),l[r]&&l[r][e]&&delete l[r][e]);break}return s}}),Ext.define("Ext.event.Controller",{isFiring:!1,listenerStack:null,constructor:function(e){return this.firingListeners=[],this.firingArguments=[],this.dispatcher=e,this},setInfo:function(e){this.info=e},getInfo:function(){return this.info},setListenerStacks:function(e){this.listenerStacks=e},fire:function(e,t){var n,i,r,o,a,s=this.listenerStacks,l=this.firingListeners,d=this.firingArguments,u=l.push,c=s.length,h=!1,f=!1;if(l.length=0,t&&("after"!==t.order?h=!0:f=!0),1===c)n=s[0].listeners,i=n.before,r=n.current,o=n.after,i.length>0&&u.apply(l,i),h&&u.call(l,t),r.length>0&&u.apply(l,r),f&&u.call(l,t),o.length>0&&u.apply(l,o);else{for(a=0;c>a;a++)i=s[a].listeners.before,i.length>0&&u.apply(l,i);for(h&&u.call(l,t),a=0;c>a;a++)r=s[a].listeners.current,r.length>0&&u.apply(l,r);for(f&&u.call(l,t),a=0;c>a;a++)o=s[a].listeners.after,o.length>0&&u.apply(l,o)}return 0===l.length?this:(e||(e=[]),d.length=0,d.push.apply(d,e),d.push(null,this),this.doFire(),this)},doFire:function(){var e,t,n,i,r,o,a,s,l,d,u,c,h,f,g=this,p=g.firingListeners,m=g.firingArguments,x=m[1],E=m.length-2,v=p[0].observable,y=g.info;for(v&&v.isElement&&(e=m[0]),g.isPausing=g.isPaused=g.isStopped=!1,g.isFiring=!0,t=0,n=p.length;n>t;t++){if(i=p[t],r=i.options,o=i.fn,a=i.firingFn,s=i.boundFn,l=i.isLateBinding,d=i.scope,l&&s&&s!==d[o]&&(s=!1,a=!1),!s){if(l){if(s=d[o],!s)continue}else s=o;i.boundFn=s}if(e&&(h=i.type,h&&(m[0]=e.chain({type:h})),Ext.EventObject=m[0]),a||(a=s,r.delay?a=Ext.Function.createDelayed(a,r.delay,d):r.buffer?a=Ext.Function.createBuffered(a,r.buffer,d):r.onFrame&&(a=Ext.Function.createAnimationFrame(a,d)),i.firingFn=a),m[E]=r,u=m,r.args&&(u=r.args.concat(u)),r.delegate&&"element"===g.info.targetType&&(m[1]=Ext.fly(x).findParent(r.delegate,x)),r.single&&g.dispatcher.removeListener(y.targetType,y.target,y.eventName,o,d,r,i.order,i.observable),f=r.beforeFn,f?(c=f.apply(Ext.global,u)!==!1,c!==!1&&(c=a.apply(d,u))):c=a.apply(d,u),r.delegate&&(m[1]=x),c===!1&&g.stop(),g.isStopped)break;if(g.isPausing)return g.isPaused=!0,void p.splice(0,t+1);e&&(m[0]=e)}g.isFiring=!1,g.listenerStacks=null,p.length=m.length=0,g.connectingController=null},connect:function(e){this.connectingController=e},resume:function(){var e=this.connectingController;return this.isPausing=!1,this.isPaused&&this.firingListeners.length>0&&(this.isPaused=!1,this.doFire()),e&&e.resume(),this},isInterrupted:function(){return this.isStopped||this.isPaused},stop:function(){var e=this.connectingController;return this.isStopped=!0,e&&(this.connectingController=null,e.stop()),this.isFiring=!1,this.listenerStacks=null,this},pause:function(){var e=this.connectingController;return this.isPausing=!0,e&&e.pause(),this}}),Ext.define("Ext.event.Dispatcher",{requires:["Ext.event.ListenerStack","Ext.event.Controller"],statics:{getInstance:function(){return this.instance||(this.instance=new this),this.instance},setInstance:function(e){return this.instance=e,this}},baseHasListeners:{_decr_:function(e){--this[e]||delete this[e]},_incr_:function(e){this.hasOwnProperty(e)?++this[e]:this[e]=1}},hasListeners:{},config:{publishers:{}},wildcard:"*",constructor:function(e){return this.listenerStacks={},this.captureListenerStacks={},this.directListenerStacks={},this.activePublishers={},this.publishersCache={},this.noActivePublishers=[],this.controller=null,this.initConfig(e),this},getListenerStack:function(e,t,n,i){return this.doGetListenerStack(this.listenerStacks,e,t,n,i)},getCaptureListenerStack:function(e,t,n,i){return this.doGetListenerStack(this.captureListenerStacks,e,t,n,i)},getDirectListenerStack:function(e,t,n,i){return this.doGetListenerStack(this.directListenerStacks,e,t,n,i)},doGetListenerStack:function(e,t,n,i,r){var o,a=e[t];if(!a){if(!r)return null;e[t]=a={}}if(a=a[n],!a){if(!r)return null;e[t][n]=a={}}if(o=a[i],!o){if(!r)return null;a[i]=o=new Ext.event.ListenerStack}return o},getController:function(e,t,n,i){var r=this,o=r.controller,a={targetType:e,target:t,eventName:n};return o||(r.controller=o=new Ext.event.Controller(r)),o.isFiring&&(o=new Ext.event.Controller(r)),o.setInfo(a),i&&o!==i&&o.connect(i),o},applyPublishers:function(e){var t,n;this.publishersCache={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],this.registerPublisher(n));return e},registerPublisher:function(e){var t=this.activePublishers,n=e.getTargetType(),i=t[n];return i||(t[n]=i=[]),i.push(e),e.setDispatcher(this),this},getCachedActivePublishers:function(e,t){var n,i=this.publishersCache;return(n=i[e])&&(n=n[t])?n:null},cacheActivePublishers:function(e,t,n){var i=this.publishersCache;return i[e]||(i[e]={}),i[e][t]=n,n},getActivePublishers:function(e,t){var n,i,r,o,a,s=this.getCachedActivePublishers(e,t);if(s)return s;if(n=this.activePublishers[e]){for(s=[],r=0,o=n.length;o>r;r++)a=n[r],a.handles(t)&&s.push(a);s.length||"element"!==e||(i=this.getPublisher("dom"),i&&s.push(i))}else s=this.noActivePublishers;return this.cacheActivePublishers(e,t,s)},hasListener:function(e,t,n){var i=this.getListenerStack(e,t,n),r=this.getCaptureListenerStack(e,t,n),o=!1;return i&&(o=i.count()>0),o||"element"!==e||(o=r.count()>0),o},getHasListeners:function(e,t){var n=this.hasListeners,i=t&&t.hasListeners;return i||(i=n[e]||(n[e]=Ext.Object.chain(this.baseHasListeners)),t&&(t.hasListeners=i=Ext.Object.chain(i))),i},addListener:function(e,t,n,i,r,o,a,s){o=o||{};var l,d,u=this.getActivePublishers(e,n),c=u.length;if(d=this.doAddListener(e,t,n,i,r,o,a,s))for(l=0;c>l;l++)u[l].subscribe(t,n,o,s);return d},doAddListener:function(e,t,n,i,r,o,a,s){o=o||{};var l,d,u=this;return"element"===e&&(o.capture?l=u.getCaptureListenerStack(e,t,n,!0):(d=u.getPublisher("dom"),(o.delegated===!1||d.directEvents[n]||!d.isTargetWin&&"#ext-window"===t)&&(l=u.getDirectListenerStack(e,t,n,!0)))),l||(l=u.getListenerStack(e,t,n,!0)),u.getHasListeners(e,s)._incr_(n),l.add(i,r,o,a,s)},removeListener:function(e,t,n,i,r,o,a,s){o=o||{};var l,d,u=this.getActivePublishers(e,n),c=u.length;
if(d=this.doRemoveListener(e,t,n,i,r,o,a,s))for(l=0;c>l;l++)u[l].unsubscribe(t,n,null,o,s);return d},doRemoveListener:function(e,t,n,i,r,o,a,s){o=o||{};var l,d,u=this;return"element"===e&&(o.capture?l=u.getCaptureListenerStack(e,t,n):(d=u.getPublisher("dom"),(o.delegated===!1||d.directEvents[n]||!d.isTargetWin&&"#ext-window"===t)&&(l=u.getDirectListenerStack(e,t,n)))),l||(l=u.getListenerStack(e,t,n)),l&&l.remove(i,r,a)?(u.getHasListeners(e,s)._decr_(n),!0):!1},clearListeners:function(e,t,n){var i,r=this,o=r.listenerStacks[e],a=r.captureListenerStacks[e];o&&r.doClearListeners(o,e,t,{},n),a&&r.doClearListeners(a,e,t,{capture:!0},n),n&&(i=r.directListenerStacks[e],i&&r.doClearListeners(i,e,t,{delegated:!1},n))},doClearListeners:function(e,t,n,i,r){var o,a,s,l,d=this,u=e[n],c=d.getHasListeners(t,r);if(u){for(o in u){for(l=d.getActivePublishers(t,o),a=0,s=l.length;s>a;a++)l[a].unsubscribe(n,o,!0,i,r);(c[o]-=u[o].length)||delete c[o]}delete e[n]}},dispatchEvent:function(e,t,n){var i,r=this.getActivePublishers(e,n),o=r.length;if(o>0)for(i=0;o>i;i++)r[i].notify(t,n);return this.doDispatchEvent.apply(this,arguments)},doDispatchEvent:function(e,t,n,i,r,o,a){var s,l=a?this.getCaptureListenerStack(e,t,n):this.getListenerStack(e,t,n,a),d=this.getWildcardListenerStacks(e,t,n,a);if(l&&l.length)d.push(l);else if(!d.length&&!r)return;return s=this.getController(e,t,n,o),s.setListenerStacks(d),s.fire(i,r),!s.isInterrupted()},dispatchDirectEvent:function(e,t,n,i){var r,o=this.getDirectListenerStack(e,t,n);return o&&o.length?(r=this.getController(e,t,n),r.setListenerStacks([o]),r.fire(i),!r.isInterrupted()):void 0},getWildcardListenerStacks:function(e,t,n,i){var r,o=[],a=this.wildcard,s=n!==a,l=t!==a;return s&&(r=this.getListenerStack(e,t,a,i))&&o.push(r),l&&(r=this.getListenerStack(e,a,n,i))&&o.push(r),o},getPublisher:function(e){return this.getPublishers()[e]},destroy:function(){var e,t=this.getPublishers();for(e in t)t[e].destroy()}}),Ext.define("Ext.Mixin",function(e){return{statics:{addHook:function(e,t,n,i){var r=Ext.isFunction(e),o=function(){var t=arguments,n=r?e:i[e],o=this.callParent(t);return n.apply(this,t),o},a=t.hasOwnProperty(n)&&t[n];r&&(e.$previous=Ext.emptyFn),o.$name=n,o.$owner=t.self,a?(o.$previous=a.$previous,a.$previous=o):t[n]=o}},onClassExtended:function(t,n){var i,r,o,a,s=n.mixinConfig,l=n.xhooks,d=t.superclass,u=n.onClassMixedIn;l&&(delete n.xhooks,(s||(n.mixinConfig=s={})).on=l),s&&(i=d.mixinConfig,i&&(n.mixinConfig=s=Ext.merge({},i,s)),n.mixinId=s.id,s.beforeHooks&&Ext.Error.raise('Use of "beforeHooks" is deprecated - use "before" instead'),s.hooks&&Ext.Error.raise('Use of "hooks" is deprecated - use "after" instead'),s.afterHooks&&Ext.Error.raise('Use of "afterHooks" is deprecated - use "after" instead'),r=s.before,o=s.after,l=s.on,a=s.extended),(r||o||l||a)&&(n.onClassMixedIn=function(t){var n,i=this.prototype,s=t.prototype;if(r&&Ext.Object.each(r,function(e,n){t.addMember(e,function(){return i[n].apply(this,arguments)!==!1?this.callParent(arguments):void 0})}),o&&Ext.Object.each(o,function(e,n){t.addMember(e,function(){var e=this.callParent(arguments);return i[n].apply(this,arguments),e})}),l)for(n in l)e.addHook(l[n],s,n,i);a&&t.onExtended(function(){var e=Ext.Array.slice(arguments,0);return e.unshift(t),a.apply(this,e)},this),u&&u.apply(this,arguments)})}}}),Ext.define("Ext.mixin.Observable",{requires:["Ext.event.Dispatcher"],extend:"Ext.Mixin",mixins:["Ext.mixin.Identifiable"],mixinConfig:{id:"observable",after:{destroy:"destroy"}},isObservable:!0,observableType:"observable",validIdRe:Ext.validIdRe,observableIdPrefix:"#",listenerOptionsRegex:/^(?:delegate|delegated|single|delay|buffer|args|prepend|capture|destroyable|translate)$/,eventFiringSuspended:0,config:{listeners:{$value:null,merge:function(e,t,n){var i=e;return n.isInstance?n._hasDeclaredListeners&&(i=[n.self.getDeclaredListeners(),e]):(n.listeners||(n.listeners=n.getDeclaredListeners()),e&&(n.prototype._hasDeclaredListeners=!0,n.listeners.push(e))),i}},bubbleEvents:null},inheritableStatics:{getDeclaredListeners:function(){var e,t,n,i=this,r=i.superclass,o=i.listeners,a=i.prototype;if(!o&&(o=i.listeners=[],r.isObservable&&o.push(r.self.getDeclaredListeners()),a.hasOwnProperty("mixins"))){e=a.mixins;for(t in e)n=e[t],n.isObservable&&o.push(n.self.getDeclaredListeners())}return o}},afterClassMixedIn:function(e){var t=e.prototype,n=t.listeners;n&&(delete t.listeners,e.getConfigurator().add({listeners:n}))},constructor:function(e){var t=this;t.initConfig(e),t.getEventDispatcher().getHasListeners(t.observableType,t)},applyListeners:function(e){return e&&(e instanceof Array?Ext.each(e,this.applyListeners,this):this.addListener(e)),e},resolveListenerScope:function(e){return"controller"===e&&Ext.Error.raise('scope: "controller" can only be specified on components that derive from component'),"this"===e&&(e=null),e||this},applyBubbleEvents:function(e){e&&this.enableBubble(e)},getOptimizedObservableId:function(){return this.observableId},getObservableId:function(){var e,t,n=this;return n.observableId||(e=n.getUniqueId(),t=n.validIdRe,t&&!t.test(e)&&Ext.Error.raise('Invalid unique id "'+e+'" for object of type '+n.$className),n.observableId=n.observableIdPrefix+e,n.getObservableId=n.getOptimizedObservableId),n.observableId},getOptimizedEventDispatcher:function(){return this.eventDispatcher},createEventDispatcher:function(){var e,t=this;return t.eventDispatcher=e=Ext.event.Dispatcher.getInstance(),t.getEventDispatcher=t.getOptimizedEventDispatcher,t.getListeners(),t.getBubbleEvents(),e},getEventDispatcher:function(){var e=this.eventDispatcher;return e||(e=this.createEventDispatcher()),e},getManagedListeners:function(e,t){var n=e.getUniqueId(),i=this.managedListeners;return i||(this.managedListeners=i={}),i[n]||(i[n]={},e.doAddListener("destroy","clearManagedListeners",this,{single:!0,args:[e]})),i[n][t]||(i[n][t]=[]),i[n][t]},getUsedSelectors:function(){var e=this.usedSelectors;return e||(e=this.usedSelectors=[],e.$map={}),e},fireEvent:function(e){var t=Array.prototype.slice.call(arguments,1);return this.doFireEvent(e,t)},fireEventArgs:function(e,t){return this.doFireEvent(e,t)},fireAction:function(e,t,n,i,r,o){var a,s=typeof n;return void 0===t&&(t=[]),"undefined"!==s&&(a={fn:n,isLateBinding:"string"===s,scope:i||this,options:r||{},order:o}),this.doFireEvent(e,t,a)},doFireEvent:function(e,t,n,i){var r=this,o=r.eventQueue,a=Ext.$eventNameMap,s=r.suspendedEvents,l=!0;return e=a[e]||(a[e]=e.toLowerCase()),r.eventFiringSuspended||s&&s[e]?o&&o.push([e,t,n,i]):l=r.getEventDispatcher().dispatchEvent(r.observableType,r.getObservableId(),e,t,n,i),l},doAddListener:function(e,t,n,i,r){var o,a,s,l=this,d=n&&n!==l&&n.isIdentifiable,u=l.getUsedSelectors(),c=u.$map,h=l.getObservableId();return i||(i={}),n||"function"!=typeof t||(n=l),i.delegate&&(s=i.delegate,h+=" "+s),h in c||(c[h]=!0,u.push(h)),o=l.addDispatcherListener(h,e,t,n,i,r),o&&d&&(a=l.getManagedListeners(n,e),a.push({delegate:s,scope:n,fn:t,order:r})),o},addDispatcherListener:function(e,t,n,i,r,o){return this.getEventDispatcher().addListener(this.observableType,e,t,n,i,r,o,this)},doRemoveListener:function(e,t,n,i,r){var o,a,s,l,d,u,c=this,h=n&&n!==c&&n.isIdentifiable,f=c.getObservableId();if(i||(i={}),n||"function"!=typeof t||(n=c),i.delegate&&(u=i.delegate,f+=" "+u),o=c.removeDispatcherListener(f,e,t,n,i,r),o&&h)for(a=c.getManagedListeners(n,e),s=0,l=a.length;l>s;s++)if(d=a[s],d.fn===t&&d.scope===n&&d.delegate===u&&d.order===r){a.splice(s,1);break}return o},removeDispatcherListener:function(e,t,n,i,r,o){return this.getEventDispatcher().removeListener(this.observableType,e,t,n,i,r,o,this)},clearManagedListeners:function(e){var t,n,i,r,o,a,s,l,d=this,u=d.managedListeners;if(!u)return d;if(e){t="string"!=typeof e?e.getUniqueId():e,n=u[t];for(r in n)if(n.hasOwnProperty(r))for(i=n[r],o=0,a=i.length;a>o;o++)s=i[o],l={},s.delegate&&(l.delegate=s.delegate),d.doRemoveListener(r,s.fn,s.scope,l,s.order)&&(o--,a--);return delete u[t],d}for(t in u)u.hasOwnProperty(t)&&d.clearManagedListeners(t)},changeListener:function(e,t,n,i,r,o){var a,s,l,d,u,c,h,f,g,p,m=this,x=Ext.$eventNameMap;if("undefined"!=typeof n){if("string"!=typeof t){for(h=0,f=t.length;f>h;h++)u=t[h],u=x[u]||(x[u]=u.toLowerCase()),e.call(m,u,n,i,r,o);return m}t=x[t]||(x[t]=t.toLowerCase()),e.call(m,t,n,i,r,o)}else if(Ext.isArray(t))for(s=t,h=0,f=s.length;f>h;h++)g=s[h],t=g.event,t=x[t]||(x[t]=t.toLowerCase()),e.call(m,t,g.fn,g.scope,g,g.order);else{l=m.listenerOptionsRegex,r=t,a=[],s=[],d={};for(u in r)if(c=r[u],"scope"!==u)if("order"!==u)if(l.test(u))d[u]=c;else{if(u=x[u]||(x[u]=u.toLowerCase()),p=typeof c,"string"!==p&&"function"!==p){e.call(this,u,c.fn,c.scope||i,c,c.order||o);continue}a.push(u),s.push(c)}else o=c;else i=c;for(h=0,f=a.length;f>h;h++)e.call(m,a[h],s[h],i,d,o)}return m},addListener:function(e,t,n,i,r){var o,a,s=this;return i?o=i.destroyable:"object"==typeof e&&(o=e.destroyable),a=s.changeListener(s.doAddListener,e,t,n,i,r),o&&(a=new Ext.mixin.Observable.$ListenerRemover(s,e,t,n,i,r)),a},toggleListener:function(e,t,n,i,r,o){return this.changeListener(e?this.doAddListener:this.doRemoveListener,t,n,i,r,o)},addBeforeListener:function(e,t,n,i){return this.addListener(e,t,n,i,"before")},addAfterListener:function(e,t,n,i){return this.addListener(e,t,n,i,"after")},removeListener:function(e,t,n,i,r){return this.changeListener(this.doRemoveListener,e,t,n,i,r)},removeBeforeListener:function(e,t,n,i){return this.removeListener(e,t,n,i,"before")},removeAfterListener:function(e,t,n,i){return this.removeListener(e,t,n,i,"after")},clearListeners:function(){var e,t,n,i=this,r=i.getUsedSelectors(),o=i.getEventDispatcher();for(e=0,t=r.length;t>e;e++)n=r[e],o.clearListeners(i.observableType,n,i)},hasListener:function(e){return this.getEventDispatcher().hasListener(this.observableType,this.getObservableId(),e)},isSuspended:function(e){var t=Ext.$eventNameMap,n=this.suspendedEvents;return e&&(e=t[e]||(t[e]=e.toLowerCase())),!!(this.eventFiringSuspended||n&&n[e])},suspendEvents:function(e){++this.eventFiringSuspended,e&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(){var e,t,n=arguments,i=this.suspendedEvents,r=Ext.$eventNameMap,o=n.length;for(i||(i=this.suspendedEvents={}),e=0;o>e;e++)t=n[e],t=r[t]||(r[t]=t.toLowerCase()),t in i||(i[t]=0),++i[t]},resumeEvents:function(e){var t,n,i,r=this,o=r.eventQueue||[],a=r.suspendedEvents;if(r.eventFiringSuspended&&!--r.eventFiringSuspended){if(!e)for(n=0,i=o.length;i>n;n++)t=o[n],a&&a[t[0]]||r.doFireEvent.apply(r,t);r.eventQueue=null}},resumeEvent:function(){var e,t,n=this,i=arguments,r=n.suspendedEvents,o=Ext.$eventNameMap,a=i.length;for(e=0;a>e;e++)t=i[e],t=o[t]||(o[t]=t.toLowerCase()),r&&r[t]&&--r[t];n.eventFiringSuspended||n.resumeEvents()},relayEvents:function(e,t,n){var i,r,o,a,s=Ext.$eventNameMap;if("undefined"==typeof n&&(n=""),n=n.toLowerCase(),"string"==typeof t&&(t=[t]),Ext.isArray(t))for(i=0,r=t.length;r>i;i++)o=t[i],o=s[o]||(s[o]=o.toLowerCase()),a=n+o,e.addListener(o,this.createEventRelayer(a),this);else for(o in t)t.hasOwnProperty(o)&&(o=s[o]||(s[o]=o.toLowerCase()),a=n+t[o],e.addListener(o,this.createEventRelayer(a),this));return this},relayEvent:function(e,t,n,i,r){var o,a=typeof t,s=e[e.length-1],l=s.getInfo().eventName;return e=Array.prototype.slice.call(e,0,-2),e[0]=this,"undefined"!==a&&(o={fn:t,scope:n||this,options:i||{},order:r,isLateBinding:"string"===a}),this.doFireEvent(l,e,o,s)},createEventRelayer:function(e){return function(){return this.doFireEvent(e,Array.prototype.slice.call(arguments,0,-2))}},enableBubble:function(e){var t,n,i,r=this.isBubblingEnabled,o=Ext.$eventNameMap;for(r||(r=this.isBubblingEnabled={}),"string"==typeof e&&(e=Ext.Array.clone(arguments)),t=0,n=e.length;n>t;t++)i=e[t],i=o[i]||(o[i]=i.toLowerCase()),r[i]||(r[i]=!0,this.addListener(i,this.createEventBubbler(i),this))},createEventBubbler:function(e){return function t(){var n="getBubbleTarget"in this?this.getBubbleTarget():null;n&&n!==this&&n.isObservable&&n.fireAction(e,Array.prototype.slice.call(arguments,0,-2),t,n,null,"after")}},getBubbleTarget:function(){return!1},destroy:function(){var e=this;e.observableId&&(e.fireEvent("destroy",e),e.clearListeners(),e.clearManagedListeners())},deprecated:{"2.0":{methods:{addEvents:null,addManagedListener:function(){var e=arguments[0];e.addListener.apply(e,Ext.Array.slice(arguments,1))},removeManagedListener:function(){var e=arguments[0];e.removeListener.apply(e,Ext.Array.slice(arguments,1))},mon:function(){var e=arguments[0];e.addListener.apply(e,Ext.Array.slice(arguments,1))},mun:function(){var e=arguments[0];e.removeListener.apply(e,Ext.Array.slice(arguments,1))}}}}},function(e){var t=function(e){return e instanceof t?e:(this.observable=e,void(this.args=Array.prototype.slice.call(arguments,1)))};t.prototype.destroy=function(){var e=this.observable;e.un.apply(e,this.args)},e.$ListenerRemover=t,e.createAlias({on:"addListener",un:"removeListener",onBefore:"addBeforeListener",onAfter:"addAfterListener",unBefore:"removeBeforeListener",unAfter:"removeAfterListener"})}),Ext.define("Ext.util.Positionable",{mixinId:"positionable",_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,getAnchorToXY:function(){Ext.Error.raise("getAnchorToXY is not implemented in "+this.$className)},getBorderPadding:function(){Ext.Error.raise("getBorderPadding is not implemented in "+this.$className)},getLocalX:function(){Ext.Error.raise("getLocalX is not implemented in "+this.$className)},getLocalXY:function(){Ext.Error.raise("getLocalXY is not implemented in "+this.$className)},getLocalY:function(){Ext.Error.raise("getLocalY is not implemented in "+this.$className)},getX:function(){Ext.Error.raise("getX is not implemented in "+this.$className)},getXY:function(){Ext.Error.raise("getXY is not implemented in "+this.$className)},getY:function(){Ext.Error.raise("getY is not implemented in "+this.$className)},setLocalX:function(){Ext.Error.raise("setLocalX is not implemented in "+this.$className)},setLocalXY:function(){Ext.Error.raise("setLocalXY is not implemented in "+this.$className)},setLocalY:function(){Ext.Error.raise("setLocalY is not implemented in "+this.$className)},setX:function(){Ext.Error.raise("setX is not implemented in "+this.$className)},setXY:function(){Ext.Error.raise("setXY is not implemented in "+this.$className)},setY:function(){Ext.Error.raise("setY is not implemented in "+this.$className)},adjustForConstraints:function(e,t){var n=this.getConstrainVector(t,e);return n&&(e[0]+=n[0],e[1]+=n[1]),e},alignTo:function(e,t,n,i){var r=this,o=r.el;return r.setXY(r.getAlignToXY(e,t,n),o.anim&&i?o.anim(i):!1)},calculateAnchorXY:function(e,t,n,i){var r,o,a,s=this,l=s.el,d=document,u=l.dom===d.body||l.dom===d,c=Math.round;switch(e=(e||"tl").toLowerCase(),i=i||{},o=i.width||(u?Ext.Element.getViewportWidth():s.getWidth()),a=i.height||(u?Ext.Element.getViewportHeight():s.getHeight()),e){case"tl":r=[0,0];break;case"bl":r=[0,a];break;case"tr":r=[o,0];break;case"c":r=[c(.5*o),c(.5*a)];break;case"t":r=[c(.5*o),0];break;case"l":r=[0,c(.5*a)];break;case"r":r=[o,c(.5*a)];break;case"b":r=[c(.5*o),a];break;case"tc":r=[c(.5*o),0];break;case"bc":r=[c(.5*o),a];break;case"br":r=[o,a]}return[r[0]+t,r[1]+n]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(e,t,n){var i,r,o,a,s,l,d,u,c,h,f,g,p,m,x,E,v,y,b,C=this;return e=Ext.get(e.el||e),e&&e.dom||Ext.Error.raise({sourceClass:"Ext.util.Positionable",sourceMethod:"getAlignToXY",msg:"Attempted to align an element that doesn't exist"}),n=n||[0,0],t=(t&&"?"!=t?/-/.test(t)||""===t?t||"tl-bl":"tl-"+t:"tl-bl?").toLowerCase(),t=C.convertPositionSpec(t),o=t.match(C._alignRe),o||Ext.Error.raise({sourceClass:"Ext.util.Positionable",sourceMethod:"getAlignToXY",el:e,position:t,offset:n,msg:'Attemmpted to align an element with an invalid position: "'+t+'"'}),g=o[1],p=o[2],f=!!o[3],a=C.getAnchorXY(g,!0),s=C.getAnchorToXY(e,p,!1),y=s[0]-a[0]+n[0],b=s[1]-a[1]+n[1],f&&(i=C.constrainTo||C.container||C.el.parent(),i=Ext.get(i.el||i),r=i.getViewRegion(),r.right=r.left+i.el.dom.clientWidth,l=C.getWidth(),d=C.getHeight(),u=e.getRegion(),m=g.charAt(0),x=g.charAt(g.length-1),E=p.charAt(0),v=p.charAt(p.length-1),c=y<u.right&&y+l>=u.left&&("t"==m&&"b"==E||"b"==m&&"t"==E),h=b<u.bottom&&b+d>=u.top&&("r"==x&&"l"==v||"l"==x&&"r"==v),y+l>r.right&&(h?(y=u.left-l,h=!1):y=r.right-l),y<r.left&&(y=h?u.right:r.left),b+d>r.bottom&&(c?(b=u.top-d,c=!1):b=r.bottom-d),b<r.top&&(b=c?u.bottom:r.top)),[y,b]},getAnchorXY:function(e,t,n){var i=this,r=i.getXY(),o=i.el,a=document,s=o.dom==a.body||o.dom==a,l=o.getScroll(),d=s?l.left:t?0:r[0],u=s?l.top:t?0:r[1];return i.calculateAnchorXY(e,d,u,n)},getBox:function(e,t){var n,i,r,o=this,a=t?o.getLocalXY():o.getXY(),s=a[0],l=a[1],d=o.getWidth(),u=o.getHeight();return e&&(n=o.getBorderPadding(),i=n.beforeX,r=n.beforeY,s+=i,l+=r,d-=i+n.afterX,u-=r+n.afterY),{x:s,left:s,0:s,y:l,top:l,1:l,width:d,height:u,right:s+d,bottom:l+u}},calculateConstrainedPosition:function(e,t,n,i){var r,o,a,s,l=this,d=l.floatParent,u=d?d.getTargetEl():null,c=!1;return n&&d?(o=u.getXY(),a=u.getBorderPadding(),o[0]+=a.beforeX,o[1]+=a.beforeY,t&&(s=[t[0]+o[0],t[1]+o[1]])):s=t,e=e||l.constrainTo||u||l.container||l.el.parent(),r=l.getConstrainVector(e,s,i),c=t||l.getPosition(n),r&&(c[0]+=r[0],c[1]+=r[1]),c},getConstrainVector:function(e,t,n){var i,r=this.getRegion(),o=[0,0],a=this.shadow&&this.constrainShadow&&!this.shadowDisabled?this.shadow.getShadowSize():void 0,s=!1,l=this.constraintInsets;return e instanceof Ext.util.Region||(e=Ext.get(e.el||e),i=e.getViewSize(),e=e.getViewRegion(),e.right=e.left+i.width,e.bottom=e.top+i.height),l&&(l=Ext.isObject(l)?l:Ext.Element.parseBox(l),e.adjust(l.top,l.right,l.bottom,l.length)),t&&r.translateBy(t[0]-r.x,t[1]-r.y),n&&(r.right=r.left+n[0],r.bottom=r.top+n[1]),a&&e.adjust(a[0],-a[1],-a[2],a[3]),r.right>e.right&&(s=!0,o[0]=e.right-r.right),r.left+o[0]<e.left&&(s=!0,o[0]=e.left-r.left),r.bottom>e.bottom&&(s=!0,o[1]=e.bottom-r.bottom),r.top+o[1]<e.top&&(s=!0,o[1]=e.top-r.top),s?o:!1},getOffsetsTo:function(e){var t=this.getXY(),n=Ext.fly(e.el||e).getXY();return[t[0]-n[0],t[1]-n[1]]},getRegion:function(){var e=this.getBox();return new Ext.util.Region(e.top,e.right,e.bottom,e.left)},getViewRegion:function(){var e,t,n,i,r,o,a,s=this,l=s.el,d="BODY"===l.dom.nodeName;return d?(t=l.getScroll(),r=t.left,i=t.top,o=Ext.Element.getViewportWidth(),a=Ext.Element.getViewportHeight()):(e=s.getBorderPadding(),n=s.getXY(),r=n[0]+e.beforeX,i=n[1]+e.beforeY,o=s.getWidth(!0),a=s.getHeight(!0)),new Ext.util.Region(i,r+o,i+a,r)},move:function(e,t,n){var i=this,r=i.getXY(),o=r[0],a=r[1],s=[o-t,a],l=[o+t,a],d=[o,a-t],u=[o,a+t],c={l:s,left:s,r:l,right:l,t:d,top:d,up:d,b:u,bottom:u,down:u};e=e.toLowerCase(),i.setXY([c[e][0],c[e][1]],n)},setBox:function(e){var t,n,i=this;return e.isRegion&&(e={x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}),i.constrainBox(e),t=e.x,n=e.y,i.setSize(e.width,e.height),i.setXY([t,n]),i.afterSetPosition(t,n),i},constrainBox:function(e){var t,n=this;(n.constrain||n.constrainHeader)&&(t=n.calculateConstrainedPosition(null,[e.x||e.left,e.y||e.top],!1,[e.width,e.height]),t&&(e.x=t[0],e.y=t[1]))},translatePoints:function(e,t){var n=this.translateXY(e,t);return{left:n.x,top:n.y}},translateXY:function(e,t){var n=this,i=n.el,r=i.getStyle(n._positionTopLeft),o="relative"===r.position,a=parseFloat(r.left),s=parseFloat(r.top),l=n.getXY();return Ext.isArray(e)&&(t=e[1],e=e[0]),isNaN(a)&&(a=o?0:i.dom.offsetLeft),isNaN(s)&&(s=o?0:i.dom.offsetTop),a="number"==typeof e?e-l[0]+a:void 0,s="number"==typeof t?t-l[1]+s:void 0,{x:a,y:s}}}),Ext.define("Ext.overrides.util.Positionable",{override:"Ext.util.Positionable",anchorTo:function(e,t,n,i,r,o){var a=this,s=!Ext.isEmpty(r),l=function(){a.alignTo(e,t,n,i),Ext.callback(o,a)},d=a.getAnchor();return a.removeAnchor(),Ext.apply(d,{fn:l,scroll:s}),Ext.on("resize",l,null),s&&Ext.getWin().on("scroll",l,null,{buffer:isNaN(r)?50:r}),l(),a},getAnchor:function(){var e,t,n=this.el;if(n.dom)return e=n.getData(),t=e._anchor,t||(t=e._anchor={}),t},removeAnchor:function(){var e=this.getAnchor();return e&&e.fn&&(Ext.un("resize",e.fn),e.scroll&&Ext.getWin().on("scroll",e.fn),delete e.fn),this},setBox:function(e,t){var n=this;return e.isRegion&&(e={x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}),t?(n.constrainBox(e),n.animate(Ext.applyIf({to:e,listeners:{afteranimate:Ext.Function.bind(n.afterSetPosition,n,[e.x,e.y])}},t))):n.callParent([e]),n}}),Ext.define("Ext.dom.Helper",function(){var e="afterbegin",t="afterend",n="beforebegin",i="beforeend",r=["BeforeBegin","previousSibling"],o=["AfterEnd","nextSibling"],a={beforebegin:r,afterend:o},s={beforebegin:r,afterend:o,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{singleton:!0,alternateClassName:["Ext.DomHelper","Ext.core.DomHelper"],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},detachedDiv:document.createElement("div"),decamelizeName:function(){function e(e,t,n){return t+"-"+n.toLowerCase()}var t=/([a-z])([A-Z])/g,n={};return function(i){return n[i]||(n[i]=i.replace(t,e))}}(),generateMarkup:function(e,t){var n,i,r,o,a,s=this,l=typeof e;if("string"===l||"number"===l)t.push(e);else if(Ext.isArray(e))for(o=0;o<e.length;o++)e[o]&&s.generateMarkup(e[o],t);else{r=e.tag||"div",t.push("<",r);for(n in e)e.hasOwnProperty(n)&&(i=e[n],void 0===i||s.confRe.test(n)||("object"==typeof i?(t.push(" ",n,'="'),s.generateStyles(i,t,!0).push('"')):t.push(" ",s.attributeTransform[n]||n,'="',i,'"')));s.emptyTags.test(r)?t.push("/>"):(t.push(">"),(i=e.tpl)&&i.applyOut(e.tplData,t),(i=e.html)&&t.push(i),(i=e.cn||e.children)&&s.generateMarkup(i,t),a=s.closeTags,t.push(a[r]||(a[r]="</"+r+">")))}return t},generateStyles:function(e,t,n){var i,r,o=t||[];for(i in e)e.hasOwnProperty(i)&&(r=e[i],i=this.decamelizeName(i),n&&Ext.String.hasHtmlCharacters(r)&&(r=Ext.String.htmlEncode(r)),o.push(i,":",r,";"));return t||o.join("")},markup:function(e){if("string"==typeof e)return e;var t=this.generateMarkup(e,[]);return t.join("")},applyStyles:function(e,t){Ext.fly(e).applyStyles(t)},createContextualFragment:function(e){var t,n,i=this.detachedDiv,r=document.createDocumentFragment();for(i.innerHTML=e,n=i.childNodes,t=n.length;t--;)r.appendChild(n[0]);return r},createDom:function(e,t){var n=this,i=n.markup(e),r=n.detachedDiv;return r.innerHTML=i,r.firstChild},insertHtml:function(r,o,l){var d,u,c,h,f,g=this;if(r=r.toLowerCase(),!o.insertAdjacentHTML){if(3===o.nodeType&&(r=r===e?n:r,r=r===i?t:r),u=Ext.supports.CreateContextualFragment?o.ownerDocument.createRange():void 0,h="setStart"+(this.endRe.test(r)?"After":"Before"),a[r])return u?(u[h](o),f=u.createContextualFragment(l)):f=this.createContextualFragment(l),o.parentNode.insertBefore(f,r===n?o:o.nextSibling),o[(r===n?"previous":"next")+"Sibling"];if(c=(r===e?"first":"last")+"Child",o.firstChild){if(u)try{u[h](o[c]),f=u.createContextualFragment(l)}catch(p){f=this.createContextualFragment(l)}else f=this.createContextualFragment(l);r===e?o.insertBefore(f,o.firstChild):o.appendChild(f)}else o.innerHTML=l;return o[c]}return g.ieInsertHtml&&(f=g.ieInsertHtml(r,o,l))?f:(d=s[r])?(Ext.global.MSApp&&Ext.global.MSApp.execUnsafeLocalFunction?MSApp.execUnsafeLocalFunction(function(){o.insertAdjacentHTML(d[0],l)}):o.insertAdjacentHTML(d[0],l),o[d[1]]):void Ext.Error.raise({sourceClass:"Ext.DomHelper",sourceMethod:"insertHtml",htmlToInsert:l,targetElement:o,msg:'Illegal insertion point reached: "'+r+'"'})},insertBefore:function(e,t,i){return this.doInsert(e,t,i,n)},insertAfter:function(e,n,i){return this.doInsert(e,n,i,t)},insertFirst:function(t,n,i){return this.doInsert(t,n,i,e)},append:function(e,t,n){return this.doInsert(e,t,n,i)},overwrite:function(e,t,n){var i,r=this;return e=Ext.getDom(e),t=r.markup(t),r.ieOverwrite&&(i=r.ieOverwrite(e,t)),i||(e.innerHTML=t,i=e.firstChild),n?Ext.get(i):i},doInsert:function(r,o,s,l){var d,u=this;return r=r.dom||Ext.getDom(r),"innerHTML"in r?d=u.insertHtml(l,r,u.markup(o)):(d=u.createDom(o,null),3===r.nodeType&&(l=l===e?n:l,l=l===i?t:l),a[l]?r.parentNode.insertBefore(d,l===n?r:r.nextSibling):r.firstChild&&l===e?r.insertBefore(d,r.firstChild):r.appendChild(d)),s?Ext.get(d):d},createTemplate:function(e){var t=this.markup(e);return new Ext.Template(t)},createHtml:function(e){return this.markup(e)}}}),Ext.define("Ext.overrides.dom.Helper",function(){var e=/^(?:table|thead|tbody|tr|td)$/i,t=/td|tr|tbody|thead/i,n="<table>",i="</table>",r=n+"<tbody>",o="</tbody>"+i,a=r+"<tr>",s="</tr>"+o;return{override:"Ext.dom.Helper",ieInsertHtml:function(t,n,i){var r=null;return Ext.isIE9m&&e.test(n.tagName)&&(r=this.insertIntoTable(n.tagName.toLowerCase(),t,n,i)),r},ieOverwrite:function(t,n){if(Ext.isIE9m&&e.test(t.tagName)){for(;t.firstChild;)t.removeChild(t.firstChild);if(n)return this.insertHtml("afterbegin",t,n)}},ieTable:function(e,t,n,i){var r,o,a=-1,s=this.detachedDiv;for(s.innerHTML=[t,n,i].join("");++a<e;)s=s.firstChild;if(r=s.nextSibling)for(r=s,s=document.createDocumentFragment();r;)o=r.nextSibling,s.appendChild(r),r=o;return s},insertIntoTable:function(e,l,d,u){var c,h,f="beforebegin"===l,g="afterbegin"===l,p="beforeend"===l,m="afterend"===l;return"td"===e&&(g||p)||!t.test(e)&&(f||m)?null:(h=f?d:m?d.nextSibling:g?d.firstChild:null,(f||m)&&(d=d.parentNode),c="td"===e||"tr"===e&&(p||g)?this.ieTable(4,a,u,s):("tbody"===e||"thead"===e)&&(p||g)||"tr"===e&&(f||m)?this.ieTable(3,r,u,o):this.ieTable(2,n,u,i),d.insertBefore(c,h),c)}}}()),Ext.define("Ext.dom.Element",function(e){var t,n=window,i=document,r="ext-window",o="ext-document",a="width",s="height",l="min-width",d="min-height",u="max-width",c="max-height",h="top",f="right",g="bottom",p="left",m="visibility",x="hidden",E="display",v="none",y="z-index",b="position",C="relative",S="static",w="-",T=/\w/g,P=/\s+/,I=/[\s]+/,k=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,M=/table-row|table-.*-group/,R={t:"border-top-width",r:"border-right-width",b:"border-bottom-width",l:"border-left-width"},D={t:"padding-top",r:"padding-right",b:"padding-bottom",l:"padding-left"},A={t:"margin-top",r:"margin-right",b:"margin-bottom",l:"margin-left"},F=[D.l,D.r,D.t,D.b],L=[R.l,R.r,R.t,R.b],O=/\d+$/,B=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,N="px",H=/(-[a-z])/gi,V=/([a-z0-9-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,W=/^\d+(?:\.\d*)?px$/i,z={},q=function(e,t){return t.charAt(1).toUpperCase()},_=null,U=Ext.baseCSSPrefix+"hidden-visibility",G=Ext.baseCSSPrefix+"hidden-display",X=Ext.baseCSSPrefix+"hidden-offsets",j=Ext.baseCSSPrefix+"no-touch-scroll",Y={style:"style",className:"className",cls:"cls",classList:"classList",text:"text",hidden:"hidden",html:"html",children:"children"};return"activeElement"in i||!i.addEventListener||i.addEventListener("focus",function(e){e&&e.target&&(_=e.target===i?null:e.target)},!0),{alternateClassName:"Ext.Element",mixins:{positionable:"Ext.util.Positionable",observable:"Ext.mixin.Observable"},requires:["Ext.dom.Helper"],uses:["Ext.dom.CompositeElement","Ext.dom.Fly"],observableType:"element",isElement:!0,isSynchronized:!1,skipGarbageCollection:!0,identifiablePrefix:"ext-element-",styleHooks:{},validIdRe:Ext.validIdRe,blockedEvents:Ext.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(e,t){var n,r=this;return"string"==typeof e&&(e=i.getElementById(e)),e?(Ext.cache[e.id]&&Ext.Error.raise("Element cache already contains an entry for id '"+e.id+"'.  Use Ext.get() to create or retrieve Element instances."),r.dom=e,n=e.id,n?r.id=n:n=e.id=r.getUniqueId(),r.validIdRe.test(r.id)||Ext.Error.raise('Invalid Element "id": "'+r.id+'"'),r.el=r,t||(Ext.cache[n]=r),void r.mixins.observable.constructor.call(r)):(Ext.Error.raise("Invalid domNode reference or an id of an existing domNode: "+e),null)},inheritableStatics:{cache:Ext.cache={},VISIBILITY:1,DISPLAY:2,OFFSETS:3,unitRe:B,useDelegatedEvents:!0,validNodeTypes:{1:1,9:1,11:1},addUnits:function(e,t){return"number"==typeof e?e+(t||N):""===e||"auto"===e||null==e?e||"":O.test(e)?e+(t||N):B.test(e)?e:(Ext.Logger.warn("Warning, size detected ("+e+") not a valid property value on Element.addUnits."),e||"")},create:function(e,t){var n,r,o,a,s,l,d,u,c=this,h=Y.hidden;if(e||(e={}),e.isElement)return t?e.dom:e;if("nodeType"in e)return t?e:Ext.get(e);if("string"==typeof e)return i.createTextNode(e);o=e.tag,o||(o="div"),n=e.namespace?i.createElementNS(e.namespace,o):i.createElement(o),r=n.style,e[h]&&(u=e.className,u=null==u?"":u+" ",e.className=u+G,delete e[h]);for(s in e)if("tag"!==s)switch(a=e[s],s){case Y.style:if("string"==typeof a)n.setAttribute(s,a);else for(l in a)a.hasOwnProperty(l)&&(r[l]=a[l]);break;case Y.className:case Y.cls:n.className=a;break;case Y.classList:n.className=a.join(" ");break;case Y.text:n.textContent=a;break;case Y.html:n.innerHTML=a;break;case Y.children:for(l=0,d=a.length;d>l;l++)n.appendChild(c.create(a[l],!0));break;default:null!=a&&n.setAttribute(s,a)}return t?n:c.get(n)},detach:function(){var e=this.dom;return e&&e.parentNode&&"BODY"!==e.tagName&&e.parentNode.removeChild(e),this},fly:function(e,t){return Ext.fly(e,t)},fromPoint:function(e,t){return Ext.get(i.elementFromPoint(e,t))},get:function(t){function a(e){Ext.Error.raise("DOM element with id "+e+" in Element cache is not the same as element in the DOM. Make sure to clean up Element instances using destroy()")}var s,l,d,u,c,h=this,f=Ext.cache;if(!t)return null;if(t.isFly&&(t=t.dom,c=t._extData),"string"==typeof t){if(d=t,f.hasOwnProperty(d)){if(u=f[d],u.skipGarbageCollection||!Ext.isGarbage(u.dom))return l=Ext.getElementById?Ext.getElementById(d):i.getElementById(d),l&&l!==u.dom&&a(d),u;u.destroy()}if(d===r)return e.get(n);if(d===o)return e.get(i);if(l=Ext.getElementById?Ext.getElementById(d):i.getElementById(d))return new e(l)}if(t===i)return h.docEl||(i.id=o,h.docEl=new e(i,!0)),h.docEl;if(t==n)return h.winEl||(n.id=r,h.winEl=new e(n,!0)),h.winEl;if(s=t.nodeType,h.validNodeTypes[s]||!s&&t.window===t){if(d=t.id,f.hasOwnProperty(d)){if(u=f[d],u.skipGarbageCollection||t===u.dom||!Ext.isGarbage(u.dom))return t!==u.dom&&a(d),u;u.destroy()}return new e(t)}return t.isElement?t:t.isComposite?t:Ext.isIterable(t)?h.select(t):null},getActiveElement:function(){var e=i.activeElement;return e=e||_,e||(e=_=i.body),e},getDocumentHeight:function(){return Math.max(Ext.isStrict?i.documentElement.scrollHeight:i.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(Ext.isStrict?i.documentElement.scrollWidth:i.body.scrollWidth,this.getViewportWidth())},getOrientation:function(){return Ext.supports.OrientationChange?0==n.orientation?"portrait":"landscape":n.innerHeight>n.innerWidth?"portrait":"landscape"},getViewportHeight:function(){return n.innerHeight},getViewportWidth:function(){return n.innerWidth},getViewSize:function(){return{width:e.getViewportWidth(),height:e.getViewportHeight()}},normalize:function(e){return z[e]||(z[e]=e.replace(H,q))},parseBox:function(e){e=e||0;var t,n,i=typeof e;return"number"===i?{top:e,right:e,bottom:e,left:e}:"string"!==i?e:(t=e.split(" "),n=t.length,1===n?t[1]=t[2]=t[3]=t[0]:2===n?(t[2]=t[0],t[3]=t[1]):3===n&&(t[3]=t[1]),{top:parseFloat(t[0])||0,right:parseFloat(t[1])||0,bottom:parseFloat(t[2])||0,left:parseFloat(t[3])||0})},parseStyles:function(e){var t,n={};if(e)for(V.lastIndex=0;t=V.exec(e);)n[t[1]]=t[2]||"";return n},select:function(e,t,n){return Ext.fly(n||i).select(e,t)},query:function(e,t,n){return Ext.fly(n||i).query(e,t)},unitizeBox:function(e,t){var n=this;return e=n.parseBox(e),n.addUnits(e.top,t)+" "+n.addUnits(e.right,t)+" "+n.addUnits(e.bottom,t)+" "+n.addUnits(e.left,t)},serializeForm:function(e){var t,n,r,o,a,s,l,d,u,c=e.elements||(i.forms[e]||Ext.getDom(e)).elements,h=!1,f=encodeURIComponent,g="",p=c.length;for(s=0;p>s;s++)if(t=c[s],n=t.name,r=t.type,o=t.options,
!t.disabled&&n)if(/select-(one|multiple)/i.test(r))for(d=o.length,l=0;d>l;l++)u=o[l],u.selected&&(a=u.hasAttribute?u.hasAttribute("value"):u.getAttributeNode("value").specified,g+=Ext.String.format("{0}={1}&",f(n),f(a?u.value:u.text)));else/file|undefined|reset|button/i.test(r)||/radio|checkbox/i.test(r)&&!t.checked||"submit"==r&&h||(g+=f(n)+"="+f(t.value)+"&",h=/submit/i.test(r));return g.substr(0,g.length-1)}},addCls:function(e,t,n){var i,r,o,a,s,l,d,u=this;if(!e)return u;for(u.isSynchronized||u.synchronize(),r=u.dom,o=u.hasClassMap,a=u.classList,t=t?t+w:"",n=n?w+n:"","string"==typeof e&&(e=e.split(P)),s=0,l=e.length;l>s;s++)d=t+e[s]+n,o[d]||(o[d]=!0,a.push(d),i=!0);return i&&(r.className=a.join(" ")),u},addStyles:function(e,t){var n,i,r=0,o=(e||"").match(T),a=o.length,s=[];if(1===a)r=Math.abs(parseFloat(this.getStyle(t[o[0]]))||0);else if(a){for(n=0;a>n;n++)i=o[n],s.push(t[i]);for(s=this.getStyle(s),n=0;a>n;n++)i=o[n],r+=parseFloat(s[t[i]])||0}return r},addUnits:function(t,n){return e.addUnits(t,n)},adjustDirect2DDimension:function(e){var t,n=this,i=n.dom,r=n.getStyle("display"),o=i.style.display,s=i.style.position,l=e===a?0:1,d=i.currentStyle;return"inline"===r&&(i.style.display="inline-block"),i.style.position=r.match(M)?"absolute":"static",t=(parseFloat(d[e])||2*parseFloat(d.msTransformOrigin.split(" ")[l]))%1,i.style.position=s,"inline"===r&&(i.style.display=o),t},append:function(){this.appendChild.apply(this,arguments)},appendChild:function(e,t){var n,i,r,o=this;if(e.nodeType||e.dom||"string"==typeof e)return e=Ext.getDom(e),o.dom.appendChild(e),t?e:Ext.get(e);if(e.length){for(n=Ext.fly(document.createDocumentFragment()),i=e.length,r=0;i>r;r++)n.appendChild(e[r],t);return o.dom.appendChild(n.dom),t?n.dom:n}return o.createChild(e,null,t)},appendTo:function(e){return Ext.getDom(e).appendChild(this.dom),this},applyStyles:function(t){return t&&("function"==typeof t&&(t=t.call()),"string"==typeof t&&(t=e.parseStyles(t)),"object"==typeof t&&this.setStyle(t)),this},blur:function(){var e=this,t=e.dom;if(t!==i.body){try{t.blur()}catch(n){}return e}return e.focus(void 0,t)},center:function(e){return this.alignTo(e||i,"c-c")},child:function(e,t){var n=this,i=Ext.get(n).id;return n.selectNode(Ext.makeIdSelector(i)+" > "+e,!!t)},createChild:function(e,t,n){return e=e||{tag:"div"},t?Ext.DomHelper.insertBefore(t,e,n!==!0):Ext.DomHelper.append(this.dom,e,n!==!0)},createShim:function(){var e,t=i.createElement("iframe");return t.frameBorder="0",t.className=Ext.baseCSSPrefix+"shim",t.src=Ext.SSL_SECURE_URL,t.setAttribute("role","presentation"),e=Ext.get(this.dom.parentNode.insertBefore(t,this.dom))},contains:function(e){if(!e)return!1;var t=this,n=Ext.getDom(e);return n===t.dom||t.isAncestor(n)},destroy:function(){var e=this,t=e.dom;return e.isDestroyed?void Ext.Logger.warn('Cannot destroy Element "'+e.id+'". Already destroyed.'):(t&&("BODY"===t.tagName?Ext.Error.raise("Cannot destroy body element."):t===i?Ext.Error.raise("Cannot destroy document object."):t===n&&Ext.Error.raise("Cannot destroy window object")),e.isFly||(e.clearListeners(),delete Ext.cache[e.id],e.isDestroyed=!0),void(t&&(t.parentNode&&t.parentNode.removeChild(t),t._extData=e.dom=null)))},detach:function(){var e=this.dom;return e&&e.parentNode&&"BODY"!==e.tagName&&e.parentNode.removeChild(e),this},disableTouchContextMenu:function(){this._contextMenuListenerRemover=this.on({MSHoldVisual:function(e){e.preventDefault()},destroyable:!0,delegated:!1})},disableTouchScroll:function(){this.addCls(j),this.on({touchmove:function(e){e.preventDefault()},translate:!1})},doAddListener:function(t,n,i,r){var o,a,s,l,d=this;return d.blockedEvents[t]||(a=d.mixins.observable.doAddListener,r=r||{},d.longpressEvents[t]&&d.disableTouchContextMenu(),d.normalizeEvent&&(o=d.normalizeEvent(t),o&&(t=o.eventName,r.beforeFn=o.normalizeFn)),e.useDelegatedEvents===!1&&(r.delegated=r.delegated||!1),r.translate!==!1&&(s=d.additiveEvents[t],s&&(r.type=t,t=s,a.apply(d,arguments)),l=d.eventMap[t],l&&(r.type=r.type||t,t=l)),a.apply(d,arguments),delete r.type),d},doRemoveListener:function(t,n,i,r){var o,a,s,l,d=this;return d.blockedEvents[t]||(a=d.mixins.observable.doRemoveListener,r=r||{},d.longpressEvents[t]&&(l=this._contextMenuListenerRemover,l&&l.destroy()),d.normalizeEvent&&(o=d.normalizeEvent(t),o&&(t=o.eventName)),e.useDelegatedEvents===!1&&(r.delegated=r.delegated||!1),r.translate!==!1&&(s=d.additiveEvents[t],s&&(t=s,a.apply(d,arguments)),t=d.eventMap[t]||t),a.apply(d,arguments)),d},doReplaceWith:function(e){var t=this.dom;t.parentNode.replaceChild(Ext.getDom(e),t)},down:function(e,t){return this.selectNode(e,!!t)},findParent:function(e,t,n){var r=this,o=r.dom,a=i.documentElement,s=0;for(t=t||50,isNaN(t)&&(t=Number.MAX_VALUE);o&&1===o.nodeType&&t>s&&o!==a;){if(Ext.fly(o).is(e))return n?Ext.get(o):o;s++,o=o.parentNode}return null},findParentNode:function(e,t,n){var i=Ext.fly(this.dom.parentNode);return i?i.findParent(e,t,n):null},first:function(e,t){return this.matchNode("nextSibling","firstChild",e,t)},focus:function(e,t){var n=this;t=t||n.dom;try{Number(e)?Ext.defer(n.focus,e,n,[null,t]):(Ext.GlobalEvents.fireEvent("beforefocus",t),t.focus())}catch(i){}return n},getAnchorToXY:function(e,t,n,i){return e.getAnchorXY(t,n,i)},getAttribute:function(e,t){var n=this.dom;return t?n.getAttributeNS(t,e)||n.getAttribute(t+":"+e):n.getAttribute(e)||n[e]||null},getBottom:function(e){return(e?this.getLocalY():this.getY())+this.getHeight()},getById:function(e,t){var n=i.getElementById(e)||this.dom.querySelector(Ext.makeIdSelector(e));return t?n:n?Ext.get(n):null},getBorderPadding:function(){var e=this.getStyle(F),t=this.getStyle(L);return{beforeX:(parseFloat(t[R.l])||0)+(parseFloat(e[D.l])||0),afterX:(parseFloat(t[R.r])||0)+(parseFloat(e[D.r])||0),beforeY:(parseFloat(t[R.t])||0)+(parseFloat(e[D.t])||0),afterY:(parseFloat(t[R.b])||0)+(parseFloat(e[D.b])||0)}},getBorderWidth:function(e){return this.addStyles(e,R)},getData:function(){var e=this.dom;return e._extData||(e._extData={})},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},getHeight:function(e,t){var n,i,r=this,o=r.isStyle("display","none");return o?0:(n=r.dom.offsetHeight,Ext.supports.Direct2DBug&&(i=r.adjustDirect2DDimension(s),t?n+=i:i>0&&.5>i&&n++),e&&(n-=r.getBorderWidth("tb")+r.getPadding("tb")),0>n?0:n)},getHtml:function(){return this.dom?this.dom.innerHTML:""},getLeft:function(e){return e?this.getLocalX():this.getX()},getLocalX:function(){var e,t=this,n=t.getStyle("left");return n&&"auto"!==n?W.test(n)?n=parseFloat(n):(n=t.getX(),e=t.dom.offsetParent,e&&(n-=Ext.fly(e).getX())):n=0,n},getLocalXY:function(){var e,t=this,n=t.getStyle(["left","top"]),i=n.left,r=n.top;return i&&"auto"!==i?W.test(i)?i=parseFloat(i):(i=t.getX(),e=t.dom.offsetParent,e&&(i-=Ext.fly(e).getX())):i=0,r&&"auto"!==r?W.test(r)?r=parseFloat(r):(r=t.getY(),e=t.dom.offsetParent,e&&(r-=Ext.fly(e).getY())):r=0,[i,r]},getLocalY:function(){var e,t=this,n=t.getStyle("top");return n&&"auto"!==n?W.test(n)?n=parseFloat(n):(n=t.getY(),e=t.dom.offsetParent,e&&(n-=Ext.fly(e).getY())):n=0,n},getMargin:function(e){var t,n,i,r=this,o={t:"top",l:"left",r:"right",b:"bottom"};if(e)return r.addStyles(e,A);i=[];for(t in A)i.push(A[t]);if(n=r.getStyle(A),n&&"object"==typeof n)for(t in A)n[o[t]]=parseFloat(n[A[t]])||0;return n},getPadding:function(e){return this.addStyles(e,D)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(e){return(e?this.getLocalX():this.getX())+this.getWidth()},getSize:function(e){return{width:this.getWidth(e),height:this.getHeight(e)}},getStyle:function(t,n){var i,r,o,a,s,l,d,u=this,c=u.dom,h="string"!=typeof t,f=u.styleHooks,g=t,p=g,m=1;if(h&&(o={},g=p[0],d=0,!(m=p.length)))return o;if(!c||c.documentElement)return o||"";i=c.style,n?l=i:(l=c.ownerDocument.defaultView.getComputedStyle(c,null),l||(n=!0,l=i));do{if(a=f[g],a||(f[g]=a={name:e.normalize(g)}),a.get?s=a.get(c,u,n,l):(r=a.name,s=l[r]),!h)return s;o[g]=s,g=p[++d]}while(m>d);return o},getStyleValue:function(e){return this.dom.style.getPropertyValue(e)},getTop:function(e){return e?this.getLocalY():this.getY()},getValue:function(e){var t=this.dom.value;return e?parseInt(t,10):t},getViewSize:function(){var t=this.dom;return t===i||t===i.body?{width:e.getViewportWidth(),height:e.getViewportHeight()}:{width:t.clientWidth,height:t.clientHeight}},getVisibilityMode:function(){var t=this,n=t.getData(),i=n.visibilityMode;return void 0===i&&(n.visibilityMode=i=e.DISPLAY),i},getWidth:function(e,t){var n,i,r,o=this,s=o.dom,l=o.isStyle("display","none");return l?0:(Ext.supports.BoundingClientRect?(n=s.getBoundingClientRect(),i=o.vertical&&!Ext.supports.RotatedBoundingClientRect?n.bottom-n.top:n.right-n.left,i=t?i:Math.ceil(i)):i=s.offsetWidth,Ext.supports.Direct2DBug&&!o.vertical&&(r=o.adjustDirect2DDimension(a),t?i+=r:r>0&&.5>r&&i++),e&&(i-=o.getBorderWidth("lr")+o.getPadding("lr")),0>i?0:i)},getX:function(){return this.getXY()[0]},getXY:function(){var e,t=Math.round,n=this.dom,r=0,o=0;if(n!==i&&n!==i.body){try{e=n.getBoundingClientRect()}catch(a){e={left:0,top:0}}r=t(e.left),o=t(e.top)}return[r,o]},getY:function(){return this.getXY()[1]},hasCls:function(e){return this.isSynchronized||this.synchronize(),this.hasClassMap.hasOwnProperty(e)},hide:function(){return this.setVisible(!1),this},insertAfter:function(e){return e=Ext.getDom(e),e.parentNode.insertBefore(this.dom,e.nextSibling),this},insertBefore:function(e){return e=Ext.getDom(e),e.parentNode.insertBefore(this.dom,e),this},insertFirst:function(e,t){return e=e||{},e.nodeType||e.dom||"string"==typeof e?(e=Ext.getDom(e),this.dom.insertBefore(e,this.dom.firstChild),t?e:Ext.get(e)):this.createChild(e,this.dom.firstChild,t)},insertHtml:function(e,t,n){var i=Ext.DomHelper.insertHtml(e,this.dom,t);return n?Ext.get(i):i},insertSibling:function(e,t,n){var i,r,o,a,s=this,l=Ext.DomHelper,d="after"===(t||"before").toLowerCase();if(Ext.isIterable(e)){if(o=e.length,r=Ext.fly(document.createDocumentFragment()),Ext.isArray(e))for(a=0;o>a;a++)i=r.appendChild(e[a],n);else{for(a=0;o>a;a++)r.dom.appendChild(i=e[0]);n===!1&&(i=Ext.get(i))}return s.dom.parentNode.insertBefore(r.dom,d?s.dom.nextSibling:s.dom),i}return e=e||{},e.nodeType||e.dom?(i=s.dom.parentNode.insertBefore(Ext.getDom(e),d?s.dom.nextSibling:s.dom),n||(i=Ext.get(i))):i=d&&!s.dom.nextSibling?l.append(s.dom.parentNode,e,!n):l[d?"insertAfter":"insertBefore"](s.dom,e,!n),i},is:function(e){var t,n=this.dom;return t=e?n.tagName?Ext.isFunction(e)?e(n):n[Ext.supports.matchesSelector](e):!1:!0},isAncestor:function(e){var t=!1,n=this.dom,i=Ext.getDom(e);if(n&&i){if(n.contains)return n.contains(i);if(n.compareDocumentPosition)return!!(16&n.compareDocumentPosition(i));for(;i=i.parentNode;)t=i===n||t}return t},isPainted:function(){return Ext.browser.is.IE?function(){var e=this.dom;return Boolean(e&&0!==e.offsetHeight&&0!==e.offsetWidth)}:function(){var e=this.dom;return Boolean(e&&e.offsetParent)}}(),isStyle:function(e,t){return this.getStyle(e)===t},isVisible:function(e){var n,i=this.dom;if(!i)return!1;for(t||(t=new Ext.dom.Fly),n=i.ownerDocument.documentElement;i!==n;i=i.parentNode){if(!i||11===i.nodeType||t.attach(i).isStyle(m,x)||t.isStyle(E,v))return!1;if(!e)break}return!0},last:function(e,t){return this.matchNode("previousSibling","lastChild",e,t)},matchNode:function(e,t,n,i){var r,o=this.dom;if(!o)return null;for(r=o[t];r;){if(1===r.nodeType&&(!n||Ext.fly(r,"_matchNode").is(n)))return i?r:Ext.get(r);r=r[e]}return null},next:function(e,t){return this.matchNode("nextSibling","nextSibling",e,t)},parent:function(e,t){return this.matchNode("parentNode","parentNode",e,t)},position:function(e,t,n,i){var r=this;!e&&r.isStyle(b,S)?r.setStyle(b,C):e&&r.setStyle(b,e),t&&r.setStyle(y,t),(n||i)&&r.setXY([n||!1,i||!1])},prev:function(e,t){return this.matchNode("previousSibling","previousSibling",e,t)},query:function(e,t,n){var i,r,o,a,s,l,d,u=this.dom;if(!u)return null;for(t=t!==!1,e=e.split(","),n||(i=[]),l=0,r=e.length;r>l;l++)if("string"==typeof e[l]){if(n)return a=u.querySelector(e[l]),t?a:Ext.get(a);for(s=u.querySelectorAll(e[l]),d=0,o=s.length;o>d;d++)i.push(t?s[d]:Ext.get(s[d]))}return i},radioCls:function(e){var t,n=this.dom.parentNode.childNodes;e=Ext.isArray(e)?e:[e];for(var i=0,r=n.length;r>i;i++)t=n[i],t&&1===t.nodeType&&Ext.fly(t).removeCls(e);return this.addCls(e)},redraw:function(){var e=this.dom,t=e.style;t.display="none",e.offsetHeight,t.display=""},remove:function(){this.destroy()},removeChild:function(e){return this.dom.removeChild(Ext.getDom(e)),this},removeCls:function(e,t,n){var i,r,o,a,s,l,d,u=this;if(!e)return u;for(u.isSynchronized||u.synchronize(),n||(n=""),r=u.dom,o=u.hasClassMap,a=u.classList,t=t?t+w:"",n=n?w+n:"","string"==typeof e&&(e=e.split(P)),s=0,l=e.length;l>s;s++)d=t+e[s]+n,o[d]&&(delete o[d],Ext.Array.remove(a,d),i=!0);return i&&(r.className=a.join(" ")),u},repaint:function(){var e=this;return e.addCls(Ext.baseCSSPrefix+"repaint"),setTimeout(function(){e.dom&&Ext.fly(e.dom).removeCls(Ext.baseCSSPrefix+"repaint")},1),e},replace:function(e,t){e=Ext.getDom(e);var n=e.parentNode,i=e.id,r=this.dom;return n||Ext.Error.raise('Cannot replace element "'+i+'". It is not attached to a parent node.'),t!==!1&&i&&Ext.cache[i]?(n.insertBefore(r,e),Ext.get(e).destroy()):n.replaceChild(r,e),this},replaceCls:function(e,t,n,i){var r,o,a,s,l,d,u=this;if(!e&&!t)return u;for(e=e||[],t=t||[],u.isSynchronized||u.synchronize(),i||(i=""),r=u.dom,o=u.hasClassMap,a=u.classList,n=n?n+w:"",i=i?w+i:"","string"==typeof e&&(e=e.split(P)),"string"==typeof t&&(t=t.split(P)),s=0,l=e.length;l>s;s++)d=n+e[s]+i,o[d]&&(delete o[d],Ext.Array.remove(a,d));for(s=0,l=t.length;l>s;s++)d=n+t[s]+i,o[d]||(o[d]=!0,a.push(d));return r.className=a.join(" "),u},replaceWith:function(e){var t,n=this,i=n.dom,r=i.parentNode,o=Ext.cache;return n.clearListeners(),e.nodeType||e.dom||"string"==typeof e?(e=Ext.get(e),t=r.insertBefore(e.dom,i)):t=Ext.DomHelper.insertBefore(i,e),r.removeChild(i),n.dom=t,n.isFly||(delete o[n.id],o[n.id=Ext.id(t)]=n),n},resolveListenerScope:function(e){var t=this.component;return t?t.resolveListenerScope(e):this},select:function(e,t){var n,i;return"string"==typeof e?i=this.query(e,!t):void 0===e.length?Ext.Error.raise("Invalid selector specified: "+e):(i=e,n=!0),t?new Ext.CompositeElement(i,!n):new Ext.CompositeElementLite(i,!0)},selectNode:function(e,t){return this.query(e,t,!0)},set:function(e,t){var n,i,r=this,o=r.dom;for(n in e)e.hasOwnProperty(n)&&(i=e[n],"style"===n?r.applyStyles(i):"cls"===n?o.className=i:t!==!1?void 0===i?o.removeAttribute(n):o.setAttribute(n,i):o[n]=i);return r},setBottom:function(t){return this.dom.style[g]=e.addUnits(t),this},setBorder:function(e){var t=this,n=t.dom.style;e||0===e?(e=t.self.unitizeBox(e===!0?1:e),n.setProperty("border-width",e,"important")):(n.removeProperty("border-top-width"),n.removeProperty("border-right-width"),n.removeProperty("border-bottom-width"),n.removeProperty("border-left-width"))},setCls:function(e){var t,n,i,r=this,o=r.hasClassMap;for("string"==typeof e&&(e=e.split(P)),t=0,n=e.length;n>t;t++)i=e[t],o[i]||(o[i]=!0);r.classList=e.slice(),r.dom.className=e.join(" ")},setHeight:function(t){return this.dom.style[s]=e.addUnits(t),this},setHtml:function(e){this.dom&&(this.dom.innerHTML=e)},setId:function(e){var t=this,n=t.id,i=Ext.cache;return n&&delete i[n],t.dom.id=e,t.id=e,i[e]=t,t},setLeft:function(t){return this.dom.style[p]=e.addUnits(t),this},setLocalX:function(e){var t=this.dom.style;t.right="auto",t.left=null===e?"auto":e+"px"},setLocalXY:function(e,t){var n=this.dom.style;n.right="auto",e&&e.length&&(t=e[1],e=e[0]),null===e?n.left="auto":void 0!==e&&(n.left=e+"px"),null===t?n.top="auto":void 0!==t&&(n.top=t+"px")},setLocalY:function(e){this.dom.style.top=null===e?"auto":e+"px"},setMargin:function(e){var t=this,n=t.dom.style;e||0===e?(e=t.self.unitizeBox(e===!0?5:e),n.setProperty("margin",e,"important")):(n.removeProperty("margin-top"),n.removeProperty("margin-right"),n.removeProperty("margin-bottom"),n.removeProperty("margin-left"))},setMaxHeight:function(t){return this.dom.style[c]=e.addUnits(t),this},setMaxWidth:function(t){return this.dom.style[u]=e.addUnits(t),this},setMinHeight:function(t){return this.dom.style[d]=e.addUnits(t),this},setMinWidth:function(t){return this.dom.style[l]=e.addUnits(t),this},setPadding:function(e){var t=this,n=t.dom.style;e||0===e?(e=t.self.unitizeBox(e===!0?5:e),n.setProperty("padding",e,"important")):(n.removeProperty("padding-top"),n.removeProperty("padding-right"),n.removeProperty("padding-bottom"),n.removeProperty("padding-left"))},setRight:function(t){return this.dom.style[f]=e.addUnits(t),this},setSize:function(t,n){var i=this,r=i.dom.style;return Ext.isObject(t)&&(n=t.height,t=t.width),r.width=e.addUnits(t),r.height=e.addUnits(n),i},setSizeState:function(e){var t,n=this,i=["x-sized","x-unsized","x-stretched"],r=[!0,!1,null],o=r.indexOf(e);return-1!==o&&(t=i[o],i.splice(o,1),n.addCls(t)),n.removeCls(i),n},setStyle:function(t,n){var i,r=this,o=r.dom,a=r.styleHooks,s=o.style,l=t;if("string"==typeof l)i=a[l],i||(a[l]=i={name:e.normalize(l)}),n=null==n?"":n,i.set?i.set(o,n,r):s[i.name]=n,i.afterSet&&i.afterSet(o,n,r);else for(l in t)t.hasOwnProperty(l)&&(i=a[l],i||(a[l]=i={name:e.normalize(l)}),n=t[l],n=null==n?"":n,i.set?i.set(o,n,r):s[i.name]=n,i.afterSet&&i.afterSet(o,n,r));return r},setText:function(e){this.dom.textContent=e},setTop:function(t){return this.dom.style[h]=e.addUnits(t),this},setVisibility:function(e){var t=this.dom.style;e?t.removeProperty("visibility"):t.setProperty("visibility","hidden","important")},setVisibilityMode:function(e){return 1!==e&&2!==e&&3!==e&&Ext.Error.raise("visibilityMode must be one of the following: Ext.Element.DISPLAY, Ext.Element.VISIBILITY, or Ext.Element.OFFSETS"),this.getData().visibilityMode=e,this},setVisible:function(t){var n=this,i=n.getVisibilityMode(),r=t?"removeCls":"addCls";switch(i){case e.DISPLAY:n.removeCls([U,X]),n[r](G);break;case e.VISIBILITY:n.removeCls([G,X]),n[r](U);break;case e.OFFSETS:n.removeCls([U,G]),n[r](X)}return n},setWidth:function(t){return this.dom.style[a]=e.addUnits(t),this},setX:function(e){return this.setXY([e,!1])},setXY:function(e){var t,n=this,i=n.translatePoints(e),r=n.dom.style;n.position(),r.right="auto";for(t in i)isNaN(i[t])||(r[t]=i[t]+"px");return n},setY:function(e){return this.setXY([!1,e])},show:function(){return this.setVisible(!0),this},swapCls:function(e,t,n,i){void 0===n&&(n=!0);var r=this,o=n?e:t,a=n?t:e;return a&&r.removeCls(i?i+"-"+a:a),o&&r.addCls(i?i+"-"+o:o),r},synchronize:function(){var e,t,n,i,r=this,o=r.dom,a={},s=o.className;if(s&&s.length>0)for(e=o.className.split(I),t=0,n=e.length;n>t;t++)i=e[t],a[i]=!0;else e=[];return r.classList=e,r.hasClassMap=a,r.isSynchronized=!0,r},toggleCls:function(e,t){return"boolean"!=typeof t&&(t=!this.hasCls(e)),t?this.addCls(e):this.removeCls(e)},toggle:function(){return this.setVisible(!this.isVisible()),this},translate:function(){var e="webkitTransform"in i.createElement("div").style?"webkitTransform":"transform";return function(t,n,i){this.dom.style[e]="translate3d("+(t||0)+"px, "+(n||0)+"px, "+(i||0)+"px)"}}(),unwrap:function(){var e,t=this.dom,n=t.parentNode;return n?(e=n.parentNode,e.insertBefore(t,n),e.removeChild(n)):(e=document.createDocumentFragment(),e.appendChild(t)),this},up:function(e,t,n){return this.findParentNode(e,t,!n)},update:function(e){return this.setHtml(e)},wrap:function(e,t,n){var i=this,r=i.dom,o=Ext.DomHelper.insertBefore(r,e||{tag:"div"},!0),a=o;return n&&(a=o.selectNode(n)),a.appendChild(r),t?o.dom:o},deprecated:{"5.0":{methods:{cssTranslate:null,getHTML:"getHtml",getOuterHeight:null,getOuterWidth:null,getPageBox:function(t){var n=this,i=n.dom,r="BODY"===i.nodeName,o=r?e.getViewportWidth():i.offsetWidth,a=r?e.getViewportHeight():i.offsetHeight,s=n.getXY(),l=s[1],d=s[0]+o,u=s[1]+a,c=s[0];return t?new Ext.util.Region(l,d,u,c):{left:c,top:l,width:o,height:a,right:d,bottom:u}},getScrollParent:null,isDescendent:null,isTransparent:function(e){var t=this.getStyle(e);return t?k.test(t):!1},purgeAllListeners:"clearListeners",removeAllListeners:"clearListeners",setHTML:"setHtml",setTopLeft:null}}}}},function(e){var t=document,n=e.prototype,i=Ext.supports,r="pointerdown",o="pointermove",a="pointerup",s="pointercancel",l="MSPointerDown",d="MSPointerMove",u="MSPointerUp",c="MSPointerCancel",h="mousedown",f="mousemove",g="mouseup",p="mouseover",m="mouseout",x="mouseenter",E="mouseleave",v="touchstart",y="touchmove",b="touchend",C="touchcancel",S="click",w="dblclick",T="tap",P="doubletap",I=n.eventMap={},k=n.additiveEvents={},M=Ext.id;Ext.id=function(t,n){var i,r,o=Ext.getDom(t,!0);return o?(r=o.id)||(r=M(null,n||e.prototype.identifiablePrefix),Ext.isSandboxed&&(i=Ext.sandboxPrefix||(Ext.sandboxPrefix=Ext.sandboxName.toLowerCase()+"-"),r=i+r),o.id=r):r=M(t,n),r},i.PointerEvents?(I[h]=r,I[f]=o,I[g]=a,I[v]=r,I[y]=o,I[b]=a,I[C]=s,I[S]=T,I[w]=P,I[p]="pointerover",I[m]="pointerout",I[x]="pointerenter",I[E]="pointerleave"):i.MSPointerEvents?(I[r]=l,I[o]=d,I[a]=u,I[s]=c,I[h]=l,I[f]=d,I[g]=u,I[v]=l,I[y]=d,I[b]=u,I[C]=c,I[S]=T,I[w]=P,I[p]="MSPointerOver",I[m]="MSPointerOut"):i.TouchEvents?(I[r]=v,I[o]=y,I[a]=b,I[s]=C,I[h]=v,I[f]=y,I[g]=b,I[S]=T,I[w]=P,Ext.isWebKit&&Ext.os.is.Desktop&&(I[v]=h,I[y]=f,I[b]=g,I[C]=g,k[h]=h,k[f]=f,k[g]=g,k[v]=v,k[y]=y,k[b]=b,k[C]=C,k[r]=h,k[o]=f,k[a]=g,k[s]=g)):(I[r]=h,I[o]=f,I[a]=g,I[s]=g,I[v]=h,I[y]=f,I[b]=g,I[C]=g),n.getTrueXY=n.getXY,Ext.select=e.select,Ext.query=e.query,Ext.apply(Ext,{get:function(t){return e.get(t)},getDom:function(e){return e&&t?e.dom||("string"==typeof e?Ext.getElementById(e):e):null},getBody:function(){if(!Ext._bodyEl){if(!t.body)throw new Error("[Ext.getBody] document.body does not yet exist");Ext._bodyEl=Ext.get(t.body)}return Ext._bodyEl},getHead:function(){return Ext._headEl||(Ext._headEl=Ext.get(t.head||t.getElementsByTagName("head")[0])),Ext._headEl},getDoc:function(){return Ext._docEl||(Ext._docEl=Ext.get(t)),Ext._docEl},getWin:function(){return Ext._winEl||(Ext._winEl=Ext.get(window)),Ext._winEl},removeNode:function(e){var t,n=e&&e.id,i=Ext.cache[n];i?i.destroy():e&&"BODY"!==e.tagName.toUpperCase()&&(t=e.parentNode,t&&t.removeChild(e))}}),Ext.isGarbage=function(e){return e&&1===e.nodeType&&(!e.parentNode||!e.offsetParent&&!(Ext.isIE8?t.all[e.id]:t.getElementById(e.id))&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(e)))}}),Ext.define("Ext.dom.Fly",{extend:"Ext.dom.Element",alternateClassName:"Ext.dom.Element.Fly",isFly:!0,constructor:function(e){this.dom=e,this.el=this},attach:function(e){if(!e)return this.detach();var t=this,n=Ext.cache[e.id];return t.dom=e,t.isSynchronized=!1,n&&(n.isSynchronized=!1),this},detach:function(){this.dom=this.classList=this.hasClassMap=null},addListener:function(){Ext.Error.raise("Cannot use addListener() on Ext.dom.Fly instances. Please use Ext.get() to retrieve an Ext.dom.Element instance instead.")}||null,removeListener:function(){Ext.Error.raise("Cannot use removeListener() on Ext.dom.Fly instances. Please use Ext.get() to retrieve an Ext.dom.Element instance instead.")}||null},function(e){var t={};e.cache=t,Ext.fly=function(n,i){var r,o=null,a=Ext.fly;return i=i||a.caller&&a.caller.$name||"_global",n=Ext.getDom(n),n&&(r=n.nodeType,(Ext.Element.validNodeTypes[r]||!r&&n.window===n)&&(o=Ext.cache[n.id],o&&o.dom===n||(o=t[i]||(t[i]=new e),o.dom=n,o.isSynchronized=!1))),o}}),Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:["Ext.CompositeElementLite"],requires:["Ext.dom.Fly"],isComposite:!0,isLite:!0,statics:{importElementMethods:function(){var e=Ext.dom.Element,t=this.prototype;Ext.Object.each(e.prototype,function(e,n){"function"!=typeof n||t[e]||(t[e]=function(){return this.invoke(e,arguments)})})}},constructor:function(e,t){t?this.elements=e||[]:(this.elements=[],this.add(e))},getElement:function(e){var t=this._fly||(this._fly=new Ext.dom.Fly);return t.attach(e)},transformElement:function(e){return Ext.getDom(e)},getCount:function(){return this.elements.length},add:function(e,t){var n,i,r=this.elements;if(!e)return this;for("string"==typeof e?e=Ext.fly(t||document).query(e):e.isComposite?e=e.elements:Ext.isIterable(e)||(e=[e]),n=0,i=e.length;i>n;++n)r.push(this.transformElement(e[n]));return this},invoke:function(e,t){var n,i,r,o=this,a=o.elements,s=a.length;if(0!==r)for(n=(o.isLite?Ext.dom.Fly:Ext.dom.Element).prototype,r=0;s>r;r++)i=a[r],i&&n[e].apply(o.getElement(i),t);return o},item:function(e){var t=this.elements[e],n=null;return t&&(n=this.getElement(t)),n},slice:function(){return this.elements.slice.apply(this.elements,arguments)},each:function(e,t){var n,i,r=this,o=r.elements,a=o.length;for(n=0;a>n&&(i=o[n],!i||(i=this.getElement(i),e.call(t||i,i,r,n)!==!1));n++);return r},fill:function(e){var t=this;return t.elements=[],t.add(e),t},insert:function(e,t){Ext.Array.insert(this.elements,e,t)},filter:function(e){for(var t,n,i=this,r=i.elements,o=r.length,a=[],s=0,l="function"==typeof e;o>s;s++)n=r[s],t=!1,n&&(n=i.getElement(n),t=l?e.call(n,n,i,s)!==!1:n.is(e),t&&a.push(i.transformElement(n)));return i.elements=a,i},indexOf:function(e){return Ext.Array.indexOf(this.elements,this.transformElement(e))},replaceElement:function(e,t,n){var i,r=isNaN(e)?this.indexOf(e):e;return r>-1&&(t=Ext.getDom(t),n&&(i=this.elements[r],i.parentNode.insertBefore(t,i),Ext.removeNode(i)),Ext.Array.splice(this.elements,r,1,t)),this},clear:function(e){var t=this,n=t.elements,i=n.length-1;if(e)for(;i>=0;i--)Ext.removeNode(n[i]);this.elements=[]},addElements:function(e,t){if(!e)return this;"string"==typeof e&&(e=Ext.dom.Element.selectorFunction(e,t));var n,i=this.elements,r=e.length;for(n=0;r>n;n++)i.push(Ext.get(e[n]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(e){return-1!=this.indexOf(e)},removeElement:function(e,t){e=[].concat(e);var n,i,r,o=this,a=o.elements,s=e.length;for(r=0;s>r;r++)n=e[r],(i=a[n]||a[n=o.indexOf(n)])&&(t&&(i.dom?i.destroy():Ext.removeNode(i)),Ext.Array.erase(a,n,1));return o},destroy:function(){return this.invoke("destroy",arguments)}},function(e){var t=e.prototype;e.importElementMethods(),t.on=t.addListener}),Ext.define("Ext.util.Filter",{isFilter:!0,config:{property:null,value:null,filterFn:null,id:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disabled:!1,operator:null,root:null},scope:null,$configStrict:!1,statics:{createFilterFn:function(e){return e?function(t){var n,i,r=e.isCollection?e.items:e,o=r.length,a=!0;for(n=0;a&&o>n;n++)i=r[n],i.getDisabled()||(a=i.filter(t));return a}:Ext.returnTrue},isInvalid:function(e){var t=e.value;if(!e.filterFn){if(!e.property)return"A Filter requires either a property or a filterFn to be set";if(!(t||0===t||t===!1||""===t&&e.exatchMatch||e.operator))return"A Filter requires either a property and value, or a filterFn to be set"}return!1}},constructor:function(e){var t=Ext.util.Filter.isInvalid(e);t&&Ext.log.warn(t),this.initConfig(e)},filter:function(e){var t=this,n=t._filterFn||t.getFilterFn();return n.call(t.scope||t,e)},getId:function(){var e=this._id;return e||(e=this.getProperty(),e||(e=Ext.id(null,"ext-filter-")),this._id=e),e},getFilterFn:function(){var e,t=this,n=t._filterFn;return n||(e=t.getOperator(),n=e?t.operatorFns[e]:t.createRegexFilter(),t._filterFn=n),n},createRegexFilter:function(){var e=this,t=!!e.getAnyMatch(),n=!!e.getExactMatch(),i=e.getValue(),r=Ext.String.createRegex(i,!t,!t&&n,!e.getCaseSensitive());return function(t){var n=e.getPropertyValue(t);return r?r.test(n):null==n}},getPropertyValue:function(e){var t=this._root,n=null==t?e:e[t];return n[this._property]},getState:function(){var e,t=this.getInitialConfig(),n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return delete n.root,n.value=this.getValue(),n},getScope:function(){return this.scope},serialize:function(){var e=this.getState();return delete e.id,e}},function(){var e,t=this.prototype,n=t.operatorFns={"<":function(e){var t=this._value;return Ext.coerce(this.getPropertyValue(e),t)<t},"<=":function(e){var t=this._value;return Ext.coerce(this.getPropertyValue(e),t)<=t},"=":function(e){var t=this._value;return Ext.coerce(this.getPropertyValue(e),t)==t},">=":function(e){var t=this._value;return Ext.coerce(this.getPropertyValue(e),t)>=t},">":function(e){var t=this._value;return Ext.coerce(this.getPropertyValue(e),t)>t},"!=":function(e){var t=this._value;return Ext.coerce(this.getPropertyValue(e),t)!=t},"in":function(e){var t=this._value;return Ext.Array.contains(t,Ext.coerce(this.getPropertyValue(e),t))},like:function(e){var t=this._value;return t&&Ext.coerce(this.getPropertyValue(e),t).toLowerCase().indexOf(t.toLowerCase())>-1}},i=function(){this._filterFn=null},r=["updateOperator","updateValue"];for(n["=="]=n["="],n.gt=n[">"],n.ge=n[">="],n.lt=n["<"],n.le=n["<="],n.eq=n["="],n.ne=n["!="],e=r.length;e-->0;)t[r[e]]=i}),Ext.util=Ext.util||{},Ext.util.DelayedTask=function(e,t,n,i){var r,o=this,a=function(){var i=Ext.GlobalEvents;clearInterval(o.id),o.id=null,e.apply(t,n||[]),i.hasListeners.idle&&i.fireEvent("idle")};i="boolean"==typeof i?i:!0,o.id=null,o.delay=function(s,l,d,u){i&&o.cancel(),"number"==typeof s&&(r=s),e=l||e,t=d||t,n=u||n,o.id||(o.id=setInterval(a,r))},o.cancel=function(){o.id&&(clearInterval(o.id),o.id=null)}},Ext.define("Ext.util.Event",function(){var e=Array.prototype.slice,t=Ext.Array.insert,n=Ext.Array.toArray,i={};return{requires:"Ext.util.DelayedTask",isEvent:!0,suspended:0,noOptions:{},constructor:function(e,t){this.name=t,this.observable=e,this.listeners=[]},addListener:function(e,n,i,r){var o,a,s,l,d,u,c,h,f,g,p=this;if("string"!=typeof e&&(n=n||p.observable),e||Ext.Error.raise({sourceClass:Ext.getClassName(this.observable),sourceMethod:"addListener",msg:"The specified callback function is undefined"}),!p.isListening(e,n)){if(a=p.createListener(e,n,i,r),p.firing&&(p.listeners=p.listeners.slice(0)),o=p.listeners,h=c=o.length,s=i&&i.priority,d=p._highestNegativePriorityIndex,u=void 0!==d,s)if(l=0>s,!l||u){for(f=l?d:0;c>f;f++)if(g=o[f].o?o[f].o.priority||0:0,s>g){h=f;break}}else p._highestNegativePriorityIndex=h;else u&&(h=d);!l&&d>=h&&p._highestNegativePriorityIndex++,h===c?p.listeners[c]=a:t(p.listeners,h,[a])}return a},createListener:function(e,t,n,i){var r=this,o="this"===t||"controller"===t,a={fn:e,scope:t,ev:r,caller:i,preventClimb:o,defaultScope:o?t:void 0,lateBound:"string"==typeof e&&(!t||o)},s=e,l=!0;return n&&(a.o=n,n.single&&(s=r.createSingle(s,a,n,t),l=!1),n.target&&(s=r.createTargeted(s,a,n,t,l),l=!1),n.delay&&(s=r.createDelayed(s,a,n,t,l),l=!1),n.buffer&&(s=r.createBuffered(s,a,n,t,l),l=!1)),a.fireFn=s,a.allowLookup=l,a},findListener:function(e,t){for(var n,i,r,o=this.listeners,a=o.length;a--;)if(n=o[a],n&&(i=n.scope,r=n.lateBound&&!n.preventClimb?void 0:t||this.observable,n.fn==e&&i==r))return a;return-1},isListening:function(e,t){return-1!==this.findListener(e,t)},removeListener:function(e,t){var n,i,r,o,a=this;if(n=e.fireFn?Ext.Array.indexOf(listeners,e):a.findListener(e,t),-1!=n){if(i=a.listeners[n],r=a._highestNegativePriorityIndex,a.firing&&(a.listeners=a.listeners.slice(0)),i.task&&(i.task.cancel(),delete i.task),o=i.tasks&&i.tasks.length){for(;o--;)i.tasks[o].cancel();delete i.tasks}return a.listeners.splice(n,1),r&&(r>n?a._highestNegativePriorityIndex--:n===r&&n===a.listeners.length&&delete a._highestNegativePriorityIndex),!0}return!1},clearListeners:function(){for(var e=this.listeners,t=e.length;t--;)this.removeListener(e[t].fn,e[t].scope)},suspend:function(){++this.suspended},resume:function(){this.suspended&&--this.suspended},isSuspended:function(){return this.suspended>0},fire:function(){var t,n,i,r,o,a=this,s=a.listeners,l=s.length;if(!a.suspended&&l>0)for(a.firing=!0,i=arguments.length?e.call(arguments,0):[],o=i.length,n=0;l>n;n++)if(r=s[n],r.o&&(i[o]=r.o),r&&(t=a.getFireInfo(r),t.fn.apply(t.scope,i)===!1))return a.firing=!1;return a.firing=!1,!0},getFireInfo:function(e,t){var n=this.observable,r=t?e.fn:e.fireFn,o=e.scope,a=e.caller,s=r;return(t||e.allowLookup)&&e.lateBound?(o=(a||n).resolveListenerScope(e.defaultScope),
r=o[r]):o=o||n,i.fn=r,i.scope=o,r||Ext.Error.raise('Unable to dynamically resolve method "'+s+'"'),i},createTargeted:function(e,t,n,i,r){return function(){if(n.target===arguments[0]){var o;r&&(o=t.ev.getFireInfo(t,!0),e=o.fn,i=o.scope),e.apply(i,arguments)}}},createBuffered:function(e,t,i,r,o){return t.task=new Ext.util.DelayedTask,function(){var a;o&&(a=t.ev.getFireInfo(t,!0),e=a.fn,r=a.scope),t.task.delay(i.buffer,e,r,n(arguments))}},createDelayed:function(e,t,i,r,o){return function(){var a,s=new Ext.util.DelayedTask;o&&(a=t.ev.getFireInfo(t,!0),e=a.fn,r=a.scope),t.tasks||(t.tasks=[]),t.tasks.push(s),s.delay(i.delay||10,e,r,n(arguments))}},createSingle:function(e,t,n,i){return function(){var e=t.ev,n=e.getFireInfo(t,!0);e.removeListener(t.fn,i)&&e.observable&&e.observable.hasListeners[e.name]--,n.fn.apply(n.scope,arguments)}}}}),Ext.define("Ext.util.Observable",function(e){var t=Ext.emptyFn,n=[],i=Array.prototype,r=i.slice,o=Ext.$eventNameMap,a=function(e){return e instanceof a?e:(this.observable=e,arguments[1].isObservable&&(this.managedListeners=!0),void(this.args=r.call(arguments,1)))};return a.prototype.destroy=function(){var e=this.observable;e[this.managedListeners?"mun":"un"].apply(e,this.args)},{mixinId:"observable",requires:["Ext.util.Event"],statics:{releaseCapture:function(e){e.fireEventArgs=this.prototype.fireEventArgs},capture:function(e,t,n){var i=function(e,i){return t.apply(n,[e].concat(i))};this.captureArgs(e,i,n)},captureArgs:function(e,t,n){e.fireEventArgs=Ext.Function.createInterceptor(e.fireEventArgs,t,n)},observe:function(e,t){return e&&(e.isObservable||(Ext.applyIf(e,new this),this.captureArgs(e.prototype,e.fireEventArgs,e)),Ext.isObject(t)&&e.on(t)),e},prepareClass:function(t,n,i){var n,r=t.listeners=[],o=i?i.listeners:t.prototype.listeners;if(n?r.push(n.listeners):r.push(t.superclass.self.listeners),o&&r.push(o),!t.HasListeners){var a=function(){},s=t.superclass.HasListeners||n&&n.HasListeners||e.HasListeners;t.prototype.HasListeners=t.HasListeners=a,a.prototype=t.hasListeners=new s}}},isObservable:!0,isUtilObservable:!0,eventsSuspended:0,constructor:function(e){var t,n=this,i=n.self;e&&Ext.apply(n,e),n.hasListeners=new n.HasListeners,n.events=n.events||{},t=i.listeners,t&&!n._addDeclaredListeners(t)&&(i.listeners=null),n.listeners&&(n.on(n.listeners),n.listeners=null),n.bubbleEvents&&n.enableBubble(n.bubbleEvents)},onClassExtended:function(t){t.HasListeners||e.prepareClass(t)},eventOptionsRe:/^(?:scope|delay|buffer|onFrame|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|priority)$/,_addDeclaredListeners:function(e){var t=this;return e instanceof Array?Ext.each(e,t._addDeclaredListeners,t):(t._addedDeclaredListeners=!0,t.addListener(e)),t._addedDeclaredListeners},addManagedListener:function(e,n,i,r,o,s){var l,d,u=this,c=u.managedListeners=u.managedListeners||[];if("string"!=typeof n){d=arguments.length>4?o:n,o=n;for(n in o)o.hasOwnProperty(n)&&(l=o[n],u.eventOptionsRe.test(n)||u.addManagedListener(e,n,l.fn||l,l.scope||o.scope||r,l.fn?l:d,!0));if(o&&o.destroyable)return new a(u,e,o)}else if(i!==t&&(c.push({item:e,ename:n,fn:i,scope:r,options:o}),e.isUtilObservable?e.on(n,i,r,o,u):e.on(n,i,r,o),!s&&o&&o.destroyable))return new a(u,e,n,i,r)},removeManagedListener:function(e,t,n,i){var r,o,a,s,l,d=this;if("string"!=typeof t){r=t;for(t in r)r.hasOwnProperty(t)&&(o=r[t],d.eventOptionsRe.test(t)||d.removeManagedListener(e,t,o.fn||o,o.scope||r.scope||i))}else for(a=d.managedListeners?d.managedListeners.slice():[],"string"==typeof n&&i&&"this"!==i&&"controller"!==i&&!a.length&&d.resolveMethod(n,i),l=0,s=a.length;s>l;l++)d.removeManagedListenerItem(!1,a[l],e,t,n,i)},fireEvent:function(e){return this.fireEventArgs(e,r.call(arguments,1))},resolveListenerScope:function(e){return"controller"===e&&Ext.Error.raise('scope: "controller" can only be specified on components that derive from component'),"this"===e&&(e=null),e||this},fireEventArgs:function(e,t){e=o[e]||(o[e]=e.toLowerCase());var i=this,r=i.events,a=r&&r[e],s=!0;return i.hasListeners[e]&&(s=i.doFireEvent(e,t||n,a?a.bubble:!1)),s},doFireEvent:function(e,t,n){var i,r,o=this,a=!0;do{if(o.eventsSuspended)return(i=o.eventQueue)&&i.push([e,t]),a;if(r=o.events&&o.events[e],r&&r!==!0&&(a=r.fire.apply(r,t))===!1)break}while(n&&(o=o.getBubbleParent()));return a},getBubbleParent:function(){var e=this,t=e.getBubbleTarget&&e.getBubbleTarget();return t&&t.isObservable?t:null},addListener:function(e,n,i,r,s){var l,d,u=this,c=0;if("string"!=typeof e){r=e;for(e in r)l=r[e],u.eventOptionsRe.test(e)||u.addListener(e,l.fn||l,l.scope||r.scope,l.fn?l:r,s);if(r&&r.destroyable)return new a(u,r)}else if(e=o[e]||(o[e]=e.toLowerCase()),d=(u.events||(u.events={}))[e],d&&d.isEvent?c=d.listeners.length:u.events[e]=d=new Ext.util.Event(u,e),"string"==typeof n&&i&&"this"!==i&&"controller"!==i?n=u.resolveMethod(n,i):("string"!=typeof n||i&&"this"!==i&&"controller"!==i)&&Ext.Assert.isFunction(n,"No function passed for event "+u.$className+"."+e),n!==t&&(d.addListener(n,i,r,s),d.listeners.length!==c&&u.hasListeners._incr_(e),r&&r.destroyable))return new a(u,e,n,i,r)},removeListener:function(e,t,n){var i,r,a,s=this,l=s.events;if("string"!=typeof e){a=e;for(e in a)a.hasOwnProperty(e)&&(i=a[e],s.eventOptionsRe.test(e)||s.removeListener(e,i.fn||i,i.scope||a.scope))}else e=o[e]||(o[e]=e.toLowerCase()),r=l&&l[e],r&&r.isEvent&&("string"==typeof t&&n&&"this"!==n&&"controller"!==n&&(t=s.resolveMethod(t,n)),r.removeListener(t,n)&&s.hasListeners._decr_(e))},clearListeners:function(){var e,t,n=this,i=n.events,r=n.hasListeners;if(i)for(t in i)i.hasOwnProperty(t)&&(e=i[t],e.isEvent&&(delete r[t],e.clearListeners()));n.clearManagedListeners()},purgeListeners:function(){return Ext.global.console&&Ext.global.console.warn("Observable: purgeListeners has been deprecated. Please use clearListeners."),this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){for(var e=this,t=e.managedListeners||[],n=0,i=t.length;i>n;n++)e.removeManagedListenerItem(!0,t[n]);e.managedListeners=[]},removeManagedListenerItem:function(e,t,n,i,r,o){!e&&(t.item!==n||t.ename!==i||r&&t.fn!==r||o&&t.scope!==o)||(t.item.un(t.ename,t.fn,t.scope),e||Ext.Array.remove(this.managedListeners,t))},purgeManagedListeners:function(){return Ext.global.console&&Ext.global.console.warn("Observable: purgeManagedListeners has been deprecated. Please use clearManagedListeners."),this.clearManagedListeners.apply(this,arguments)},resolveMethod:function(e,t){return e||Ext.Error.raise("No function specified"),t&&Ext.isObject(t)||Ext.Error.raise('Named method "'+e+'" requires a scope object'),Ext.isFunction(t[e])||Ext.Error.raise('No method named "'+e+'" on '+(t.$className||"scope object")),t[e]},hasListener:function(e){return e=o[e]||(o[e]=e.toLowerCase()),!!this.hasListeners[e]},isSuspended:function(e){var t=this.eventsSuspended>0,n=this.events;return!t&&e&&n&&(e=n[e],e&&e.isEvent)?e.isSuspended():t},suspendEvents:function(e){++this.eventsSuspended,e&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(){var e,t,n,i=this,r=i.events||(i.events={}),a=arguments.length;for(e=0;a>e;e++)n=arguments[e],n=o[n]||(o[n]=n.toLowerCase()),t=r[n],t&&t.isEvent||(r[n]=t=new Ext.util.Event(i,n)),t.suspend()},resumeEvent:function(){var e,t,n=this.events||0,i=n&&arguments.length;for(e=0;i>e;e++)t=n[arguments[e]],t&&t.resume&&t.resume()},resumeEvents:function(e){var t,n,i=this,r=i.eventQueue;if(i.eventsSuspended&&!--i.eventsSuspended&&(delete i.eventQueue,!e&&r))for(t=r.length,n=0;t>n;n++)i.fireEventArgs.apply(i,r[n])},relayEvents:function(e,t,n){for(var i,r=this,o=t.length,s=0,l={};o>s;s++)i=t[s],l[i]=r.createRelayer(n?n+i:i);return r.mon(e,l,null,null,void 0),new a(r,e,l)},createRelayer:function(e,t){var n=this;return function(){return n.fireEventArgs.call(n,e,t?r.apply(arguments,t):arguments)}},enableBubble:function(e){if(e){var t,n,i,r=this,a="string"==typeof e?arguments:e,s=r.events||(r.events={}),l=s&&a.length;for(i=0;l>i;++i)t=a[i],t=o[t]||(o[t]=t.toLowerCase()),n=s[t],n&&n.isEvent||(s[t]=n=new Ext.util.Event(r,t)),r.hasListeners._incr_(t),n.bubble=!0}},deprecated:{"5.0":{methods:{addEvents:null}}}}},function(){function e(e){var t,n,i,r,o=(this.methodEvents=this.methodEvents||{})[e],a=this;return o||(this.methodEvents[e]=o={},o.originalFn=this[e],o.methodName=e,o.before=[],o.after=[],r=function(e,r,o){void 0!==(n=e.apply(r||a,o))&&("object"==typeof n?(t=void 0!==n.returnValue?n.returnValue:n,i=!!n.cancel):n===!1?i=!0:t=n)},this[e]=function(){var e,s,l,d=Array.prototype.slice.call(arguments,0);for(t=n=void 0,i=!1,s=0,l=o.before.length;l>s;s++)if(e=o.before[s],r(e.fn,e.scope,d),i)return t;for(void 0!==(n=o.originalFn.apply(a,d))&&(t=n),s=0,l=o.after.length;l>s;s++)if(e=o.after[s],r(e.fn,e.scope,d),i)return t;return t}),o}var t=this,n=t.prototype,i=function(){},r=function(e){if(!e.HasListeners){var n=e.prototype;t.prepareClass(e,this),e.onExtended(function(e,n){Ext.classSystemMonitor&&Ext.classSystemMonitor("extend mixin",arguments),t.prepareClass(e,null,n)}),n.onClassMixedIn?Ext.override(e,{onClassMixedIn:function(e){r.call(this,e),this.callParent(arguments)}}):n.onClassMixedIn=function(e){r.call(this,e)}}};i.prototype={_decr_:function(e){--this[e]||delete this[e]},_incr_:function(e){this.hasOwnProperty(e)?++this[e]:this[e]=1}},n.HasListeners=t.HasListeners=i,t.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"}),t.observeClass=t.observe,Ext.apply(n,{onClassMixedIn:r,beforeMethod:function(t,n,i){e.call(this,t).before.push({fn:n,scope:i})},afterMethod:function(t,n,i){e.call(this,t).after.push({fn:n,scope:i})},removeMethodListener:function(e,t,n){var i,r,o=this.getMethodEvent(e);for(i=0,r=o.before.length;r>i;i++)if(o.before[i].fn==t&&o.before[i].scope==n)return void Ext.Array.erase(o.before,i,1);for(i=0,r=o.after.length;r>i;i++)if(o.after[i].fn==t&&o.after[i].scope==n)return void Ext.Array.erase(o.after,i,1)},toggleEventLogging:function(e){Ext.util.Observable[e?"capture":"releaseCapture"](this,function(e){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(e,arguments)})}})}),Ext.define("Ext.util.AbstractMixedCollection",{requires:["Ext.util.Filter"],mixins:{observable:"Ext.util.Observable"},isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(e,t){var n=this;1===arguments.length&&Ext.isObject(e)?(n.initialConfig=e,Ext.apply(n,e)):(n.allowFunctions=e===!0,t&&(n.getKey=t),n.initialConfig={allowFunctions:n.allowFunctions,getKey:n.getKey}),n.items=[],n.map={},n.keys=[],n.indexMap={},n.length=0,n.mixins.observable.constructor.call(n)},allowFunctions:!1,add:function(e,t){var n,i=this.length;return n=1===arguments.length?this.insert(i,e):this.insert(i,e,t)},getKey:function(e){return e.id},replace:function(e,t){var n,i,r=this;return 1==arguments.length&&(t=arguments[0],e=r.getKey(t)),n=r.map[e],"undefined"==typeof e||null===e||"undefined"==typeof n?r.add(e,t):(r.generation++,i=r.indexOfKey(e),r.items[i]=t,r.map[e]=t,r.hasListeners.replace&&r.fireEvent("replace",e,n,t),t)},updateKey:function(e,t){var n,i=this,r=i.map,o=i.indexOfKey(e),a=i.indexMap;o>-1&&(n=r[e],delete r[e],delete a[e],r[t]=n,a[t]=o,i.keys[o]=t,i.indexGeneration=++i.generation)},addAll:function(e){var t,n=this;if(arguments.length>1||Ext.isArray(e))n.insert(n.length,arguments.length>1?arguments:e);else for(t in e)e.hasOwnProperty(t)&&(n.allowFunctions||"function"!=typeof e[t])&&n.add(t,e[t])},each:function(e,t){for(var n,i=Ext.Array.push([],this.items),r=0,o=i.length;o>r&&(n=i[r],e.call(t||n,n,r,o)!==!1);r++);},eachKey:function(e,t){for(var n=this.keys,i=this.items,r=0,o=n.length;o>r;r++)e.call(t||window,n[r],i[r],r,o)},findBy:function(e,t){for(var n=this.keys,i=this.items,r=0,o=i.length;o>r;r++)if(e.call(t||window,i[r],n[r]))return i[r];return null},find:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead."),this.findBy.apply(this,arguments)},insert:function(e,t,n){var i;return Ext.isIterable(t)?i=this.doInsert(e,t,n):(i=arguments.length>2?this.doInsert(e,[t],[n]):this.doInsert(e,[t]),i=i[0]),i},doInsert:function(e,t,n){var i,r,o,a,s,l,d,u=this,c=t.length,h=c,f=u.hasListeners.add,g={};if(null!=n)u.useLinearSearch=!0;else for(n=t,t=new Array(c),o=0;c>o;o++)t[o]=this.getKey(n[o]);for(u.suspendEvents(),o=0;c>o;o++)i=t[o],r=u.indexOfKey(i),-1!==r&&(e>r&&e--,u.removeAt(r)),null!=i&&(null!=g[i]&&(s=!0,h--),g[i]=o);if(u.resumeEvents(),s){l=t,d=n,t=new Array(h),n=new Array(h),o=0;for(i in g)t[o]=l[g[i]],n[o]=d[g[i]],o++;c=h}for(a=e===u.length&&u.indexGeneration===u.generation,Ext.Array.insert(u.items,e,n),Ext.Array.insert(u.keys,e,t),u.length+=c,u.generation++,a&&(u.indexGeneration=u.generation),o=0;c>o;o++,e++)i=t[o],null!=i&&(u.map[i]=n[o],a&&(u.indexMap[i]=e)),f&&u.fireEvent("add",e,n[o],i);return n},remove:function(e){var t,n,i=this;return n=!i.useLinearSearch&&(t=i.getKey(e))?i.indexOfKey(t):Ext.Array.indexOf(i.items,e),-1===n?!1:i.removeAt(n)},removeAll:function(e){var t,n=this;if(e||n.hasListeners.remove)if(e)for(t=e.length-1;t>=0;--t)n.remove(e[t]);else for(;n.length;)n.removeAt(0);else n.length=n.items.length=n.keys.length=0,n.map={},n.indexMap={},n.generation++,n.indexGeneration=n.generation},removeAt:function(e){var t,n,i=this;return e<i.length&&e>=0?(i.length--,t=i.items[e],Ext.Array.erase(i.items,e,1),n=i.keys[e],"undefined"!=typeof n&&delete i.map[n],Ext.Array.erase(i.keys,e,1),i.hasListeners.remove&&i.fireEvent("remove",t,n),i.generation++,t):!1},removeRange:function(e,t){var n,i,r,o,a,s,l=this;if(e<l.length&&e>=0){for(t||(t=1),o=Math.min(e+t,l.length),t=o-e,s=o===l.length,a=s&&l.indexGeneration===l.generation,r=e;o>r;r++)i=l.keys[r],null!=i&&(delete l.map[i],a&&delete l.indexMap[i]);return n=l.items[r-1],l.length-=t,l.generation++,a&&(l.indexGeneration=l.generation),s?l.items.length=l.keys.length=l.length:(l.items.splice(e,t),l.keys.splice(e,t)),n}return!1},removeAtKey:function(e){var t,n=this,i=n.keys;if(null!=e)return n.removeAt(n.indexOfKey(e));for(t=i.length-1;t>=0;t--)null==i[t]&&n.removeAt(t)},getCount:function(){return this.length},indexOf:function(e){var t,n=this;return null!=e?!n.useLinearSearch&&(t=n.getKey(e))?this.indexOfKey(t):Ext.Array.indexOf(n.items,e):-1},indexOfKey:function(e){return this.map.hasOwnProperty(e)?(this.indexGeneration!==this.generation&&this.rebuildIndexMap(),this.indexMap[e]):-1},rebuildIndexMap:function(){var e,t=this,n=t.indexMap={},i=t.keys,r=i.length;for(e=0;r>e;e++)n[i[e]]=e;t.indexGeneration=t.generation},get:function(e){var t=this,n=t.map[e],i=void 0!==n?n:"number"==typeof e?t.items[e]:void 0;return"function"!=typeof i||t.allowFunctions?i:null},getAt:function(e){return this.items[e]},getByKey:function(e){return this.map[e]},contains:function(e){var t,n=this;return null!=e?!n.useLinearSearch&&(t=n.getKey(e))?null!=this.map[t]:-1!==Ext.Array.indexOf(this.items,e):!1},containsKey:function(e){return this.map.hasOwnProperty(e)},clear:function(){var e=this;e.generation&&(e.length=0,e.items=[],e.keys=[],e.map={},e.indexMap={},e.generation++,e.indexGeneration=e.generation),e.hasListeners.clear&&e.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(e,t,n,i){var r,o=this.extractValues(e,t),a=o.length,s=0;for(n=n||0,i=i||0===i?i:a-1,r=n;i>=r;r++)s+=o[r];return s},collect:function(e,t,n){var i,r,o,a=this.extractValues(e,t),s=a.length,l={},d=[];for(o=0;s>o;o++)i=a[o],r=String(i),!n&&Ext.isEmpty(i)||l[r]||(l[r]=!0,d.push(i));return d},extractValues:function(e,t){var n=this.items;return t&&(n=Ext.Array.pluck(n,t)),Ext.Array.pluck(n,e)},hasRange:function(e,t){return t<this.length},getRange:function(e,t){var n,i,r=this,o=r.items,a=[],s=o.length;return 1>s?a:(e>t&&(i=!0,n=e,e=t,t=n),0>e&&(e=0),(null==t||t>=s)&&(t=s-1),a=o.slice(e,t+1),i&&a.length&&a.reverse(),a)},filter:function(e,t,n,i){var r=[];return Ext.isString(e)?r.push(new Ext.util.Filter({property:e,value:t,anyMatch:n,caseSensitive:i})):(Ext.isArray(e)||e instanceof Ext.util.Filter)&&(r=r.concat(e)),this.filterBy(Ext.util.Filter.createFilterFn(r))},filterBy:function(e,t){var n,i=this,r=new i.self(i.initialConfig),o=i.keys,a=i.items,s=a.length;for(r.getKey=i.getKey,n=0;s>n;n++)e.call(t||i,a[n],o[n])&&r.add(o[n],a[n]);return r.useLinearSearch=i.useLinearSearch,r},findIndex:function(e,t,n,i,r){return Ext.isEmpty(t,!1)?-1:(t=this.createValueMatcher(t,i,r),this.findIndexBy(function(n){return n&&t.test(n[e])},null,n))},findIndexBy:function(e,t,n){for(var i=this,r=i.keys,o=i.items,a=n||0,s=o.length;s>a;a++)if(e.call(t||i,o[a],r[a]))return a;return-1},createValueMatcher:function(e,t,n,i){if(!e.exec){var r=Ext.String.escapeRegex;e=String(e),t===!0?e=r(e):(e="^"+r(e),i===!0&&(e+="$")),e=new RegExp(e,n?"":"i")}return e},clone:function(){var e=this,t=new e.self(e.initialConfig);return t.add(e.keys,e.items),t.useLinearSearch=e.useLinearSearch,t}}),Ext.define("Ext.util.Sorter",{isSorter:!0,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:void 0},statics:{createComparator:function(e,t){return t=t||0,function(n,i){var r,o,a=e.isCollection?e.items:e,s=a.length;for(o=0;s>o;++o)if(r=a[o].sort(n,i))return r;return t&&t(n,i)}}},multiplier:1,constructor:function(e){e&&!this.isGrouper&&!e.property==!e.sorterFn&&Ext.Error.raise("A Sorter requires either a property or a sorterFn."),this.initConfig(e)},getId:function(){var e=this._id;return e||(e=this.getProperty(),e||(e=Ext.id(null,"ext-sorter-")),this._id=e),e},sort:function(e,t){return this.multiplier*this.sortFn(e,t)},sortFn:function(e,t){var n,i,r=this,o=r._transform,a=r._root,s=r._property;return a&&(e=e[a],t=t[a]),n=e[s],i=t[s],o&&(n=o(n),i=o(i)),n>i?1:i>n?-1:0},applyDirection:function(e){return e?e:"ASC"},updateDirection:function(e){this.multiplier="DESC"===e.toUpperCase()?-1:1},updateProperty:function(e){e&&delete this.sortFn},updateSorterFn:function(e){this.sortFn=e},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))},getState:function(){return{root:this.getRoot(),property:this.getProperty(),direction:this.getDirection()}},serialize:function(){return{property:this.getProperty(),direction:this.getDirection()}}}),Ext.define("Ext.util.Sortable",{isSortable:!0,$configPrefixed:!1,$configStrict:!1,config:{sorters:null},defaultSortDirection:"ASC",requires:["Ext.util.Sorter"],multiSortLimit:3,statics:{createComparator:function(e){return e&&e.length?function(t,n){for(var i=e[0].sort(t,n),r=e.length,o=1;!i&&r>o;o++)i=e[o].sort.call(this,t,n);return i}:function(){return 0}}},applySorters:function(e){var t=this,n=t.getSorters()||new Ext.util.MixedCollection(!1,Ext.returnId);return e&&n.addAll(t.decodeSorters(e)),n},sort:function(e,t,n,i){var r,o,a=this,s=a.getSorters();if(s||(a.setSorters(null),s=a.getSorters()),Ext.isArray(e)?(i=n,n=t):Ext.isObject(e)?(e=[e],i=n,n=t):Ext.isString(e)&&(r=s.get(e),r?null==t?r.toggle():r.setDirection(t):r={property:e,direction:t},e=[r]),e&&e.length)switch(e=a.decodeSorters(e),n){case"multi":s.insert(0,e[0]),o=s.getCount()-a.multiSortLimit,o>0&&s.removeRange(a.multiSortLimit,o);break;case"prepend":s.insert(0,e);break;case"append":s.addAll(e);break;case void 0:case null:case"replace":s.clear(),s.addAll(e);break;default:Ext.Error.raise('Sorter insertion point must be "multi", "prepend", "append" or "replace"')}return i!==!1&&(a.fireEvent("beforesort",a,e),a.onBeforeSort(e),a.getSorterCount()&&a.doSort(a.generateComparator())),e},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var e=this.getSorters().getRange();return e.length?this.createComparator(e):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(e){Ext.isArray(e)||(e=void 0===e?[]:[e]);var t,n,i,r=e.length,o=Ext.util.Sorter,a=this.getModel?this.getModel():this.model;for(i=0;r>i;i++)n=e[i],n instanceof o||(Ext.isString(n)&&(n={property:n}),Ext.applyIf(n,{root:this.sortRoot,direction:"ASC"}),n.fn&&(n.sorterFn=n.fn),"function"==typeof n&&(n={sorterFn:n}),a&&!n.transform&&(t=a.getField(n.property),n.transform=t&&t.sortType!==Ext.identityFn?t.sortType:void 0),e[i]=new Ext.util.Sorter(n));return e},getFirstSorter:function(){for(var e,t=this.getSorters().items,n=t.length,i=0;n>i;++i)if(e=t[i],!e.isGrouper)return e;return null}},function(){this.prototype.createComparator=this.createComparator}),Ext.define("Ext.util.MixedCollection",{extend:"Ext.util.AbstractMixedCollection",mixins:{sortable:"Ext.util.Sortable"},constructor:function(){var e=this;e.initConfig(),e.callParent(arguments)},doSort:function(e){this.sortBy(e)},_sort:function(e,t,n){var i,r,o,a=this,s="DESC"==String(t).toUpperCase()?-1:1,l=[],d=a.keys,u=a.items;for(n=n||function(e,t){return e-t},i=0,r=u.length;r>i;i++)l[l.length]={key:d[i],value:u[i],index:i};for(Ext.Array.sort(l,function(t,i){return n(t[e],i[e])*s||(t.index<i.index?-1:1)}),i=0,r=l.length;r>i;i++)o=l[i],u[i]=o.value,d[i]=o.key,a.indexMap[o.key]=i;a.generation++,a.indexGeneration=a.generation,a.fireEvent("sort",a)},sortBy:function(e){var t,n,i,r=this,o=r.items,a=r.keys,s=o.length;for(i=0;s>i;i++)o[i].$extCollectionIndex=i;for(Ext.Array.sort(o,function(t,n){return e(t,n)||(t.$extCollectionIndex<n.$extCollectionIndex?-1:1)}),i=0;s>i;i++)t=o[i],n=r.getKey(t),a[i]=n,r.indexMap[n]=i,delete o.$extCollectionIndex;r.generation++,r.indexGeneration=r.generation,r.fireEvent("sort",r,o,a)},findInsertionIndex:function(e,t){var n,i,r=this,o=r.items,a=0,s=o.length-1;for(t||(t=r.generateComparator());s>=a;)n=a+s>>1,i=t(e,o[n]),i>=0?a=n+1:0>i&&(s=n-1);return a},reorder:function(e){var t,n=this,i=n.items,r=0,o=i.length,a=[],s=[];n.suspendEvents();for(t in e)a[e[t]]=i[t];for(r=0;o>r;r++)void 0==e[r]&&s.push(i[r]);for(r=0;o>r;r++)void 0==a[r]&&(a[r]=s.shift());n.clear(),n.addAll(a),n.resumeEvents(),n.fireEvent("sort",n)},sortByKey:function(e,t){this._sort("key",e,t||function(e,t){var n=String(e).toUpperCase(),i=String(t).toUpperCase();return n>i?1:i>n?-1:0})}}),Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(e){var t=this;"number"==typeof e?t.interval=e:e&&Ext.apply(t,e),t.tasks=[],t.timerFn=Ext.Function.bind(t.onTick,t)},newTask:function(e){var t=new Ext.util.TaskRunner.Task(e);return t.manager=this,t},start:function(e){var t=this,n=Ext.Date.now();return e.pending||(t.tasks.push(e),e.pending=!0),e.stopped=!1,e.taskStartTime=n,e.taskRunTime=e.fireOnStart!==!1?0:e.taskStartTime,e.taskRunCount=0,t.firing||(e.fireOnStart!==!1?t.startTimer(0,n):t.startTimer(e.interval,n)),e},stop:function(e){return e.stopped||(e.stopped=!0,e.onStop&&e.onStop.call(e.scope||e,e)),e},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1e99,onTick:function(){var e,t,n,i,r,o,a,s=this,l=s.tasks,d=Ext.Date.now(),u=1e99,c=l.length,h=Ext.GlobalEvents;for(s.timerId=null,s.firing=!0,n=0;c>n||n<(c=l.length);++n){if(i=l[n],!(o=i.stopped)){if(e=i.taskRunTime+i.interval,d>=e){r=1,a=i.hasOwnProperty("fireIdleEvent")?i.fireIdleEvent:s.fireIdleEvent;try{r=i.run.apply(i.scope||i,i.args||[++i.taskRunCount])}catch(f){try{Ext.log({msg:f,level:"error"}),i.onError&&(r=i.onError.call(i.scope||i,i,f))}catch(g){}}i.taskRunTime=d,r===!1||i.taskRunCount===i.repeat?(s.stop(i),o=!0):(o=i.stopped,e=d+i.interval)}!o&&i.duration&&i.duration<=d-i.taskStartTime&&(s.stop(i),o=!0)}o?(i.pending=!1,t||(t=l.slice(0,n))):(t&&t.push(i),u>e&&(u=e))}t&&(s.tasks=t),s.firing=!1,s.tasks.length&&s.startTimer(u-d,Ext.Date.now()),a!==!1&&h.hasListeners.idle&&h.fireEvent("idle")},startTimer:function(e,t){var n=this,i=t+e,r=n.timerId;r&&n.nextExpires-i>n.interval&&(clearTimeout(r),r=null),r||(e<n.interval&&(e=n.interval),n.timerId=setTimeout(n.timerFn,e),n.nextExpires=i)}},function(){var e=this,t=e.prototype;t.destroy=t.stopAll,e.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(e){Ext.apply(this,e)},restart:function(e){void 0!==e&&(this.interval=e),this.manager.start(this)},start:function(e){this.stopped&&this.restart(e)},stop:function(){this.manager.stop(this)}}),t=e.Task.prototype,t.destroy=t.stop}),Ext.define("Ext.fx.target.Target",{isAnimTarget:!0,constructor:function(e){this.target=e,this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}}),Ext.define("Ext.fx.target.Element",{extend:"Ext.fx.target.Target",type:"element",getElVal:function(e,t,n){return void 0==n&&(n="x"===t?e.getX():"y"===t?e.getY():"scrollTop"===t?e.getScroll().top:"scrollLeft"===t?e.getScroll().left:"height"===t?e.getHeight():"width"===t?e.getWidth():e.getStyle(t)),n},getAttr:function(e,t){var n=this.target;return[[n,this.getElVal(n,e,t)]]},setAttr:function(e){var t,n,i,r,o,a,s=(this.target,e.length);for(r=0;s>r;r++){t=e[r].attrs;for(n in t)if(t.hasOwnProperty(n))for(a=t[n].length,o=0;a>o;o++)i=t[n][o],this.setElVal(i[0],n,i[1])}},setElVal:function(e,t,n){"x"===t?e.setX(n):"y"===t?e.setY(n):"scrollTop"===t?e.scrollTo("top",n):"scrollLeft"===t?e.scrollTo("left",n):"width"===t?e.setWidth(n):"height"===t?e.setHeight(n):e.setStyle(t,n)}}),Ext.define("Ext.fx.target.ElementCSS",{extend:"Ext.fx.target.Element",setAttr:function(e,t){var n,i,r,o,a,s,l,d,u,c={attrs:[],duration:[],easing:[]},h=e.length;for(l=0;h>l;l++){i=e[l],a=i.duration,o=i.easing,i=i.attrs;for(r in i)-1==Ext.Array.indexOf(c.attrs,r)&&(c.attrs.push(r.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})),c.duration.push(a+"ms"),c.easing.push(o))}for(n=c.attrs.join(","),a=c.duration.join(","),o=c.easing.join(", "),l=0;h>l;l++){i=e[l].attrs;for(r in i)for(u=i[r].length,d=0;u>d;d++)s=i[r][d],s[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",t?"":n),s[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",t?"":a),s[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",t?"":o),s[0].setStyle(r,s[1]),t?s=s[0].dom.offsetWidth:s[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},s[0],{single:!0})}}}),Ext.define("Ext.fx.target.CompositeElement",{extend:"Ext.fx.target.Element",isComposite:!0,constructor:function(e){e.id=e.id||Ext.id(null,"ext-composite-"),this.callParent([e])},getAttr:function(e,t){var n,i,r=[],o=this.target,a=o.elements,s=a.length;for(n=0;s>n;n++)i=a[n],i&&(i=o.getElement(i),r.push([i,this.getElVal(i,e,t)]));return r},setAttr:function(e){var t,n,i,r,o,a,s,l=this.target,d=e.length,u=l.elements,c=u.length;for(o=0;d>o;o++){i=e[o].attrs;for(r in i)if(i.hasOwnProperty(r))for(s=i[r].length,a=0;s>a;a++)for(t=i[r][a][1],n=0;c>n;++n)el=u[n],el&&(el=l.getElement(el),this.setElVal(el,r,t))}},remove:function(){this.target.destroy()}}),Ext.define("Ext.fx.target.CompositeElementCSS",{extend:"Ext.fx.target.CompositeElement",requires:["Ext.fx.target.ElementCSS"],setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}}),Ext.define("Ext.fx.target.Sprite",{extend:"Ext.fx.target.Target",type:"draw",getFromPrim:function(e,t){var n;switch(t){case"rotate":case"rotation":return n=e.attr.rotation,{x:n.x||0,y:n.y||0,degrees:n.degrees||0};case"scale":case"scaling":return n=e.attr.scaling,{x:n.x||1,y:n.y||1,cx:n.cx||0,cy:n.cy||0};case"translate":case"translation":return n=e.attr.translation,{x:n.x||0,y:n.y||0};default:return e.attr[t]}},getAttr:function(e,t){return[[this.target,void 0!=t?t:this.getFromPrim(this.target,e)]]},setAttr:function(e){var t,n,i,r,o,a,s,l,d,u,c,h,f=e.length,g=[];for(l=0;f>l;l++){t=e[l].attrs;for(n in t)for(i=t[n],h=i.length,d=0;h>d;d++)o=i[d][0],r=i[d][1],"translate"===n||"translation"===n?s={x:r.x,y:r.y}:"rotate"===n||"rotation"===n?(u=r.x,isNaN(u)&&(u=null),c=r.y,isNaN(c)&&(c=null),s={degrees:r.degrees,x:u,y:c}):"scale"===n||"scaling"===n?(u=r.x,isNaN(u)&&(u=null),c=r.y,isNaN(c)&&(c=null),s={x:u,y:c,cx:r.cx,cy:r.cy}):s="width"===n||"height"===n||"x"===n||"y"===n?parseFloat(r):r,a=Ext.Array.indexOf(g,o),-1==a&&(g.push([o,{}]),a=g.length-1),g[a][1][n]=s}for(f=g.length,l=0;f>l;l++)g[l][0].setAttributes(g[l][1]);this.target.redraw()}}),Ext.define("Ext.fx.target.CompositeSprite",{extend:"Ext.fx.target.Sprite",getAttr:function(e,t){var n,i,r=[],o=[].concat(this.target.items),a=o.length;for(n=0;a>n;n++)i=o[n],r.push([i,void 0!=t?t:this.getFromPrim(i,e)]);return r}}),Ext.define("Ext.fx.target.Component",{extend:"Ext.fx.target.Target",type:"component",getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(e,t){return[[this.target,void 0!==t?t:this.getPropMethod[e].call(this.target)]]},setAttr:function(e,t,n){var i,r,o,a,s,l,d,u,c,h,f,g=this,p=e.length,m={};for(a=0;p>a;a++){i=e[a].attrs;for(r in i)for(l=i[r].length,s=0;l>s;s++)o=i[r][s],f=m[g.setMethods[r]]||(m[g.setMethods[r]]={}),f.target=o[0],f[r]=o[1];m.setPosition&&(o=m.setPosition,d=void 0===o.left?void 0:parseFloat(o.left),u=void 0===o.top?void 0:parseFloat(o.top),o.target.setPosition(d,u)),m.setPagePosition&&(o=m.setPagePosition,o.target.setPagePosition(o.x,o.y)),m.setSize&&(o=m.setSize,c=void 0===o.width?o.target.getWidth():parseFloat(o.width),h=void 0===o.height?o.target.getHeight():parseFloat(o.height),o.target.el.setSize(c,h),(n||g.dynamic)&&Ext.GlobalEvents.on({idle:Ext.Function.bind(o.target.setSize,o.target,[c,h]),single:!0})),m.setOpacity&&(o=m.setOpacity,o.target.el.setStyle("opacity",o.opacity))}}}),Ext.define("Ext.util.HashMap",{mixins:["Ext.mixin.Observable"],generation:0,config:{keyFn:null},constructor:function(e){var t,n=this;n.mixins.observable.constructor.call(n,e),n.clear(!0),t=n.getKeyFn(),t&&(n.getKey=t)},getCount:function(){return this.length},getData:function(e,t){return void 0===t&&(t=e,e=this.getKey(t)),[e,t]},getKey:function(e){return e.id},add:function(e,t){var n=this;return 1===arguments.length&&(t=e,e=n.getKey(t)),n.containsKey(e)?n.replace(e,t):(n.map[e]=t,++n.length,n.generation++,n.hasListeners.add&&n.fireEvent("add",n,e,t),t)},replace:function(e,t){var n,i=this,r=i.map;return 1===arguments.length&&(t=e,e=i.getKey(t)),i.containsKey(e)||i.add(e,t),n=r[e],r[e]=t,i.generation++,i.hasListeners.replace&&i.fireEvent("replace",i,e,t,n),t},remove:function(e){var t=this.findKey(e);return void 0!==t?this.removeAtKey(t):!1},removeAtKey:function(e){var t,n=this;return n.containsKey(e)?(t=n.map[e],delete n.map[e],--n.length,n.generation++,n.hasListeners.remove&&n.fireEvent("remove",n,e,t),!0):!1},get:function(e){var t=this.map;return t.hasOwnProperty(e)?t[e]:void 0},clear:function(e){var t=this;return(e||t.generation)&&(t.map={},t.length=0,t.generation=e?0:t.generation+1),e!==!0&&t.hasListeners.clear&&t.fireEvent("clear",t),t},containsKey:function(e){var t=this.map;return t.hasOwnProperty(e)&&void 0!==t[e]},contains:function(e){return this.containsKey(this.findKey(e))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(e){var t,n=[],i=this.map;for(t in i)i.hasOwnProperty(t)&&n.push(e?t:i[t]);return n},each:function(e,t){var n,i=Ext.apply({},this.map),r=this.length;t=t||this;for(n in i)if(i.hasOwnProperty(n)&&e.call(t,n,i[n],r)===!1)break;return this},clone:function(){var e,t=new this.self(this.initialConfig),n=this.map;t.suspendEvents();for(e in n)n.hasOwnProperty(e)&&t.add(e,n[e]);return t.resumeEvents(),t},findKey:function(e){var t,n=this.map;for(t in n)if(n.hasOwnProperty(t)&&n[t]===e)return t;return void 0}}),Ext.define("Ext.fx.Queue",{requires:["Ext.util.HashMap"],constructor:function(){
this.targets=new Ext.util.HashMap,this.fxQueue={}},getFxDefaults:function(e){var t=this.targets.get(e);return t?t.fxDefaults:{}},setFxDefaults:function(e,t){var n=this.targets.get(e);n&&(n.fxDefaults=Ext.apply(n.fxDefaults||{},t))},stopAnimation:function(e){for(var t=this,n=t.getFxQueue(e),i=n.length;i;)n[i-1].end(),i--},getActiveAnimation:function(e){var t=this.getFxQueue(e);return t&&t.length?t[0]:!1},hasFxBlock:function(e){var t=this.getFxQueue(e);return t&&t[0]&&t[0].block},getFxQueue:function(e){if(!e)return!1;var t=this,n=t.fxQueue[e],i=t.targets.get(e);return i?(n||(t.fxQueue[e]=[],"element"!=i.type&&i.target.on("destroy",function(){t.fxQueue[e]=[]})),t.fxQueue[e]):!1},queueFx:function(e){var t,n,i=this,r=e.target;r&&(t=i.getFxQueue(r.getId()),n=t.length,n?e.concurrent?e.paused=!1:t[n-1].on("afteranimate",function(){e.paused=!1}):e.paused=!1,e.on("afteranimate",function(){if(Ext.Array.remove(t,e),0===t.length&&i.targets.remove(e.target),e.remove&&"element"==r.type){var n=Ext.get(r.id);n&&n.destroy()}},i,{single:!0}),t.push(e))}}),Ext.define("Ext.fx.Manager",{singleton:!0,requires:["Ext.util.MixedCollection","Ext.util.TaskRunner","Ext.fx.target.Element","Ext.fx.target.ElementCSS","Ext.fx.target.CompositeElement","Ext.fx.target.CompositeElementCSS","Ext.fx.target.Sprite","Ext.fx.target.CompositeSprite","Ext.fx.target.Component"],mixins:{queue:"Ext.fx.Queue"},constructor:function(){var e=this;e.items=new Ext.util.MixedCollection,e.targetArr={},e.mixins.queue.constructor.call(e),e.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:!0,createTarget:function(e){var t,n=this,i=!n.forceJS&&Ext.supports.Transitions;if(n.useCSS3=i,e){if(e.tagName||Ext.isString(e)||e.isFly)e=Ext.get(e),t=new Ext.fx.target["Element"+(i?"CSS":"")](e);else if(e.dom)t=new Ext.fx.target["Element"+(i?"CSS":"")](e);else if(e.isComposite)t=new Ext.fx.target["CompositeElement"+(i?"CSS":"")](e);else if(e.isSprite)t=new Ext.fx.target.Sprite(e);else if(e.isCompositeSprite)t=new Ext.fx.target.CompositeSprite(e);else{if(!e.isComponent)return e.isAnimTarget?e:null;t=new Ext.fx.target.Component(e)}return n.targets.add(t),t}return null},addAnim:function(e){var t=this,n=t.items,i=t.task;n.add(e.id,e),!i&&n.length&&(i=t.task={run:t.runner,interval:t.interval,scope:t},t.taskRunner.start(i))},removeAnim:function(e){var t=this,n=t.items,i=t.task;n.removeAtKey(e.id),i&&!n.length&&(t.taskRunner.stop(i),delete t.task)},runner:function(){var e,t=this,n=t.items.getRange(),i=0,r=n.length;for(t.targetArr={},t.timestamp=new Date;r>i;i++)e=n[i],e.isReady()&&t.startAnim(e);for(i=0;r>i;i++)e=n[i],e.isRunning()?t.runAnim(e):!t.useCSS3;t.applyPendingAttrs()},startAnim:function(e){e.start(this.timestamp)},runAnim:function(e,t){if(e){var n,i,r=this,o=r.useCSS3&&"element"==e.target.type,a=r.timestamp-e.startTime,s=a>=e.duration;return t&&(a=e.duration,s=!0),n=this.collectTargetData(e,a,o,s),o&&(e.target.setAttr(n.anims[e.id].attributes,!0),r.collectTargetData(e,e.duration,o,s),e.paused=!0,n=e.target.target,e.target.isComposite&&(n=e.target.target.last()),i={},i[Ext.supports.CSS3TransitionEnd]=e.lastFrame,i.scope=e,i.single=!0,n.on(i)),n}},jumpToEnd:function(e){var t=this.runAnim(e,!0);this.applyAnimAttrs(t,t.anims[e.id])},collectTargetData:function(e,t,n,i){var r=e.target.getId(),o=this.targetArr[r];return o||(o=this.targetArr[r]={id:r,el:e.target,anims:{}}),o.anims[e.id]={id:e.id,anim:e,elapsed:t,isLastFrame:i,attributes:[{duration:e.duration,easing:n&&e.reverse?e.easingFn.reverse().toCSS3():e.easing,attrs:e.runAnim(t)}]},o},applyAnimAttrs:function(e,t){var n=t.anim;t.attributes&&n.isRunning()&&(e.el.setAttr(t.attributes,!1,t.isLastFrame),t.isLastFrame&&n.lastFrame())},applyPendingAttrs:function(){var e,t,n,i,r,o=this.targetArr;for(t in o)if(o.hasOwnProperty(t)){e=o[t];for(r in e.anims)e.anims.hasOwnProperty(r)&&(n=e.anims[r],i=n.anim,n.attributes&&i.isRunning()&&(e.el.setAttr(n.attributes,!1,n.isLastFrame),n.isLastFrame&&i.lastFrame()))}}}),Ext.define("Ext.fx.Animator",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager"],isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(e){var t=this;e=Ext.apply(t,e||{}),t.config=e,t.id=Ext.id(null,"ext-animator-"),t.mixins.observable.constructor.call(t,e),t.timeline=[],t.createTimeline(t.keyframes),t.target&&(t.applyAnimator(t.target),Ext.fx.Manager.addAnim(t))},sorter:function(e,t){return e.pct-t.pct},createTimeline:function(e){var t,n,i,r,o,a,s=this,l=[],d=s.to||{},u=s.duration;for(o in e)e.hasOwnProperty(o)&&s.animKeyFramesRE.test(o)&&(a={attrs:Ext.apply(e[o],d)},"from"==o?o=0:"to"==o&&(o=100),a.pct=parseInt(o,10),l.push(a));for(Ext.Array.sort(l,s.sorter),r=l.length,i=0;r>i;i++)t=l[i-1]?u*(l[i-1].pct/100):0,n=u*(l[i].pct/100),s.timeline.push({duration:n-t,attrs:l[i].attrs})},applyAnimator:function(e){var t,n,i,r,o,a=this,s=[],l=a.timeline,d=l.length;if(a.fireEvent("beforeanimate",a)!==!1){for(o=0;d>o;o++)t=l[o],r=t.attrs,n=r.easing||a.easing,i=r.damper||a.damper,delete r.easing,delete r.damper,t=new Ext.fx.Anim({target:e,easing:n,damper:i,duration:t.duration,paused:!0,to:r}),s.push(t);for(a.animations=s,a.target=t.target,o=0;d-1>o;o++)t=s[o],t.nextAnim=s[o+1],t.on("afteranimate",function(){this.nextAnim.paused=!1}),t.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},a);s[d-1].on("afteranimate",function(){this.lastFrame()},a)}},start:function(e){var t,n=this,i=n.delay,r=n.delayStart;if(i){if(!r)return void(n.delayStart=e);if(t=e-r,i>t)return;e=new Date(r.getTime()+i)}n.fireEvent("beforeanimate",n)!==!1&&(n.startTime=e,n.running=!0,n.animations[n.keyframeStep].paused=!1)},lastFrame:function(){var e=this,t=e.iterations,n=e.currentIteration;n++,t>n?(e.startTime=new Date,e.currentIteration=n,e.keyframeStep=0,e.applyAnimator(e.target),e.animations[e.keyframeStep].paused=!1):(e.currentIteration=0,e.end())},end:function(){var e=this;e.fireEvent("afteranimate",e,e.startTime,new Date-e.startTime)},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return!1}}),Ext.define("Ext.fx.CubicBezier",{singleton:!0,cubicBezierAtTime:function(e,t,n,i,r,o){function a(e){return((c*e+u)*e+d)*e}function s(e,t){var n=l(e,t);return((g*n+f)*n+h)*n}function l(e,t){var n,i,r,o,s,l;for(r=e,l=0;8>l;l++){if(o=a(r)-e,Math.abs(o)<t)return r;if(s=(3*c*r+2*u)*r+d,Math.abs(s)<1e-6)break;r-=o/s}if(n=0,i=1,r=e,n>r)return n;if(r>i)return i;for(;i>n;){if(o=a(r),Math.abs(o-e)<t)return r;e>o?n=r:i=r,r=(i-n)/2+n}return r}var d=3*t,u=3*(i-t)-d,c=1-d-u,h=3*n,f=3*(r-n)-h,g=1-h-f;return s(e,1/(200*o))},cubicBezier:function(e,t,n,i){var r=function(r){return Ext.fx.CubicBezier.cubicBezierAtTime(r,e,t,n,i,1)};return r.toCSS3=function(){return"cubic-bezier("+[e,t,n,i].join(",")+")"},r.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-n,1-i,1-e,1-t)},r}}),Ext.require("Ext.fx.CubicBezier",function(){var e=Math,t=e.PI,n=e.pow,i=e.sin,r=e.sqrt,o=e.abs,a=1.70158;Ext.define("Ext.fx.Easing",{singleton:!0,linear:Ext.identityFn,ease:function(e){var t=.07813-e/2,i=r(.0066+t*t),a=i-t,s=n(o(a),1/3)*(0>a?-1:1),l=-i-t,d=n(o(l),1/3)*(0>l?-1:1),u=s+d+.25;return 3*n(1-u,2)*u*.1+3*(1-u)*u*u+u*u*u},easeIn:function(e){return n(e,1.7)},easeOut:function(e){return n(e,.48)},easeInOut:function(e){var t=.48-e/1.04,i=r(.1734+t*t),a=i-t,s=n(o(a),1/3)*(0>a?-1:1),l=-i-t,d=n(o(l),1/3)*(0>l?-1:1),u=s+d+.5;return 3*(1-u)*u*u+u*u*u},backIn:function(e){return e*e*((a+1)*e-a)},backOut:function(e){return e-=1,e*e*((a+1)*e+a)+1},elasticIn:function(e){if(0===e||1===e)return e;var r=.3,o=r/4;return n(2,-10*e)*i((e-o)*(2*t)/r)+1},elasticOut:function(e){return 1-Ext.fx.Easing.elasticIn(1-e)},bounceIn:function(e){return 1-Ext.fx.Easing.bounceOut(1-e)},bounceOut:function(e){var t,n=7.5625,i=2.75;return 1/i>e?t=n*e*e:2/i>e?(e-=1.5/i,t=n*e*e+.75):2.5/i>e?(e-=2.25/i,t=n*e*e+.9375):(e-=2.625/i,t=n*e*e+.984375),t}},function(){var e=Ext.fx.Easing.self,t=e.prototype;e.addMembers({"back-in":t.backIn,"back-out":t.backOut,"ease-in":t.easeIn,"ease-out":t.easeOut,"elastic-in":t.elasticIn,"elastic-out":t.elasticOut,"bounce-in":t.bounceIn,"bounce-out":t.bounceOut,"ease-in-out":t.easeInOut})})}),Ext.define("Ext.fx.DrawPath",{singleton:!0,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,is:function(e,t){return t=String(t).toLowerCase(),"object"==t&&e===Object(e)||"undefined"==t&&typeof e==t||"null"==t&&null===e||"array"==t&&Array.isArray&&Array.isArray(e)||Object.prototype.toString.call(e).toLowerCase().slice(8,-1)==t},path2string:function(){return this.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},pathToString:function(e){return e.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},parsePathString:function(e){if(!e)return null;var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=[],i=this;return i.is(e,"array")&&i.is(e[0],"array")&&(n=i.pathClone(e)),n.length||String(e).replace(i.pathCommandRE,function(e,r,o){var a=[],s=r.toLowerCase();for(o.replace(i.pathValuesRE,function(e,t){t&&a.push(+t)}),"m"==s&&a.length>2&&(n.push([r].concat(Ext.Array.splice(a,0,2))),s="l",r="m"==r?"l":"L");a.length>=t[s]&&(n.push([r].concat(Ext.Array.splice(a,0,t[s]))),t[s]););}),n.toString=i.path2string,n},pathClone:function(e){var t,n,i,r,o=[];for(this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e)),i=0,r=e.length;r>i;i++)for(o[i]=[],t=0,n=e[i].length;n>t;t++)o[i][t]=e[i][t];return o.toString=this.path2string,o},pathToAbsolute:function(e){this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e));var t,n,i,r,o=[],a=0,s=0,l=0,d=0,u=0,c=e.length;for(c&&"M"==e[0][0]&&(a=+e[0][1],s=+e[0][2],l=a,d=s,u++,o[0]=["M",a,s]);c>u;u++){if(t=o[u]=[],n=e[u],n[0]!=n[0].toUpperCase())switch(t[0]=n[0].toUpperCase(),t[0]){case"A":t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=+(n[6]+a),t[7]=+(n[7]+s);break;case"V":t[1]=+n[1]+s;break;case"H":t[1]=+n[1]+a;break;case"M":l=+n[1]+a,d=+n[2]+s;default:for(i=1,r=n.length;r>i;i++)t[i]=+n[i]+(i%2?a:s)}else for(i=0,r=n.length;r>i;i++)o[u][i]=n[i];switch(t[0]){case"Z":a=l,s=d;break;case"H":a=t[1];break;case"V":s=t[1];break;case"M":n=o[u],r=n.length,l=n[r-2],d=n[r-1];default:n=o[u],r=n.length,a=n[r-2],s=n[r-1]}}return o.toString=this.path2string,o},interpolatePaths:function(e,t){var n,i,r,o,a,s,l=this,d=l.pathToAbsolute(e),u=l.pathToAbsolute(t),c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)Ext.Array.splice(e,t++,0,["C"].concat(Ext.Array.splice(n,0,6)));Ext.Array.erase(e,t,1),i=Math.max(d.length,u.length||0)}},g=function(e,t,n,r,o){e&&t&&"M"==e[o][0]&&"M"!=t[o][0]&&(Ext.Array.splice(t,o,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=e[o][1],n.y=e[o][2],i=Math.max(d.length,u.length||0))};for(n=0,i=Math.max(d.length,u.length||0);i>n;n++)d[n]=l.command2curve(d[n],c),f(d,n),u[n]=l.command2curve(u[n],h),f(u,n),g(d,u,c,h,n),g(u,d,h,c,n),r=d[n],o=u[n],a=r.length,s=o.length,c.x=r[a-2],c.y=r[a-1],c.bx=parseFloat(r[a-4])||c.x,c.by=parseFloat(r[a-3])||c.y,h.bx=parseFloat(o[s-4])||h.x,h.by=parseFloat(o[s-3])||h.y,h.x=o[s-2],h.y=o[s-1];return[d,u]},command2curve:function(e,t){var n=this;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch("T"!=e[0]&&"Q"!=e[0]&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(n.arc2curve.apply(n,[t.x,t.y].concat(e.slice(1))));break;case"S":e=["C",t.x+(t.x-(t.bx||t.x)),t.y+(t.y-(t.by||t.y))].concat(e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"].concat(n.quadratic2curve(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(n.quadratic2curve(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(t.x,t.y,e[1],e[2],e[1],e[2]);break;case"H":e=["C"].concat(t.x,t.y,e[1],t.y,e[1],t.y);break;case"V":e=["C"].concat(t.x,t.y,t.x,e[1],t.x,e[1]);break;case"Z":e=["C"].concat(t.x,t.y,t.X,t.Y,t.X,t.Y)}return e},quadratic2curve:function(e,t,n,i,r,o){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*i,a*r+s*n,a*o+s*i,r,o]},rotate:function(e,t,n){var i=Math.cos(n),r=Math.sin(n),o=e*i-t*r,a=e*r+t*i;return{x:o,y:a}},arc2curve:function(e,t,n,i,r,o,a,s,l,d){var u,c,h,f,g,p,m,x,E,v,y,b,C,S,w,T,P,I,k,M,R,D,A,F,L,O,B,N,H,V=this,W=Math.PI,z=V.radian,q=120*W/180,_=z*(+r||0),U=[],G=Math,X=G.cos,j=G.sin,Y=G.sqrt,K=G.abs,$=G.asin;if(d?(v=d[0],y=d[1],x=d[2],E=d[3]):(u=V.rotate(e,t,-_),e=u.x,t=u.y,u=V.rotate(s,l,-_),s=u.x,l=u.y,c=(e-s)/2,h=(t-l)/2,f=c*c/(n*n)+h*h/(i*i),f>1&&(f=Y(f),n=f*n,i=f*i),g=n*n,p=i*i,m=(o==a?-1:1)*Y(K((g*p-g*h*h-p*c*c)/(g*h*h+p*c*c))),x=m*n*h/i+(e+s)/2,E=m*-i*c/n+(t+l)/2,v=$(((t-E)/i).toFixed(7)),y=$(((l-E)/i).toFixed(7)),v=x>e?W-v:v,y=x>s?W-y:y,0>v&&(v=2*W+v),0>y&&(y=2*W+y),a&&v>y&&(v-=2*W),!a&&y>v&&(y-=2*W)),b=y-v,K(b)>q&&(B=y,N=s,H=l,y=v+q*(a&&y>v?1:-1),s=x+n*X(y),l=E+i*j(y),U=V.arc2curve(s,l,n,i,r,0,a,N,H,[y,B,x,E])),b=y-v,C=X(v),S=j(v),w=X(y),T=j(y),P=G.tan(b/4),I=4/3*n*P,k=4/3*i*P,M=[e,t],R=[e+I*S,t-k*C],D=[s+I*T,l-k*w],A=[s,l],R[0]=2*M[0]-R[0],R[1]=2*M[1]-R[1],d)return[R,D,A].concat(U);for(U=[R,D,A].concat(U).join().split(","),F=[],O=U.length,L=0;O>L;L++)F[L]=L%2?V.rotate(U[L-1],U[L],_).y:V.rotate(U[L],U[L+1],_).x;return F}}),Ext.define("Ext.fx.PropertyHandler",{requires:["Ext.fx.DrawPath"],statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(e,t,n,i,r){n="number"==typeof n?n:1;var o,a,s=this.unitRE,l=s.exec(e);return l&&(e=l[1],a=l[2],this.scrollRE.test(r)||a||!this.pixelDefaultsRE.test(r)||(a="px")),e=+e||0,l=s.exec(t),l&&(t=l[1],a=l[2]||a),t=+t||0,o=null!=i?i:e,{from:e,delta:(t-o)*n,units:a}},get:function(e,t,n,i,r){var o,a,s,l,d,u=e.length,c=[];for(o=0;u>o;o++)if(i&&(a=i[o][1].from),Ext.isArray(e[o][1])&&Ext.isArray(t)){for(s=[],l=0,d=e[o][1].length;d>l;l++)s.push(this.computeDelta(e[o][1][l],t[l],n,a,r));c.push([e[o][0],s])}else c.push([e[o][0],this.computeDelta(e[o][1],t,n,a,r)]);return c},set:function(e,t){var n,i,r,o,a,s=e.length,l=[];for(n=0;s>n;n++)if(i=e[n][1],Ext.isArray(i)){for(r=[],a=0,o=i.length;o>a;a++)r.push(i[a].from+i[a].delta*t+(i[a].units||0));l.push([e[n][0],r])}else l.push([e[n][0],i.from+i.delta*t+(i.units||0)]);return l}},stringHandler:{computeDelta:function(e,t,n,i,r){return{from:e,delta:t}},get:function(e,t,n,i,r){var o,a,s=e.length,l=[];for(o=0;s>o;o++)l.push([e[o][0],this.computeDelta(e[o][1],t,n,a,r)]);return l},set:function(e,t){var n,i,r=e.length,o=[];for(n=0;r>n;n++)i=e[n][1],o.push([e[n][0],i.delta]);return o}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(e,t){t="number"==typeof t?t:1;var n,i,r,o,a=!1,s=[this.hexRE,this.rgbRE,this.hex3RE],l=s.length;for(o=0;l>o;o++)if(r=s[o],i=o%2===0?16:10,n=r.exec(e),n&&4===n.length){2===o&&(n[1]+=n[1],n[2]+=n[2],n[3]+=n[3]),a={red:parseInt(n[1],i),green:parseInt(n[2],i),blue:parseInt(n[3],i)};break}return a||e},computeDelta:function(e,t,n,i){e=this.parseColor(e),t=this.parseColor(t,n);var r=i?i:e,o=typeof r,a=typeof t;return"string"==o||"undefined"==o||"string"==a||"undefined"==a?t||r:{from:e,delta:{red:Math.round((t.red-r.red)*n),green:Math.round((t.green-r.green)*n),blue:Math.round((t.blue-r.blue)*n)}}},get:function(e,t,n,i){var r,o,a=e.length,s=[];for(r=0;a>r;r++)i&&(o=i[r][1].from),s.push([e[r][0],this.computeDelta(e[r][1],t,n,o)]);return s},set:function(e,t){var n,i,r,o,a,s=e.length,l=[];for(n=0;s>n;n++)if(i=e[n][1]){if(o=i.from,a=i.delta,i="object"==typeof i&&"red"in i?"rgb("+i.red+", "+i.green+", "+i.blue+")":i,i="object"==typeof i&&i.length?i[0]:i,"undefined"==typeof i)return[];r="string"==typeof i?i:"rgb("+[(o.red+Math.round(a.red*t))%256,(o.green+Math.round(a.green*t))%256,(o.blue+Math.round(a.blue*t))%256].join(",")+")",l.push([e[n][0],r])}return l}},object:{interpolate:function(e,t){t="number"==typeof t?t:1;var n,i={};for(n in e)i[n]=parseFloat(e[n])*t;return i},computeDelta:function(e,t,n,i){e=this.interpolate(e),t=this.interpolate(t,n);var r,o=i?i:e,a={};for(r in t)a[r]=t[r]-o[r];return{from:e,delta:a}},get:function(e,t,n,i){var r,o,a=e.length,s=[];for(r=0;a>r;r++)i&&(o=i[r][1].from),s.push([e[r][0],this.computeDelta(e[r][1],t,n,o)]);return s},set:function(e,t){var n,i,r,o,a,s=e.length,l=[],d={};for(n=0;s>n;n++){o=e[n][1],i=o.from,r=o.delta;for(a in i)d[a]=i[a]+r[a]*t;l.push([e[n][0],d])}return l}},path:{computeDelta:function(e,t,n,i){n="number"==typeof n?n:1;var r;return e=+e||0,t=+t||0,r=null!=i?i:e,{from:e,delta:(t-r)*n}},forcePath:function(e){return Ext.isArray(e)||Ext.isArray(e[0])||(e=Ext.fx.DrawPath.parsePathString(e)),e},get:function(e,t,n,i){var r,o,a,s,l,d,u,c,h,f=this.forcePath(t),g=[],p=e.length;for(a=0;p>a;a++){for(h=this.forcePath(e[a][1]),s=Ext.fx.DrawPath.interpolatePaths(h,f),h=s[0],f=s[1],r=h.length,c=[],d=0;r>d;d++){for(s=[h[d][0]],o=h[d].length,u=1;o>u;u++)l=i&&i[0][1][d][u].from,s.push(this.computeDelta(h[d][u],f[d][u],n,l));c.push(s)}g.push([e[a][0],c])}return g},set:function(e,t){var n,i,r,o,a,s,l,d,u=e.length,c=[];for(n=0;u>n;n++){for(s=e[n][1],o=[],l=s.length,i=0;l>i;i++){for(a=[s[i][0]],d=s[i].length,r=1;d>r;r++)a.push(s[i][r].from+s[i][r].delta*t);o.push(a.join(","))}c.push([e[n][0],o.join(",")])}return c}}}},function(){for(var e,t=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],n=t.length,i=0;n>i;i++)e=t[i],this[e]=this.color;for(t=["cursor"],n=t.length,i=0;n>i;i++)e=t[i],this[e]=this.stringHandler}),Ext.define("Ext.fx.Anim",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager","Ext.fx.Animator","Ext.fx.Easing","Ext.fx.CubicBezier","Ext.fx.PropertyHandler"],isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,autoEnd:!1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(e){var t,n=this;return e=e||{},e.keyframes?new Ext.fx.Animator(e):(Ext.apply(n,e),void 0===n.from&&(n.from={}),n.propHandlers={},n.config=e,n.target=Ext.fx.Manager.createTarget(n.target),n.easingFn=Ext.fx.Easing[n.easing],n.target.dynamic=n.dynamic,n.easingFn||(n.easingFn=String(n.easing).match(n.bezierRE),n.easingFn&&5==n.easingFn.length&&(t=n.easingFn,n.easingFn=Ext.fx.CubicBezier.cubicBezier(+t[1],+t[2],+t[3],+t[4]))),n.id=Ext.id(null,"ext-anim-"),n.mixins.observable.constructor.call(n),Ext.fx.Manager.addAnim(n),void(e.autoEnd&&(n.running=!0,n.jumpToEnd())))},setAttr:function(e,t){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,e,t)},initAttrs:function(){var e,t,n,i,r=this,o=r.from,a=r.to,s=r.initialFrom||{},l={};for(i in a)a.hasOwnProperty(i)&&(e=r.target.getAttr(i,o[i]),t=a[i],n=Ext.fx.PropertyHandler[i]?r.propHandlers[i]=Ext.fx.PropertyHandler[i]:Ext.isObject(t)?r.propHandlers[i]=Ext.fx.PropertyHandler.object:r.propHandlers[i]=Ext.fx.PropertyHandler.defaultHandler,l[i]=n.get(e,t,r.damper,s[i],i));r.currentAttrs=l},start:function(e){var t,n=this,i=n.delay,r=n.delayStart;if(i){if(!r)return void(n.delayStart=e);if(t=e-r,i>t)return;e=new Date(r.getTime()+i)}n.fireEvent("beforeanimate",n)!==!1&&(n.startTime=e,n.paused||n.currentAttrs||n.initAttrs(),n.running=!0,n.frameCount=0)},jumpToEnd:function(){var e=this;e.endWasCalled||(e.currentAttrs||e.initAttrs(),Ext.fx.Manager.jumpToEnd(e),e.end())},runAnim:function(e){var t,n,i,r,o=this,a=o.currentAttrs,s=o.duration,l=o.easingFn,d=o.propHandlers,u={};e>=s&&(e=s,r=!0),o.reverse&&(e=s-e);for(i in a)a.hasOwnProperty(i)&&(n=a[i],t=r?1:l(e/s),u[i]=d[i].set(n,t));return o.frameCount++,u},lastFrame:function(){var e=this,t=e.iterations,n=e.currentIteration;n++,t>n?(e.alternate&&(e.reverse=!e.reverse),e.startTime=new Date,e.currentIteration=n,e.paused=!1):(e.currentIteration=0,e.end(),e.fireEvent("lastframe",e,e.startTime))},endWasCalled:0,end:function(){var e=this;e.endWasCalled++||(e.startTime=0,e.paused=!1,e.running=!1,Ext.fx.Manager.removeAnim(e),e.fireEvent("afteranimate",e,e.startTime),Ext.callback(e.callback,e.scope,[e,e.startTime]),e.remove&&e.target.destroy())},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return this.paused===!1&&this.running===!0&&this.isAnimator!==!0}}),Ext.enableFx=!0,Ext.define("Ext.util.Animate",{mixinId:"animate",requires:["Ext.fx.Manager","Ext.fx.Anim"],isAnimate:!0,animate:function(e){var t=this;return Ext.fx.Manager.hasFxBlock(t.id)?t:(Ext.fx.Manager.queueFx(new Ext.fx.Anim(t.anim(e))),this)},anim:function(e){if(!Ext.isObject(e))return e?{}:!1;var t=this;return e.stopAnimation&&t.stopAnimation(),Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(t.id)),Ext.apply({target:t,paused:!0},e)},getAnimationProps:function(){var e=this,t=e.layout;return t&&t.animate?t.animate:{}},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){return Ext.fx.Manager.stopAnimation(this.id),this},syncFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0}),this},sequenceFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1}),this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}}),Ext.define("Ext.dom.GarbageCollector",{singleton:!0,interval:3e4,constructor:function(){var e=this;e.collect=Ext.Function.bind(e.collect,e),e.resume()},collect:function(){var e,t,n,i,r=this,o=Ext.cache;if(Ext.enableGarbageCollector){for(e in o)o.hasOwnProperty(e)&&(n=o[e],n.skipGarbageCollection||(t=n.dom,t||Ext.Error.raise("Missing DOM node in element garbage collection: "+e),Ext.isGarbage(t)&&(n.clearListeners(),delete o[e])));if(Ext.isIE9m){i={};for(e in o)o.hasOwnProperty(e)&&(i[e]=o[e]);o=Ext.cache=i}r.lastTime=Ext.now()}else r.pause()},pause:function(){clearTimeout(this.timerId)},resume:function(){var e=this,t=e.lastTime;t&&Ext.now()-t>e.interval&&e.collect(),e.timerId=setInterval(e.collect,e.interval)}}),Ext.define("Ext.overrides.dom.Element",function(){var e,t,n,i=window,r=document,o="hidden",a="isClipped",s="overflow",l="overflow-x",d="overflow-y",u="originalClip",c="height",h="width",f="visibility",g="display",p="none",o="hidden",m="offsets",x="originalDisplay",E="visibilityMode",v="isVisible",y=Ext.baseCSSPrefix+"hidden-offsets",b=['<div class="{0}-tl" role="presentation">','<div class="{0}-tr" role="presentation">','<div class="{0}-tc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-ml" role="presentation">','<div class="{0}-mr" role="presentation">','<div class="{0}-mc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-bl" role="presentation">','<div class="{0}-br" role="presentation">','<div class="{0}-bc" role="presentation"></div>',"</div>","</div>"].join(""),C=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/gi,S=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,w=/\ssrc=([\'\"])(.*?)\1/i,T=/^a|button|embed|iframe|input|object|select|textarea$/i,P=/\S/,I=/\stype=([\'\"])(.*?)\1/i,k=/^-ms-/,M=/(-[a-z])/gi,R=function(e,t){return t.charAt(1).toUpperCase()},D=Ext.baseCSSPrefix+"masked",A=Ext.baseCSSPrefix+"masked-relative",F=Ext.baseCSSPrefix+"mask-msg",L=/^(?:mouseenter|mouseleave)$/,O=/^body/i,B={},N=function(e){var t=e.getData(),n=t[x];return void 0===n&&(t[x]=n=""),n},H=function(t){var n=t.getData(),i=n[E];return void 0===i&&(n[E]=i=e.VISIBILITY),i},V=r.createRange?r.createRange():null;return{override:"Ext.dom.Element",mixins:["Ext.util.Animate"],requires:["Ext.dom.GarbageCollector","Ext.dom.Fly"],uses:["Ext.fx.Manager","Ext.fx.Anim"],skipGarbageCollection:!1,_init:function(t){e=t},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable",normalize:function(e){return"float"===e&&(e=Ext.supports.Float?"cssFloat":"styleFloat"),B[e]||(B[e]=e.replace(k,"ms-").replace(M,R))},getViewportHeight:function(){return Ext.isIE9m?r.documentElement.clientHeight:i.innerHeight},getViewportWidth:function(){return Ext.isStrict||Ext.isOpera?Ext.isIE9m?r.documentElement.clientWidth:i.innerWidth:document.body.clientWidth},addListener:function(e,t,n){e=Ext.getDom(e),e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}},addClsOnClick:function(e,t,n){var i=this,r=i.dom,o=Ext.isFunction(t);return i.on("mousedown",function(){if(o&&t.call(n||i,i)===!1)return!1;Ext.fly(r).addCls(e);var a=Ext.getDoc(),s=function(){Ext.fly(r).removeCls(e),a.removeListener("mouseup",s)};a.on("mouseup",s)}),i},addClsOnFocus:function(e,t,n){var i=this,r=i.dom,o=Ext.isFunction(t);return i.on("focus",function(){return o&&t.call(n||i,i)===!1?!1:void Ext.fly(r).addCls(e)}),i.on("blur",function(){Ext.fly(r).removeCls(e)}),i},addClsOnOver:function(e,t,n){var i=this,r=i.dom,o=Ext.isFunction(t);return i.hover(function(){o&&t.call(n||i,i)===!1||Ext.fly(r).addCls(e)},function(){Ext.fly(r).removeCls(e)}),i},addKeyListener:function(e,t,n){var i;return i="object"!=typeof e||Ext.isArray(e)?{target:this,key:e,fn:t,scope:n}:{target:this,key:e.key,shift:e.shift,ctrl:e.ctrl,alt:e.alt,fn:t,scope:n},new Ext.util.KeyMap(i)},addKeyMap:function(e){return new Ext.util.KeyMap(Ext.apply({target:this},e))},anchorAnimX:function(e){var t="l"===e?"right":"left";this.dom.style[t]="0px"},anim:function(e){if(!Ext.isObject(e))return e?{}:!1;var t,n=this,i=e.duration||Ext.fx.Anim.prototype.duration,r=e.easing||"ease";return e.stopAnimation&&n.stopAnimation(),Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(n.id)),Ext.fx.Manager.setFxDefaults(n.id,{delay:0}),t={target:n.dom,remove:e.remove,alternate:e.alternate||!1,duration:i,easing:r,callback:e.callback,listeners:e.listeners,iterations:e.iterations||1,scope:e.scope,block:e.block,concurrent:e.concurrent,delay:e.delay||0,paused:!0,keyframes:e.keyframes,from:e.from||{},to:Ext.apply({},e)},Ext.apply(t.to,e.to),delete t.to.to,delete t.to.from,delete t.to.remove,delete t.to.alternate,delete t.to.keyframes,delete t.to.iterations,delete t.to.listeners,delete t.to.target,delete t.to.paused,delete t.to.callback,delete t.to.scope,delete t.to.duration,delete t.to.easing,delete t.to.concurrent,delete t.to.block,delete t.to.stopAnimation,delete t.to.delay,t},animate:function(e){var t,n,i,r=this,o=r.dom.id||Ext.id(r.dom);return Ext.fx.Manager.hasFxBlock(o)||(e.listeners&&(t=e.listeners,delete e.listeners),e.internalListeners&&(e.listeners=e.internalListeners,delete e.internalListeners),i=e.autoEnd,delete e.autoEnd,n=new Ext.fx.Anim(r.anim(e)),t&&n.on(t),Ext.fx.Manager.queueFx(n),i&&n.jumpToEnd()),r},boxWrap:function(e){e=e||Ext.baseCSSPrefix+"box";var t=Ext.get(this.insertHtml("beforeBegin","<div class='"+e+"' role='presentation'>"+Ext.String.format(b,e)+"</div>"));return t.selectNode("."+e+"-mc").appendChild(this.dom),t},cacheScrollValues:function(){var e,n,i,r,o=this,a=[],s=[];for(t=t||new Ext.dom.Fly,e=o.query("*"),i=0,r=e.length;r>i;i++)n=e[i],(n.scrollTop>0||0!==n.scrollLeft)&&(s.push(n),a.push(t.attach(n).getScroll()));return function(){var e,n,i;for(n=0,i=s.length;i>n;n++)e=a[n],t.attach(s[n]),t.setScrollLeft(e.left),t.setScrollTop(e.top)}},clean:function(e){var t,n=this,i=n.dom,r=n.getData(),o=i.firstChild,a=-1;if(r.isCleaned&&e!==!0)return n;for(;o;)t=o.nextSibling,3===o.nodeType?P.test(o.nodeValue)?t&&3===t.nodeType&&(o.appendData(Ext.String.trim(t.data)),i.removeChild(t),t=o.nextSibling,o.nodeIndex=++a):i.removeChild(o):(Ext.fly(o,"_clean").clean(),o.nodeIndex=++a),o=t;return r.isCleaned=!0,n},empty:V?function(){var e=this.dom;e.firstChild&&(V.setStartBefore(e.firstChild),V.setEndAfter(e.lastChild),V.deleteContents())}:function(){for(var e=this.dom;e.lastChild;)e.removeChild(e.lastChild)},clearListeners:function(){this.removeAnchor(),this.callParent()},clearPositioning:function(e){return e=e||"",this.setStyle({left:e,right:e,top:e,bottom:e,"z-index":"",position:"static"})},createProxy:function(t,n,i){t="object"==typeof t?t:{tag:"div",role:"presentation",cls:t};var r=this,o=n?Ext.DomHelper.append(n,t,!0):Ext.DomHelper.insertBefore(r.dom,t,!0);return o.setVisibilityMode(e.DISPLAY),o.hide(),i&&r.setBox&&r.getBox&&o.setBox(r.getBox()),o},clearOpacity:function(){return this.setOpacity("")},clip:function(){var e,t=this,n=t.getData();return n[a]||(n[a]=!0,e=t.getStyle([s,l,d]),n[u]={o:e[s],x:e[l],y:e[d]},t.setStyle(s,o),t.setStyle(l,o),t.setStyle(d,o)),t},constrainScrollLeft:function(e){var t=this.dom;return Math.max(Math.min(e,t.scrollWidth-t.clientWidth),0)},constrainScrollTop:function(e){var t=this.dom;return Math.max(Math.min(e,t.scrollHeight-t.clientHeight),0)},destroy:function(){var e=this,t=e.dom;t&&e.isAnimate&&e.stopAnimation(),e.callParent(),t&&Ext.isIE8&&(n=n||r.createElement("div"),n.appendChild(t),n.innerHTML="")},doScrollIntoView:function(e,n,i,r,o,a){t=t||new Ext.dom.Fly;var s=this,l=s.dom,d=t.attach(e)[o](),u=e.scrollTop,c=s.getScrollIntoViewXY(e,d,u),h=c.x,f=c.y;return r&&(i?i=Ext.apply({listeners:{afteranimate:function(){t.attach(l).highlight()}}},i):t.attach(l).highlight()),f!==u&&t.attach(e).scrollTo("top",f,i),n!==!1&&h!==d&&t.attach(e)[a]("left",h,i),s},enableDisplayMode:function(t){var n=this;return n.setVisibilityMode(e.DISPLAY),void 0!==t&&(n.getData()[x]=t),n},fadeIn:function(e){var t=this,n=t.dom;return t.animate(Ext.apply({},e,{opacity:1,internalListeners:{beforeanimate:function(e){var t=Ext.fly(n,"_anim");t.isStyle("display","none")?t.setDisplayed(""):t.show()}}})),this},fadeOut:function(e){var t=this,n=t.dom;return e=Ext.apply({opacity:0,internalListeners:{afteranimate:function(t){if(n&&0===t.to.opacity){var i=Ext.fly(n,"_anim");e.useDisplay?i.setDisplayed(!1):i.hide()}}}},e),t.animate(e),t},fixDisplay:function(){var e=this;e.isStyle(g,p)&&(e.setStyle(f,o),e.setStyle(g,N(e)),e.isStyle(g,p)&&e.setStyle(g,"block"))},frame:function(e,t,n){var i,r=this,o=r.dom;return e=e||"#C3DAF9",t=t||1,n=n||{},i=function(){var i,r,a,s=Ext.fly(o,"_anim"),l=this;s.show(),i=s.getBox(),r=Ext.getBody().createChild({role:"presentation",id:s.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35e3,border:"0px solid "+e}}),a=new Ext.fx.Anim({target:r,duration:n.duration||1e3,iterations:t,from:{top:i.y,left:i.x,borderWidth:0,opacity:1,height:i.height,width:i.width},to:{top:i.y-20,left:i.x-20,borderWidth:10,opacity:0,height:i.height+40,width:i.width+40}}),a.on("afteranimate",function(){r.destroy(),l.end()})},r.animate({duration:2*Math.max(n.duration,500)||2e3,listeners:{beforeanimate:{fn:i}},callback:n.callback,scope:n.scope}),r},getColor:function(e,t,n){var i,r,o=this.getStyle(e),a=n||""===n?n:"#",s=0;if(!o||/transparent|inherit/.test(o))return t;if(/^r/.test(o))for(o=o.slice(4,o.length-1).split(","),r=o.length;r>s;s++)i=parseInt(o[s],10),a+=(16>i?"0":"")+i.toString(16);else o=o.replace("#",""),a+=3===o.length?o.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):o;return a.length>5?a.toLowerCase():t},getLoader:function(){var e=this,t=e.getData(),n=t.loader;return n||(t.loader=n=new Ext.ElementLoader({target:e})),n},getPositioning:function(e){var t=this.getStyle(["left","top","position","z-index"]),n=this.dom;return e&&("auto"===t.left&&(t.left=n.offsetLeft+"px"),"auto"===t.top&&(t.top=n.offsetTop+"px")),t},getScroll:function(){var e,t,n=this,i=n.dom,o=r.documentElement,a=document.body;return i===r||i===a?(e=o.scrollLeft||(a?a.scrollLeft:0),t=o.scrollTop||(a?a.scrollTop:0)):(e=i.scrollLeft,t=i.scrollTop),{left:e,top:t}},getScrollIntoViewXY:function(e,t,n){var t,n,i=this,r=i.dom,o=Ext.getDom(e),a=i.getOffsetsTo(o),s=r.offsetWidth,l=r.offsetHeight,d=a[0]+t,u=a[1]+n,c=u+l,h=d+s,f=o.clientHeight,g=o.clientWidth,p=n+f,m=t+g;return l>f||n>u?n=u:c>p&&(n=c-f),s>g||t>d?t=d:h>m&&(t=h-g),{x:t,y:n}},getScrollLeft:function(){
var e=this.dom;return e===r||e===document.body?this.getScroll().left:e.scrollLeft},getScrollTop:function(){var e=this.dom;return e===r||e===document.body?this.getScroll().top:e.scrollTop},getXY:function(){var e=this.callParent(),t=Ext.getDoc().getScroll();return e[0]+=t.left,e[1]+=t.top,e},ghost:function(e,t){var n,i=this,r=i.dom;return e=e||"b",n=function(){var t=Ext.fly(r,"_anim"),n=t.getWidth(),i=t.getHeight(),o=t.getXY(),a=t.getPositioning(),s={opacity:0};switch(e){case"t":s.y=o[1]-i;break;case"l":s.x=o[0]-n;break;case"r":s.x=o[0]+n;break;case"b":s.y=o[1]+i;break;case"tl":s.x=o[0]-n,s.y=o[1]-i;break;case"bl":s.x=o[0]-n,s.y=o[1]+i;break;case"br":s.x=o[0]+n,s.y=o[1]+i;break;case"tr":s.x=o[0]+n,s.y=o[1]-i}this.to=s,this.on("afteranimate",function(){var e=Ext.fly(r,"_anim");e&&(e.hide(),e.clearOpacity(),e.setPositioning(a))})},i.animate(Ext.applyIf(t||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:n}})),i},hide:function(e){return"string"==typeof e?(this.setVisible(!1,e),this):(this.setVisible(!1,this.anim(e)),this)},highlight:function(e,t){var n,r,o,a,s,l,d=this,u=d.dom,c={};return t=t||{},a=t.listeners||{},o=t.attr||"backgroundColor",c[o]=e||"ffff9c",t.to?r=t.to:(r={},r[o]=t.endColor||d.getColor(o,"ffffff","")),t.listeners=Ext.apply(Ext.apply({},a),{beforeanimate:function(){n=u.style[o];var e=Ext.fly(u,"_anim");return e.clearOpacity(),e.show(),s=a.beforeanimate,s?(l=s.fn||s,l.apply(s.scope||a.scope||i,arguments)):void 0},afteranimate:function(){u&&(u.style[o]=n),s=a.afteranimate,s&&(l=s.fn||s,l.apply(s.scope||a.scope||i,arguments))}}),d.animate(Ext.apply({},t,{duration:1e3,easing:"ease-in",from:c,to:r})),d},hover:function(e,t,n,i){var r=this;return r.on("mouseenter",e,n||r.dom,i),r.on("mouseleave",t,n||r.dom,i),r},initDD:function(e,t,n){var i=new Ext.dd.DD(Ext.id(this.dom),e,t);return Ext.apply(i,n)},initDDProxy:function(e,t,n){var i=new Ext.dd.DDProxy(Ext.id(this.dom),e,t);return Ext.apply(i,n)},initDDTarget:function(e,t,n){var i=new Ext.dd.DDTarget(Ext.id(this.dom),e,t);return Ext.apply(i,n)},isFocusable:function(e){var t,n=this,i=n.dom,r=i.getAttributeNode("tabIndex"),o=i.nodeName,a=!1;return r&&r.specified&&(t=r.value),i&&!i.disabled&&(-1==t?a=Ext.enableFocusManager&&e:T.test(o)?("a"!==o||i.href)&&(a=!0):a=null!=t&&t>=0,a=a&&n.isVisible(!0)),a},isMasked:function(){var e=this,t=e.getData(),n=t.maskEl,i=t.maskMsg,r=!1;return n&&n.isVisible()&&(i&&i.center(e),r=!0),r},isScrollable:function(){var e=this.dom;return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth},load:function(e){return this.getLoader().load(e),this},mask:function(e,t,n){var i=this,o=i.dom,a=i.getData(),s=a.maskEl,l=a.maskMsg;return O.test(o.tagName)&&"static"==i.getStyle("position")||i.addCls(A),s&&s.destroy(),l&&l.destroy(),Ext.DomHelper.append(o,[{role:"presentation",cls:Ext.baseCSSPrefix+"mask",style:"top:0;left:0;"},{role:"presentation",cls:t?F+" "+t:F,cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-text",html:e||""}}}]),l=Ext.get(o.lastChild),s=Ext.get(l.dom.previousSibling),a.maskMsg=l,a.maskEl=s,i.addCls(D),s.setDisplayed(!0),"string"==typeof e?(l.setDisplayed(!0),l.center(i)):l.setDisplayed(!1),o===r.body&&s.addCls(Ext.baseCSSPrefix+"mask-fixed"),Ext.isIE9m&&o!==r.body&&i.isStyle("height","auto")&&s.setSize(void 0,n||i.getHeight()),s},monitorMouseLeave:function(e,t,n){var i,r=this,o={mouseleave:function(o){Ext.isIE9m&&o.enableIEAsync(),i=setTimeout(Ext.Function.bind(t,n||r,[o]),e)},mouseenter:function(){clearTimeout(i)}};return r.on(o),o},needsTabIndex:function(){var e=this;return e.dom?"a"!==e.dom.nodeName||e.dom.href?!T.test(e.dom.nodeName):!0:void 0},normalizeEvent:function(e){var t,n;return!Ext.supports.MouseEnterLeave&&L.test(e)?(t=this.normalizeWithin,n="mouseenter"==e?"mouseover":"mouseout"):"mousewheel"!=e||Ext.supports.MouseWheel||Ext.isOpera||(n="DOMMouseScroll"),n?{eventName:n,normalizeFn:t}:null},normalizeWithin:function(e){var t=e.currentTarget,n=e.getRelatedTarget();if(t&&t.firstChild)for(;n;){if(n===t)return!1;n=n.parentNode,n&&1!==n.nodeType&&(n=null)}return!0},puff:function(e){var t,n=this,i=n.dom,r=n.getBox(),o=n.getStyle(["width","height","left","right","top","bottom","position","z-index","font-size","opacity"],!0);return e=Ext.applyIf(e||{},{easing:"ease-out",duration:500,useDisplay:!1}),t=function(){var t=Ext.fly(i,"_anim");t.clearOpacity(),t.show(),this.to={width:2*r.width,height:2*r.height,x:r.x-r.width/2,y:r.y-r.height/2,opacity:0,fontSize:"200%"},this.on("afteranimate",function(){var t=Ext.fly(i,"_anim");t&&(e.useDisplay?t.setDisplayed(!1):t.hide(),t.setStyle(o),Ext.callback(e.callback,e.scope))})},n.animate({duration:e.duration,easing:e.easing,listeners:{beforeanimate:{fn:t}}}),n},scroll:function(e,t,n){if(!this.isScrollable())return!1;e=e.charAt(0);var i,r,o=this,a=o.dom,s="r"===e||"l"===e?"left":"top",l=!1;return("l"===e||"t"===e||"u"===e)&&(t=-t),"left"===s?(i=a.scrollLeft,r=o.constrainScrollLeft(i+t)):(i=a.scrollTop,r=o.constrainScrollTop(i+t)),r!==i&&(this.scrollTo(s,r,n),l=!0),l},scrollBy:function(e,t,n){var i=this,r=i.dom;return e.length?(n=t,t=e[1],e=e[0]):"number"!=typeof e&&(n=t,t=e.y,e=e.x),e&&i.scrollTo("left",i.constrainScrollLeft(r.scrollLeft+e),n),t&&i.scrollTo("top",i.constrainScrollTop(r.scrollTop+t),n),i},scrollChildIntoView:function(e,n){t=t||new Ext.dom.Fly,t.attach(Ext.getDom(e)).scrollIntoView(this,n)},scrollIntoView:function(e,t,n,i){return e=Ext.getDom(e)||Ext.getBody().dom,this.doScrollIntoView(e,t,n,i,"getScrollLeft","scrollTo")},scrollTo:function(e,t,n){var i,r=/top/i.test(e),o=this,a=r?"scrollTop":"scrollLeft",s=o.dom;return n&&o.anim?(i={to:{}},i.to[a]=t,Ext.isObject(n)&&Ext.applyIf(i,n),o.animate(i)):(s[a]=t,s[a]=t),o},selectable:function(){var t=this;return t.dom.unselectable="",t.removeCls(e.unselectableCls),t.addCls(e.selectableCls),t},setCapture:function(){var e=this.dom;Ext.isIE9m&&e.setCapture&&e.setCapture()},setDisplayed:function(e){return"boolean"==typeof e&&(e=e?N(this):p),this.setStyle(g,e),this},setHeight:function(e,t){var n=this;return t&&n.anim?(Ext.isObject(t)||(t={}),n.animate(Ext.applyIf({to:{height:e}},t))):n.callParent(arguments),n},setHorizontal:function(){var e=this,t=e.verticalCls;delete e.vertical,t&&(delete e.verticalCls,e.removeCls(t)),delete e.setWidth,delete e.setHeight,Ext.isIE8||(delete e.getWidth,delete e.getHeight),delete e.styleHooks},updateText:function(e){var t,n,i=this;t&&(n=t.firstChild,(!n||3!==n.nodeType||n.nextSibling)&&(n=r.createTextNode(),i.empty(),t.appendChild(n)),e&&(n.data=e))},setHtml:function(e,t,n){var o,a,s,l=this;return l.dom?(e=e||"",a=l.dom,t!==!0?(a.innerHTML=e,Ext.callback(n,l),l):(o=Ext.id(),e+='<span id="'+o+'" role="presentation"></span>',s=setInterval(function(){var t,a,d,u,c,h,f;if(!(h=r.getElementById(o)))return!1;for(clearInterval(s),Ext.removeNode(h),t=Ext.getHead().dom;a=C.exec(e);)d=a[1],u=d?d.match(w):!1,u&&u[2]?(f=r.createElement("script"),f.src=u[2],c=d.match(I),c&&c[2]&&(f.type=c[2]),t.appendChild(f)):a[2]&&a[2].length>0&&(i.execScript?i.execScript(a[2]):i.eval(a[2]));Ext.callback(n,l)},20),a.innerHTML=e.replace(S,""),l)):l},setOpacity:function(e,t){var n=this;return n.dom?(t&&n.anim?("object"!=typeof t&&(t={duration:350,easing:"ease-in"}),n.animate(Ext.applyIf({to:{opacity:e}},t))):n.setStyle("opacity",e),n):n},setPositioning:function(e){return this.setStyle(e)},setScrollLeft:function(e){return this.dom.scrollLeft=e,this},setScrollTop:function(e){return this.dom.scrollTop=e,this},setVertical:function(t,n){var i=this,r=e.prototype;i.vertical=!0,n&&i.addCls(i.verticalCls=n),i.setWidth=r.setHeight,i.setHeight=r.setWidth,Ext.isIE8||(i.getWidth=r.getHeight,i.getHeight=r.getWidth),i.styleHooks=270===t?r.verticalStyleHooks270:r.verticalStyleHooks90},setSize:function(t,n,i){var r=this;return Ext.isObject(t)&&(i=n,n=t.height,t=t.width),i&&r.anim?(i===!0&&(i={}),r.animate(Ext.applyIf({to:{width:t,height:n}},i))):(r.dom.style.width=e.addUnits(t),r.dom.style.height=e.addUnits(n)),r},setVisible:function(t,n){var i=this,r=i.dom,a=H(i);if("string"==typeof n){switch(n){case g:a=e.DISPLAY;break;case f:a=e.VISIBILITY;break;case m:a=e.OFFSETS}i.setVisibilityMode(a),n=!1}if(n&&i.anim)t&&(i.setOpacity(.01),i.setVisible(!0)),Ext.isObject(n)||(n={duration:350,easing:"ease-in"}),i.animate(Ext.applyIf({callback:function(){t||Ext.fly(r).setVisible(!1).setOpacity(1)},to:{opacity:t?1:0}},n));else{if(a===e.DISPLAY)return i.setDisplayed(t);a===e.OFFSETS?i[t?"removeCls":"addCls"](y):a===e.VISIBILITY&&(i.fixDisplay(),r.style.visibility=t?"":o)}return i.getData()[v]=t,i},setWidth:function(e,t){var n=this;return t&&n.anim?(Ext.isObject(t)||(t={}),n.animate(Ext.applyIf({to:{width:e}},t))):n.callParent(arguments),n},setX:function(e,t){return this.setXY([e,this.getY()],t)},setXY:function(e,t){var n=this;return t&&n.anim?(Ext.isObject(t)||(t={}),n.animate(Ext.applyIf({to:{x:e[0],y:e[1]}},t))):n.callParent([e]),this},setY:function(e,t){return this.setXY([this.getX(),e],t)},show:function(e){return"string"==typeof e?(this.setVisible(!0,e),this):(this.setVisible(!0,this.anim(e)),this)},slideIn:function(e,t,n){var i,r,o,a,s=this,l=s.dom,d=l.style;return e=e||"t",t=t||{},i=function(){var i,u,c,h,f=this,g=t.listeners,p=Ext.fly(l,"_anim");switch(n||p.fixDisplay(),i=p.getBox(),"t"!=e&&"b"!=e||0!==i.height?"l"!=e&&"r"!=e||0!==i.width||(i.width=l.scrollWidth):i.height=l.scrollHeight,u=p.getStyle(["width","height","left","right","top","bottom","position","z-index"],!0),p.setSize(i.width,i.height),t.preserveScroll&&(o=p.cacheScrollValues()),h=p.wrap({role:"presentation",id:Ext.id()+"-anim-wrap-for-"+p.dom.id,style:{visibility:n?"visible":"hidden"}}),a=h.dom.parentNode,h.setPositioning(p.getPositioning(!0)),h.isStyle("position","static")&&h.position("relative"),p.clearPositioning("auto"),h.clip(),o&&o(),p.setStyle({visibility:"",position:"absolute"}),n&&h.setSize(i.width,i.height),e){case"t":c={from:{width:i.width+"px",height:"0px"},to:{width:i.width+"px",height:i.height+"px"}},d.bottom="0px";break;case"l":c={from:{width:"0px",height:i.height+"px"},to:{width:i.width+"px",height:i.height+"px"}},s.anchorAnimX(e);break;case"r":c={from:{x:i.x+i.width,width:"0px",height:i.height+"px"},to:{x:i.x,width:i.width+"px",height:i.height+"px"}},s.anchorAnimX(e);break;case"b":c={from:{y:i.y+i.height,width:i.width+"px",height:"0px"},to:{y:i.y,width:i.width+"px",height:i.height+"px"}};break;case"tl":c={from:{x:i.x,y:i.y,width:"0px",height:"0px"},to:{width:i.width+"px",height:i.height+"px"}},d.bottom="0px",s.anchorAnimX("l");break;case"bl":c={from:{y:i.y+i.height,width:"0px",height:"0px"},to:{y:i.y,width:i.width+"px",height:i.height+"px"}},s.anchorAnimX("l");break;case"br":c={from:{x:i.x+i.width,y:i.y+i.height,width:"0px",height:"0px"},to:{x:i.x,y:i.y,width:i.width+"px",height:i.height+"px"}},s.anchorAnimX("r");break;case"tr":c={from:{x:i.x+i.width,width:"0px",height:"0px"},to:{x:i.x,width:i.width+"px",height:i.height+"px"}},d.bottom="0px",s.anchorAnimX("r")}h.show(),r=Ext.apply({},t),delete r.listeners,r=new Ext.fx.Anim(Ext.applyIf(r,{target:h,duration:500,easing:"ease-out",from:n?c.to:c.from,to:n?c.from:c.to})),r.on("afteranimate",function(){var e=Ext.fly(l,"_anim");e.setStyle(u),n&&(t.useDisplay?e.setDisplayed(!1):e.hide()),h.dom&&(h.dom.parentNode?h.dom.parentNode.insertBefore(e.dom,h.dom):a.appendChild(e.dom),h.destroy()),o&&o(),f.end()}),g&&r.on(g)},s.animate({duration:t.duration?2*Math.max(t.duration,500):1e3,listeners:{beforeanimate:i}}),s},slideOut:function(e,t){return this.slideIn(e,t,!0)},swallowEvent:function(e,t){var n,i,r=this,o=function(e){e.stopPropagation(),t&&e.preventDefault()};if(Ext.isArray(e)){for(i=e.length,n=0;i>n;n++)r.on(e[n],o);return r}return r.on(e,o),r},switchOff:function(e){var t,n=this,i=n.dom;return e=Ext.applyIf(e||{},{easing:"ease-in",duration:500,remove:!1,useDisplay:!1}),t=function(){var t,n,r=Ext.fly(i,"_anim"),o=this,a=r.getSize(),s=r.getXY();r.clearOpacity(),r.clip(),n=r.getPositioning(),t=new Ext.fx.Animator({target:i,duration:e.duration,easing:e.easing,keyframes:{33:{opacity:.3},66:{height:1,y:s[1]+a.height/2},100:{width:1,x:s[0]+a.width/2}}}),t.on("afteranimate",function(){var t=Ext.fly(i,"_anim");e.useDisplay?t.setDisplayed(!1):t.hide(),t.clearOpacity(),t.setPositioning(n),t.setSize(a),o.end()})},n.animate({duration:2*Math.max(e.duration,500),listeners:{beforeanimate:{fn:t}},callback:e.callback,scope:e.scope}),n},syncContent:function(e){e=Ext.getDom(e);var t,n,i,r,o,a,s,l=e.childNodes,d=l.length,u=this.dom,c=u.childNodes,h=c.length;if(Ext.isIE9m&&u.mergeAttributes)u.mergeAttributes(e,!0),u.src=e.src;else for(o=e.attributes,a=o.length,t=0;a>t;t++)s=o[t].name,"id"!==s&&u.setAttribute(s,o[t].value);if(d!==h)return void(u.innerHTML=e.innerHTML);for(t=0;d>t;t++){if(i=l[t],n=c[t],r=i.nodeType,r!==n.nodeType||1===r&&i.tagName!==n.tagName)return void(u.innerHTML=e.innerHTML);3===r?n.data=i.data:(i.id&&n.id!==i.id&&(n.id=i.id),n.style.cssText=i.style.cssText,n.className=i.className,Ext.fly(n,"_syncContent").syncContent(i))}},toggle:function(e){var t=this;return t.setVisible(!t.isVisible(),t.anim(e)),t},unmask:function(){var e,t=this,n=t.getData(),i=n.maskEl,r=n.maskMsg;i&&(e=i.dom.style,e.clearExpression&&(e.clearExpression("width"),e.clearExpression("height")),i&&(i.destroy(),delete n.maskEl),r&&(r.destroy(),delete n.maskMsg),t.removeCls([D,A]))},unclip:function(){var e,t=this,n=t.getData();return n[a]&&(n[a]=!1,e=n[u],e.o&&t.setStyle(s,e.o),e.x&&t.setStyle(l,e.x),e.y&&t.setStyle(d,e.y)),t},translate:function(e,t,n){Ext.supports.CssTransforms&&!Ext.isIE9m?this.callParent(arguments):(null!=e&&(this.dom.style.left=e+"px"),null!=t&&(this.dom.style.top=t+"px"),this.dom.style.position="absolute")},unselectable:function(){var t=this;return Ext.isOpera&&(t.dom.unselectable="on"),t.removeCls(e.selectableCls),t.addCls(e.unselectableCls),t},deprecated:{"4.0":{methods:{pause:function(e){var t=this;return Ext.fx.Manager.setFxDefaults(t.id,{delay:e}),t},scale:function(e,t,n){return this.animate(Ext.apply({},n,{width:e,height:t})),this},shift:function(e){return this.animate(e),this}}},4.2:{methods:{moveTo:function(e,t,n){return this.setXY([e,t],n)},setBounds:function(e,t,n,i,r){return this.setBox({x:e,y:t,width:n,height:i},r)},setLeftTop:function(t,n){var i=this,r=i.dom.style;return r.left=e.addUnits(t),r.top=e.addUnits(n),i},setLocation:function(e,t,n){return this.setXY([e,t],n)}}},"5.0":{methods:{getAttributeNS:function(e,t){return this.getAttribute(t,e)},getCenterXY:function(){return this.getAlignToXY(r,"c-c")},getComputedHeight:function(){return Math.max(this.dom.offsetHeight,this.dom.clientHeight)||parseFloat(this.getStyle(c))||0},getComputedWidth:function(){return Math.max(this.dom.offsetWidth,this.dom.clientWidth)||parseFloat(this.getStyle(h))||0},getStyleSize:function(){var t,n,i,o=this,a=this.dom,s=a===r||a===r.body;return s?{width:e.getViewportWidth(),height:e.getViewportHeight()}:(t=o.getStyle(["height","width"],!0),t.width&&"auto"!==t.width&&(n=parseFloat(t.width)),t.height&&"auto"!==t.height&&(i=parseFloat(t.height)),{width:n||o.getWidth(!0),height:i||o.getHeight(!0)})},isBorderBox:function(){return!0},isDisplayed:function(){return!this.isStyle("display","none")},focusable:"isFocusable"}}}}}(),function(){function e(e,t,n,i){return"none"===i[this.styleName]?"0px":i[this.name]}var t,n,i,r,o,a,s,l,d=Ext.dom.Element,u=d.prototype,c=!Ext.isIE8,h=document,f=h.defaultView,g=/alpha\(opacity=(.*)\)/i,p=/^\s+|\s+$/g,m=u.styleHooks,x=Ext.supports,E=0;if(u._init(d),delete u._init,d.on=d.addListener,Ext.os.is.iOS||Ext.os.is.Android?E=2:(navigator.msMaxTouchPoints||Ext.isWebKit&&x.TouchEvents&&Ext.os.is.Desktop)&&(E=1),Ext.apply(x,{touchScroll:E}),Ext.plainTableCls=Ext.baseCSSPrefix+"table-plain",Ext.plainListCls=Ext.baseCSSPrefix+"list-plain",Ext.CompositeElementLite&&Ext.CompositeElementLite.importElementMethods(),m.opacity={name:"opacity",afterSet:function(e,t,n){n.isLayer&&n.onOpacitySet(t)}},!x.Opacity&&Ext.isIE&&Ext.apply(m.opacity,{get:function(e){var t,n,i=e.style.filter;return i.match&&(t=i.match(g),t&&(n=parseFloat(t[1]),!isNaN(n)))?n?n/100:0:1},set:function(e,t){var n=e.style,i=n.filter.replace(g,"").replace(p,"");n.zoom=1,"number"==typeof t&&t>=0&&1>t?(t*=100,n.filter=i+(i.length?" ":"")+"alpha(opacity="+t+")"):n.filter=i}}),!x.matchesSelector){var v,y=/^([a-z]+|\*)?(?:\.([a-z][a-z\-_0-9]*))?$/i,b=/\-/g,C=function(e,t){var n=new RegExp("(?:^|\\s+)"+t.replace(b,"\\-")+"(?:\\s+|$)");return e&&"*"!==e?(e=e.toUpperCase(),function(t){return t.tagName===e&&n.test(t.className)}):function(e){return n.test(e.className)}},S=function(e){return e=e.toUpperCase(),function(t){return t.tagName===e}},w={};u.matcherCache=w,u.is=function(e){if(!e)return!0;var t,n,i,r,o,a,s,l=this.dom;if(1!==l.nodeType)return!1;if(!(i=Ext.isFunction(e)?e:w[e])){if(!(n=e.match(y)))return r=l.parentNode,r||(o=!0,r=v||(v=h.createDocumentFragment()),v.appendChild(l)),a=-1!==Ext.Array.indexOf(Ext.fly(r,"_is").query(e),l),o&&v.removeChild(l),a;s=n[1],t=n[2],w[e]=i=t?C(s,t):S(s)}return i(l)}}if(f&&f.getComputedStyle||(u.getStyle=function(e,t){var n,i,r,o,a,s,l,u=this,c=u.dom,h="string"!=typeof e,f=e,g=f,p=1,m=t,x=u.styleHooks;if(h&&(r={},f=g[0],l=0,!(p=g.length)))return r;if(!c||c.documentElement)return r||"";i=c.style,t?s=i:(s=c.currentStyle,s||(m=!0,s=i));do{if(o=x[f],o||(x[f]=o={name:d.normalize(f)}),o.get?a=o.get(c,u,m,s):(n=o.name,a=s[n]),!h)return a;r[f]=a,f=g[++l]}while(p>l);return r}),Ext.isIE8)for(o=["Top","Right","Bottom","Left"],a=o.length;a--;)s=o[a],l="border"+s+"Width",m["border-"+s.toLowerCase()+"-width"]=m[l]={name:l,styleName:"border"+s+"Style",get:e};Ext.apply(Ext,{enableGarbageCollector:!0,isBorderBox:!0,getDetachedBody:function(){var e=Ext.detachedBodyEl;return e||(e=h.createElement("div"),Ext.detachedBodyEl=e=new Ext.dom.Fly(e),e.isDetachedBody=!0),e},getElementById:function(e){var t,n=h.getElementById(e);return!n&&(t=Ext.detachedBodyEl)&&(n=t.dom.querySelector(Ext.makeIdSelector(e))),n},addBehaviors:function(e){if(Ext.isReady){var t,n,i,r={};for(n in e)(t=n.split("@"))[1]&&(i=t[0],r[i]||(r[i]=Ext.fly(document).select(i,!0)),r[i].on(t[1],e[n]));r=null}else Ext.onReady(function(){Ext.addBehaviors(e)})}}),Ext.isIE8&&(t=Ext.removeNode,Ext.removeNode=function(e){t(e),n=n||h.createElement("div"),n.appendChild(e),n.innerHTML=""}),Ext.isIE9m?(Ext.getElementById=function(e){var t,n=h.getElementById(e);return!n&&(t=Ext.detachedBodyEl)&&(n=t.dom.all[e]),n},u.getById=function(e,t){var n,i,r=this.dom,o=null;return r&&(i=c&&h.getElementById(e)||r.all[e],i&&(t?o=i:(n=Ext.cache[e],n&&(n.skipGarbageCollection||!Ext.isGarbage(n.dom)?o=n:(Ext.Error.raise("Stale Element with id '"+i.id+"' found in Element cache. Make sure to clean up Element instances using destroy()"),n.destroy())),o=o||new Ext.Element(i)))),o}):h.querySelector||(Ext.getDetachedBody=Ext.getBody,Ext.getElementById=function(e){return h.getElementById(e)},u.getById=function(e,t){var n=h.getElementById(e);return t?n:n?Ext.get(n):null}),!Ext.isIE||Ext.isIE9p&&h.documentMode>=9||(u.getAttribute=function(e,t){var n,i=this.dom;return t?(n=typeof i[t+":"+e],"undefined"!=n&&"unknown"!=n?i[t+":"+e]||null:null):("for"===e&&(e="htmlFor"),i[e]||null)}),Ext.onReady(function(){function e(e,t,n,i){var r=i[this.name]||"";return g.test(r)?"transparent":r}function t(e,t,n){return function(){e.selectionStart=t,e.selectionEnd=n}}function n(e){var n,i,r,o,a=x.DisplayChangeInputSelectionBug,s=x.DisplayChangeTextAreaSelectionBug;return(a||s)&&(n=d.getActiveElement(),i=n&&n.tagName,(s&&"TEXTAREA"===i||a&&"INPUT"===i&&"text"===n.type)&&Ext.fly(e).isAncestor(n)&&(r=n.selectionStart,o=n.selectionEnd,Ext.isNumber(r)&&Ext.isNumber(o)))?t(n,r,o):Ext.emptyFn}function o(e,t,n,i){var r,o,a=i.marginRight;return"0px"!==a&&(r=e.style,o=r.display,r.display="inline-block",a=(n?i:e.ownerDocument.defaultView.getComputedStyle(e,null)).marginRight,r.display=o),a}function a(e,t,i,r){var o,a,s,l=r.marginRight;return"0px"!==l&&(o=e.style,a=n(e),s=o.display,o.display="inline-block",l=(i?r:e.ownerDocument.defaultView.getComputedStyle(e,"")).marginRight,o.display=s,a()),l}var s,l,c,f,g=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,p=[],E=u.setWidth,v=u.setHeight,y=u.setSize,b=/^\d+(?:\.\d*)?px$/i;if(x.FixedTableWidthBug&&(m.width={name:"width",set:function(e,t,n){var i=e.style,r=n._needsTableWidthFix,o=i.display;r&&(i.display="none"),i.width=t,r&&(e.scrollWidth,i.display=o)}},u.setWidth=function(e,t){var n=this,i=n.dom,r=i.style,o=n._needsTableWidthFix,a=r.display;return o&&!t&&(r.display="none"),E.call(n,e,t),o&&!t&&(i.scrollWidth,r.display=a),n},u.setSize=function(e,t,n){var i=this,r=i.dom,o=r.style,a=i._needsTableWidthFix,s=o.display;return a&&!n&&(o.display="none"),y.call(i,e,t,n),a&&!n&&(r.scrollWidth,o.display=s),i}),Ext.isIE8&&(m.height={name:"height",set:function(e,t,n){var i,r,o=n.component;o&&o._syncFrameHeight&&this===o.el&&(r=o.frameBody.dom.style,b.test(t)?(i=o.getFrameInfo(),i&&(r.height=parseInt(t,10)-i.height+"px")):t&&"auto"!==t||(r.height="")),e.style.height=t}},u.setHeight=function(e,t){var n,i,r=this.component;return r&&r._syncFrameHeight&&this===r.el&&(i=r.frameBody.dom.style,e&&"auto"!==e?(n=r.getFrameInfo(),n&&(i.height=e-n.height+"px")):i.height=""),v.call(this,e,t)},u.setSize=function(e,t,n){var i,r,o=this.component;return o&&o._syncFrameHeight&&this===o.el&&(r=o.frameBody.dom.style,t&&"auto"!==t?(i=o.getFrameInfo(),i&&(r.height=t-i.height+"px")):r.height=""),y.call(this,e,t,n)}),Ext.getDoc().on("selectstart",function(e,t){var n=d.selectableCls,i=d.unselectableCls,r=t&&t.tagName;if(r=r&&r.toLowerCase(),"input"!==r&&"textarea"!==r)for(;t&&1===t.nodeType&&t!==h.documentElement;){var o=Ext.fly(t);if(o.hasCls(n))return;if(o.hasCls(i))return void e.stopEvent();t=t.parentNode}}),x.RightMargin||(m.marginRight=m["margin-right"]={name:"marginRight",get:x.DisplayChangeInputSelectionBug||x.DisplayChangeTextAreaSelectionBug?a:o}),!x.TransparentColor)for(s=["background-color","border-color","color","outline-color"],l=s.length;l--;)c=s[l],f=d.normalize(c),m[c]=m[f]={name:f,get:e};u.verticalStyleHooks90=i=Ext.Object.chain(m),u.verticalStyleHooks270=r=Ext.Object.chain(m),i.width=m.height||{name:"height"},i.height=m.width||{name:"width"},i["margin-top"]={name:"marginLeft"},i["margin-right"]={name:"marginTop"},i["margin-bottom"]={name:"marginRight"},i["margin-left"]={name:"marginBottom"},i["padding-top"]={name:"paddingLeft"},i["padding-right"]={name:"paddingTop"},i["padding-bottom"]={name:"paddingRight"},i["padding-left"]={name:"paddingBottom"},i["border-top"]={name:"borderLeft"},i["border-right"]={name:"borderTop"},i["border-bottom"]={name:"borderRight"},i["border-left"]={name:"borderBottom"},r.width=m.height||{name:"height"},r.height=m.width||{name:"width"},r["margin-top"]={name:"marginRight"},r["margin-right"]={name:"marginBottom"},r["margin-bottom"]={name:"marginLeft"},r["margin-left"]={name:"marginTop"},r["padding-top"]={name:"paddingRight"},r["padding-right"]={name:"paddingBottom"},r["padding-bottom"]={name:"paddingLeft"},r["padding-left"]={name:"paddingTop"},r["border-top"]={name:"borderRight"},r["border-right"]={name:"borderBottom"},r["border-bottom"]={name:"borderLeft"},r["border-left"]={name:"borderTop"},Ext.scopeCss||p.push(Ext.baseCSSPrefix+"body"),x.Touch&&p.push(Ext.baseCSSPrefix+"touch"),Ext.isIE&&Ext.isIE9m&&(p.push(Ext.baseCSSPrefix+"ie",Ext.baseCSSPrefix+"ie9m"),p.push(Ext.baseCSSPrefix+"ie8p"),Ext.isIE8?p.push(Ext.baseCSSPrefix+"ie8"):p.push(Ext.baseCSSPrefix+"ie9",Ext.baseCSSPrefix+"ie9p"),Ext.isIE8m&&p.push(Ext.baseCSSPrefix+"ie8m")),Ext.isIE10&&p.push(Ext.baseCSSPrefix+"ie10"),Ext.isGecko&&p.push(Ext.baseCSSPrefix+"gecko"),Ext.isOpera&&p.push(Ext.baseCSSPrefix+"opera"),Ext.isOpera12m&&p.push(Ext.baseCSSPrefix+"opera12m"),Ext.isWebKit&&p.push(Ext.baseCSSPrefix+"webkit"),Ext.isSafari&&p.push(Ext.baseCSSPrefix+"safari"),Ext.isChrome&&p.push(Ext.baseCSSPrefix+"chrome"),Ext.isMac&&p.push(Ext.baseCSSPrefix+"mac"),Ext.isLinux&&p.push(Ext.baseCSSPrefix+"linux"),x.CSS3BorderRadius||p.push(Ext.baseCSSPrefix+"nbr"),x.CSS3LinearGradient||p.push(Ext.baseCSSPrefix+"nlg"),x.Touch&&p.push(Ext.baseCSSPrefix+"touch"),Ext.getBody().addCls(p)},null,{priority:1500})}),Ext.define("Ext.GlobalEvents",{extend:"Ext.mixin.Observable",alternateClassName:"Ext.globalEvents",requires:["Ext.dom.Element"],observableType:"global",singleton:!0,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},constructor:function(){var e=this;e.callParent(),Ext.onReady(function(){e.attachListeners()})},attachListeners:function(){Ext.get(window).on("resize",this.fireResize,this,{buffer:this.resizeBuffer})},fireResize:function(){var e=this,t=Ext.Element,n=t.getViewportWidth(),i=t.getViewportHeight();(e.curHeight!==i||e.curWidth!==n)&&(e.curHeight=i,e.curWidth=n,e.fireEvent("resize",n,i))}},function(e){Ext.on=function(){return e.addListener.apply(e,arguments)},Ext.un=function(){return e.removeListener.apply(e,arguments)}}),Ext.define("Ext.overrides.GlobalEvents",{override:"Ext.GlobalEvents",attachListeners:function(){this.callParent(),Ext.getDoc().on("mousedown",this.fireMouseDown,this)},fireMouseDown:function(e){this.fireEvent("mousedown",e)},deprecated:{5:{methods:{addListener:function(e,t,n,i){var r,o;if("ready"===e)o=t;else if("string"!=typeof e)for(r in e)"ready"===r&&(o=e[r]);o&&(Ext.log.warn("Ext.on('ready', fn) is deprecated.  Please use Ext.onReady(fn) instead."),Ext.onReady(o)),this.callParent([e,t,n,i])}}}}}),Ext.define("Ext.event.publisher.Dom",{extend:"Ext.event.publisher.Publisher",requires:["Ext.env.Browser","Ext.event.Event","Ext.GlobalEvents"],targetType:"element",idOrClassSelectorRegex:/^([#|\.])([\w\-]+)$/,classNameSplitRegex:/\s+/,SELECTOR_ALL:"*",captureEvents:{resize:1,focus:1,blur:1,paste:1,input:1,change:1,animationstart:1,animationend:1,scroll:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1,MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){var e,t,n,i=this,r=document,o=r.defaultView,a=i.eventToVendorMap={},s=i.vendorToEventMap={},l=i.handledEvents,d=Ext.browser;if(i.captureSubscribers={},i.directSubscribers={},i.globalListeners={},Ext.os.is.iOS&&Ext.os.version.getMajor()<5||!o||!o.addEventListener?(i.target=r,i.isTargetWin=!1):(i.target=o,i.isTargetWin=!0),i.initHandlers(),l)for(e=0,t=l.length;t>e;e++)this.addDelegatedListener(l[e]);else if(d.is.WebKit){a.transitionend=d.getVendorProperyName("transitionEnd"),a.animationstart=d.getVendorProperyName("animationStart"),a.animationend=d.getVendorProperyName("animationEnd");for(n in a)s[a[n]]=n}return i.callParent()},initHandlers:function(){var e=this;e.onDelegatedEvent=Ext.bind(e.onDelegatedEvent,e),e.onDirectEvent=Ext.bind(e.onDirectEvent,e)},handles:function(){return!1},getSubscribers:function(e,t){var n=t?this.captureSubscribers:this.subscribers,i=n[e];return i||(i=n[e]={id:{$length:0},className:{$length:0},selector:[],all:0,$length:0}),i},getDirectSubscribers:function(e,t){var n=this.directSubscribers,i=n[e]||(n[e]={}),r=i[t]||(i[t]={$length:0});return r},addDelegatedListener:function(e){this.target.addEventListener(e,this.onDelegatedEvent,this.captureEvents[e])},removeDelegatedListener:function(e){this.target.removeEventListener(e,this.onDelegatedEvent,this.captureEvents[e])},addDirectListener:function(e,t,n){t.addEventListener(e,this.onDirectEvent,n)},removeDirectListener:function(e,t,n){t.removeEventListener(e,this.onDirectEvent,n)},subscribe:function(e,t,n,i){var r,o,a,s,l,d,u,c,h=this,f=!!n.capture,g=e.match(h.idOrClassSelectorRegex);if(n.delegated===!1||h.directEvents[t]||"#ext-window"===e&&!h.isTargetWin)return d=i.dom,l=this.getDirectSubscribers(d.id,t),1===++l.$length&&h.addDirectListener(t,d,f),void(g||(l.selector||(l.selector=[])).push(e));if(h.handledEvents||h.globalListeners[t]||(h.addDelegatedListener(h.eventToVendorMap[t]||t),this.globalListeners[t]=1),r=h.getSubscribers(t,f),o=r.id,a=r.className,s=r.selector,g)if(u=g[1],c=g[2],"#"===u){if(o.hasOwnProperty(c))return void o[c]++;o[c]=1,o.$length++}else{if(a.hasOwnProperty(c))return void a[c]++;a[c]=1,a.$length++}else if(e===this.SELECTOR_ALL)r.all++;else{if(s.hasOwnProperty(e))return void s[e]++;s[e]=1,s.push(e)}r.$length++},unsubscribe:function(e,t,n,i,r){var o,a,s,l,d,u,c,h,f,g=this,p=!!i.capture,m=e.match(g.idOrClassSelectorRegex);if(i.delegated===!1||g.directEvents[t]||e===Ext.windowId&&!g.isTargetWin)return h=r.dom,f=h.id,d=g.getDirectSubscribers(f,t),void(n?(d.$length&&g.removeDirectListener(t,h,p),delete g.directSubscribers[f]):--d.$length?m||Ext.Array.remove(d.selector,e):(g.removeDirectListener(t,h,p),delete g.directSubscribers[f][t]));if(o=g.getSubscribers(t,p),a=o.id,s=o.className,l=o.selector,m)if(u=m[1],c=m[2],"#"===u){if(!a.hasOwnProperty(c)||!n&&--a[c]>0)return;delete a[c],a.$length--}else{if(!s.hasOwnProperty(c)||!n&&--s[c]>0)return;delete s[c],s.$length--}else if(e===g.SELECTOR_ALL)n?o.all=0:o.all--;else{if(!l.hasOwnProperty(e)||!n&&--l[e]>0)return;delete l[e],Ext.Array.remove(l,e)}o.$length--},getPropagatingTargets:function(e){var t=[];if(!e)return t;do t[t.length]=e,e=e.parentNode;while(e);return t},dispatch:function(e,t,n){n.push(n[0].target),this.callParent(arguments)},publish:function(e,t,n){var i,r=this.getSubscribers(e,!0),o=this.getSubscribers(e),a=this.getSubscribers("*",!0),s=this.getSubscribers("*"),l=r.$length,d=o.$length,u=a.$length,c=s.$length;if(l||d||u||c)return i=Ext.isArray(t)?t:this.captureEvents[e]?[t]:this.getPropagatingTargets(t),l&&this.doPublish(r,e,i,n,!0)||u&&this.doPublish(a,e,i,n,!0),n.isStopped||d&&this.doPublish(o,e,i,n)||c&&this.doPublish(s,e,i,n),this},doPublish:function(e,t,n,i,r){var o,a,s,l,d,u,c,h,f,g=e.id,p=e.className,m=e.selector,x=g.$length>0,E=p.$length>0,v=m.length>0,y=e.all>0,b={},C=[i],S=!1,w=this.classNameSplitRegex,T=0,P=n.length,I=1;for(r&&(T=P-1,P=I=-1),o=T;o!==P;o+=I){if(d=n[o],i.setCurrentTarget(d),x&&(u="FORM"===d.tagName?d.getAttribute("id"):d===window?"ext-window":d.id,u&&g.hasOwnProperty(u)&&(S=!0,this.dispatch("#"+u,t,C,r))),E&&(c=d.className))for(h=c.split(w),s=0,l=h.length;l>s;s++)c=h[s],b[c]||(b[c]=!0,p.hasOwnProperty(c)&&(S=!0,this.dispatch("."+c,t,C)));if(i.isStopped)return S}if(y&&!S&&(i.setCurrentTarget(i.browserEvent.target),S=!0,this.dispatch(this.SELECTOR_ALL,t,C),i.isStopped))return S;if(v)for(s=0,l=n.length;l>s;s++)for(d=n[s],o=0,a=m.length;a>o;o++)if(f=m[o],Ext.fly(d).is(f)&&(i.setCurrentTarget(d),S=!0,this.dispatch(f,t,C)),i.isStopped)return S;return S},onDelegatedEvent:function(e,t){var n,i=this,r=e.type;return n=new Ext.event.Event(e),i.isEventBlocked(n)?!1:(i.beforeEvent(n),r=n.type=i.vendorToEventMap[r]||r,Ext.frameStartTime=e.timeStamp,i.publish(r,n.target,n),t!==!1&&i.afterEvent(n),n)},onDirectEvent:function(e){var t,n,i,r,o,a,s,l,d,u,c,h=this,f=e.type,g=new Ext.event.Event(e);if(!h.isEventBlocked(g)){if(h.beforeEvent(g),t=g.type=this.vendorToEventMap[f]||f,n=e.currentTarget,i=n.id,r=h.getDirectSubscribers(i,t).selector,o=h.dispatcher,a=h.targetType,s=e.target,l=s,Ext.frameStartTime=e.timeStamp,s.navigator&&(i="ext-window"),g.setCurrentTarget(n),r)for(u=r.length;l!==n;){for(d=0;u>d;d++)c=r[d],Ext.fly(l).is(c)&&o.dispatchDirectEvent(a,c,t,[g,s]);l=l.parentNode}o.dispatchDirectEvent(a,"#"+i,t,[g,s]),h.afterEvent(g)}},beforeEvent:function(e){var t,n,i=e.browserEvent,r=Ext.event.publisher.Dom;"touchstart"===i.type&&(t=i.touches,1===t.length&&(n=t[0],r.lastTouchStartX=n.pageX,r.lastTouchStartY=n.pageY))},afterEvent:function(e){var t=e.browserEvent,n=t.type,i=Ext.event.publisher.Dom,r=Ext.GlobalEvents;r.hasListeners.idle&&!r.idleEventMask[n]&&r.fireEvent("idle"),e.self.pointerEvents[n]&&"mouse"!==e.pointerType&&(i.lastScreenPointerEventTime=Ext.now()),"touchend"===n&&(i.lastTouchEndTime=Ext.now());
},isEventBlocked:function(e){var t=this,n=e.type,i=Ext.event.publisher.Dom,r=Ext.now();return t.blockedPointerEvents[n]&&"mouse"!==e.pointerType||t.blockedCompatibilityMouseEvents[n]&&r-i.lastScreenPointerEventTime<1e3||Ext.supports.TouchEvents&&e.self.mouseEvents[e.type]&&Math.abs(e.pageX-i.lastTouchStartX)<15&&Math.abs(e.pageY-i.lastTouchStartY)<15&&Ext.now()-i.lastTouchEndTime<1e3},hasSubscriber:function(e,t){var n,i,r=e.match(this.idOrClassSelectorRegex),o=this.getSubscribers(t);return null!==r?(n=r[1],i=r[2],"#"===n?o.id.hasOwnProperty(i):o.className.hasOwnProperty(i)):o.selector.hasOwnProperty(e)&&-1!==Ext.Array.indexOf(o.selector,e)},getSubscribersCount:function(e){return this.getSubscribers(e).$length+this.getSubscribers("*").$length},destroy:function(){var e,t,n,i=this,r=i.handledEvents;if(r)for(e=0,t=r.length;t>e;e++)i.removeDelegatedListener(r[e]);else for(n in i.globalListeners)i.removeDelegatedListener(n)}}),Ext.define("Ext.overrides.event.publisher.Dom",{override:"Ext.event.publisher.Dom"},function(){var e=Ext.event.publisher.Dom,t=e.prototype;Ext.isIE9m&&(e.override({initHandlers:function(){var e,t,n=this;n.callParent(),e=n.onDelegatedEvent,t=n.onDirectEvent,n.target=document,n.targetIsWin=!1,n.onDelegatedEvent=function(t){t.target=t.srcElement||window,e.call(n,t)},n.onDirectEvent=function(e){e.target=e.srcElement||window,e.currentTarget=this,t.call(n,e)}},addDelegatedListener:function(e){this.target.attachEvent("on"+e,this.onDelegatedEvent)},removeDelegatedListener:function(e){this.target.detachEvent("on"+e,this.onDelegatedEvent)},addDirectListener:function(e,t){var n=this,i=Ext.Function.bind(n.onDirectEvent,t);n.directSubscribers[t.id][e].fn=i,t.attachEvent?t.attachEvent("on"+e,i):n.callParent(arguments)},removeDirectListener:function(e,t){t.detachEvent?t.detachEvent("on"+e,this.directSubscribers[t.id][e].fn):this.callParent(arguments)}}),Ext.apply(t.directEvents,t.captureEvents),t.captureEvents={})}),Ext.define("Ext.AnimationQueue",{singleton:!0,constructor:function(){var e=Ext.Function.bind;this.queue=[],this.taskQueue=[],this.runningQueue=[],this.idleQueue=[],this.isRunning=!1,this.isIdle=!0,this.run=e(this.run,this),this.whenIdle=e(this.whenIdle,this),this.processIdleQueueItem=e(this.processIdleQueueItem,this),this.processTaskQueueItem=e(this.processTaskQueueItem,this),Ext.os.is.iOS&&setInterval(this.watch,500)},start:function(e,t,n){this.queue.push(arguments),this.isRunning||(this.hasOwnProperty("idleTimer")&&(clearTimeout(this.idleTimer),delete this.idleTimer),this.hasOwnProperty("idleQueueTimer")&&(clearTimeout(this.idleQueueTimer),delete this.idleQueueTimer),this.isIdle=!1,this.isRunning=!0,this.startCountTime=Ext.now(),this.count=0,this.doStart())},watch:function(){this.isRunning&&Ext.now()-this.lastRunTime>=500&&this.run()},run:function(){if(this.isRunning){var e,t,n=this.runningQueue;for(this.lastRunTime=Ext.now(),this.frameStartTime=Ext.now(),n.push.apply(n,this.queue),e=0,t=n.length;t>e;e++)this.invoke(n[e]);n.length=0;var i=this.frameStartTime,r=this.startCountTime,o=i-r,a=++this.count;o>=200&&(this.onFpsChanged(1e3*a/o,a,o),this.startCountTime=i,this.count=0),this.doIterate()}},onFpsChanged:Ext.emptyFn,onStop:Ext.emptyFn,doStart:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run),this.lastRunTime=Ext.now()},doIterate:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run)},doStop:function(){Ext.Function.cancelAnimationFrame(this.animationFrameId)},stop:function(e,t,n){if(this.isRunning){var i,r,o=this.queue,a=o.length;for(i=0;a>i;i++)r=o[i],r[0]===e&&r[1]===t&&r[2]===n&&(o.splice(i,1),i--,a--);0===a&&(this.doStop(),this.onStop(),this.isRunning=!1,this.idleTimer=setTimeout(this.whenIdle,100))}},onIdle:function(e,t,n){var i,r,o,a=this.idleQueue;for(i=0,r=a.length;r>i;i++)if(o=a[i],e===o[0]&&t===o[1]&&n===o[2])return;a.push(arguments),this.isIdle&&this.processIdleQueue()},unIdle:function(e,t,n){var i,r,o,a=this.idleQueue;for(i=0,r=a.length;r>i;i++)if(o=a[i],e===o[0]&&t===o[1]&&n===o[2])return a.splice(i,1),!0;return!1},queueTask:function(e,t,n){this.taskQueue.push(arguments),this.processTaskQueue()},dequeueTask:function(e,t,n){var i,r,o,a=this.taskQueue;for(i=0,r=a.length;r>i;i++)o=a[i],e===o[0]&&t===o[1]&&n===o[2]&&(a.splice(i,1),i--,r--)},invoke:function(e){var t=e[0],n=e[1],i=e[2];t="string"==typeof t?n[t]:t,Ext.isArray(i)?t.apply(n,i):t.call(n,i)},whenIdle:function(){this.isIdle=!0,this.processIdleQueue()},processIdleQueue:function(){this.hasOwnProperty("idleQueueTimer")||(this.idleQueueTimer=setTimeout(this.processIdleQueueItem,1))},processIdleQueueItem:function(){if(delete this.idleQueueTimer,this.isIdle){var e,t=this.idleQueue;t.length>0&&(e=t.shift(),this.invoke(e),this.processIdleQueue())}},processTaskQueue:function(){this.hasOwnProperty("taskQueueTimer")||(this.taskQueueTimer=setTimeout(this.processTaskQueueItem,15))},processTaskQueueItem:function(){delete this.taskQueueTimer;var e,t=this.taskQueue;t.length>0&&(e=t.shift(),this.invoke(e),this.processTaskQueue())},showFps:function(){Ext.onReady(function(){Ext.Viewport.add([{xtype:"component",bottom:50,left:0,width:50,height:20,html:"Average",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__averageFps",xtype:"component",bottom:0,left:0,width:50,height:50,html:"0",style:"background-color: red; color: white; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:50,width:50,height:20,html:"Min (Last 1k)",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__minFps",xtype:"component",bottom:0,left:50,width:50,height:50,html:"0",style:"background-color: orange; color: white; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:100,width:50,height:20,html:"Max (Last 1k)",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__maxFps",xtype:"component",bottom:0,left:100,width:50,height:50,html:"0",style:"background-color: yellow; color: black; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:150,width:50,height:20,html:"Current",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__currentFps",xtype:"component",bottom:0,left:150,width:50,height:50,html:"0",style:"background-color: green; color: white; text-align: center; line-height: 50px;"}]),Ext.AnimationQueue.resetFps()})},resetFps:function(){var e=Ext.getCmp("__currentFps"),t=Ext.getCmp("__averageFps"),n=Ext.getCmp("__minFps"),i=Ext.getCmp("__maxFps"),r=1e3,o=0,a=0,s=0;Ext.AnimationQueue.onFpsChanged=function(l){a++,a%10||(r=1e3,o=0),s+=l,r=Math.min(r,l),o=Math.max(o,l),e.setHtml(Math.round(l)),t.setHtml(Math.round(s/a)),n.setHtml(Math.round(r)),i.setHtml(Math.round(o))}}},function(){var e=window.location.search.substr(1),t=e.split("&");Ext.Array.contains(t,"showfps")&&Ext.AnimationQueue.showFps()}),Ext.define("Ext.event.publisher.Gesture",{extend:"Ext.event.publisher.Dom",alternateClassName:"Ext.event.publisher.TouchGesture",requires:["Ext.util.Point","Ext.AnimationQueue"],config:{recognizers:{}},isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},constructor:function(e){var t=this,n=t.onTouchStart,i=t.onTouchMove=Ext.Function.createAnimationFrame(t.onTouchMove,t),r=t.onTouchEnd=Ext.Function.createAnimationFrame(t.onTouchEnd,t,null,1);return t.handlers={touchstart:n,touchmove:i,touchend:r,touchcancel:r,pointerdown:n,pointermove:i,pointerup:r,pointercancel:r,MSPointerDown:n,MSPointerMove:i,MSPointerUp:r,MSPointerCancel:r,mousedown:n,mousemove:i,mouseup:r},t.recognizedEvents={},t.activeTouchesMap={},t.activeTouches=[],t.changedTouches=[],Ext.supports.TouchEvents&&(t.onTargetTouchMove=t.onTargetTouchMove.bind(t),t.onTargetTouchEnd=t.onTargetTouchEnd.bind(t)),t.initConfig(e),t.callParent()},applyRecognizers:function(e){var t,n;for(t in e)n=e[t],n&&this.registerRecognizer(n);return e},handles:function(e){var t=this.handledEventsMap;return!!t[e]||!!t["*"]||"*"===e||this.recognizedEvents.hasOwnProperty(e)},registerRecognizer:function(e){var t,n,i=this,r=i.recognizedEvents,o=e.getHandledEvents();for(e.setOnRecognized(i.onRecognized),e.setCallbackScope(i),t=0,n=o.length;n>t;t++)r[o[t]]=1},onRecognized:function(e,t,n){var i,r,o,a,s=this,l=t.changedTouches,d=l.length;if(n=n||{},n.type=e,n.target=l[0].target,n.isStopped=!1,t=t.chain(n),d>1){for(i=[],o=0;d>o;o++)a=l[o],i.push(a.targets);r=s.getCommonTargets(i)}else r=l[0].targets;s.publish(e,r,t)},getCommonTargets:function(e){var t=e[0],n=e.length;if(1===n)return t;for(var i,r,o,a=[],s=1;;){if(i=t[t.length-s],!i)return a;for(o=1;n>o;o++)if(r=e[o],r[r.length-s]!==i)return a;a.unshift(i),s++}return a},invokeRecognizers:function(e,t){var n,i,r=this.getRecognizers();if("onStart"===e)for(n in r)r[n].isActive=!0;for(n in r)i=r[n],i.isActive&&i[e].call(i,t)===!1&&(i.isActive=!1)},updateTouches:function(e,t){var n,i,r,o,a,s,l,d,u=this,c=e.browserEvent,h=c.changedTouches||[c],f=u.activeTouches,g=u.activeTouchesMap,p=[];for(a=0,s=h.length;s>a;a++)n=h[a],i="identifier"in n?n.identifier:"pointerId"in n?n.pointerId:1,r=g[i],t?(delete g[i],Ext.Array.remove(f,r)):r||(o=Ext.event.Event.resolveTextNode(n.target),r=g[i]={identifier:i,target:o,targets:u.getPropagatingTargets(o)},f.push(r)),l=n.pageX,d=n.pageY,r.pageX=l,r.pageY=d,r.point=new Ext.util.Point(l,d),p.push(r);e.touches=Ext.Array.clone(f),e.changedTouches=p},onDelegatedEvent:function(e){var t=this;e=t.callParent([e,!1]),e&&((!e.button||e.button<1)&&t.handlers[e.type].call(t,e),t.afterEvent(e))},onTouchStart:function(e){var t=this,n=e.target;"touchstart"===e.browserEvent.type&&(n.addEventListener("touchmove",t.onTargetTouchMove),n.addEventListener("touchend",t.onTargetTouchEnd),n.addEventListener("touchcancel",t.onTargetTouchEnd)),t.updateTouches(e),t.isStarted||(t.isStarted=!0,t.invokeRecognizers("onStart",e),Ext.enableGarbageCollector&&Ext.dom.GarbageCollector.pause()),t.invokeRecognizers("onTouchStart",e)},onTouchMove:function(e){this.isStarted&&(this.updateTouches(e),e.changedTouches.length>0&&this.invokeRecognizers("onTouchMove",e))},onTouchEnd:function(e){var t=this;t.isStarted&&(t.updateTouches(e,!0),t.invokeRecognizers(t.isCancelEvent[e.type]?"onTouchCancel":"onTouchEnd",e),t.activeTouches.length||(t.isStarted=!1,t.invokeRecognizers("onEnd",e),Ext.enableGarbageCollector&&Ext.dom.GarbageCollector.resume()))},onTargetTouchMove:function(e){Ext.getBody().contains(e.target)||this.onTouchMove(new Ext.event.Event(e))},onTargetTouchEnd:function(e){var t=this,n=e.target;n.removeEventListener("touchmove",t.onTargetTouchMove),n.removeEventListener("touchend",t.onTargetTouchEnd),n.removeEventListener("touchcancel",t.onTargetTouchEnd),Ext.getBody().contains(n)||t.onTouchEnd(new Ext.event.Event(e))}},function(){var e=[],t=Ext.supports,n=t.TouchEvents;t.PointerEvents?e.push("pointerdown","pointermove","pointerup","pointercancel"):t.MSPointerEvents?e.push("MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"):n&&e.push("touchstart","touchmove","touchend","touchcancel"),(!e.length||n&&Ext.isWebKit&&Ext.os.is.Desktop)&&e.push("mousedown","mousemove","mouseup"),this.prototype.handledEvents=e}),Ext.define("Ext.overrides.event.publisher.Gesture",{override:"Ext.event.publisher.Gesture"},function(){Ext.isIE9m&&this.override({updateTouches:function(e,t){var n=e.browserEvent,i=e.getXY();n.pageX=i[0],n.pageY=i[1],this.callParent([e,t])},initHandlers:function(){var e,t=this;t.callParent(),e=t.onDelegatedEvent,t.onDelegatedEvent=function(n){e.call(t,Ext.event.Event.enableIEAsync(n))}}})}),Ext.require(["Ext.event.gesture.*","Ext.event.publisher.Dom","Ext.event.publisher.Gesture","Ext.event.Dispatcher"]),Ext.onReady(function(){var e=Ext.event.Dispatcher.getInstance();e.setPublishers({dom:new Ext.event.publisher.Dom,gesture:new Ext.event.publisher.Gesture({recognizers:{drag:new Ext.event.gesture.Drag,tap:new Ext.event.gesture.Tap,doubleTap:new Ext.event.gesture.DoubleTap,longPress:new Ext.event.gesture.LongPress,swipe:new Ext.event.gesture.Swipe,pinch:new Ext.event.gesture.Pinch,rotate:new Ext.event.gesture.Rotate,edgeSwipe:new Ext.event.gesture.EdgeSwipe}})}),Ext.get(window).on("unload",e.destroy,e)},null,{priority:2e3}),Ext.apply(Ext,{SSL_SECURE_URL:Ext.isSecure&&Ext.isIE?"javascript:''":"about:blank",BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}),Ext.define("Ext.AbstractManager",{requires:["Ext.util.HashMap"],typeName:"type",constructor:function(e){Ext.apply(this,e||{}),this.all=new Ext.util.HashMap,this.types={}},get:function(e){return this.all.get(e)},register:function(e){var t=this.all,n=t.getKey(e);void 0===n&&Ext.Error.raise("Key is undefined. Please ensure the item has a key before registering the item."),t.containsKey(n)&&Ext.Error.raise('Registering duplicate id "'+n+'" with this manager'),this.all.add(e)},unregister:function(e){this.all.remove(e)},registerType:function(e,t){this.types[e]=t,t[this.typeName]=e},isRegistered:function(e){return void 0!==this.types[e]},create:function(e,t){var n=e[this.typeName]||e.type||t,i=this.types[n];return void 0===i&&Ext.Error.raise("The '"+n+"' type has not been registered with this manager"),new i(e)},onAvailable:function(e,t,n){var i,r,o=this.all;o.containsKey(e)?(i=o.get(e),t.call(n||i,i)):(r=function(i,a,s){a==e&&(t.call(n||s,s),o.un("add",r))},o.on("add",r))},each:function(e,t){this.all.each(e,t||this)},getCount:function(){return this.all.getCount()}}),Ext.define("Ext.data.flash.BinaryXhr",{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=!0,Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill"),Ext.GlobalEvents.fireEvent("flashready")},flashPluginActive:!1,flashPluginInjected:!1,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(e,t,n){var i;i=this.liveConnections[Number(e)],i?i.onFlashStateChange(t,n):Ext.warn.log("onFlashStateChange for unknown connection ID: "+e)},registerConnection:function(e){var t=this.connectionIndex;return this.conectionIndex=this.connectionIndex+1,this.liveConnections[t]=e,t},injectFlashPlugin:function(){var e,t,n=this;n.flashPolyfillEl=Ext.getBody().appendChild({id:"ext-flash-polyfill",cn:[{tag:"p",html:"To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed."},{tag:"a",href:"http://www.adobe.com/go/getflashplayer",cn:[{tag:"img",src:window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif",alt:"Get Adobe Flash player"}]}]}),e=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/"),t="/plugins/flash/FlashPlugin.swf",t=[Ext.Loader.getPath("Ext.data.Connection"),"../../plugins/flash/FlashPlugin.swf"].join("/"),Ext.flashPluginPath&&(t=Ext.flashPluginPath),Ext.Loader.loadScript({url:e,onLoad:function(){var e="11.4.0",n="playerProductInstall.swf",i={},r={};r.quality="high",r.bgcolor="#ffffff",r.allowscriptaccess="sameDomain",r.allowfullscreen="true";var o={};o.id="ext-flash-polyfill",o.name="polyfill",o.align="middle",swfobject.embedSWF(t,"ext-flash-polyfill","0","0",e,n,i,r,o)},onError:function(){Ext.Error.raise("Could not load flash-loader file swfobject.js from "+flashLoader)},scope:n}),Ext.data.flash.BinaryXhr.flashPluginInjected=!0}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(e){Ext.data.flash.BinaryXhr.flashPluginInjected||Ext.data.flash.BinaryXhr.injectFlashPlugin();var t=this;Ext.apply(t,e),t.requestHeaders={}},abort:function(){var e=this;return 4==e.readyState?void Ext.warn.log("Aborting a connection that's completed its transfer: "+this.url):(e.aborted=!0,Ext.data.flash.BinaryXhr.flashPluginActive?(Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(e.javascriptId),void delete Ext.data.flash.BinaryXhr.liveConnections[e.javascriptId]):void Ext.GlobalEvents.removeListener("flashready",e.onFlashReady,e))},getAllResponseHeaders:function(){var e=[];return Ext.Object.each(this.responseHeaders,function(t,n){e.push(t+": "+n)}),e.join("\r\n")},getResponseHeader:function(e){var t=this.responseHeaders;return t&&t[e]||null},open:function(e,t,n,i,r){var o=this;o.method=e,o.url=t,o.async=n!==!1,o.user=i,o.password=r,o.async||Ext.Error.raise("Binary posts are only supported in async mode: "+t),"POST"!=o.method&&Ext.log.warn("Binary data can only be sent as a POST request: "+t)},overrideMimeType:function(e){this.mimeType=e},send:function(e){var t=this;t.body=e,Ext.data.flash.BinaryXhr.flashPluginActive?this.onFlashReady():Ext.GlobalEvents.addListener("flashready",t.onFlashReady,t)},onFlashReady:function(){var e,t,n=this;n.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(n),e={method:n.method,url:n.url,user:n.user,password:n.password,mimeType:n.mimeType,requestHeaders:n.requestHeaders,body:n.body,javascriptId:n.javascriptId},t=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(e)},setReadyState:function(e){var t=this;t.readyState!=e&&(t.readyState=e,t.onreadystatechange())},setRequestHeader:function(e,t){this.requestHeaders[e]=t},onreadystatechange:Ext.emptyFn,parseData:function(e){var t=this;this.status=e.status||0,t.responseHeaders={},t.mimeType&&(t.responseHeaders["content-type"]=t.mimeType),"complete"==e.reason?(this.responseBytes=e.data,t.responseHeaders["content-length"]=e.data.length):"error"==e.reason||"securityError"==e.reason?(this.statusText=e.text,t.responseHeaders["content-length"]=0):Ext.Error.raise("Unkown reason code in data: "+e.reason)},onFlashStateChange:function(e,t){var n=this;4==e&&(n.parseData(t),delete Ext.data.flash.BinaryXhr.liveConnections[n.javascriptId]),n.setReadyState(e)}}),Ext.define("Ext.data.Connection",{mixins:{observable:"Ext.mixin.Observable"},requires:["Ext.data.flash.BinaryXhr"],statics:{requestId:0},config:{url:null,async:!0,username:"",password:"",disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3e4,extraParams:null,autoAbort:!1,method:null,defaultHeaders:null,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest"},constructor:function(e){this.mixins.observable.constructor.call(this,e),this.requests={}},request:function(e){e=e||{};var t,n,i,r,o,a,s=this,l=e.scope||window,d=e.username||s.getUsername(),u=e.password||s.getPassword()||"";return s.fireEvent("beforerequest",s,e)!==!1?(n=s.setOptions(e,l),s.isFormUpload(e)?(s.upload(e.form,n.url,n.data,e),null):((e.autoAbort||s.getAutoAbort())&&s.abort(),t=e.async!==!1?e.async||s.getAsync():!1,a=s.openRequest(e,n,t,d,u),o=s.getIsXdr(),o||(r=s.setupHeaders(a,e,n.data,n.params)),i={id:++Ext.data.Connection.requestId,xhr:a,headers:r,options:e,async:t,binary:e.binary||s.getBinary(),timeout:setTimeout(function(){i.timedout=!0,s.abort(i)},e.timeout||s.getTimeout())},s.requests[i.id]=i,s.latestId=i.id,t&&(o||(a.onreadystatechange=Ext.Function.bind(s.onStateChange,s,[i]))),o&&s.processXdrRequest(i,a),a.send(n.data),t?i:s.onComplete(i))):(Ext.callback(e.callback,e.scope,[e,void 0,void 0]),null)},processXdrRequest:function(e,t){var n=this;delete e.headers,e.contentType=e.options.contentType||n.getDefaultXdrContentType(),t.onload=Ext.Function.bind(n.onStateChange,n,[e,!0]),t.onerror=t.ontimeout=Ext.Function.bind(n.onStateChange,n,[e,!1])},processXdrResponse:function(e,t){e.getAllResponseHeaders=function(){return[]},e.getResponseHeader=function(){return""},e.contentType=t.contentType||this.getDefaultXdrContentType()},upload:function(e,t,n,i){e=Ext.getDom(e),i=i||{};var r,o,a,s,l,d,u,c,h=Ext.id(),f=document.createElement("iframe"),g=[],p="multipart/form-data",m={target:e.target,method:e.method,encoding:e.encoding,enctype:e.enctype,action:e.action},x=function(t,n){r=document.createElement("input"),Ext.fly(r).set({type:"hidden",value:n,name:t}),e.appendChild(r),g.push(r)};if(Ext.fly(f).set({id:h,name:h,cls:Ext.baseCSSPrefix+"hidden-display",src:Ext.SSL_SECURE_URL}),document.body.appendChild(f),document.frames&&(document.frames[h].name=h),Ext.fly(e).set({target:h,method:"POST",enctype:p,encoding:p,action:t||m.action}),n){o=Ext.Object.fromQueryString(n)||{};for(s in o)if(o.hasOwnProperty(s))if(a=o[s],Ext.isArray(a))for(l=a.length,d=0;l>d;d++)x(s,a[d]);else x(s,a)}for(Ext.get(f).on({load:Ext.Function.bind(this.onUploadComplete,this,[f,i]),single:!Ext.isOpera}),e.submit(),Ext.fly(e).set(m),u=g.length,c=0;u>c;c++)Ext.removeNode(g[c])},onUploadComplete:function(e,t){var n,i,r,o,a=this,s={responseText:"",responseXML:null};try{if(r=e&&(e.contentWindow.document||e.contentDocument)||(window.frames[e.id]||{}).document){if(Ext.isOpera&&r.location==Ext.SSL_SECURE_URL)return;r.body&&((o=r.body.firstChild)&&/pre/i.test(o.tagName)?s.responseText=o.textContent||o.innerText:(o=r.getElementsByTagName("textarea")[0])?s.responseText=o.value:s.responseText=r.body.textContent||r.body.innerText),s.responseXML=r.XMLDocument||r,n=t.success,i=!0}else Ext.Error.raise("Could not acquire a suitable connection for the file upload service.")}catch(l){s.responseText='{success:false,message:"'+Ext.String.trim(l.message||l.description)+'"}',n=t.failure,i=!1}a.fireEvent(i?"requestcomplete":"requestexception",a,s,t),Ext.callback(n,t.scope,[s,t]),Ext.callback(t.callback,t.scope,[t,i,s]),Ext.defer(Ext.removeNode,100,Ext,[e])},isFormUpload:function(e){var t=this.getForm(e);return t?e.isUpload||/multipart\/form-data/i.test(t.getAttribute("enctype")):!1},getForm:function(e){var t=e.form||null;return t&&(t=Ext.getDom(t)),t},setOptions:function(e,t){var n,i,r,o=this,a=e.params||{},s=o.getExtraParams(),l=e.urlParams,d=e.url||o.getUrl(),u=e.jsonData;return Ext.isFunction(a)&&(a=a.call(t,e)),Ext.isFunction(d)&&(d=d.call(t,e)),d=this.setupUrl(e,d),d||Ext.Error.raise({options:e,msg:"No URL specified"}),r=e.rawData||e.binaryData||e.xmlData||u||null,u&&!Ext.isPrimitive(u)&&(r=Ext.encode(r)),e.binaryData&&(Ext.isArray(e.binaryData)||Ext.log.warn("Binary submission data must be an array of byte values! Instead got "+typeof e.binaryData),o.nativeBinaryPostSupport()&&(r=new Uint8Array(e.binaryData),(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko)&&(r=r.buffer))),Ext.isObject(a)&&(a=Ext.Object.toQueryString(a)),Ext.isObject(s)&&(s=Ext.Object.toQueryString(s)),a+=s?(a?"&":"")+s:"",l=Ext.isObject(l)?Ext.Object.toQueryString(l):l,a=this.setupParams(e,a),n=(e.method||o.getMethod()||(a||r?"POST":"GET")).toUpperCase(),this.setupMethod(e,n),i=e.disableCaching!==!1?e.disableCaching||o.getDisableCaching():!1,"GET"===n&&i&&(d=Ext.urlAppend(d,(e.disableCachingParam||o.getDisableCachingParam())+"="+(new Date).getTime())),("GET"==n||r)&&a&&(d=Ext.urlAppend(d,a),a=null),l&&(d=Ext.urlAppend(d,l)),{url:d,method:n,data:r||a||null}},setupUrl:function(e,t){var n=this.getForm(e);return n&&(t=t||n.action),t},setupParams:function(e,t){var n,i=this.getForm(e);return i&&!this.isFormUpload(e)&&(n=Ext.Element.serializeForm(i),t=t?t+"&"+n:n),t},setupMethod:function(e,t){return this.isFormUpload(e)?"POST":t},setupHeaders:function(e,t,n,i){var r,o,a=this,s=Ext.apply({},t.headers||{},a.getDefaultHeaders()||{}),l=a.getDefaultPostHeader(),d=t.jsonData,u=t.xmlData,c="Content-Type";s.hasOwnProperty(c)||!n&&!i||(n&&(t.rawData?l="text/plain":u&&Ext.isDefined(u)?l="text/xml":d&&Ext.isDefined(d)&&(l="application/json")),s[c]=l),a.getUseDefaultXhrHeader()&&!s["X-Requested-With"]&&(s["X-Requested-With"]=a.getDefaultXhrHeader()),(void 0===s[c]||null===s[c])&&delete s[c];try{for(r in s)s.hasOwnProperty(r)&&(o=s[r],e.setRequestHeader(r,o))}catch(h){a.fireEvent("exception",r,o)}return s},newRequest:function(e){var t,n=this;return e.binaryData?t=n.nativeBinaryPostSupport()?n.getXhrInstance():new Ext.data.flash.BinaryXhr:(e.cors||n.getCors())&&Ext.isIE&&Ext.ieVersion<=9?(t=n.getXdrInstance(),n.setIsXdr(!0)):t=n.getXhrInstance(),t},openRequest:function(e,t,n,i,r){var o=this,a=o.newRequest(e);return i?a.open(t.method,t.url,n,i,r):o.getIsXdr()?a.open(t.method,t.url):a.open(t.method,t.url,n),(e.binary||o.getBinary())&&(window.Uint8Array?a.responseType="arraybuffer":a.overrideMimeType?a.overrideMimeType("text/plain; charset=x-user-defined"):Ext.isIE||Ext.log.warn("Your browser does not support loading binary data using Ajax.")),(e.withCredentials||o.getWithCredentials())&&(a.withCredentials=!0),a},getXdrInstance:function(){var e;return Ext.ieVersion>=8?e=new XDomainRequest:Ext.Error.raise({msg:"Your browser does not support CORS"}),e},getXhrInstance:function(){for(var e,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0,i=t.length;i>n;++n)try{e=t[n],e();break}catch(r){}return e}(),isLoading:function(e){if(e||(e=this.getLatest()),!e||!e.xhr)return!1;var t=e.xhr.readyState,n=Ext.data.flash&&Ext.data.flash.BinaryXhr;return e.xhr instanceof n&&4!=t||!(0===t||4==t)},abort:function(e){var t,n=this;if(e||(e=n.getLatest()),e&&n.isLoading(e)){t=e.xhr;try{t.onreadystatechange=null}catch(i){t.onreadystatechange=Ext.emptyFn}t.abort(),n.clearTimeout(e),e.timedout||(e.aborted=!0),n.onComplete(e),n.cleanup(e)}},abortAll:function(){var e,t=this.requests;for(e in t)t.hasOwnProperty(e)&&this.abort(t[e])},getLatest:function(){var e,t=this.latestId;return t&&(e=this.requests[t]),e||null},onStateChange:function(e,t){var n=this,i=Ext.GlobalEvents;(e.xhr&&4==e.xhr.readyState||n.isXdr)&&(n.clearTimeout(e),n.onComplete(e,t),n.cleanup(e),i.hasListeners.idle&&i.fireEvent("idle"))},clearTimeout:function(e){clearTimeout(e.timeout),delete e.timeout},cleanup:function(e){e.xhr=null,delete e.xhr},onComplete:function(e,t){var n,i,r,o,a=this,s=e.options;try{n=e.xhr,i=a.parseStatus(n.status),i.success&&(i.success=4===n.readyState)}catch(l){i={success:!1,isException:!1}}return r=a.isXdr?t:i.success,r?(o=a.createResponse(e),a.fireEvent("requestcomplete",a,o,s),Ext.callback(s.success,s.scope,[o,s])):(o=i.isException||e.aborted||e.timedout?a.createException(e):a.createResponse(e),a.fireEvent("requestexception",a,o,s),Ext.callback(s.failure,s.scope,[o,s])),Ext.callback(s.callback,s.scope,[s,r,o]),delete a.requests[e.id],o},parseStatus:function(e){e=1223==e?204:e;var t=e>=200&&300>e||304==e,n=!1;if(!t)switch(e){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:n=!0}return{success:t,isException:n}},createResponse:function(e){for(var t,n,i,r,o=this,a=e.xhr,s=o.getIsXdr(),l={},d=s?[]:a.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),u=d.length;u--;)t=d[u],n=t.indexOf(":"),n>=0&&(i=t.substr(0,n).toLowerCase()," "==t.charAt(n+1)&&++n,l[i]=t.substr(n+1));return e.xhr=null,delete e.xhr,r={request:e,requestId:e.id,status:a.status,statusText:a.statusText,getResponseHeader:function(e){return l[e.toLowerCase()]},getAllResponseHeaders:function(){return l}},s&&o.processXdrResponse(r,a),e.binary?r.responseBytes=o.getByteArray(a):(r.responseText=a.responseText,r.responseXML=a.responseXML),a=null,r},createException:function(e){return{request:e,requestId:e.id,status:e.aborted?-1:0,statusText:e.aborted?"transaction aborted":"communication failure",aborted:e.aborted,timedout:e.timedout}},getByteArray:function(e){var t,n,i,r,o=e.response,a=e.responseBody,s=Ext.data.flash&&Ext.data.flash.BinaryXhr;if(e instanceof s)t=e.responseBytes;else if(window.Uint8Array)t=o?new Uint8Array(o):[];else if(Ext.isIE9p)try{t=new VBArray(a).toArray()}catch(l){t=[]}else if(Ext.isIE)this.self.vbScriptInjected||this.injectVBScript(),getIEByteArray(e.responseBody,t=[]);else for(t=[],n=e.responseText,i=n.length,r=0;i>r;r++)t.push(255&n.charCodeAt(r));return t},injectVBScript:function(){var e=document.createElement("script");e.type="text/vbscript",e.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n"),Ext.getHead().dom.appendChild(e),this.self.vbScriptInjected=!0},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}}),Ext.define("Ext.Ajax",{extend:"Ext.data.Connection",singleton:!0,autoAbort:!1}),Ext.define("Ext.ComponentManager",{alternateClassName:"Ext.ComponentMgr",singleton:!0,count:0,typeName:"xtype",constructor:function(e){Ext.apply(this,e||{}),this.all={},this.references={},this.onAvailableCallbacks={}},create:function(e,t){return"string"==typeof e?Ext.widget(e):e.isComponent?e:"xclass"in e?Ext.create(e.xclass,e):Ext.widget(e.xtype||t,e)},get:function(e){return this.all[e]},register:function(e){var t=this.all,n=e.getId();void 0===n&&Ext.Error.raise("Key is undefined. Please ensure the item has a key before registering the item."),n in t&&Ext.Error.raise('Registering duplicate id "'+n+'" with this manager'),t[n]=e,e.reference&&(this.references[n]=e),this.count++,(this.onAvailableCallbacks[n]||[]).length&&this.notifyAvailable(e)},unregister:function(e){var t=e.getId();e.reference&&delete this.references[t],delete this.all[t],this.count--},markReferencesDirty:function(){this.referencesDirty=!0},fixReferences:function(){var e,t=this,n=t.references;if(t.referencesDirty){for(e in n)n.hasOwnProperty(e)&&n[e].fixReference();t.referencesDirty=!1}},onAvailable:function(e,t,n){var i,r=this,o=r.onAvailableCallbacks,a=r.all;e in a?(i=a[e],t.call(n||i,i)):e&&(Ext.isArray(o[e])||(o[e]=[]),o[e].push(function(e){t.call(n||e,e)}))},notifyAvailable:function(e){for(var t=this.onAvailableCallbacks[e&&e.getId()]||[];t.length;)t.shift()(e)},each:function(e,t){return Ext.Object.each(this.all,e,t)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},deprecated:{5:{methods:{isRegistered:null,registerType:null}}}},function(){Ext.getCmp=function(e){return Ext.ComponentManager.get(e)}}),Ext.ns("Ext.util").Operators={"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"^=":function(e,t){return e&&e.substr(0,t.length)==t},"$=":function(e,t){return e&&e.substr(e.length-t.length)==t},"*=":function(e,t){return e&&-1!==e.indexOf(t)},"%=":function(e,t){return e%t===0},"|=":function(e,t){return e&&(e==t||e.substr(0,t.length+1)==t+"-")},"~=":function(e,t){return e&&-1!=(" "+e+" ").indexOf(" "+t+" ")}},Ext.define("Ext.util.LruCache",{extend:"Ext.util.HashMap",config:{maxSize:null},add:function(e,t){var n,i=this,r=i.findKey(t);return r?(i.unlinkEntry(n=i.map[r]),n.prev=i.last,n.next=null):n={prev:i.last,next:null,key:e,value:t},i.last?i.last.next=n:i.first=n,i.last=n,i.callParent([e,n]),i.prune(),t},insertBefore:function(e,t,n){var i,r,o=this;return(n=this.map[this.findKey(n)])?(i=o.findKey(t),i?o.unlinkEntry(r=o.map[i]):r={prev:n.prev,next:n,key:e,value:t},n.prev?r.prev.next=r:o.first=r,r.next=n,n.prev=r,o.prune(),t):o.add(e,t)},get:function(e){var t=this.map[e];return t?(t.next&&this.moveToEnd(t),t.value):void 0},removeAtKey:function(e){return this.unlinkEntry(this.map[e]),this.callParent(arguments)},clear:function(e){return this.first=this.last=null,this.callParent(arguments)},unlinkEntry:function(e){e&&(e.next?e.next.prev=e.prev:this.last=e.prev,e.prev?e.prev.next=e.next:this.first=e.next,e.prev=e.next=null)},moveToEnd:function(e){this.unlinkEntry(e),(e.prev=this.last)?this.last.next=e:this.first=e,this.last=e},getArray:function(e){for(var t=[],n=this.first;n;)t.push(e?n.key:n.value),n=n.next;return t},each:function(e,t,n){var i=this,r=n?i.last:i.first,o=i.length;for(t=t||i;r&&e.call(t,r.key,r.value,o)!==!1;)r=n?r.prev:r.next;return i},findKey:function(e){var t,n=this.map;for(t in n)if(n.hasOwnProperty(t)&&n[t].value===e)return t;return void 0},clone:function(){var e,t=new this.self(this.initialConfig),n=this.map;t.suspendEvents();for(e in n)n.hasOwnProperty(e)&&t.add(e,n[e].value);return t.resumeEvents(),t},prune:function(){var e=this,t=e.getMaxSize(),n=t?e.length-t:0;if(n>0)for(;e.first&&n;n--)e.removeAtKey(e.first.key);
}}),Ext.define("Ext.ComponentQuery",{singleton:!0,requires:["Ext.ComponentManager","Ext.util.Operators","Ext.util.LruCache"]},function(){var e=this,t=Ext.util.Operators,n=/(\d*)n\+?(\d*)/,i=/\D/,r=/^(\s)+/,o=/\\(.)/g,a=new Ext.util.LruCache({maxSize:100}),s=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),l=function(e,t){return t.method.apply(this,[e].concat(t.args))},d=function(e,t){for(var n,i=[],r=0,o=e.length,a=">"!==t;o>r;r++)n=e[r],n.getRefItems&&(i=i.concat(n.getRefItems(a)));return i},u=function(e){for(var t,n=[],i=0,r=e.length;r>i;i++)for(t=e[i];t=t.getRefOwner();)n.push(t);return n},c=function(e,t,n){if("*"===t)return e.slice();for(var i,r=[],o=0,a=e.length;a>o;o++)i=e[o],i.isXType(t,n)&&r.push(i);return r},h=function(e,n,i,r){var o,a,s,l,d,u,c=[],h=0,f=e.length;for("@"===n.charAt(0)&&(o=!0,n=n.substr(1)),"?"===n.charAt(0)&&(o=!0,a=!0,n=n.substr(1));f>h;h++)if(s=e[h],!o||s.hasOwnProperty(n))if(l=s[n],a)c.push(s);else if("~="===i){if(l)for(Ext.isArray(l)||(l=l.split(" ")),d=0,u=l.length;u>d;d++)if(t[i](Ext.coerce(l[d],r),r)){c.push(s);break}}else"/="===i?void 0!==s[n]&&r.test(s[n])&&c.push(s):(r?t[i](Ext.coerce(l,r),r):!!s[n])&&c.push(s);return c},f=function(e,t){for(var n,i=[],r=0,o=e.length;o>r;r++)n=e[r],n.getItemId()===t&&i.push(n);return i},g=function(t,n,i){return e.pseudos[n](t,i)},p=/^(\s?([>\^])\s?|\s|$)/,m=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,x=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:c,argTransform:function(e){var t=e[0];return Ext.log.warn('"'+t+'" ComponentQuery selector style is deprecated, use "'+t.replace(/^\./,"")+'" without the leading dot instead'),void 0!==e[1]&&(e[1]=e[1].replace(o,"$1")),e.slice(1)}},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:h,argTransform:function(e){var t,n=e[0],i=e[1],r=e[2],s=(e[3],e[4]);if(void 0!==s){s=s.replace(o,"$1");var l,d=Ext.String.format,u="ComponentQuery selector '{0}' has an unescaped ({1}) character at the {2} of the attribute value pattern. Usually that indicates an error where the opening quote is not followed by the closing quote. If you need to match a ({1}) character at the {2} of the attribute value, escape the quote character in your pattern: (\\{1})";(l=/^(['"]).*?[^'"]$/.exec(s))?Ext.log.warn(d(u,n,l[1],"beginning")):(l=/^[^'"].*?(['"])$/.exec(s))&&Ext.log.warn(d(u,n,l[1],"end"))}return"/="===r&&(t=a.get(s),s=t?t:a.add(s,new RegExp(s))),[i,r,s]}},{re:/^#((?:\\\.|[\w\-])+)/,method:f},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:g,argTransform:function(e){return void 0!==e[2]&&(e[2]=e[2].replace(o,"$1")),e.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:s}];e.Query=Ext.extend(Object,{constructor:function(e){e=e||{},Ext.apply(this,e)},execute:function(e){var t,n,i,r=this.operations,o=[];for(n=0,i=r.length;i>n;n++)t=r[n],o=o.concat(this._execute(e,t));return o},_execute:function(e,t){var n,i,r=0,o=t.length;for(e?Ext.isIterable(e)?i=e:e.isMixedCollection&&(i=e.items):i=Ext.ComponentManager.getAll();o>r;r++)if(n=t[r],i="^"===n.mode?u(i||[e]):n.mode?d(i||[e],n.mode):l(i||d([e]),n),r===o-1)return i;return[]},is:function(e){var t,n,i=this.operations,r=!1,o=i.length;if(0===o)return!0;for(n=0;o>n;n++)if(t=i[n],r=this._is(e,t))return r;return!1},_is:function(e,t){var n,i,r,o,a,s,c=t.length,h=[e];for(i=c-1;i>=0;--i)if(n=t[i],o=n.mode){if("^"===o)h=d(h," ");else if(">"===o){for(a=[],r=0,c=h.length;c>r;++r)s=h[r].getRefOwner(),s&&a.push(s);h=a}else h=u(h);if(0===h.length)return!1}else if(h=l(h,n),0===h.length)return!1;return!0},getMatches:function(e,t){var n,i=t.length;for(n=0;i>n&&(e=l(e,t[n]),0!==e.length);++n);return e},isMultiMatch:function(){return this.operations.length>1}}),Ext.apply(this,{cache:new Ext.util.LruCache({maxSize:100}),pseudos:{not:function(e,t){for(var n,i=Ext.ComponentQuery,r=0,o=e.length,a=[],s=-1;o>r;++r)n=e[r],i.is(n,t)||(a[++s]=n);return a},first:function(e){var t=[];return e.length>0&&t.push(e[0]),t},last:function(e){var t=e.length,n=[];return t>0&&n.push(e[t-1]),n},focusable:function(e){for(var t,n=e.length,i=[],r=0;n>r;r++)t=e[r],t.isFocusable()&&i.push(t);return i},"nth-child":function(e,t){var r,o,a,s=[],l=n.exec("even"==t&&"2n"||"odd"==t&&"2n+1"||!i.test(t)&&"n+"+t||t),d=(l[1]||1)-0,u=l[2]-0;for(r=0;o=e[r];r++)a=r+1,1==d?(0==u||a==u)&&s.push(o):(a+u)%d==0&&s.push(o);return s}},query:function(e,t){if(!e)return Ext.ComponentManager.all.getArray();var n,i,r,o=[],a=[],s={},l=this.cache.get(e);if(l||(l=this.cache.add(e,this.parse(e))),o=l.execute(t),l.isMultiMatch()){for(n=o.length,r=0;n>r;r++)i=o[r],s[i.id]||(a.push(i),s[i.id]=!0);o=a}return o},visitPreOrder:function(e,t,n,i,r){this._visit(!0,e,t,n,i,r)},visitPostOrder:function(e,t,n,i,r){this._visit(!1,e,t,n,i,r)},_visit:function(e,t,n,i,r,o){var a,s,l,d=this,u=d.cache.get(t),c=[n],h=0;if(u||(u=d.cache.add(t,d.parse(t))),l=u.is(n),n.getRefItems&&(a=n.getRefItems(),h=a.length),o&&Ext.Array.push(c,o),e&&l&&i.apply(r||n,c)===!1)return!1;for(s=0;h>s;s++)if(d._visit.call(d,e,t,a[s],i,r,o)===!1)return!1;return!e&&l&&i.apply(r||n,c)===!1?!1:void 0},is:function(e,t){if(!t)return!0;var n=this.cache.get(t);return n||(n=this.cache.add(t,this.parse(t))),n.is(e)},parse:function(t){var n,i,r,o,a=[];for(n=Ext.splitAndUnescape(t,","),r=0,o=n.length;o>r;r++)i=Ext.String.trim(n[r]),""===i&&Ext.Error.raise('Invalid ComponentQuery selector: ""'),a.push(this._parse(i));return new e.Query({operations:a})},_parse:function(e){for(var t,n,i,a,s,l,d,u,h,g,E,v=[],y=Ext.String.trim,b=x.length;e&&t!==e;){for(t=e,n=e.match(m),n&&(a=n[1],i=y(n[2]).replace(o,"$1"),"#"===a?v.push({method:f,args:[i]}):v.push({method:c,args:[i,Boolean(n[3])]}),e=e.replace(n[0],"").replace(r,"$1"));!(s=e.match(p));)for(u=0;e&&b>u;u++){if(h=x[u],l=e.match(h.re),g=h.method,d=h.argTransform,l){E=d?d(l):l.slice(1),v.push({method:Ext.isString(h.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[g].concat(l.slice(1)))):h.method,args:E}),e=e.replace(l[0],"").replace(r,"$1");break}u===b-1&&Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}s[1]&&(v.push({mode:s[2]||s[1]}),e=e.replace(s[0],"").replace(r,""))}return v}})}),Ext.define("Ext.Evented",{alternateClassName:"Ext.EventedBase",mixins:["Ext.mixin.Observable"],statics:{generateSetter:function(e){var t=e.names,n=e.name,i=t.internal,r=t.apply,o=t.changeEvent,a=t.doSet;return function(e){var s,l=this,d=l.$configPrefixed?i:n,u=l.initialized,c=l[r];return c&&(e=c.call(l,e,l[d]),void 0===e)?l:(s=l[d],e!==s&&(u?l.fireAction(o,[l,e,s],l.doSet,l,{nameMap:t}):(l[d]=e,l[a]&&l[a](e,s))),this)}}},initialized:!1,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.initialized=!0},doSet:function(e,t,n,i){var r=i.nameMap;e[r.internal]=t,e[r.doSet]&&e[r.doSet].call(this,t,n)},onClassExtended:function(e,t){if(t.hasOwnProperty("eventedConfig")){var n,i,r=t.config,o=t.eventedConfig,a="eventedSetter";r?Ext.applyIf(r,o):e.addConfig(o);for(n in o)o.hasOwnProperty(n)&&(i=Ext.Config.get(n),t[i.names.set]=i[a]||(i[a]=this.generateSetter(i)))}}}),Ext.USE_NATIVE_JSON=!1,Ext.JSON=new function(){var me=this,hasNative=window.JSON&&"[object JSON]"==JSON.toString(),useHasOwn=!!{}.hasOwnProperty,pad=function(e){return 10>e?"0"+e:e},doDecode=function(json){return eval("("+json+")")},doEncode=function(e,t){return null===e||void 0===e?"null":Ext.isDate(e)?me.encodeDate(e):Ext.isString(e)?Ext.isMSDate(e)?me.encodeMSDate(e):me.encodeString(e):"number"==typeof e?isFinite(e)?String(e):"null":Ext.isBoolean(e)?String(e):e.toJSON?e.toJSON():Ext.isArray(e)?encodeArray(e,t):Ext.isObject(e)?encodeObject(e,t):"function"==typeof e?"null":"undefined"},m={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(e){return'"'+e.replace(charToReplace,function(e){var t=m[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeMSDate=function(e){return'"'+e+'"'},encodeArrayPretty=function(e,t){var n,i=e.length,r=t+"   ",o=","+r,a=["[",r];for(n=0;i>n;n+=1)a.push(me.encodeValue(e[n],r),o);return a[a.length-1]=t+"]",a.join("")},encodeObjectPretty=function(e,t){var n,i,r=t+"   ",o=","+r,a=["{",r];for(n in e)if(i=e[n],!useHasOwn||e.hasOwnProperty(n)){if("function"==typeof i||void 0===i)continue;a.push(me.encodeValue(n)+": "+me.encodeValue(i,r),o)}return a[a.length-1]=t+"}",a.join("")},encodeArray=function(e,t){if(t)return encodeArrayPretty(e,t);var n,i=["[",""],r=e.length;for(n=0;r>n;n+=1)i.push(me.encodeValue(e[n]),",");return i[i.length-1]="]",i.join("")},encodeObject=function(e,t){if(t)return encodeObjectPretty(e,t);var n,i,r=["{",""];for(n in e)if(i=e[n],!useHasOwn||e.hasOwnProperty(n)){if("function"==typeof i||void 0===i)continue;r.push(me.encodeValue(n),":",me.encodeValue(i),",")}return r[r.length-1]="}",r.join("")};me.encodeString=encodeString,me.encodeValue=doEncode,me.encodeDate=function(e){return'"'+e.getFullYear()+"-"+pad(e.getMonth()+1)+"-"+pad(e.getDate())+"T"+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds())+'"'},me.encode=function(e){return hasNative&&Ext.USE_NATIVE_JSON?JSON.stringify(e):me.encodeValue(e)},me.decode=function(e,t){try{return hasNative&&Ext.USE_NATIVE_JSON?JSON.parse(e):doDecode(e)}catch(n){if(t)return null;Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+e})}},me.encodeMSDate=encodeMSDate,Ext.util||(Ext.util={}),Ext.util.JSON=me,Ext.encode=me.encode,Ext.decode=me.decode},Ext.define("Ext.TaskQueue",{requires:"Ext.AnimationQueue",singleton:!0,pending:!1,mode:!0,constructor:function(){this.readQueue=[],this.writeQueue=[],this.run=Ext.Function.bind(this.run,this),this.watch=Ext.Function.bind(this.watch,this),Ext.os.is.iOS&&setInterval(this.watch,500)},requestRead:function(e,t,n){this.request(!0),this.readQueue.push(arguments)},requestWrite:function(e,t,n){this.request(!1),this.writeQueue.push(arguments)},request:function(e){this.pending||(this.pendingTime=Date.now(),this.pending=!0,this.mode=e,e?setTimeout(this.run,1):Ext.Function.requestAnimationFrame(this.run))},watch:function(){this.pending&&Date.now()-this.pendingTime>=500&&this.run()},run:function(){this.pending=!1;var e,t=this.readQueue,n=this.writeQueue,i=null;this.mode?(e=t,n.length>0&&(i=!1)):(e=n,t.length>0&&(i=!0));var r,o,a,s,l,d=e.slice();for(e.length=0,r=0,o=d.length;o>r;r++)a=d[r],s=a[0],l=a[1],"string"==typeof s&&(s=l[s]),a.length>2?s.apply(l,a[2]):s.call(l);d.length=0,null!==i&&this.request(i)}}),Ext.define("Ext.util.Format",function(){var e;return{requires:["Ext.Error","Ext.Number","Ext.String","Ext.Date"],singleton:!0,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",percentSign:"%",currencyAtEnd:!1,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){e=this},undef:function(e){return void 0!==e?e:""},defaultValue:function(e,t){return void 0!==e&&""!==e?e:t},substr:"b"!="ab".substr(-1)?function(e,t,n){var i=String(e);return 0>t?i.substr(Math.max(i.length+t,0),n):i.substr(t,n)}:function(e,t,n){return String(e).substr(t,n)},lowercase:function(e){return String(e).toLowerCase()},uppercase:function(e){return String(e).toUpperCase()},usMoney:function(t){return e.currency(t,"$",2)},currency:function(t,n,i,r){var o="",a=",0",s=0;for(t-=0,0>t&&(t=-t,o="-"),i=Ext.isDefined(i)?i:e.currencyPrecision,a+=i>0?".":"";i>s;s++)a+="0";return t=e.number(t,a),(r||e.currencyAtEnd)===!0?Ext.String.format("{0}{1}{2}",o,t,n||e.currencySign):Ext.String.format("{0}{1}{2}",o,n||e.currencySign,t)},date:function(e,t){return e?(Ext.isDate(e)||(e=new Date(Date.parse(e))),Ext.Date.dateFormat(e,t||Ext.Date.defaultFormat)):""},dateRenderer:function(t){return function(n){return e.date(n,t)}},hex:function(e,t){var n=parseInt(e||0,10).toString(16);if(t)for(0>t&&(t=-t,n.length>t&&(n=n.substring(n.length-t)));n.length<t;)n="0"+n;return n},or:function(e,t){return e||t},pick:function(e,t,n){if(Ext.isNumber(e)){var i=arguments[e+1];if(i)return i}return e?n:t},stripTags:function(t){return t?String(t).replace(e.stripTagsRe,""):t},stripScripts:function(t){return t?String(t).replace(e.stripScriptsRe,""):t},fileSize:function(){var e=1024,t=1048576,n=1073741824;return function(i){var r;return r=e>i?1===i?"1 byte":i+" bytes":t>i?Math.round(10*i/e)/10+" KB":n>i?Math.round(10*i/t)/10+" MB":Math.round(10*i/n)/10+" GB"}}(),math:function(){var e={};return function(t,n){return e[n]||(e[n]=Ext.functionFactory("v","return v "+n+";")),e[n](t)}}(),round:function(e,t){var n=Number(e);return"number"==typeof t?(t=Math.pow(10,t),n=Math.round(e*t)/t):void 0===t&&(n=Math.round(n)),n},number:function(t,n){if(!n)return t;if(isNaN(t))return"";var i=e.formatFns[n];if(!i){var r,o,a,s,l,d,u=n,c=e.thousandSeparator,h=e.decimalSeparator,f=0,g="";"/i"===n.substr(n.length-2)?(e.I18NFormatCleanRe&&e.lastDecimalSeparator===h||(e.I18NFormatCleanRe=new RegExp("[^\\d\\"+h+"]","g"),e.lastDecimalSeparator=h),n=n.substr(0,n.length-2),r=-1!==n.indexOf(c),o=n.replace(e.I18NFormatCleanRe,"").split(h)):(r=-1!==n.indexOf(","),o=n.replace(e.formatCleanRe,"").split(".")),a=n.replace(e.formatPattern,""),o.length>2?Ext.Error.raise({sourceClass:"Ext.util.Format",sourceMethod:"number",value:t,formatString:n,msg:"Invalid number format, should have no more than 1 decimal"}):2===o.length&&(f=o[1].length,s=o[1].match(e.hashRe),s&&(d=s[0].length,g='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+d+'}$")')),l=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts"+(r?",thousandSeparator,thousands=[],j,n,i":"")+(a?',formatString="'+n+'",formatPattern=/[\\d,\\.#]+/':"")+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"absVal=Math.abs(v);","fnum=Ext.Number.toFixed(absVal, "+f+");",g,";"],r?(f&&(l[l.length]='parts=fnum.split(".");',l[l.length]="fnum=parts[0];"),l[l.length]="if(absVal>=1000) {",l[l.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}",f&&(l[l.length]="fnum += utilFormat.decimalSeparator+parts[1];")):f&&(l[l.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'),s&&(l[l.length]='fnum=fnum.replace(trailingZeroes,"");'),l[l.length]='if(neg&&fnum!=="'+(f?"0."+Ext.String.repeat("0",f):"0")+'")fnum="-"+fnum;',l[l.length]="return ",a?l[l.length]="formatString.replace(formatPattern, fnum);":l[l.length]="fnum;",l[l.length]="};",i=e.formatFns[u]=Ext.functionFactory("Ext",l.join(""))(Ext)}return i(t)},numberRenderer:function(t){return function(n){return e.number(n,t)}},percent:function(t,n){return e.number(100*t,n||"0")+e.percentSign},attributes:function(e){if("object"==typeof e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t,'="',"style"===t?Ext.DomHelper.generateStyles(e[t],null,!0):Ext.htmlEncode(e[t]),'" ');e=n.join("")}return e||""},plural:function(e,t,n){return e+" "+(1===e?t:n?n:t+"s")},nl2br:function(t){return Ext.isEmpty(t)?"":t.replace(e.nl2brRe,"<br/>")},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(e){if(e=e||0,"number"==typeof e)return{top:e,right:e,bottom:e,left:e};var t=e.split(" "),n=t.length;return 1===n?t[1]=t[2]=t[3]=t[0]:2===n?(t[2]=t[0],t[3]=t[1]):3===n&&(t[3]=t[1]),{top:parseInt(t[0],10)||0,right:parseInt(t[1],10)||0,bottom:parseInt(t[2],10)||0,left:parseInt(t[3],10)||0}}}}),Ext.define("Ext.Template",{requires:["Ext.util.Format"],inheritableStatics:{from:function(e,t){return e=Ext.getDom(e),new this(e.value||e.innerHTML,t||"")}},useEval:Ext.isGecko,constructor:function(e){var t,n,i=this,r=arguments,o=[],a=r.length;if(i.initialConfig={},1===a&&Ext.isArray(e)&&(r=e,a=r.length),a>1)for(t=0;a>t;t++)n=r[t],"object"==typeof n?(Ext.apply(i.initialConfig,n),Ext.apply(i,n)):o.push(n);else o.push(e);i.html=o.join("")},isTemplate:!0,disableFormats:!1,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,apply:function(e){var t=this;return t.compiled?(t.fn||t.compile(),t.fn(e).join("")):t.evaluate(e)},evaluate:function(e){function t(t,n,a,s,l){return(null==a||""==a)&&(a=n),s&&i?(l=l?[e[a]].concat(Ext.functionFactory("return ["+l+"];")()):[e[a]],"this."===s.substr(0,5)?o[s.substr(5)].apply(o,l):r[s]?r[s].apply(r,l):t):void 0!==e[a]?e[a]:""}var n=this,i=!n.disableFormats,r=Ext.util.Format,o=n;return n.html.replace(n.tokenRe,t)},applyOut:function(e,t){var n=this;return n.compiled?(n.fn||n.compile(),t.push.apply(t,n.fn(e))):t.push(n.apply(e)),t},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(e,t){var n=this;return n.html=e,n.compiled=!!t,n.fn=null,n},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var e,t=this;return e=t.html.replace(t.compileARe,"\\\\").replace(t.compileBRe,"\\n").replace(t.compileCRe,"\\'").replace(t.tokenRe,t.regexReplaceFn.bind(t)),e=(this.disableFormats!==!0?"var fm=Ext.util.Format;":"")+(t.useEval?"$=":"return")+" function(v){return ['"+e+"'];};",t.fn=t.useEval?t.evalCompiled(e):new Function("Ext",e)(Ext),t.compiled=!0,t},evalCompiled:function($){return eval($),$},regexReplaceFn:function(e,t,n,i,r){if(null==t||""==t?t='"'+n+'"':this.stringFormat&&(t=parseInt(t)+1),i&&this.disableFormats!==!0){if(r=r?","+r:"","this."===i.substr(0,5))i+="(";else{if(!Ext.util.Format[i])return e;i="fm."+i+"("}return"',"+i+"v["+t+"]"+r+"),'"}return"',v["+t+"] == undefined ? '' : v["+t+"],'"},insertFirst:function(e,t,n){return this.doInsert("afterBegin",e,t,n)},insertBefore:function(e,t,n){return this.doInsert("beforeBegin",e,t,n)},insertAfter:function(e,t,n){return this.doInsert("afterEnd",e,t,n)},append:function(e,t,n){return this.doInsert("beforeEnd",e,t,n)},doInsert:function(e,t,n,i){var r=Ext.DomHelper.insertHtml(e,Ext.getDom(t),this.apply(n));return i?Ext.get(r):r},overwrite:function(e,t,n){var i=Ext.DomHelper.overwrite(Ext.getDom(e),this.apply(t));return n?Ext.get(i):i}}),Ext.define("Ext.mixin.Inheritable",{extend:"Ext.Mixin",mixinConfig:{id:"inheritable"},getInherited:function(e){var t,n,i,r=this,o=e&&r.inheritedStateInner||r.inheritedState,a=r.ownerCt||r.initOwnerCt,s=r.isContainer;return(!o||o.invalid)&&(t=r.getRefOwner(),a&&(i=r.ownerLayout===a.layout),r.inheritedState=o=Ext.Object.chain(t?t.getInherited(i):Ext.rootInheritedState),s&&(r.inheritedStateInner=n=Ext.Object.chain(o)),r.initInheritedState(o,n),o=s&&e?r.inheritedStateInner:r.inheritedState),o},getInheritedConfig:function(e,t){var n,i,r=this.inheritedState;return(!r||r.invalid)&&(r=this.getInherited()),i=r[e],t&&r.hasOwnProperty(e)&&(n=i,delete r[e],i=r[e],r[e]=n),i},fixReference:function(){var e,t=this;t.reference&&(e=t.lookupReferenceHolder(),e&&e.attachReference(t))},resolveListenerScope:function(e){var t,n="this"===e,i=n||"controller"===e;return t=i?n?this:this.getController():this.getInheritedConfig("defaultListenerScope",!0)||e,t||null},lookupReferenceHolder:function(e){return this.getInheritedConfig("referenceHolder",e!==!1)||null},getRefOwner:function(){return this.ownerCt||this.initOwnerCt||this.floatParent},initInheritedState:Ext.emptyFn,invalidateInheritedState:function(){var e=this.inheritedState;e&&(e.invalid=!0,delete this.inheritedState)}},function(){Ext.rootInheritedState={}}),Ext.define("Ext.mixin.Bindable",{mixinId:"bindable",config:{bind:{$value:null,lazy:!0},controller:null,defaultListenerScope:!1,publishes:{$value:null,lazy:!0,merge:function(e,t){return this.mergeSets(e,t)}},reference:null,session:{$value:null,lazy:!0},twoWayBindable:{$value:null,lazy:!0,merge:function(e,t){return this.mergeSets(e,t)}},viewModel:{$value:null,lazy:!0}},defaultBindProperty:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,initInheritedState:function(e){var t=this,n=t.getReference(),i=t.getController(),r=t.getConfig("viewModel",!0),o=t.getConfig("session",!0);i?e.defaultListenerScope=i:(t.defaultListenerScope||t._defaultListenerScope)&&(e.defaultListenerScope=t),r&&(r.isViewModel||(r=t),e.viewModel=r),o&&(o.isSession||(o=t),e.session=o),n&&(t.referenceKey=(e.referencePath||"")+n,t.viewModelKey=(e.viewModelPath||"")+n)},lookupSession:function(e){var t=e?null:this.getSession();return t||(t=this.getInheritedConfig("session",e),t&&!t.isSession&&(t=t.getInherited().session=t.getSession())),t||null},lookupViewModel:function(e){var t=e?null:this.getViewModel();return t||(t=this.getInheritedConfig("viewModel",e),t&&!t.isViewModel&&(t=t.getInherited().viewModel=t.getViewModel())),t||null},publishState:function(e,t){var n,i,r,o=this,a=o.viewModelKey,s=o.publishedState,l=o.getBind(),d=l&&e&&l[e],u=0;if(!d||d.syncing||d.isReadOnly()||d.setValue(t),a&&(i=o.getPublishes())&&(r=o.lookupViewModel())){if(e&&s){if(!i[e])return;if(!(t&&t.constructor===Object||t instanceof Array)&&s[e]===t)return;a+=".",a+=e}else{s=s||(o.publishedState={});for(n in i)++u,n===e?s[n]=t:s[n]=o[n];if(!u)return;t=s}r.set(a,t)}},privates:{addBindableUpdater:function(e){var t,n=this,i=n.self.$config.configs,r=i[e];r&&!n.hasOwnProperty(t=r.names.update)&&(n[t]=r.bindableUpdater||(r.root.bindableUpdater=n.makeBindableUpdater(r)))},applyBind:function(e,t){var n,i,r,o=this,a=o.lookupViewModel(),s=o.getTwoWayBindable(),l=o._getBindTemplateScope;t&&"string"!=typeof t||(t={}),a||Ext.Error.raise("Cannot use bind config without a viewModel"),Ext.isString(e)&&(o.defaultBindProperty||Ext.Error.raise(o.$className+" has no defaultBindProperty - Please specify a bind object"),n=e,e={},e[o.defaultBindProperty]=n);for(i in e)r=e[i],n=t[i],n&&"string"!=typeof n&&(n.destroy(),n=null),r&&(n=a.bind(r,o.onBindNotify,o),n._config=Ext.Config.get(i),n.getTemplateScope=l,o[n._config.names.set]||Ext.Error.raise("Cannot bind "+i+" on "+o.$className+" - missing a "+n._config.names.set+" method.")),t[i]=n,s&&s[i]&&!n.isReadOnly()&&o.addBindableUpdater(i);return t},applyController:function(e){return e=Ext.Factory.controller(e),e.setView(this),e},applyPublishes:function(e){if(this.lookupViewModel())for(var t in e)this.addBindableUpdater(t);return e},applyReference:function(e){var t=this.validRefRe||Ext.validIdRe;return e&&!t.test(e)&&Ext.Error.raise('Invalid reference "'+e+'" for '+this.getId()+" - not a valid identifier"),e},applySession:function(e){if(!e)return null;if(!e.isSession){var t=this.lookupSession(!0),n=e===!0?{}:e;e=t?t.spawn(n):new Ext.data.Session(n)}return e},applyViewModel:function(e){var t,n,i=this;return e&&e.isViewModel||(t={parent:i.lookupViewModel(!0)},t.session=i.getSession(),n||t.parent||(t.session=i.lookupSession()),e&&(e.constructor===Object?Ext.apply(t,e):"string"==typeof e&&(t.type=e)),e=Ext.Factory.viewModel(t)),e},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},initBindable:function(){this.initBindable=Ext.emptyFn,this.getBind(),this.getPublishes()},makeBindableUpdater:function(e){var t=e.names.update;return function(n,i){var r=this,o=r.self.prototype[t];o&&o.call(r,n,i),r.publishState(e.name,n)}},onBindNotify:function(e,t,n){n.syncing=n.syncing+1||1,this[n._config.names.set](e),--n.syncing},removeBindings:function(){var e,t,n=this.bind;if(n&&"string"!=typeof n)for(e in n)t=n[e],t.destroy(),t._config=t.getTemplateScope=null;this.bind=null},updateSession:function(e){var t=this.getInherited();e?t.session=e:delete t.session},updateViewModel:function(e){var t=this.getInherited(),n=this.getController();e?(t.viewModel=e,e.setView(this),n&&n.initViewModel(e)):delete t.viewModel}}}),Ext.define("Ext.Widget",{extend:"Ext.Evented",xtype:"widget",mixins:["Ext.mixin.Inheritable","Ext.mixin.Bindable"],isWidget:!0,element:{reference:"element"},eventedConfig:{width:null,height:null},template:[],constructor:function(e){var t=this;t.initId(e),t.initElement(),t.mixins.observable.constructor.call(t,e),Ext.ComponentManager.register(t)},addElementReferenceOnDemand:function(e,t){this._elementListeners[e]?this.addElementReference(e,t):Ext.Object.defineProperty(this,e,{get:function(){return delete this[e],this.addElementReference(e,t)},configurable:!0})},addElementReference:function(e,t){var n,i,r=this,o=r[e]=Ext.get(t),a=r._elementListeners[e];if(o.skipGarbageCollection=!0,o.component=r,a){a=Ext.clone(a),a.scope=r;for(n in a)i=a[n],"object"==typeof i&&(i.scope=r);o.on(a)}return o},afterCachedConfig:function(){var e,t,n,i,r,o,a=this,s=a.self.prototype,l=a.referenceList,d=a.renderElement.dom;for(s.renderTemplate=e=document.createDocumentFragment(),e.appendChild(d.cloneNode(!0)),o=e.querySelectorAll("[id]"),n=0,i=o.length;i>n;n++)t=o[n],t.removeAttribute("id");for(n=0,i=l.length;i>n;n++)r=l[n],a[r].dom.removeAttribute("reference")},applyWidth:function(e){return this.filterLengthValue(e)},applyHeight:function(e){return this.filterLengthValue(e)},destroy:function(){var e,t,n,i=this,r=i.referenceList;for(e=0,t=r.length;t>e;e++)n=r[e],i.hasOwnProperty(n)&&(i[n].destroy(),i[n]=null);i.callParent(),Ext.ComponentManager.unregister(i)},doSetWidth:function(e){this.element.setWidth(e)},doSetHeight:function(e){this.element.setHeight(e)},filterLengthValue:function(e){return"auto"===e||!e&&0!==e?null:e},getElementConfig:function(){var e=this,t=e.element;return"children"in t||(t=Ext.apply({children:e.getTemplate()},t)),t},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getTemplate:function(){return this.template},initElement:function(){var e,t,n,i,r,o,a,s,l,d=this,u=d.self.prototype,c=d.getId(),h=d.referenceList=[],f=!0;for(u.hasOwnProperty("renderTemplate")?(e=d.renderTemplate.cloneNode(!0),t=e.firstChild):(f=!1,e=document.createDocumentFragment(),l=d.getElementConfig(),d.initElementListeners(l),t=Ext.Element.create(l,!0),e.appendChild(t)),i=e.querySelectorAll("[reference]"),r=0,o=i.length;o>r;r++)a=i[r],s=a.getAttribute("reference"),f&&a.removeAttribute("reference"),"element"===s?(n&&Ext.Error.raise("Duplicate 'element' reference detected in '"+d.$className+"' template."),a.id=c,n=d.el=d.addElementReference(s,a)):d.addElementReferenceOnDemand(s,a),h.push(s);n||Ext.Error.raise("No 'element' reference found in '"+d.$className+"' template."),t===n.dom?d.renderElement=n:d.addElementReferenceOnDemand("renderElement",t)},initElementListeners:function(e){var t,n,i,r=this,o=r._elementListeners||(r.self.prototype._elementListeners={}),a=e.reference,s=e.children;if(a&&(t=e.listeners,t&&(o[a]=t,e.listeners=null)),s)for(i=0,n=s.length;n>i;i++)r.initElementListeners(s[i])},initId:function(e){var t=this,n=t.config,i=e&&e.id||n&&n.id;i?(t.setId(i),t.id=i):t.getId()},is:function(e){return Ext.ComponentQuery.is(this,e)},isXType:function(e,t){return t?-1!==Ext.Array.indexOf(this.xtypes,e):!!this.xtypesMap[e]},setSize:function(e,t){void 0!==e&&this.setWidth(e),void 0!==t&&this.setHeight(t)}}),Ext.define("Ext.overrides.Widget",{override:"Ext.Widget",$configStrict:!1,isComponent:!0,liquidLayout:!0,rendered:!0,rendering:!0,cachedConfig:{baseCls:Ext.baseCSSPrefix+"widget"},constructor:function(e){this.callParent([e]),this.getComponentLayout()},addCls:function(e){this.el.addCls(e)},addClsWithUI:function(e){this.el.addCls(e)},afterComponentLayout:Ext.emptyFn,finishRender:function(){this.rendering=!1,this.initBindable()},getComponentLayout:function(){var e=this,t=e.componentLayout;return t||(t=e.componentLayout=new Ext.layout.component.Auto,t.setOwner(e)),t},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+"-"+(this.ui||"default")+"-cell"},getTdType:function(){return this.xtype},getItemId:function(){return this.itemId||this.id},getSizeModel:function(){return Ext.Component.prototype.getSizeModel.apply(this,arguments)},onAdded:function(e,t,n){var i=this,r=i.inheritedState;i.ownerCt=e,r&&n&&i.invalidateInheritedState(),i.reference&&i.fixReference()},onRemoved:function(e){var t,n=this;n.reference&&(t=n.lookupReferenceHolder(),t&&t.clearReference(n)),e||n.removeBindings(),n.inheritedState&&!e&&n.invalidateInheritedState(),n.ownerCt=n.ownerLayout=null},parseBox:function(e){return Ext.Element.parseBox(e)},render:function(e,t){var n,i=this.element;return t&&(nextSibiling=e.childNodes[t],n)?void e.insertBefore(i,n):void e.appendChild(i)},setPosition:function(e,t){this.el.setLocalXY(e,t)}},function(){var e;Ext.isIE8&&(e=Ext.Widget.prototype,e.addElementReferenceOnDemand=e.addElementReference)}),Ext.define("Ext.util.XTemplateParser",{requires:["Ext.String"],constructor:function(e){Ext.apply(this,e)},doTpl:Ext.emptyFn,parse:function(e){var t,n,i,r,o,a,s,l,d,u,c,h,f,g=this,p=e.length,m={elseif:"elif"},x=g.topRe,E=g.actionsRe;for(g.level=0,g.stack=n=[],t=0;p>t;t=u){if(x.lastIndex=t,r=x.exec(e),!r){g.doText(e.substring(t,p));break}if(d=r.index,u=x.lastIndex,d>t&&(i=e.substring(t,d),f&&""===Ext.String.trim(i)||g.doText(i)),f=!1,r[1])u=e.indexOf("%}",d+2),g.doEval(e.substring(d+2,u)),u+=2;else if(r[2])u=e.indexOf("]}",d+2),g.doExpr(e.substring(d+2,u)),u+=2;else if(r[3])g.doTag(r[3]);else if(r[4]){for(c=null;null!==(l=E.exec(r[4]));)i=l[2]||l[3],i&&(i=Ext.String.htmlDecode(i),o=l[1],o=m[o]||o,c=c||{},a=c[o],"string"==typeof a?c[o]=[a,i]:a?c[o].push(i):c[o]=i);c?c["if"]?(g.doIf(c["if"],c),n.push({type:"if"})):c["switch"]?(g.doSwitch(c["switch"],c),n.push({type:"switch"}),f=!0):c["case"]?g.doCase(c["case"],c):c.elif?g.doElseIf(c.elif,c):c["for"]?(++g.level,(h=g.propRe.exec(r[4]))&&(c.propName=h[1]||h[2]),g.doFor(c["for"],c),n.push({type:"for",actions:c})):c.foreach?(++g.level,(h=g.propRe.exec(r[4]))&&(c.propName=h[1]||h[2]),g.doForEach(c.foreach,c),n.push({type:"foreach",actions:c})):c.exec&&(g.doExec(c.exec,c),n.push({type:"exec",actions:c})):g.elseRe.test(r[4])?g.doElse():g.defaultRe.test(r[4])?g.doDefault():(g.doTpl(),n.push({type:"tpl"}))}else 5===r[0].length?n.push({type:"tpl"}):(s=n.pop(),g.doEnd(s.type,s.actions),("for"==s.type||"foreach"==s.type)&&--g.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/}),Ext.define("Ext.util.XTemplateCompiler",{extend:"Ext.util.XTemplateParser",useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(e){var t=this,n=t.generate(e);return t.useEval?t.evalTpl(n):new Function("Ext",n)(Ext)},generate:function(e){var t,n=this,i="var fm=Ext.util.Format,ts=Object.prototype.toString;";return n.maxLevel=0,n.body=["var c0=values, a0="+n.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"],n.definitions?"string"==typeof n.definitions?n.definitions=[n.definitions,i]:n.definitions.push(i):n.definitions=[i],n.switches=[],n.parse(e),n.definitions.push((n.useEval?"$=":"return")+" function ("+n.fnArgs+") {",n.body.join(""),"}"),t=n.definitions.join("\n"),n.definitions.length=n.body.length=n.switches.length=0,delete n.definitions,delete n.body,delete n.switches,t},doText:function(e){var t=this,n=t.body;e=e.replace(t.aposRe,"\\'").replace(t.newLineRe,"\\n"),t.useIndex?n.push("out[out.length]='",e,"'\n"):n.push("out.push('",e,"')\n")},doExpr:function(e){var t=this.body;t.push("if ((v="+e+") != null) out"),this.useIndex?t.push("[out.length]=v+''\n"):t.push(".push(v+'')\n")},doTag:function(e){var t=this.parseTag(e);t?this.doExpr(t):this.doText("{"+e+"}")},doElse:function(){this.body.push("} else {\n")},doEval:function(e){this.body.push(e,"\n");
},doIf:function(e,t){var n=this;"."===e?n.body.push("if (values) {\n"):n.propNameRe.test(e)?n.body.push("if (",n.parseTag(e),") {\n"):n.body.push("if (",n.addFn(e),n.callFn,") {\n"),t.exec&&n.doExec(t.exec)},doElseIf:function(e,t){var n=this;"."===e?n.body.push("else if (values) {\n"):n.propNameRe.test(e)?n.body.push("} else if (",n.parseTag(e),") {\n"):n.body.push("} else if (",n.addFn(e),n.callFn,") {\n"),t.exec&&n.doExec(t.exec)},doSwitch:function(e){var t,n=this;"."===e||"#"===e?(t="."===e?"values":"xindex",n.body.push("switch (",t,") {\n")):n.propNameRe.test(e)?n.body.push("switch (",n.parseTag(e),") {\n"):n.body.push("switch (",n.addFn(e),n.callFn,") {\n"),n.switches.push(0)},doCase:function(e){var t,n,i=this,r=Ext.isArray(e)?e:[e],o=i.switches.length-1;for(i.switches[o]?i.body.push("break;\n"):i.switches[o]++,n=0,o=r.length;o>n;++n)t=i.intRe.exec(r[n]),r[n]=t?t[1]:"'"+r[n].replace(i.aposRe,"\\'")+"'";i.body.push("case ",r.join(": case "),":\n")},doDefault:function(){var e=this,t=e.switches.length-1;e.switches[t]?e.body.push("break;\n"):e.switches[t]++,e.body.push("default:\n")},doEnd:function(e,t){var n=this,i=n.level-1;"for"==e||"foreach"==e?(t.exec&&n.doExec(t.exec),n.body.push("}\n"),n.body.push("parent=p",i,";values=r",i+1,";xcount=n"+i+";xindex=i",i,"+1;xkey=k",i,";\n")):("if"==e||"switch"==e)&&n.body.push("}\n")},doFor:function(e,t){var n,i,r=this,o=r.level,a=o-1;n="."===e?"values":r.propNameRe.test(e)?r.parseTag(e):r.addFn(e)+r.callFn,r.maxLevel<o&&(r.maxLevel=o,r.body.push("var ")),i="."==e?"c"+o:"a"+a+"?c"+a+"[i"+a+"]:c"+a,r.body.push("i",o,"=0,n",o,"=0,c",o,"=",n,",a",o,"=",r.createArrayTest(o),",r",o,"=values,p",o,",k",o,";\n","p",o,"=parent=",i,"\n","if (c",o,"){if(a",o,"){n",o,"=c",o,".length;}else if (c",o,".isMixedCollection){c",o,"=c",o,".items;n",o,"=c",o,".length;}else if(c",o,".isStore){c",o,"=c",o,".data.items;n",o,"=c",o,".length;}else{c",o,"=[c",o,"];n",o,"=1;}}\n","for (xcount=n",o,";i",o,"<n"+o+";++i",o,"){\n","values=c",o,"[i",o,"]"),t.propName&&r.body.push(".",t.propName),r.body.push("\n","xindex=i",o,"+1\n"),t.between&&r.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')},doForEach:function(e,t){var n,i,r=this,o=r.level,a=o-1;n="."===e?"values":r.propNameRe.test(e)?r.parseTag(e):r.addFn(e)+r.callFn,r.maxLevel<o&&(r.maxLevel=o,r.body.push("var ")),i="."==e?"c"+o:"a"+a+"?c"+a+"[i"+a+"]:c"+a,r.body.push("i",o,"=-1,n",o,"=0,c",o,"=",n,",a",o,"=",r.createArrayTest(o),",r",o,"=values,p",o,",k",o,";\n","p",o,"=parent=",i,"\n","for(k",o," in c",o,"){\n","xindex=++i",o,"+1;\n","xkey=k",o,";\n","values=c",o,"[k",o,"];"),t.propName&&r.body.push(".",t.propName),t.between&&r.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')},createArrayTest:"isArray"in Array?function(e){return"Array.isArray(c"+e+")"}:function(e){return"ts.call(c"+e+')==="[object Array]"'},doExec:function(e,t){var n=this,i="f"+n.definitions.length,r=n.guards[n.strict?0:1];n.definitions.push("function "+i+"("+n.fnArgs+") {",r.doTry," var $v = values; with($v) {","  "+e," }",r.doCatch,"}"),n.body.push(i+n.callFn+"\n")},guards:[{doTry:"",doCatch:""},{doTry:"try { ",doCatch:' } catch(e) {\nExt.log.warn("XTemplate evaluation exception: " + e.message);\n}'}],addFn:function(e){var t=this,n="f"+t.definitions.length,i=t.guards[t.strict?0:1];return"."===e?t.definitions.push("function "+n+"("+t.fnArgs+") {"," return values","}"):".."===e?t.definitions.push("function "+n+"("+t.fnArgs+") {"," return parent","}"):t.definitions.push("function "+n+"("+t.fnArgs+") {",i.doTry," var $v = values; with($v) {","  return("+e+")"," }",i.doCatch,"}"),n},parseTag:function(e){var t,n,i,r,o,a=this,s=a.tagRe.exec(e);return s?(t=s[1],n=s[2],i=s[3],r=s[4],"."==t?(a.validTypes||(a.definitions.push("var validTypes={string:1,number:1,boolean:1};"),a.validTypes=!0),o='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'):o="#"==t?"xindex":"$"==t?"xkey":"parent."==t.substr(0,7)?t:isNaN(t)&&-1==t.indexOf("-")&&-1!=t.indexOf(".")?"values."+t:"values['"+t+"']",r&&(o="("+o+r+")"),n&&a.useFormat?(i=i?","+i:"","this."!=n.substr(0,5)?n="fm."+n+"(":n+="(",n+o+i+")"):o):null},evalTpl:function($){return eval($),$},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},function(){var e=this.prototype;e.fnArgs="out,values,parent,xindex,xcount,xkey",e.callFn=".call(this,"+e.fnArgs+")"}),Ext.define("Ext.XTemplate",{extend:"Ext.Template",requires:["Ext.util.XTemplateCompiler"],emptyObj:{},fn:null,strict:!1,apply:function(e,t){return this.applyOut(e,[],t).join("")},applyOut:function(e,t,n){var i,r=this;if(r.fn||(i=new Ext.util.XTemplateCompiler({useFormat:r.disableFormats!==!0,definitions:r.definitions,strict:r.strict}),r.fn=i.compile(r.html)),r.strict)r.fn(t,e,n||r.emptyObj,1,1);else try{r.fn(t,e,n||r.emptyObj,1,1)}catch(o){Ext.log.warn("XTemplate evaluation exception: "+o.message)}return t},compile:function(){return this},statics:{getTpl:function(e,t){var n,i=e[t];if(i&&!i.isTemplate){if(i=Ext.ClassManager.dynInstantiate("Ext.XTemplate",i),e.hasOwnProperty(t))n=e;else for(n=e.self.prototype;n&&!n.hasOwnProperty(t);n=n.superclass);n[t]=i,i.owner=n}return i||null}}}),Ext.Factory=function(e){var t=this;t.aliasPrefix=e+".",t.cache={},t.name=e.replace(t.fixNameRe,t.fixNameFn),t.type=e},Ext.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",create:function(e,t){var n,i,r,o,a=this,s=Ext.ClassManager,l=a.cache;if(e){if(e[a.instanceProp])return e;"string"==typeof e&&(o=e,e={},e[a.defaultProperty]=o),i=e.xclass,o=e.type}if(i){if(!(r=s.get(i)))return s.instantiate(i,e)}else if((o=o||t||a.defaultType)||(r=a.defaultClass),o||r||Ext.Error.raise("No type specified for "+a.type+".create"),!r&&!(r=l[o])){if(n=a.aliasPrefix+o,i=s.getNameByAlias(n),!(r=i&&s.get(i)))return s.instantiateByAlias(n,e);l[o]=r}return new r(e)},fixNameRe:/\.[a-z]/gi,fixNameFn:function(e){return e.substring(1).toUpperCase()},clearCache:function(){this.cache={}}},Ext.Factory.define=function(e,t){var n,i,r,o=Ext.Factory;return e.constructor===Object?Ext.Object.each(e,o.define,o):(i=new Ext.Factory(e),t&&(t.constructor===Object?(Ext.apply(i,t),"string"==typeof(n=i.xclass)&&(i.defaultClass=Ext.ClassManager.get(n))):i.defaultType=t),o[i.name]=r=i.create.bind(i),r.instance=i),r},Ext.define("Ext.mixin.Factoryable",{mixinId:"factoryable",onClassMixedIn:function(e){var t,n=e.prototype,i=n.factoryConfig,r=n.alias,o={};r=r&&r.length&&r[0],r&&(t=r.lastIndexOf("."))>0&&(o.type=r.substring(0,t),o.defaultType=r.substring(t+1)),i&&(delete n.factoryConfig,Ext.apply(o,i)),e.create=Ext.Factory.define(o.type,o)}}),Ext.define("Ext.util.CollectionKey",{mixins:["Ext.mixin.Identifiable"],config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:!0},generation:0,map:null,mapRebuilds:0,constructor:function(e){this.initConfig(e),Ext.isFunction(this.getKey)||Ext.Error.raise("CollectionKey requires a keyFn or property config")},get:function(e){var t=this.map||this.getMap();return t[e]||null},getRootProperty:function(){var e=this,t=this.callParent();return null!==t?t:e.getCollection().getRootProperty()},indexOf:function(e,t){var n,i,r,o,a=this.map||this.getMap(),s=a[e],l=this.getCollection(),d=l.length;if(!s)return-1;if(void 0===t&&(t=-1),s instanceof Array){for(r=s,i=d,o=r.length;o-->0;)n=l.indexOf(r[o]),i>n&&n>t&&(i=n);if(i===d)return-1}else i=l.indexOf(s);return i>t?i:-1},updateKey:function(e,t){var n,i,r=this,o=r.map;o&&(n=o[t],n instanceof Array?(i=Ext.Array.indexOf(n,e),i>=0&&(n.length>2?n.splice(i,1):o[t]=n[1-i])):n&&(r.getUnique()&&n!==e&&Ext.Error.raise('Incorrect oldKey "'+t+'" for item with newKey "'+r.getKey(e)+'"'),delete o[t]),r.add([e]))},onCollectionAdd:function(e,t){this.map&&this.add(t.items)},onCollectionItemChange:function(e,t){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(e,t){var n,i,r,o=this,a=o.map,s=t.items,l=s.length;if(a)if(o.getUnique()&&l<e.length/2)for(n=0;l>n;++n)r=o.getKey(i=s[n]),delete a[r];else o.map=null},add:function(e){var t,n,i,r,o,a,s=this,l=s.map;for(o=e.length,a=s.getUnique(),n=0;o>n;++n)r=s.getKey(i=e[n]),!a&&r in l?((t=l[r])instanceof Array||(l[r]=t=[t]),t.push(i)):l[r]=i},applyKeyFn:function(e){Ext.isString(e)?this.getKey=function(t){return t[e]()}:this.getKey=e},applyProperty:function(e){var t=this.getRootProperty();this.getKey=function(n){return(t?n[t]:n)[e]}},getMap:function(){var e=this,t=e.map;return t||(e.map=t={},e.keysByItemKey={},++e.mapRebuilds,e.add(e.getCollection().items)),t},updateCollection:function(e){e.addObserver(this)}}),Ext.define("Ext.util.Grouper",{extend:"Ext.util.Sorter",isGrouper:!0,config:{groupFn:null,sortProperty:null},constructor:function(e){e&&e.getGroupString&&Ext.Error.raise("Cannot set getGroupString - use groupFn instead"),this.callParent(arguments)},getGroupString:function(e){var t=this._groupFn(e);return null!=t?String(t):""},sortFn:function(e,t){var n=this,i=n._groupFn(e),r=n._groupFn(t),o=n._sortProperty,a=n._root,s=n._sorterFn,l=n._transform;if(i===r)return 0;if(o||s){if(s)return s.call(this,e,t);a&&(e=e[a],t=t[a]),i=e[o],r=t[o],l&&(i=l(i),r=l(r))}return i>r?1:r>i?-1:0},standardGroupFn:function(e){var t=this._root;return(t?e[t]:e)[this._property]},updateSorterFn:function(){},updateProperty:function(){this.getGroupFn()||this.setGroupFn(this.standardGroupFn)}}),Ext.define("Ext.util.Collection",{mixins:["Ext.mixin.Observable"],requires:["Ext.util.CollectionKey","Ext.util.Filter","Ext.util.Sorter","Ext.util.Grouper"],uses:["Ext.util.SorterCollection","Ext.util.FilterCollection","Ext.util.GroupCollection"],isCollection:!0,config:{autoFilter:!0,autoSort:!0,decoder:null,extraKeys:null,filters:null,grouper:null,groups:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:"ASC",source:null},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:!1,sorted:!1,filtered:!1,constructor:function(e){var t=this;t.items=[],t.map={},t.length=0,e&&e.keyFn&&(t.getKey=e.keyFn),t.mixins.observable.constructor.call(t,e)},destroy:function(){var e=this,t=e._filters,n=e._sorters,i=e._groups;t&&(t.destroy(),e._filters=null),n&&(n.destroy(),e._sorters=null),i&&(i.destroy(),e._groups=null),e.setSource(null),e.observers=e.items=e.map=null},add:function(e){var t=this,n=t.decodeItems(arguments,0),i=n;return n.length&&(t.splice(t.length,0,n),i=1===n.length?n[0]:n),i},replaceAll:function(){var e,t,n=this,i=n.length;return 0===i?n.add.apply(n,arguments):(t=n.decodeItems(arguments,0),e=t,t.length?(n.splice(0,n.length,t),e=1===t.length?t[0]:t):n.removeAll(),e)},aggregate:function(e,t,n,i,r){var o=this,a=Ext.Array.slice(arguments);return a.unshift(o.items),o.aggregateItems.apply(o,a)},aggregateByGroup:function(e,t,n){var i=this.getGroups();return this.aggregateGroups(i,e,t,n)},aggregateItems:function(e,t,n,i,r,o){var a,s,l,d,u,c,h,f=this,g=Ext.Number.clipIndices(e.length,[i,r]),p=0!==i&&r!==e.length;if(i=g[0],r=g[1],!Ext.isFunction(n))return n=f._aggregators[n],n.call(f,e,i,r,t,f.getRootProperty());for(d=f.getRootProperty(),c=new Array(l),h=p?new Array(l):e,a=i,s=0;r>a;++a,s++)p&&(h[s]=u=e[a]),c[s]=(d?u[d]:u)[t];return n.call(o||f,e,c,0)},aggregateGroups:function(e,t,n,i){var r,o,a,s=e.items,l=s.length,d=!Ext.isFunction(n),u={};for(r=0;l>r;++r)o=s[r],a=d?o[n](t):this.aggregateItems(o.items,t,n,null,null,i),u[o.getGroupKey()]=a;return u},beginUpdate:function(){this.updating++||this.notify("beginupdate")},clear:function(){var e=this,t=e.generation,n=t?e.items:[];return t&&(e.items=[],e.length=0,e.map={},e.indices={},e.generation++),n},clone:function(){var e=this,t=new e.self(e.initialConfig);return t.add(e.items),t},collect:function(e,t,n){var i,r,o,a=this.items,s=a.length,l={},d=[];for(i=0;s>i;++i)o=a[i],o=(t?o[t]:o)[e],r=String(o),!n&&Ext.isEmpty(o)||l[r]||(l[r]=1,d.push(o));return d},contains:function(e){var t,n=!1;return null!=e&&(t=this.getKey(e),n=this.map[t]===e),n},containsKey:function(e){return e in this.map},createFiltered:function(e,t,n,i,r){var o,a,s,l,d,u=this,c=new u.self(u.initialConfig),h=u.getRootProperty(),f=u.items;if(Ext.isFunction(e))l=e,d=t;else{if(Ext.isString(e))s=[new Ext.util.Filter({property:e,value:t,root:h,anyMatch:n,caseSensitive:i,exactMatch:r})];else if(e instanceof Ext.util.Filter)s=[e],e.setRoot(h);else if(Ext.isArray(e))for(s=e.slice(0),a=0,o=s.length;o>a;++a)s[a].setRoot(h);l=Ext.util.Filter.createFilterFn(s)}for(d=d||u,a=0,o=f.length;o>a;a++)l.call(d,f[a])&&c.add(f[a]);return c},filterBy:function(e,t){return this.createFiltered(e,t)},each:function(e,t){var n,i,r=this.items,o=r.length;if(o)for(t=t||this,r=r.slice(0),n=0;o>n&&(i=e.call(t,r[n],n,o),i!==!1);n++);return i},eachKey:function(e,t){var n,i,r,o,a=this,s=a.items,l=s.length;if(l)for(t=t||a,s=s.slice(0),n=0;l>n&&(r=a.getKey(i=s[n]),o=e.call(t,r,i,n,l),o!==!1);n++);return o},endUpdate:function(){--this.updating||this.notify("endupdate")},find:function(e,t,n,i,r,o){if(Ext.isEmpty(t,!1))return null;var a=Ext.String.createRegex(t,i,r,o),s=this.getRootProperty();return this.findBy(function(t){return t&&a.test((s?t[s]:t)[e])},null,n)},findBy:function(e,t,n){var i,r,o,a=this,s=a.items,l=s.length;for(t=t||a,i=n||0;l>i;i++)if(o=a.getKey(r=s[i]),e.call(t,r,o))return s[i];return null},findIndex:function(e,t,n,i,r,o){var a=this.find(e,t,n,i,r,o);return a?this.indexOf(a):-1},findIndexBy:function(e,t,n){var i=this.findBy(e,t,n);return i?this.indexOf(i):-1},first:function(e){var t=e?this.getGroups():void 0;return t?this.aggregateGroups(t,null,"first"):this.items[0]},last:function(e){var t=e?this.getGroups():void 0;return t?this.aggregateGroups(t,null,"last"):this.items[this.length-1]},get:function(e){return this.map[e]},getAt:function(e){return this.items[e]},getByKey:function(e){return this.map[e]},getCount:function(){return this.length},getKey:function(e){var t=e.id;return 0===t||t?t:0===(t=e._id)||t?t:e.getId()},getRange:function(e,t){var n,i=this.items,r=i.length;return e>t&&Ext.Error.raise("Inverted range passed to Collection.getRange: ["+e+","+t+"]"),r?(n=Ext.Number.clipIndices(r,[e,t]),n=i.slice(n[0],n[1])):n=[],n},getValues:function(e,t,n,i){var r,o,a=this.items,s=Ext.Number.clipIndices(a.length,[n,i]),l=[];for(r=s[0],i=s[1];i>r;++r)o=a[r],o=(t?o[t]:o)[e],l.push(o);return l},indexOf:function(e){if(!e)return-1;var t=this.getKey(e);return this.indexOfKey(t)},indexOfKey:function(e){var t=this,n=t.indices;return e in t.map?(n||(n=t.getIndices()),n[e]):-1},insert:function(e,t){var n=this,i=n.decodeItems(arguments,1),r=i;return i.length&&(n.splice(e,0,i),r=1===i.length?i[0]:i),r},itemChanged:function(e,t,n){var i,r,o,a,s,l,d=this,u=0===n||!!n,c=d.filtered&&d.getAutoFilter(),h=!1,f=0,g=d.items,p=d.length-1,m=d.sorted&&p,x=d.getSource(),E=0,v=!1,y=!1;x&&!x.updating?x.itemChanged(e,n):(s=d.getKey(e),c&&(r=d.indexOfKey(u?n:s),y=0>r,v=d.isItemFiltered(e),h=y!==v),h?v?(E=[e],o=-1):(i=[e],o=d.length):m&&!v&&(c||(r=d.indexOfKey(u?n:s)),l=d.getSortFn(),r&&l(g[r-1],g[r])>0?(f=-1,o=Ext.Array.binarySearch(g,e,0,r,l)):p>r&&l(g[r],g[r+1])>0&&(f=1,o=Ext.Array.binarySearch(g,e,r+1,l)),f&&(i=[e])),a={item:e,key:s,index:o,filterChanged:h,keyChanged:u,indexChanged:!!f,filtered:v,oldIndex:r,newIndex:o,wasFiltered:y},u&&(a.oldKey=n),t&&(a.modified=t),d.beginUpdate(),d.notify("beforeitemchange",[a]),u&&d.updateKey(e,n),(i||E)&&d.splice(o,E,i),f>0?a.newIndex--:0>f&&a.oldIndex++,d.notify("itemchange",[a]),d.endUpdate())},remove:function(e){var t=this,n=t.decodeRemoveItems(arguments,0),i=t.length;return t.splice(0,n),i-t.length},removeAll:function(){var e=this,t=e.length;return e.generation&&t&&e.splice(0,t),e},removeAt:function(e,t){var n,i=this,r=i.length,o=Ext.Number,a=o.clipIndices(r,[e,void 0===t?1:t],o.Clip.COUNT),s=a[0],l=a[1]-s,d=1===l&&i.getAt(s);return i.splice(s,l),n=i.length-r,d&&n?d:n},removeByKey:function(e){var t=this.getByKey(e);return t&&this.remove(t)?t:!1},splice:function(e,t,n){var i,r,o,a,s,l,d,u,c,h,f,g,p,m,x,E=this,v=E.sorted&&E.getAutoSort(),y=E.map,b=E.items,C=E.length,S=t instanceof Array?E.decodeRemoveItems(t):null,w=!S,T=Ext.Number,P=T.clipIndices(C,[e,w?t:0],T.Clip.COUNT),I=P[0],k=P[1],M=k-I,R=E.decodeItems(arguments,2),D=R?R.length:0,A=I,F=E.indices||(D||S?E.getIndices():null),L=null,O=M?[I]:null,B=null,N=E.getSource();if(N&&!N.updating){if(w)for(S=[],d=0;M>d;++d)S.push(b[I+d]);return d=C>I?N.indexOf(b[I]):N.length,N.splice(d,S,R),E}if(D){for(i=R,B=[],r={},v&&(x=E.getSorters(),D>1&&(i.$cloned||(R=i=i.slice(0)),E.sortData(i))),d=0;D>d;++d)f=E.getKey(u=R[d]),void 0!==(h=r[f])?(m||(m={}))[h]=1:(c=F[f],(I>c||c>=k)&&(O||(O=[])).push(c)),r[f]=d,B.push(f);if(m){for(g=B,i=[],B=[],i.$cloned=!0,d=0;D>d;++d)m[d]||(u=R[d],i.push(u),B.push(g[d]));D=i.length}L={items:i,keys:B}}for(d=S?S.length:0;d-->0;)f=E.getKey(S[d]),void 0!==(c=F[f])&&(O||(O=[])).push(c);if(!L&&!O)return E;if(E.beginUpdate(),O){for(a=null,l=[],o={},O.length>1&&O.sort(Ext.Array.numericSortFn),d=0,p=O.length;p>d;++d)f=E.getKey(u=b[c=O[d]]),f in y&&(delete y[f],(!a||c>a.at+s.length)&&(l.push(a={at:c,items:s=[],keys:g=[],map:o,next:a,replacement:L}),L&&(L.replaced=a)),s.push(o[f]=u),g.push(f),A>c&&--A,M>1&&c===I&&(--M,O[d--]=++I));for(L&&(L.at=A),h=l.length;h-->0;){if(a=l[h],d=a.at,p=a.items.length,C>d+p&&(E.indices=F=null),E.length=C-=p,b.splice(d,p),F)for(g=a.keys,d=0;p>d;++d)delete F[g[d]];++E.generation,E.notify("remove",[a])}}if(L)if(v&&D>1&&C)E.spliceMerge(i);else{if(v&&(D>1?(A=0,E.indices=F=null):A=x.findInsertionIndex(L.items[0],b,E.getSortFn())),A===C){if(b.push.apply(b,i),F)for(d=0;D>d;++d)F[B[d]]=A+d}else E.indices=null,Ext.Array.insert(b,A,i);for(d=0;D>d;++d)y[B[d]]=i[d];E.length+=D,L.at=A,++E.generation,E.notify("add",[L])}return E.endUpdate(),E},update:function(e,t){var n=this;n.beginUpdate();try{return e.call(t||n,n)}catch(i){throw Ext.log.error(this.$className+": Unhandled Exception: ",i.description||i.message),i}finally{n.endUpdate()}},updateKey:function(e,t){var n,i=this,r=i.map,o=i.indices,a=i.getSource();a&&!a.updating?a.updateKey(e,t):(n=i.getKey(e))!==t&&(t in r||r[n]!==e)&&(t in r&&(r[t]!==e&&Ext.Error.raise('Incorrect oldKey "'+t+'" for item with newKey "'+n+'"'),delete r[t]),i.updating++,i.generation++,r[n]=e,o&&(o[n]=o[t],delete o[t]),i.notify("updatekey",[{item:e,newKey:n,oldKey:t}]),i.updating--)},onCollectionAdd:function(e,t){var n,i,r,o,a,s=this,l=e.getAt(t.at),d=l?s.indexOf(l):-1,u=t.items;if(s.getAutoFilter()&&s.filtered)for(r=0,a=u.length;a>r;++r)o=u[r],s.isItemFiltered(o)?(i||(i=u.slice(0,r)),n||(n=[]),n.push(o)):i&&i.push(o);s.splice(0>d?s.length:d,0,i||u),n&&s.notify("filteradd",[n])},onCollectionBeforeItemChange:function(e,t){this.onCollectionUpdateKey=null},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(e,t){delete this.onCollectionUpdateKey,this.itemChanged(t.item,t.modified,t.oldKey)},onCollectionRefresh:function(e){var t,n,i,r,o,a=this,s={},l={};for(i=e.items,i=a.filtered&&a.getAutoFilter()?Ext.Array.filter(i,a.getFilterFn()):i.slice(0),a.sorted&&a.sortData(i),a.items=i,a.length=o=i.length,a.map=s,a.indices=l,t=0;o>t;++t)r=a.getKey(n=i[t]),s[r]=n,l[r]=t;a.notify("refresh")},onCollectionRemove:function(e,t){this.splice(0,t.items)},onCollectionUpdateKey:function(e,t){this.updateKey(t.item,t.oldKey)},_aggregators:{average:function(e,t,n,i,r){var o=n-t;return o&&this._aggregators.sum.call(this,e,t,n,i,r)/o},bounds:function(e,t,n,i,r){for(var o,a,s,l=t;n>l;++l)o=e[l],o=(r?o[r]:o)[i],a>o||(a=o),o>s||(s=o);return[s,a]},count:function(e){return e.length},extremes:function(e,t,n,i,r){var o,a,s,l,d,u=null,c=null;for(o=t;n>o;++o)a=e[o],d=(r?a[r]:a)[i],s>d||(s=d,u=a),d>l||(l=d,c=a);return[c,u]},max:function(e,t,n,i,r){var o=this._aggregators.bounds.call(this,e,t,n,i,r);return o[1]},maxItem:function(e,t,n,i,r){var o=this._aggregators.extremes.call(this,e,t,n,i,r);return o[1]},min:function(e,t,n,i,r){var o=this._aggregators.bounds.call(this,e,t,n,i,r);return o[0]},minItem:function(e,t,n,i,r){var o=this._aggregators.extremes.call(this,e,t,n,i,r);return o[0]},sum:function(e,t,n,i,r){for(var o,a=0,s=t;n>s;++s)o=e[s],o=(r?o[r]:o)[i],a+=o;return a}},_eventToMethodMap:{add:"onCollectionAdd",beforeitemchange:"onCollectionBeforeItemChange",beginupdate:"onCollectionBeginUpdate",endupdate:"onCollectionEndUpdate",itemchange:"onCollectionItemChange",refresh:"onCollectionRefresh",remove:"onCollectionRemove",sort:"onCollectionSort",filter:"onCollectionFilter",filteradd:"onCollectionFilterAdd",updatekey:"onCollectionUpdateKey"},addObserver:function(e){var t,n=this.observers,i=e.getId();n||(n=this.observers=[],this.observerMap={}),t=this.observerMap,t[i]||(n.push(e),t[i]=e,Ext.Array.sort(n,this.prioritySortFn))},prioritySortFn:function(e,t){var n=e.observerPriority||0,i=t.observerPriority||0;return n-i},applyExtraKeys:function(e){var t,n,i,r,o=this,a={};for(i in e)t={collection:o},Ext.isString(r=e[i])?t.property=r:Ext.apply(t,r),a[i]=o[i]=n=new Ext.util.CollectionKey(t),n.name=i;return a},applyGrouper:function(e){return e&&(e=this.getSorters().decodeSorter(e,"Ext.util.Grouper")),e},decodeItems:function(e,t){var n,i,r,o=this,a=void 0===t?e:e[t];if(!a||!a.$cloned){if(n=e.length>t+1||!Ext.isIterable(a),n&&(a=Ext.Array.slice(e,t),1===a.length&&void 0===a[0]&&(a.length=0)),i=o.getDecoder())for(n||(a=a.slice(0),n=!0),r=a.length;r-->0;)(a[r]=i.call(o,a[r]))===!1&&a.splice(r,1);n&&(a.$cloned=!0)}return a},getIndices:function(){var e,t,n=this,i=n.indices,r=n.items,o=r.length;if(!i)for(n.indices=i={},++n.indexRebuilds,e=0;o>e;++e)t=n.getKey(r[e]),i[t]=e;return i},notify:function(e,t){var n,i,r,o,a=this,s=a.observers,l=a._eventToMethodMap[e],d=0;if(t=t||[],s&&l)for(n=0,i=s.length;i>n;++n)r=(o=s[n])[l],r&&(d++||t.unshift(a),r.apply(o,t));a.hasListeners&&a.hasListeners[e]&&(d||t.unshift(a),a.fireEventArgs(e,t))},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(e){var t=this._filters;return t||e===!1||(t=new Ext.util.FilterCollection,this.setFilters(t)),t},isItemFiltered:function(e){return!this.getFilters().filterFn(e)},onFilterChange:function(e){var t=this,n=t.getSource();n?(n.length||t.length)&&t.onCollectionRefresh(n):(n=new Ext.util.Collection({keyFn:t.getKey,extraKeys:t.getInitialConfig().extraKeys,rootProperty:t.getRootProperty()}),t.length&&n.add(t.items),t.setSource(n),t.autoSource=n),t.notify("filter")},applyFilters:function(e,t){return null==e||e&&e.isFilterCollection?e:(e&&(t||(t=this.getFilters()),t.splice(0,t.length,e)),t)},updateFilters:function(e,t){var n=this;t&&t.un("endupdate","onEndUpdateFilters",n),e&&(e.on("endupdate","onEndUpdateFilters",n,{prepend:!0}),e.$filterable=n),n.onEndUpdateFilters(e)},onEndUpdateFilters:function(e){var t=this,n=t.filtered,i=!!e&&e.length>0;(n||i)&&(t.filtered=i,t.onFilterChange(e))},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(e){var t=this._sorters;return t||e===!1||(t=new Ext.util.SorterCollection,this.setSorters(t)),t},onSortChange:function(){this.sorted&&this.sortItems()},sort:function(e,t,n){var i=this.getSorters();return i.addSort.apply(i,arguments),this},sortData:function(e){return Ext.Array.sort(e,this.getSortFn()),e},sortItems:function(e){var t=this;t.sorted&&(e&&Ext.Error.raise("Collections with sorters cannot resorted"),e=t.getSortFn()),t.indices=null,t.length&&Ext.Array.sort(t.items,e),t.notify("sort")},sortBy:function(e){return this.sortItems(e)},findInsertionIndex:function(e,t,n){return t||(t=this.items),n||(n=this.getSortFn()),Ext.Array.binarySearch(t,e,n)},applySorters:function(e,t){return null==e||e&&e.isSorterCollection?e:(e&&(t||(t=this.getSorters()),t.splice(0,t.length,e)),t)},createSortFn:function(){var e=this,t=e.getGrouper(),n=e.getSorters().getSortFn();return t?function(e,i){return t.sort(e,i)||n(e,i)}:n},updateGrouper:function(e){var t,n,i=this,r=i.getGroups(),o=i.getSorters();i.onSorterChange(),i.grouped=!!e,e?(r||(r=new Ext.util.GroupCollection({itemRoot:i.getRootProperty()}),i.addObserver(r),i.setGroups(r)),n=r.getSorters(),n.splice(0,n.length,{property:"_groupKey",direction:e.getDirection()}),t=!0):(r&&(i.removeObserver(r),r.destroy()),i.setGroups(null)),o.updating||i.onEndUpdateSorters(o),t&&r.onCollectionRefresh(i)},updateSorters:function(e,t){var n=this;t&&t.un("endupdate","onEndUpdateSorters",n),e&&(e.on("endupdate","onEndUpdateSorters",n,{prepend:!0}),e.$sortable=n),n.onSorterChange(),n.onEndUpdateSorters(e)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(e){var t=this,n=t.sorted,i=t.grouped||!!e&&e.length>0;(n||i)&&(t.sorted=i,t.onSortChange(e))},removeObserver:function(e){var t=this.observers;t&&(Ext.Array.remove(t,e),delete this.observerMap[e.getId()])},spliceMerge:function(e){var t,n,i,r,o,a,s=this,l=e.length,d=0,u=s.items,c=u.length,h=[],f=0,g=[],p=s.getSorters();for(s.items=g,t=0;l>t;t=i){for(o=e[t];c>d&&!(p.sortFn(o,a=u[d])<0);++d)g.push(a);if(d===c){for(h[f++]={at:g.length,items:n=[]},f>1&&(h[f-2].next=h[f-1]);l>t;++t)n.push(o=e[t]),g.push(o);break}for(h[f++]={at:g.length,items:n=[o]},f>1&&(h[f-2].next=h[f-1]),g.push(o),i=t+1;l>i&&!(p.sortFn(o=e[i],a)>=0);++i)g.push(o),n.push(o)}for(;c>d;++d)g.push(u[d]);for(s.length=g.length,++s.generation,r=0;f>r;++r)s.notify("add",[h[r]])},getGroups:function(){return this.callParent()||null},updateGroups:function(e,t){t&&this.removeObserver(t),e&&this.addObserver(e)},updateSource:function(e,t){var n=this.autoSource;t&&(t.removeObserver(this),t===n&&(n.destroy(),this.autoSource=null)),e&&(e.addObserver(this),(e.length||this.length)&&this.onCollectionRefresh(e))}},function(){var e=this.prototype;e.removeAtKey=e.removeByKey,e.decodeRemoveItems=e.decodeItems,Ext.Object.each(e._aggregators,function(t){e[t]=function(e,n,i){return this.aggregate(e,t,n,i)},e[t+"ByGroup"]=function(e){return this.aggregateByGroup(e,t)}})}),Ext.define("Ext.util.Scheduler",{mixins:["Ext.mixin.Observable"],requires:["Ext.util.Collection"],busyCounter:0,lastBusyCounter:0,destroyed:!1,firing:null,notifyIndex:-1,nextId:0,orderedItems:null,passes:0,scheduledCount:0,validIdRe:null,config:{cycleLimit:5,preSort:null,tickDelay:5},constructor:function(e){Ext.util.Scheduler.instances?Ext.util.Scheduler.instances.push(this):Ext.util.Scheduler.instances=[this],this.id=Ext.util.Scheduler.count=(Ext.util.Scheduler.count||0)+1,this.mixins.observable.constructor.call(this,e),this.items=new Ext.util.Collection},destroy:function(){var e=this,t=e.timer;t&&(window.clearTimeout(t),e.timer=null),e.destroyed=!0,e.items=e.orderedItems=null,e.destroy=Ext.emptyFn,Ext.Array.remove(Ext.util.Scheduler.instances,this)},add:function(e){var t=this,n=t.items;n===t.firing&&(t.items=n=n.clone()),e.id=e.id||++t.nextId,e.scheduler=t,n.add(e),t.sortMap||(t.orderedItems=null)},remove:function(e){var t=this,n=t.items;t.destroyed||(t.sortMap&&Ext.Error.raise("Items cannot be removed during sort"),n===t.firing&&(t.items=n=n.clone()),e.scheduled&&(t.unscheduleItem(e),e.scheduled=!1),n.remove(e),t.orderedItems=null)},sort:function(){var e,t,n=this,i=n.items,r={},o=n.getPreSort();for(n.orderedItems=[],n.sortMap=r,n.sortStack=[],o&&i.sortItems(o),i=i.items,e=0;e<i.length;++e)t=i[e],r[t.id]||n.sortItem(t);n.sortMap=null,n.sortStack=null},sortItem:function(e){var t,n=this,i=n.sortMap,r=n.orderedItems;if(e.scheduler||n.add(e),t=e.id,e.scheduler!==n&&Ext.Error.raise("Item "+t+" belongs to another Scheduler"),n.sortStack.push(e),0===i[t]){for(var o=[],a=0;a<n.sortStack.length;++a)o[a]=n.sortStack[a].getFullName();Ext.Error.raise("Dependency cycle detected: "+o.join("\n --> "))}return t in i||(i[t]=0,e.sort.$nullFn||e.sort(),i[t]=1,e.order=n.orderedItems.length,r.push(e)),n.sortStack.pop(),n},sortItems:function(e){var t=this,n=t.sortItem;return e&&(e instanceof Array?Ext.each(e,n,t):Ext.Object.eachValue(e,n,t)),t},applyPreSort:function(e){if("function"==typeof e)return e;var t,n,i,r=e.split(","),o=[],a=r.length;for(n=0;a>n;++n)o[n]=1,i=r[n],"-"===(t=i.charAt(0))?o[n]=-1:"+"!==t&&(t=0),t&&(r[n]=i.substring(1));return function(e,t){var n,i,s,l,d=0;for(n=0;!d&&a>n;++n)i=r[n],s=e[i],l=t[i],d=o[n]*(l>s?-1:s>l?1:0);return d}},notify:function(){var e,t,n,i,r,o=this,a=o.timer,s=o.getCycleLimit();for(a&&(window.clearTimeout(a),o.timer=null),o.firing&&Ext.Error.raise("Notify cannot be called recursively");o.scheduledCount;){if(!s){o.firing=null,o.onCycleLimitExceeded&&o.onCycleLimitExceeded();break}if(--s,++o.passes,(r=o.orderedItems)||(o.sort(),r=o.orderedItems),i=r.length)for(o.firing=o.items,t=0;i>t&&(n=r[t],!n.scheduled||(n.scheduled=!1,--o.scheduledCount,o.notifyIndex=t,n.react(),o.scheduledCount));++t);}o.firing=null,o.notifyIndex=-1,(e=o.busyCounter)!==o.lastBusyCounter&&((o.lastBusyCounter=e)||o.fireEvent("idle",o))},onTick:function(){this.timer=null,this.notify()},scheduleItem:function(e){var t=this;++t.scheduledCount,t.timer||t.firing||t.scheduleTick()},scheduleTick:function(){var e=this;e.destroyed||e.timer||(e.timer=Ext.Function.defer(e.onTick,e.getTickDelay(),e))},unscheduleItem:function(e){this.scheduledCount&&--this.scheduledCount},adjustBusy:function(e){var t=this,n=t.busyCounter+e;t.busyCounter=n,n?t.lastBusyCounter||(t.lastBusyCounter=n,t.fireEvent("busy",t)):t.lastBusyCounter&&!t.timer&&t.scheduleTick()},isBusy:function(){return!this.isIdle()},isIdle:function(){return!(this.busyCounter+this.lastBusyCounter)},debugHooks:{$enabled:!1,onCycleLimitExceeded:function(){Ext.Error.raise("Exceeded cycleLimit "+this.getCycleLimit())},scheduleItem:function(e){e||Ext.Error.raise("scheduleItem: Invalid argument"),Ext.log("Schedule item: "+e.getFullName()+" - "+(this.scheduledCount+1)),e.order<=this.notifyIndex&&Ext.log.warn("Suboptimal order: "+e.order+" < "+this.notifyIndex),this.callParent([e])},unscheduleItem:function(e){this.scheduledCount||Ext.Error.raise("Invalid scheduleCount"),this.callParent([e]),Ext.log("Unschedule item: "+e.getFullName()+" - "+this.scheduledCount)}}}),Ext.define("Ext.util.ObjectTemplate",{requires:["Ext.XTemplate"],isObjectTemplate:!0,excludeProperties:{},valueRe:/^[{][a-z\.]+[}]$/i,statics:{create:function(e,t){return Ext.isObject(e)||Ext.Error.raise("The template is not an Object"),e.isObjectTemplate?e:new Ext.util.ObjectTemplate(e,t)}},constructor:function(e,t){Ext.apply(this,t),this.template=e},apply:function(e){var t=this;return delete t.apply,t.apply=t.compile(t.template),t.apply(e)},privates:{compile:function(e){var t,n,i,r,o=this,a=o.excludeProperties;if(Ext.isString(e))e.indexOf("{")<0?r=function(){return e}:o.valueRe.test(e)?(e=e.substring(1,e.length-1).split("."),r=function(t){for(var n=t,i=0;n&&i<e.length;++i)n=n[e[i]];return n}):(e=new Ext.XTemplate(e),r=function(t){return e.apply(t)});else if(Ext.isPrimitive(e))r=function(){return e};else if(e instanceof Array){for(t=[],n=0,i=e.length;i>n;++n)t[n]=o.compile(e[n]);r=function(e){var n,r=[];for(n=0;i>n;++n)r[n]=t[n](e);return r}}else{t={};for(n in e)a[n]||(t[n]=o.compile(e[n]));r=function(n){var i,r,o={};for(i in e)r=a[i]?e[i]:t[i](n),void 0!==r&&(o[i]=r);return o}}return r}}}),Ext.define("Ext.data.schema.Role",{isRole:!0,left:!0,owner:!1,side:"left",isMany:!1,defaultReaderType:"json",constructor:function(e,t){var n=this,i=t.extra;Ext.apply(n,t),i&&(delete i.type,Ext.apply(n,i),delete n.extra),n.association=e,e.owner===n.side&&(e.owner=n,n.owner=!0)},processUpdate:function(){Ext.Error.raise('Only the "many" for an association may be processed. "'+this.role+'" is not valid.')},validateAssociationRecords:function(e,t,n){return n},createAssociationStore:function(e,t,n,i){var r,o,a=this,s=a.association,l=s.getFieldName(),d=s.isManyToMany,u=a.storeConfig,c=t.getId(),h={model:a.cls,data:n,role:a,session:e,associatedEntity:t,disableMetaChangeEvent:!0,pageSize:null,remoteFilter:!0,trackRemoved:!e};return d?h.filters=[{property:a.inverse.field,value:c,exactMatch:!0}]:l&&(h.filters=[{property:l,value:c,exactMatch:!0}],h.foreignKeyName=l),u&&Ext.apply(h,u),o=Ext.Factory.store(h),n&&(o.complete=!!i),d&&e&&(r=e.getMatrixSlice(a.inverse,c),r.attach(o),r.notify=a.onMatrixUpdate,r.scope=a),(l||d&&e)&&(o.on({
add:"onAddToMany",remove:"onRemoveFromMany",clear:"onRemoveFromMany",scope:a}),n&&a.onAddToMany(o,o.getData().items,!0)),o},getAssociatedStore:function(e,t,n,i,r){var o,a,s,l,d,u,c=this,h=c.storeName||c.getStoreName(),f=e[h],g=t&&t.reload,p=e.$source,m=e.session;if(!f){if(!i&&p&&(p=p[h],p&&!p.isLoading())){for(u=p,i=[],l=p.getData().items,a=0,s=l.length;s>a;++a)d=l[a],i.push(m.getRecord(d.self,d.id));r=!0}f=c.createAssociationStore(m,e,i,r),f.$source=u,i||!c.autoLoad&&!t||(g=!0),e[h]=f}return t&&(g||f.isLoading()?f.on("load",function(i,r,a,s){o=[i,s],n=n||t.scope||e,a?Ext.callback(t.success,n,o):Ext.callback(t.failure,n,o),o.push(a),Ext.callback(t,n,o),Ext.callback(t.callback,n,o)},null,{single:!0}):(o=[f,null],n=n||t.scope||e,Ext.callback(t.success,n,o),o.push(!0),Ext.callback(t,n,o),Ext.callback(t.callback,n,o))),g&&!f.isLoading()&&f.load(),f},getAssociatedItem:function(e){var t=this.isMany?this.getStoreName():this.role;return e[t]||null},getReaderRoot:function(){var e=this;return e.associationKey||(e.associationKey=e.association.schema.getNamer().readerRoot(e.role))},getReader:function(){var e=this,t=e.reader,n=e.cls,i=!e.associationKey,r=this.getReaderRoot();return t&&(Ext.isString(t)&&(t={type:t,rootProperty:r,useSimpleAccessors:i}),t.isReader?(t.setModel(n),t.setRootProperty(r),t.setUseSimpleAccessors(i)):Ext.applyIf(t,{model:n,rootProperty:r,useSimpleAccessors:i,type:e.defaultReaderType}),t=e.reader=Ext.createByAlias("reader."+t.type,t)),t},getStoreName:function(){var e=this;return e.storeName||(e.storeName=e.association.schema.getNamer().storeName(e.role))},constructReader:function(e){var t,n=this,i=n.getReader(),r=n.cls,o=!n.associationKey,a=n.getReaderRoot();return i||(t=r.getProxy(),t?(i=t.getReader(),n.savedRoot=i.getRootProperty(),i.setRootProperty(a)):i=new e.self({model:r,useSimpleAccessors:o,rootProperty:a})),i},read:function(e,t,n,i){var r=this,o=this.constructReader(n),a=o.read(t,i),s=r.savedRoot;return void 0!==s&&(o.setRootProperty(s),delete r.savedRoot),a},getCallbackOptions:function(e,t,n){return"function"==typeof e?e={callback:e,scope:t||n}:e&&(e=Ext.apply({},e),e.scope=t||e.scope||n),e},doGetFK:function(e,t,n){var i,r,o=this,a=o.cls,s=o.association.getFieldName(),l=o.role,d=e[l],u=t&&t.reload,c=void 0!==d&&!u,h=e.session;return c?d&&(c=!d.isLoading()):h?(i=e.get(s),i||0===i?(c=h.peekRecord(a,i,!0)&&!u,d=h.getRecord(a,i,!1)):(c=!0,e[l]=d=null)):s?(i=e.get(s),i||0===i?d||(d=a.createWithId(i)):(c=!0,e[l]=d=null)):c=!0,c?t&&(r=[d,null],n=n||t.scope||e,Ext.callback(t.success,n,r),r.push(!0),Ext.callback(t,n,r),Ext.callback(t.callback,n,r)):(e[l]=d,t=o.getCallbackOptions(t,n,e),d.load(t)),d},doSetFK:function(e,t,n,i){var r,o=this,a=o.association.getFieldName(),s=o.role,l=e[s],d=o.inverse,u=d.setterName;e.session;return t&&t.isEntity?l!==t&&(e[s]=t,a&&e.set(a,t.getId()),u&&t[u](e)):(a||Ext.Error.raise('No foreignKey specified for "'+o.association.left.role+'" by '+e.$className),r=e.changingKey&&!d.isMany||e.set(a,t),r&&l&&l.isEntity&&!l.isEqual(l.getId(),t)&&(l[d.role]=e[s]=void 0)),n?(Ext.isFunction(n)&&(n={callback:n,scope:i||e}),e.save(n)):void 0}}),Ext.define("Ext.data.schema.Association",{requires:["Ext.data.schema.Role"],isOneToOne:!1,isManyToOne:!1,isManyToMany:!1,owner:null,field:null,constructor:function(e){var t,n,i=this;Ext.apply(i,e),i.left=t=new i.Left(i,i.left),i.right=n=new i.Right(i,i.right),t.inverse=n,n.inverse=t},hasField:function(){return!!this.field},getFieldName:function(){var e=this.field;return e?e.name:""}}),Ext.define("Ext.data.schema.OneToOne",{extend:"Ext.data.schema.Association",isOneToOne:!0,isToOne:!0,kind:"one-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",createGetter:function(){var e=this;return function(){return e.doGet(this)}},createSetter:function(){var e=this;return function(t){return e.doSet(this,t)}},doGet:function(e){var t=this.role,n=e[t];e.session;return n},doSet:function(e,t){var n=this.role,i=e[n],r=this.inverse.setterName;return i!==t&&(e[n]=t,r&&t[r](e)),i},read:function(e,t,n,i){var r=this,o=r.callParent([e,t,n,i]),a=o.getRecords()[0];a&&(e[r.role]=a,a[r.inverse.role]=e)}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:!1,side:"right",createGetter:function(){var e=this;return function(t,n){return e.doGetFK(this,t,n)}},createSetter:function(){var e=this;return function(t,n,i){return e.doSetFK(this,t,n,i)}},onValueChange:function(e,t,n){e.changingKey=!0,this.doSetFK(e,n),e.changingKey=!1},read:function(e,t,n,i){var r=this,o=r.callParent([e,t,n,i]),a=o.getRecords()[0];a&&(e[r.role]=a,a[r.inverse.role]=e)}})}),Ext.define("Ext.data.schema.ManyToOne",{extend:"Ext.data.schema.Association",isManyToOne:!0,isToOne:!0,kind:"many-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:!0,processUpdate:function(e,t){var n,i,r,o=this,a=o.inverse.cls,s=t.R;if(s)for(n in s)i=e.peekRecord(a,n),i?(records=e.getEntityList(o.cls,s[n]),r=o.getAssociatedItem(i),r?(records=o.validateAssociationRecords(e,i,records),r.loadRecords(records),r.complete=!0):i[o.getterName](null,null,records)):e.onInvalidAssociationEntity(a,n)},validateAssociationRecords:function(e,t,n){var r,o,a,s=e.getEntry(t.self,t.id).refs,l=[];this.association.getFieldName();if(s=s&&s[this.role]){if(n)for(r={},i=0,len=n.length;i<len;++i)o=n[i],a=o.id,s[a]&&l.push(o),r[a]=!0;for(a in s)r&&r[a]||l.push(s[a])}return l},createGetter:function(){var e=this;return function(t,n,i){var r,o=this.session;return o&&(r=!!i,i=e.validateAssociationRecords(o,this,i),r||i.length||(i=null)),e.getAssociatedStore(this,t,n,i,r)}},createSetter:null,onAddToMany:function(e,t){this.syncFK(t,e.associatedEntity,!1)},onRemoveFromMany:function(e,t){this.syncFK(t,e.associatedEntity,!0)},read:function(e,t,n,i){var r,o,a,s,l=this,d=l.inverse.role,u=l.callParent([e,t,n,i]);if(u.getReadRoot())for(r=e[l.getterName](null,null,u.getRecords()),o=r.data.items,a=o.length,s=0;a>s;++s)o[s][d]=e},syncFK:function(e,t,n){for(var i,r,o=this.association.getFieldName(),a=this.inverse.setterName,s=e.length,l=n?null:t.getId();s-->0;)r=e[s],i=!r.isEqual(t.getId(),r.get(o)),i!==n&&(r.changingKey=!0,a?r[a](l):r.set(o,l),r.changingKey=!1)}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:!1,side:"right",createGetter:function(){var e=this;return function(t,n){return e.doGetFK(this,t,n)}},createSetter:function(){var e=this;return function(t,n,i){return e.doSetFK(this,t,n,i)}},onValueChange:function(e,t,n,i){var r,o,a,s,l;if(!e.changingKey)if(t)o=this.getSessionStore(t,i),o&&o.remove(e),(n||0===n)&&(o=this.getSessionStore(t,n),o&&!o.isLoading()&&o.add(e));else if(r=e.joined)for(a=0,s=r.length;s>a;++a)o=r[a],o.isStore&&(l=o.getAssociatedEntity(),l&&l.self===this.cls&&l.getId()===i&&o.remove(e))},getSessionStore:function(e,t){var n=e.peekRecord(this.cls,t);return n?this.inverse.getAssociatedItem(n):void 0},read:function(e,t,n,i){var r=this.callParent([e,t,n,i]),o=r.getRecords()[0];o&&(e[this.role]=o)}})}),Ext.define("Ext.data.schema.ManyToMany",{extend:"Ext.data.schema.Association",isManyToMany:!0,isToMany:!0,kind:"many-to-many",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:!0,digitRe:/^\d+$/,validateAssociationRecords:function(e,t,n){var i,r,o,a,s,l=e.getMatrixSlice(this.inverse,t.id),d=l.members,u=this.cls,c=[];if(n)for(i={},r=0,o=n.length;o>r;++r)rec=n[r],a=rec.id,s=d[a],s&&-1===s[2]||c.push(rec),i[a]=!0;for(a in d)s=d[a],(!i||!i[a]&&s&&-1!==s[2])&&(rec=e.peekRecord(u,a),rec&&c.push(rec));return c},processUpdate:function(e,t){var n,i,r,o=this,a=o.inverse.cls,s=t.R;if(s)for(n in s)i=e.peekRecord(a,n),i?(records=e.getEntityList(o.cls,s[n]),r=o.getAssociatedItem(i),r?(records=o.validateAssociationRecords(e,i,records),r.loadRecords(records),r.complete=!0,o.onAddToMany(r,records,!0)):i[o.getterName](null,null,records)):e.onInvalidAssociationEntity(a,n);o.processMatrixBlock(e,t.C,1),o.processMatrixBlock(e,t.D,-1)},checkMembership:function(e,t,n){var i,r,o,a,s,l=this.left?n.right:n.left,d=l.inverse.role.cls,u=this.inverse,c=l.slices;if(c&&(i=c[t.id])){o=i.members;for(r in o)a=o[r],-1!==a[2]&&(s=e.peekRecord(d,r),s&&(store=u.getAssociatedItem(s),store&&(store.matrixUpdate=1,store.add(t),store.matrixUpdate=0)))}},processMatrixBlock:function(e,t,n){var i,r,o=this.inverse,a=this.digitRe;if(t)for(r in t)a.test(r)&&(r=parseInt(r,10)),i=e.getMatrixSlice(o,r),i.update(t[r],n)},createGetter:function(){var e=this;return function(t,n,i){var r,o=this.session;return o&&(r=!!i,i=e.validateAssociationRecords(o,this,i),r||i.length||(i=null)),e.getAssociatedStore(this,t,n,i,r)}},onAddToMany:function(e,t,n){e.matrixUpdate||(e.matrixUpdate=1,e.matrix.update(t,n===!0?0:1),e.matrixUpdate=0)},onRemoveFromMany:function(e,t){e.matrixUpdate||(e.matrixUpdate=1,e.matrix.update(t,-1),e.matrixUpdate=0)},read:function(e,t,n,i){var r=this,o=(r.inverse.role,r.callParent([e,t,n,i]));o.getReadRoot()&&e[r.getterName](null,null,o.getRecords())},onMatrixUpdate:function(e,t,n){var i,r,o,a=e.store;!a||a.loading||a.matrixUpdate||(a.matrixUpdate=1,i=a.indexOfId(t),0>n?i>=0&&a.remove([i]):0>i&&(o=a.getSession().getEntry(this.type,t),r=o&&o.record,r&&a.add(r)),a.matrixUpdate=0)}},function(){var e=this;Ext.ClassManager.onCreated(function(){Ext.data.schema.ManyToMany.prototype.Right=Ext.define(null,{extend:e,left:!1,side:"right"})},null,"Ext.data.schema.ManyToMany")})}),Ext.define("Ext.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^(p)erson$/i,"$1eople"],[/^(m)an$/i,"$1en"],[/(.*)(child)(ren)?$/i,"$1$2ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(address)$/i,"$1"],[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/(p)eople$/i,"$1erson"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(e,t){this.singulars.unshift([e,t])},plural:function(e,t){this.plurals.unshift([e,t])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(e){return-1!=Ext.Array.indexOf(this.uncountable,e)},pluralize:function(e){if(this.isTransnumeral(e))return e;var t,n,i,r=this.plurals,o=r.length;for(i=0;o>i;i++)if(t=r[i],n=t[0],n==e||n.test&&n.test(e))return e.replace(n,t[1]);return e},singularize:function(e){if(this.isTransnumeral(e))return e;var t,n,i,r=this.singulars,o=r.length;for(i=0;o>i;i++)if(t=r[i],n=t[0],n==e||n.test&&n.test(e))return e.replace(n,t[1]);return e},classify:function(e){return Ext.String.capitalize(this.singularize(e))},ordinalize:function(e){var t=parseInt(e,10),n=t%10,i=t%100;if(i>=11&&13>=i)return e+"th";switch(n){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}}},function(){var e,t={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"};for(e in t)t.hasOwnProperty(e)&&(this.plural(e,t[e]),this.singular(t[e],e))}),Ext.define("Ext.data.schema.Namer",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.util.Inflector"],alias:"namer.default",isNamer:!0,capitalize:function(e){return Ext.String.capitalize(e)},fieldRole:function(e){var t=e.match(this.endsWithIdRe,"");return t&&(e=e.substr(0,e.length-(t[1]||t[2]).length)),this.apply("uncapitalize",e)},idField:function(e){return this.apply("uncapitalize,singularize",e)+"Id"},multiRole:function(e){return this.apply("undotted,uncapitalize,pluralize",e)},pluralize:function(e){return Ext.util.Inflector.pluralize(e)},readerRoot:function(e){return this.apply("uncapitalize",e)},singularize:function(e){return Ext.util.Inflector.singularize(e)},storeName:function(e){return this.apply("underscore",e)},uncapitalize:function(e){return Ext.String.uncapitalize(e)},underscore:function(e){return"_"+e},uniRole:function(e){return this.apply("undotted,uncapitalize,singularize",e)},undotted:function(e){if(e.indexOf(".")<0)return e;for(var t=e.split("."),n=t.length;n-->1;)t[n]=this.apply("capitalize",t[n]);return t.join("")},getterName:function(e){var t=e.role;return e&&e.isMany?t:"get"+this.apply("capitalize",t)},inverseFieldRole:function(e,t,n,i){var r=this,o=r.apply(t?"uniRole":"multiRole",e),a=r.apply("pluralize",n),s=r.apply("undotted,pluralize",i);return a.toLowerCase()!==s.toLowerCase()&&(o=n+r.apply("capitalize",o)),o},manyToMany:function(e,t,n){var i=this,r=i.apply("undotted,capitalize,singularize",t)+i.apply("undotted,capitalize,pluralize",n);return e&&(r=i.apply("capitalize",e+r)),r},manyToOne:function(e,t,n,i){return this.apply("capitalize,singularize",n)+this.apply("capitalize",t)},matrixRole:function(e,t){var n=this.apply(e?"multiRole,capitalize":"multiRole",t);return e?e+n:n},oneToOne:function(e,t,n,i){return this.apply("undotted,capitalize,singularize",n)+this.apply("capitalize",t)},setterName:function(e){return"set"+this.apply("capitalize",e.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(e,t){var n,i,r,o=this,a=o.cache,s=a[t]||(a[t]={}),l=s[e];if(!l){if(e.indexOf(",")<0)l=o[e](t);else for(i=(r=e.split(",")).length,l=t,n=0;i>n;++n)l=o.apply(r[n],l);s[e]=l}return l}}),Ext.define("Ext.data.schema.Schema",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.util.ObjectTemplate","Ext.data.schema.OneToOne","Ext.data.schema.ManyToOne","Ext.data.schema.ManyToMany","Ext.data.schema.Namer"],alias:"schema.default",aliasPrefix:"schema.",isSchema:!0,type:"default",statics:{instances:{},get:function(e){var t,n,i=this,r=i.instances,o="default",a=e&&Ext.isString(e);if(e){if(e.isSchema)return e;o=a?e:e.id||o}return(t=r[o])?e&&!a&&("default"!==o&&Ext.Error.raise("Only the default Schema instance can be reconfigured"),n=Ext.merge({},t.config),Ext.merge(n,e),t.setConfig(n),t.config=n,t.setConfig=function(){Ext.Error.raise("The schema can only be reconfigured once")}):(r[o]=t=i.create(e),t.id=o),t},lookupEntity:function(e){var t,n,i,r=null,o=this.instances;if(e)if(e.isEntity)r=e.self;else if(Ext.isFunction(e))r=e;else if(Ext.isString(e)){for(n in o)i=o[n],t=i.getEntity(e),t&&(r&&Ext.Error.raise('Ambiguous entity name "'+e+'". Defined by schema "'+r.schema.type+'" and "'+n+'"'),r=t);r||Ext.Error.raise('No such Entity "'+e+'".')}return r}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,namer:"default",namespace:null,proxy:{type:"ajax",url:"{prefix}/{entityName}",reader:{type:"json"}},urlPrefix:""},onClassExtended:function(e,t){var n=t.alias;n&&!t.type&&(Ext.isString(n)||(n=n[0]),e.prototype.type=n.substring(this.prototype.aliasPrefix.length))},constructor:function(e){this.initConfig(e),this.clear()},applyDefaultIdentifier:function(e){return e&&Ext.Factory.dataIdentifier(e)},applyNamer:function(e){var t=Ext.data.schema.Namer.create(e);return t.schema=this,t},applyNamespace:function(e){if(e){var t=e.length-1;"."!==e.charAt(t)&&(e+=".")}return e},applyProxy:function(e){return Ext.util.ObjectTemplate.create(e)},eachAssociation:function(e,t){var n,i=this.associations;for(n in i)if(i.hasOwnProperty(n)&&e.call(t,n,i[n])===!1)break},eachEntity:function(e,t){var n,i=this.entities;for(n in i)if(i.hasOwnProperty(n)&&e.call(t,n,i[n].cls)===!1)break},getAssociation:function(e){var t=this.associations[e];return t||null},getEntity:function(e){var t=this.entityClasses[e]||this.entities[e];return t&&t.cls||null},getEntityName:function(e){var t,n,i=this.getNamespace();if(n="string"==typeof e?e:e.$className||null){if(i&&(t=i.length,n.substring(0,t)!==i))return n;t&&(n=n.substring(t))}return n},hasAssociations:function(e){return e=e.entityName||e,!!this.associationEntityMap[e]},hasEntity:function(e){var t=this.getEntityName(e);return!(!this.entities[t]&&!this.entityClasses[t])},addMatrix:function(e,t,n,i,r){var o,a,s,l=this,d=l.getNamer(),u=l.associations,c=l.entities,h=i.type,f=r.type,g=i.field||d.apply("idField",h),p=r.field||d.apply("idField",f),m=i.role||d.matrixRole(n,h),x=r.role||d.matrixRole(n,f);a=c[h]||(c[h]={cls:null,name:h,associations:{}}),s=c[f]||(c[f]={cls:null,name:f,associations:{}}),++l.assocCount,u[t]=o=new Ext.data.schema.ManyToMany({name:t,schema:l,definedBy:e,left:{cls:a.cls,type:h,role:m,field:g},right:{cls:s.cls,type:f,role:x,field:p}}),a.associations[o.right.role]=o.right,s.associations[o.left.role]=o.left,l.associationEntityMap[e.entityName]=!0,l.decorateModel(o)},addReference:function(e,t,n,i){var r,o,a=this,s=a.getNamer(),l=a.entities,d=a.associations,u=e.entityName,c=n.association,h=!!n.legacy,f=n.child,g=n.parent,p=n.role,m=n.type||g||f,x=n.inverse,E=Ext.isString(x)?{role:x}:x,v=E&&E.role;p||(p=h?s.apply("uncapitalize",m):s.apply("fieldRole",t.name)),v||(v=s.inverseFieldRole(u,i,p,m)),c||(c=i?s.oneToOne(e,v,m,p):s.manyToOne(e,v,m,p)),c in d&&Ext.Error.raise('Duplicate association: "'+c+'" declared by '+u+"."+t.name+" (collides with "+d[c].definedBy.entityName+")"),t&&t.definedBy===l[m]&&Ext.Error.raise("ForeignKey reference should not be owned by the target model"),r=l[m]||(l[m]={cls:null,name:m,associations:{}}),o=i?Ext.data.schema.OneToOne:Ext.data.schema.ManyToOne,c=new o({name:c,owner:f?"left":g?"right":null,definedBy:e,schema:a,field:t,nullable:t?!!t.allowBlank:!0,legacy:n.legacy,left:{cls:e,type:u,role:v,extra:E},right:{cls:r.cls,type:m,role:p,extra:n}}),e.associations[p]=c.right,r.associations[v]=c.left,t&&(t.reference=c.right,e.references.push(t)),++a.assocCount,a.associationEntityMap[u]=!0,r.cls&&(a.associationEntityMap[r.cls.entityName]=!0),d[c.name]=c,c.right.cls&&a.decorateModel(c)},privates:{addEntity:function(e){var t,n,i,r,o,a=this,s=a.entities,l=e.entityName,d=s[l],u=e.fields;if(d)if(d.cls)Ext.Error.raise('Duplicate entity name "'+l+'": '+d.cls.$className+" and "+e.$className);else{t=d.associations;for(o in t)t[o].inverse.cls=e,a.associationEntityMap[l]=!0,a.decorateModel(t[o].association)}else s[l]=d={name:l,associations:{}};for(d.cls=e,e.prototype.associations=e.associations=d.associations,a.entityClasses[e.$className]=d,++a.entityCount,i=0,r=u.length;r>i;++i)n=u[i],n.reference&&a.addReferenceDescr(e,n)},addMatrices:function(e,t){var n,i,r,o=this;if(Ext.isString(t))o.addMatrixDescr(e,null,t);else if(t[0])for(n=0,i=t.length;i>n;++n)o.addMatrixDescr(e,null,t[n]);else for(r in t)o.addMatrixDescr(e,r,t[r])},addMatrixDescr:function(e,t,n){var i,r,o=this,a=e.entityName,s=o.associations,l=o.getNamer(),d=n.left,u=n.right;if(Ext.isString(n)?"#"===n.charAt(0)?(d={type:a},u={type:n.substring(1)}):"#"===n.charAt(i=n.length-1)?(d={type:n.substring(0,i)},u={type:a}):l.apply("multiRole",a)<l.apply("multiRole",n)?(d={type:a},u={type:n}):(d={type:n},u={type:a}):(Ext.Assert.isString(n.type,'No "type" for manyToMany in '+a),r=n.relation,d||!u&&l.apply("multiRole",a)<l.apply("multiRole",n.type)?(d=d&&d!==!0?Ext.apply({type:a},d):{type:a},u=n):(u=u&&u!==!0?Ext.apply({type:a},u):{type:a},d=n)),t||(t=l.manyToMany(r,d.type,u.type)),t in s){var c=s[t],h=[c.kind,c.left.type,c.left.role,c.left.field,c.right.type,c.right.role,c.right.field].join("|");delete s[t],o.addMatrix(e,t,r,d,u);var f=s[t];s[t]=c,c.left.cls.associations[c.right.role]=c.right,c.right.cls.associations[c.left.role]=c.left,--o.assocCount,f=[f.kind,f.left.type,f.left.role,f.left.field,f.right.type,f.right.role,f.right.field].join("|"),h!=f&&(Ext.log.warn(t+"("+c.definedBy.entityName+"): "+h),Ext.log.warn(t+"("+a+"): "+f),Ext.Error.raise('Conflicting association: "'+t+'" declared by '+a+" was previously declared by "+c.definedBy.entityName))}else o.addMatrix(e,t,r,d,u)},addReferenceDescr:function(e,t){var n=this,i=t.$reference;i=Ext.isString(i)?{type:i}:Ext.apply({},i),i.legacy?i.single?n.addLegacySingle(e,i):n.addLegacyHasMany(e,i):n.addReference(e,t,i,t.unique)},addPending:function(e,t,n,i){var r=this.pending;r[e]||(r[e]=[]),r[e].push([t,n,i])},addLegacyBelongsTo:function(e,t){this.addLegacySingle(e,t)},addLegacyHasOne:function(e,t){this.addLegacySingle(e,t)},addLegacySingle:function(e,t){var n,i,r;t=this.constructLegacyAssociation(e,t),t.single=!0,i=t.type,n=t.foreignKey||i.toLowerCase()+"_id",r=e.getField(n),r&&(r.$reference=t),this.addReference(e,r,t,!0)},addLegacyHasMany:function(e,t){var n,i,r,o,a,s,l=this,d=l.entities,u=l.pending,c=t.associationKey;t=this.constructLegacyAssociation(e,t),i=t.type,o=d[i],o&&o.cls?(t.type=e.entityName,a=t.foreignKey||t.type.toLowerCase()+"_id",n=o.cls,r=n.getField(a),t.inverse=t,s=t.name,(s||c)&&(t.inverse={},s&&(t.inverse.role=s),c&&(t.inverse.associationKey=c)),r&&(r.$reference=t),l.addReference(n,r,t,!1)):(u[i]||(u[i]=[]),u[i].push([e,t]))},constructLegacyAssociation:function(e,t){return Ext.isString(t)&&(t={model:t}),t.legacy=!0,t.type=this.getEntityName(t.model),t.associatedName&&(t.role=t.associatedName),t},afterLegacyAssociations:function(e){var t,n,i=this.pending,r=e.entityName,o=i[r];if(o){for(t=0,n=o.length;n>t;++t)this.addLegacyHasMany.apply(this,o[t]);delete i[r]}},clear:function(e){var t=this;delete t.setConfig,t.associations={},t.associationEntityMap={},t.entities={},t.entityClasses={},t.pending={},t.assocCount=t.entityCount=0,e&&t.setNamespace(null)},constructProxy:function(e){var t=this,n=Ext.Object.chain(e),i=t.getProxy();return n.schema=t,n.prefix=t.getUrlPrefix(),i.apply(n)},applyDecoration:function(e){var t,n,i,r=this,o=e.inverse.cls,a=r.getNamer();o&&!e.decorated&&(e.decorated=!0,i=o.prototype,(t=e.getterName)||(e.getterName=t=a.getterName(e)),i[t]=e.createGetter(),e.createSetter&&((n=e.setterName)||(e.setterName=n=a.setterName(e)),i[n]=e.createSetter()))},decorateModel:function(e){this.applyDecoration(e.left),this.applyDecoration(e.right)},rankEntities:function(){var e,t,n=this,i=n.entities,r=Ext.Object.getKeys(i),o=r.length;for(n.nextRank=1,r.sort(),t=0;o>t;++t)e=i[r[t]].cls,e.rank||n.rankEntity(e);n.topoStack=null},rankEntity:function(e){var t,n,i,r=e.associations,o=this.topoStack||(this.topoStack=[]),a=e.entityName;o.push(a),0===e.rank&&Ext.Error.raise(a+" has circular foreign-key references: "+o.join(" --> ")),e.rank=0;for(i in r)n=r[i],!n.left&&n.association.field&&(t=n.cls,t.rank||this.rankEntity(t));e.rank=this.nextRank++,o.pop()}}}),Ext.define("Ext.data.Batch",{mixins:{observable:"Ext.mixin.Observable"},config:{pauseOnException:!1},current:-1,total:0,running:!1,complete:!1,exception:!1,constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e),t.operations=[],t.exceptions=[]},add:function(e){var t,n,i=this;if(Ext.isArray(e))for(t=0,n=e.length;n>t;++t)i.add(e[t]);else i.total++,e.setBatch(i),i.operations.push(e);return i},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(e,t){var n=e.order-t.order;if(n)return n;var i,r=e.entityType,o=t.entityType;return r&&o?((i=r.rank)||(r.schema.rankEntities(),i=r.rank),(i-o.rank)*e.foreignKeyDirection):0},start:function(e){var t=this;return!t.operations.length||t.running?t:(t.exceptions.length=0,t.exception=!1,t.running=!0,t.runOperation(Ext.isDefined(e)?e:t.current+1))},retry:function(){return this.start(this.current)},runNextOperation:function(){var e=this;return e.running&&e.runOperation(e.current+1),e},pause:function(){return this.running=!1,this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var e=null,t=this.current;return-1===t||this.complete||(e=this.operations[t]),e},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(e){var t=this,n=t.operations,i=n[e];return void 0===i?(t.running=!1,t.complete=!0,t.fireEvent("complete",t,n[n.length-1])):(t.current=e,i.setInternalCallback(t.onOperationComplete),i.setInternalScope(t),i.execute()),t},onOperationComplete:function(e){var t=this,n=e.hasException();n&&(t.exception=!0,t.exceptions.push(e),t.fireEvent("exception",t,e)),n&&t.getPauseOnException()?t.pause():(t.fireEvent("operationcomplete",t,e),t.runNextOperation())}}),Ext.define("Ext.data.matrix.Slice",{stub:null,constructor:function(e,t){this.id=t,this.side=e,this.members={}},attach:function(e){var t=this;Ext.Assert.falsey(t.store,"Store is already attached"),t.store=e,e.matrix=t,e.on("load",t.onStoreLoad,t,{single:!0})},changeId:function(e){var t,n,i,r=this,o=r.id,a=r.side,s=a.slices,l=s[o],d=l.members,u=a.index,c=a.inverse.slices;r.id=e,s[e]=l,delete s[o];for(n in d)t=d[n],t[u]=e,i=c[n].members,i[e]=i[o],delete i[o]},onStoreLoad:function(e){this.update(e.getData().items,0)},update:function(e,t){e instanceof Array||Ext.Error.raise("Only array of records or record ids are supported");var n,i,r,o,a,s,l,d,u=this,c=Ext.data.matrix.Slice,h=u.side,f=h.index,g=e.length,p=u.id,m=u.members,x=h.inverse;for(r=0;g>r;++r)i=d=null,o=e[r],a=o.isEntity?(d=o).id:o,n=m[a],0>t&&n&&1===n[2]?(delete m[a],l=x[a],l&&delete l.members[p],i=1):n?t!==n[2]&&0!==t&&(n[2]=t,l=x.slices[a],i=1):(n=[a,a,t],n[f]=p,m[a]=n,(l=(s=x.slices)[a])||(s[a]=l=new c(x,a)),l.members[p]=n,i=1),i&&(u.notify&&u.notify.call(u.scope,u,a,t),l&&l.notify&&l.notify.call(l.scope,l,p,t))},destroy:function(){var e=this,t=e.store;t&&(t.matrix=null,t.un("load",e.onStoreLoad,e)),e.notify=e.scope=e.store=e.side=e.members=null,e.callParent()}}),Ext.define("Ext.data.matrix.Side",{requires:["Ext.data.matrix.Slice"],constructor:function(e,t,n){var i=this;i.matrix=e,i.index=t,i.role=n,i.slices={}},get:function(e,t){var n=this,i=n.slices,r=i[e]||(i[e]=new Ext.data.matrix.Slice(n,e));return t||0===t?r.members[t]:r},update:function(e,t,n){var i=this.get(e);return i.update(t,n)},destroy:function(){var e,t=this,n=t.slices;for(e in n)n[e].destroy();t.inverse=t.matrix=t.role=t.slices=null,t.callParent()}}),Ext.define("Ext.data.matrix.Matrix",{requires:["Ext.data.matrix.Side"],constructor:function(e,t){var n=this,i=t.isManyToMany?t:e.getSchema().getAssociation(t),r=Ext.data.matrix.Side,o=new r(n,0,i.left),a=new r(n,1,i.right);Ext.Assert.truthy(i.isManyToMany,"Association is not many-to-many"),n.association=i,n.session=e,n.left=o,n.right=a,o.inverse=a,a.inverse=o},update:function(e,t,n){return this.left.update(e,t,n)},destroy:function(){var e=this;e.left.destroy(),e.right.destroy(),e.association=e.session=e.left=e.right=null,e.callParent()}}),Ext.define("Ext.data.session.ChangesVisitor",{constructor:function(e){var t,n=this;n.session=e,t=e.getCrudProperties(),n.result=null,n.writerOptions={},n.createKey=t.create,n.readKey=t.read,n.updateKey=t.update,n.dropKey=t.drop},onDirtyRecord:function(e){var t,n,i,r,o=this,a=o.crud,s=e.phantom,l=e.dropped,d=e.$className,u=s||l?"allDataOptions":"partialDataOptions",c=o.writerOptions,h=e.entityName;return s&&l?!1:(a=s?o.createKey:l?o.dropKey:o.updateKey,c=c[d]||(c[d]={}),l&&((t=c.drop)||(c.drop=t={all:e.getProxy().getWriter().getWriteAllFields()}),t.all||(i=e.id)),i||((t=c[u])||(t=e.getProxy().getWriter().getConfig(u),c[u]=t=Ext.Object.chain(t),t.serialize=!0),i=e.getData(t)),r=o.result||(o.result={}),n=r[h]||(r[h]={}),n=n[a]||(n[a]=[]),void n.push(i))},onMatrixChange:function(e,t,n,i){var r,o,a=this,s=e.left.type,l=e.right.role,d=0>i?a.dropKey:a.createKey;o=a.result||(a.result={}),r=o[s]||(o[s]={}),r=r[l]||(r[l]={}),r=r[d]||(r[d]={}),r=r[t]||(r[t]=[]),r.push(n)}}),Ext.define("Ext.data.session.ChildChangesVisitor",{extend:"Ext.data.session.ChangesVisitor",constructor:function(){this.seen={},this.callParent(arguments)},onDirtyRecord:function(e){this.callParent(arguments)!==!1&&(e.$source||!e.dropped&&e.phantom||this.readEntity(e))},readEntity:function(e){var t,n,i=this,r=i.readKey,o=e.entityName,a=e.id,s=i.seen,l=o+a;s[l]||(s[l]=!0,t=i.result||(i.result={}),n=t[o]||(t[o]={}),n=n[r]||(n[r]=[]),n.push(Ext.apply({},e.modified,e.data)))}}),Ext.define("Ext.data.session.BatchVisitor",{map:null,constructor:function(e){this.batch=e},getBatch:function(e){var t,n,i,r,o,a=this.map,s=this.batch;if(a){s||(s=new Ext.data.Batch);for(i in a){t=a[i],n=t.entity,o=n.getProxy(),delete t.entity;for(r in t)r=o.createOperation(r,{records:t[r]}),r.entityType=n,s.add(r)}}return s&&e!==!1&&s.sort(),s},onDirtyRecord:function(e){var t=this,n=e.phantom?"create":e.dropped?"destroy":"update",i=e.$className,r=t.map||(t.map={}),o=r[i]||(r[i]={entity:e.self});o=o[n]||(o[n]=[]),o.push(e)}}),Ext.define("Ext.data.Session",{requires:["Ext.data.schema.Schema","Ext.data.Batch","Ext.data.matrix.Matrix","Ext.data.session.ChangesVisitor","Ext.data.session.ChildChangesVisitor","Ext.data.session.BatchVisitor"],isSession:!0,config:{schema:"default",parent:null,crudProperties:{create:"C",read:"R",update:"U",drop:"D"}},destroyed:!1,crudOperations:[{type:"R",entityMethod:"readEntities"},{type:"C",entityMethod:"createEntities"},{type:"U",entityMethod:"updateEntities"},{type:"D",entityMethod:"dropEntities"}],crudKeys:{C:1,R:1,U:1,D:1},constructor:function(e){var t=this;t.data={},t.matrices={},t.identifierCache={},t.recordCreator=t.recordCreator.bind(t),t.initConfig(e)},destroy:function(){var e,t,n,i,r=this,o=r.matrices,a=r.data;for(i in o)o[i].destroy();for(e in a){t=a[e];for(i in t)n=t[i].record,n&&(n.$source=n.session=null)}r.recordCreator=r.matrices=r.data=null,r.setSchema(null),r.callParent()},adopt:function(e){this.checkModelType(e.self),e.session&&e.session!==this&&Ext.Error.raise("Record already belongs to an existing session"),e.phantom&&Ext.Error.raise("Phantom records cannot be adopted, use the createRecord method"),e.session!==this&&(e.session=this,this.add(e))},commit:function(){},createRecord:function(e,t){this.checkModelType(e);var n,i=e.$isClass?e:this.getSchema().getEntity(e),r=this.getParent();return r&&(n=i.getIdFromData(t),r.peekRecord(i,n)&&Ext.Error.raise("A parent session already contains an entry for "+i.entityName+": "+n)),new i(t,this)},getChanges:function(){var e=new Ext.data.session.ChangesVisitor(this);return this.visitData(e),e.result},getChangesForParent:function(){var e=new Ext.data.session.ChildChangesVisitor(this);return this.visitData(e),e.result},getRecord:function(e,t,n){var i,r,o,a=this,s=a.peekRecord(e,t);return s||(i=e.$isClass?e:a.getSchema().getEntity(e),r=a.getParent(),r&&(o=r.peekRecord(i,t)),o&&!o.isLoading()?(s=o.copy(void 0,a),s.$source=o):(s=i.createWithId(t,null,a),n!==!1&&s.load(Ext.isObject(n)?n:void 0))),s},getSaveBatch:function(e){var t=new Ext.data.session.BatchVisitor;return this.visitData(t),t.getBatch(e)},onInvalidAssociationEntity:function(e,t){Ext.Error.raise("Unable to read association entity: "+this.getModelIdentifier(e,t))},onInvalidEntityCreate:function(e,t){Ext.Error.raise("Cannot create, record already not exists: "+this.getModelIdentifier(e,t))},onInvalidEntityDrop:function(e,t){Ext.Error.raise("Cannot drop, record does not exist: "+this.getModelIdentifier(e,t))},onInvalidEntityRead:function(e,t){Ext.Error.raise("Cannot read, record already not exists: "+this.getModelIdentifier(e,t))},onInvalidEntityUpdate:function(e,t,n){n?Ext.Error.raise("Cannot update, record dropped: "+this.getModelIdentifier(e,t)):Ext.Error.raise("Cannot update, record does not exist: "+this.getModelIdentifier(e,t));
},peekRecord:function(e,t,n){this.checkModelType(e);var i,r,o=e.$isClass?e:this.getSchema().getEntity(e),a=o.entityName,s=this.data[a];return s=s&&s[t],i=s&&s.record,!i&&n&&(r=this.getParent(),i=r&&r.peekRecord(e,t,n)),i||null},save:function(){this.getParent()||Ext.Error.raise("Cannot commit session, no parent exists");var e=new Ext.data.session.ChildChangesVisitor(this);this.visitData(e),this.getParent().update(e.result)},spawn:function(){return new this.self({schema:this.getSchema(),parent:this})},update:function(e){var t,n,i,r,o,a,s,l,d,u,c=this,h=c.getSchema(),f=c.crudOperations,g=f.length,p=c.crudKeys;for(t in e)for(n=h.getEntity(t),n||Ext.Error.raise("Invalid entity type: "+t),i=e[t],r=0;g>r;++r)o=f[r],a=i[o.type],a&&c[o.entityMethod](n,a);for(t in e){n=h.getEntity(t),s=n.associations,i=e[t];for(l in i)p[l]||(d=s[l],d||Ext.Error.raise("Invalid association key for "+t+', "'+l+'"'),u=i[d.role],d.processUpdate(c,u))}},privates:{add:function(e){var t,n,i,r=this,o=e.id,a=r.matrices,s=r.getEntry(e.self,o);s.record&&Ext.Error.raise("Duplicate id "+e.id+" for "+e.entityName),s.record=e,r.registerReferences(e),t=e.associations;for(n in t)i=t[n],association=i.association,matrix=a[association.name],association.isManyToMany&&matrix&&i.checkMembership(r,e,matrix)},applySchema:function(e){return Ext.data.schema.Schema.get(e)},checkModelType:function(e){e.$isClass&&(e=e.entityName),e?this.getSchema().getEntity(e)||Ext.Error.raise("Unknown entity type "+e):Ext.Error.raise("Unable to use anonymous models in a Session")},createEntities:function(e,t){var n,i,r,o,a=t.length;for(n=0;a>n;++n)i=t[n],o=e.getIdFromData(i),r=this.peekRecord(e,o),r?this.onInvalidEntityCreate(e,o):r=this.createRecord(e,i),r.phantom=!0},dropEntities:function(e,t){var n,i,r,o=t.length;for(n=0;o>n;++n)r=t[n],i=this.peekRecord(e,r),i?i.drop():this.onInvalidEntityDrop(e,r)},getEntityList:function(e,t){var n,i,r,o,a=t.length;for(n=0;a>n;++n)i=t[n],r=this.peekRecord(e,i),r?t[n]=r:(o=!0,t[n]=null,this.onInvalidAssociationEntity(e,i));return o&&(t=Ext.Array.clean(t)),t},getEntry:function(e,t){var n,i=e.$isClass?e:this.getSchema().getEntity(e),r=i.entityName,o=this.data;return n=o[r]||(o[r]={}),n=n[t]||(n[t]={})},getIdentifier:function(e){var t=this.identifierCache,n=e.identifier,i=n.id||e.entityName,r=t[i];return r||(r=n.clone?n.clone({cache:t}):n,t[i]=r),r},getMatrix:function(e){var t=e.isManyToMany?e.name:e,n=this.matrices;return n[t]||(n[t]=new Ext.data.matrix.Matrix(this,e))},getMatrixSlice:function(e,t){var n=this.getMatrix(e.association),i=n[e.side];return i.get(t)},getModelIdentifier:function(e,t){return t+"@"+e.entityName},onIdChanged:function(e,t,n){var i,r,o,a,s,l,d,u,c=this,h=e.entityName,f=e.id,g=c.data[h],p=g[t],m=e.associations,x=p.refs,E=c._setNoRefs;g[n]&&Ext.Error.raise("Cannot change "+h+" id from "+t+" to "+n+" id already exists"),delete g[t],g[n]=p;for(l in m)s=m[l],s.isMany&&(u=s.getAssociatedItem(e),u&&(o=u.matrix,o&&o.changeId(n)));if(x)for(l in x)if(d=x[l],s=m[l],i=s.association,i.isManyToMany);else{r=i.field.name;for(a in d)d[a].set(r,f,E)}c.registerReferences(e,t)},processManyBlock:function(e,t,n,i){var r,o,a,s=this;if(n)for(r in n)o=s.peekRecord(e,r),o?(records=s.getEntityList(t.cls,n[r]),a=t.getAssociatedItem(o),s[i](t,a,o,records)):s.onInvalidAssociationEntity(e,r)},processManyCreate:function(e,t,n,i){t?t.add(i):n[e.getterName](null,null,i)},processManyDrop:function(e,t,n,i){t&&t.remove(i)},processManyRead:function(e,t,n,i){t?t.setRecords(i):n[e.getterName](null,null,i)},readEntities:function(e,t){var n,i,r,o,a=t.length;for(n=0;a>n;++n)i=t[n],o=e.getIdFromData(i),r=this.peekRecord(e,o),r?this.onInvalidEntityRead(e,o):r=this.createRecord(e,i),r.phantom=!1},recordCreator:function(e,t){var n=this,i=t.getIdFromData(e),r=n.peekRecord(t,i,!0);return r=r?n.getRecord(t,i):new t(e,n)},registerReferences:function(e,t){var n,i,r,o,a,s,l,d,u=e.entityName,c=e.id,h=e.data,f=t||0===t;for(o=(s=e.references).length,i=0;o>i;++i)a=s[i],r=h[a.name],(r||0===r)&&(a=a.reference,u=a.type,d=a.inverse.role,n=this.getEntry(a.cls,r),l=n.refs||(n.refs={}),l=l[d]||(l[d]={}),l[c]=e,f&&delete l[t])},updateEntities:function(e,t){var n,i,r,o,a,s=t.length;if(Ext.isArray(t))for(n=0;s>n;++n)i=t[n],o=e.getIdFromData(i),r=this.peekRecord(e,o),r?r.set(i):this.onInvalidEntityUpdate(e,o);else for(o in t)i=t[o],r=this.peekRecord(e,o),r&&!r.dropped?a=r.set(i):this.onInvalidEntityUpdate(e,o,!!r)},updateReference:function(e,t,n,i){var r,o,a=t.reference,s=a.type,l=a.inverse.role,d=e.id;(i||0===i)&&(o=this.getEntry(s,i).refs[l],delete o[d]),(n||0===n)&&(r=this.getEntry(s,n),o=r.refs||(r.refs={}),o=o[l]||(o[l]={}),o[d]=e)},visitData:function(e){var t,n,i,r,o,a,s,l,d,u,c,h=this,f=h.data,g=h.matrices;for(s in f){t=f[s];for(i in t)l=t[i].record,l&&(l.phantom||l.dirty||l.dropped?e.onDirtyRecord&&e.onDirtyRecord(l):e.onCleanRecord&&e.onCleanRecord(l))}if(e.onMatrixChange)for(s in g){o=g[s].left,u=o.slices,n=o.role.association;for(i in u){d=u[i],a=d.members;for(r in a)c=(l=a[r])[2],c&&e.onMatrixChange(n,l[0],l[1],c)}}return e},_setNoRefs:{refs:!1}}}),Ext.define("Ext.util.Schedulable",{"abstract":!0,isSchedulable:!0,scheduled:!1,constructor:function(){this.getScheduler().add(this)},destroy:function(){var e=this,t=e.getScheduler();t&&t.remove(e),e.destroyed=!0,e.scheduler=null,e.schedule=e.destroy=e.react=Ext.emptyFn},getFullName:function(){return this.name||this.id},privates:{getScheduler:function(){return this.scheduler},schedule:function(){var e,t=this;t.scheduled||(e=t.getScheduler(),e&&(t.scheduled=!0,t.onSchedule&&t.onSchedule(),e.scheduleItem(t)))},unschedule:function(){var e,t=this;t.scheduled&&(e=t.getScheduler(),e&&e.unscheduleItem(t),t.scheduled=!1)},sort:function(){}}}),Ext.define("Ext.app.bind.BaseBinding",{extend:"Ext.util.Schedulable",calls:0,kind:20,defaultOptions:{},lastValue:void 0,constructor:function(e,t,n,i){var r=this;r.options=i,r.owner=e,r.scope=n,r.callback=t,t||Ext.Error.raise("Callback is required"),r.lateBound=Ext.isString(t),i&&i.deep&&(r.deep=!0),r.callParent()},destroy:function(){var e=this;e.callParent(),e.scope=e.callback=e.owner=null},privates:{getScheduler:function(){var e=this.owner;return e&&e.getScheduler()},getSession:function(){var e=this.owner;return e.isSession?e:e.getSession()},notify:function(e){var t=this,n=t.options||t.defaultOptions,i=t.lastValue;(!t.calls||t.deep||i!==e||Ext.isArray(e))&&(++t.calls,t.lastValue=e,t.lateBound?t.scope[t.callback](e,i,t):t.callback.call(t.scope,e,i,t),n.single&&t.destroy())}}}),Ext.define("Ext.app.bind.Binding",{extend:"Ext.app.bind.BaseBinding",constructor:function(e,t,n,i){var r=this;r.callParent([e.owner,t,n,i]),r.stub=e,r.depth=e.depth,e.isLoading()||e.scheduled||r.schedule()},destroy:function(e){var t=this,n=t.stub;n&&!e&&(n.unbind(t),t.stub=null),t.callParent()},bindValidation:function(e,t){var n=this.stub;return n&&n.bindValidation(e,t)},getFullName:function(){return this.fullName||(this.fullName="@("+this.stub.getFullName()+")")},getValue:function(){var e=this,t=e.stub,n=t&&t.getValue();return e.transform&&(n=e.transform(n)),n},isLoading:function(){var e=this.stub;return e&&e.isLoading()},isReadOnly:function(){var e,t=this.stub,n=this.options;return!t||!t.set||n&&n.twoWay===!1||(e=t.formula,e&&!e.set)?!0:!1},refresh:function(){},setValue:function(e){this.isReadOnly()&&Ext.Error.raise("Cannot setValue on a readonly binding");var t=this.stub,n=t.formula;n?n.set.call(t.owner,e):t.set(e)},privates:{getDataObject:function(){var e=this.stub;return e&&e.getDataObject()},getRawValue:function(){var e=this,t=e.stub,n=t&&t.getRawValue();return e.transform&&(n=e.transform(n)),n},isDescendantOf:function(e){var t=this.stub;return t?e===t||t.isDescendantOf(e):!1},react:function(){this.notify(this.getValue())},schedule:function(){this.stub.scheduled||this.callParent()},sort:function(){var e=this.stub;e.scheduler.sortItem(e)}}}),Ext.define("Ext.app.bind.AbstractStub",{extend:"Ext.util.Schedulable",requires:["Ext.app.bind.Binding"],children:null,depth:0,generation:1,kind:10,parent:null,constructor:function(e,t){var n=this;n.owner=e,n.name=t,n.callParent()},destroy:function(){var e,t,n,i=this,r=i.children,o=i.bindings;if(o)for(t=0,e=o.length;e>t;++t)o[t].destroy(!0);for(n in r)r[n].destroy();i.callParent(),i.bindings=i.children=i.owner=null},add:function(e){var t=this;(t.children||(t.children={}))[e.name]=e,e.depth=t.depth+1,e.parent=t},getChild:function(e){var t=Ext.isString(e)?e.split("."):e;return t&&t.length?this.descend(t,0):this},getFullName:function(){var e,t=this,n=t.fullName,i=t.parent;return n||(n=t.name||t.id,i&&(e=i.getFullName())&&(n=(":"!==e.charAt(e.length-1)?e+".":e)+n),t.fullName=n),n},getSession:function(){var e=this.owner;return e.isSession?e:e.getSession()},bind:function(e,t,n){var i=this,r=new Ext.app.bind.Binding(i,e,t,n),o=i.bindings||(i.bindings=[]);return r.depth=i.depth,o.push(r),r},getValue:function(){return this.isLoading()?null:this.getRawValue()},graft:function(e){var t,n=this,i=n.bindings,r=n.name;if(n.parent=n.bindings=null,n.destroy(),e.depth=n.depth,e.bindings=i,e.generation=n.generation+1,e.name=r,e.id=n.id,e.path=n.path,i)for(t=i.length;t-->0;)i[t].stub=e;return e},isDescendantOf:function(e){for(var t=this;t=t.parent;)if(t===e)return!0;return!1},onSchedule:function(){for(var e,t,n,i,r=this.parent;r;r=r.parent)if(i=r.bindings)for(e=0,t=i.length;t>e;++e)n=i[e],n.deep&&!n.scheduled&&n.schedule()},react:function(){var e,t,n,i=this.bindings;if(i)for(t=0,n=i.length;n>t;++t)e=i[t],e.scheduled||e.schedule()},unbind:function(e){var t=this.bindings;t&&t.length&&Ext.Array.remove(t,e)},collect:function(){var e,t,n=this.children,i=this.bindings,r=0,o=0;if(n)for(t in n)e=n[t],o=e.collect(),0===o&&(e.destroy(),delete n[t]),r+=o;return i&&(r+=i.length),r},privates:{getScheduler:function(){var e=this.owner;return e&&e.getScheduler()},sort:function(){var e=this.parent;e&&this.scheduler.sortItem(e)}}}),Ext.define("Ext.app.bind.Stub",{extend:"Ext.app.bind.AbstractStub",requires:["Ext.app.bind.Binding"],isStub:!0,dirty:!0,formula:null,validationKey:"validation",statics:{populateValues:function(e,t,n,i){var r,o=i&&i.children;if(t.hadValue[n]=!0,i&&(i.hadValue=!0),e&&e.constructor===Object)for(r in e)Ext.app.bind.Stub.populateValues(e[r],t,n+"."+r,o&&o[r])}},constructor:function(e,t,n){var i=this,r=t;i.callParent([e,t]),i.boundValue=null,n&&(n.add(i),n.isRootStub||(r=n.path+"."+t)),i.hadValue=e.hadValue[r],i.path=t},destroy:function(){var e=this,t=e.formula,n=(e.parent,e.storeBinding);t&&t.destroy(),n&&n.destroy(),e.detachBound(),e.parentValue=e.formula=e.storeBinding=null,e.callParent()},collect:function(){var e=this,t=e.callParent(),n=e.storeBinding?1:0;return t+n},bindValidation:function(e,t){var n=this.parent;return n&&n.descend([this.validationKey,this.name]).bind(e,t)},descend:function(e,t){var n,i=this,r=i.children||(i.children={}),o=t||0,a=e[o++];return(n=r[a])||(n=new Ext.app.bind.Stub(i.owner,a,i)),o<e.length&&(n=n.descend(e,o)),n},getChildValue:function(e){var t,n=this,i=n.name;return e||Ext.isString(e)?(t=n.inspectValue(e),t||(t=e.isEntity?e.data[i]:e[i])):t=n.hadValue?null:void 0,t},getDataObject:function(){var e=this,t=e.parent.getDataObject(),n=e.name,i=t?t[n]:null;return i&&(i.$className||Ext.isObject(i))||(t[n]=i={},e.hadValue=e.owner.hadValue[e.path]=!0),i},getRawValue:function(){return this.getChildValue(this.getParentValue())},graft:function(e){var t,n=this,i=n.parent,r=n.children,o=n.name;if(e.parent=i,e.children=r,i&&(i.children[o]=e),r)for(t in r)r[t].parent=e;return n.children=null,n.callParent([e])},isLoading:function(){var e,t=this,n=t.parent,i=!1;return n&&!(i=n.isLoading())&&(e=t.inspectValue(t.getParentValue()),i=e?e.isLoading():!t.hadValue&&void 0===t.getRawValue()),i},invalidate:function(e){var t,n=this,i=n.children;if(n.dirty=!0,n.isLoading()||n.scheduled||n.schedule(),e&&i)for(t in i)i[t].invalidate(e)},set:function(e){var t,n=this,i=n.parent,r=n.name,o=i.getDataObject();o.isEntity?(t=o.associations,t&&r in t||o.set(r,e)):(e&&e.constructor===Object||e!==o[r])&&(n.setByLink(e)||(void 0===e?delete o[r]:(o[r]=e,Ext.app.bind.Stub.populateValues(e,n.owner,n.path,n)),n.inspectValue(o),n.invalidate(!0)))},onStoreLoad:function(){this.invalidate(!0)},afterLoad:function(e){this.invalidate(!0)},afterEdit:function(e,t){var n,i,r,o=this.children,a=t&&t.length,s=e.associations;if(o)if(a)for(i=0;a>i;++i)r=o[t[i]],r&&r.invalidate();else for(n in o)s&&n in s||o[n].invalidate();this.invalidate()},afterReject:function(e){this.afterEdit(e,null)},setByLink:function(e){var t,n,i,r,o=this,a=0;for(r=o;r;r=r.parent){if(r.isLinkStub){if(n=r,a)for(i=[],t=0,r=o;r!==n;r=r.parent)++t,i[a-t]=r.name;break}++a}return n&&(r=n.getTargetStub())?(i&&(r=r.descend(i)),r.set(e),!0):!1},setFormula:function(e){var t=this,n=t.formula;n&&n.destroy(),t.formula=new Ext.app.bind.Formula(t,e)},react:function(){var e,t=this,n=this.boundValue,i=t.children;if(n)if(n.isValidation){if(n.refresh(),e=n.generation,t.lastValidationGeneration===e)return;t.lastValidationGeneration=e}else if(n.isModel)i&&i[t.validationKey]&&n.isValid();else if(n.isStore&&n.isLoading()&&!n.loadCount)return;this.callParent()},privates:{getParentValue:function(){var e=this;return e.dirty&&(e.parentValue=e.parent.getValue(),e.dirty=!1),e.parentValue},setStore:function(e){this.storeBinding=e},inspectValue:function(e){var t,n,i,r,o=this,a=o.name,s=o.boundValue,l=null;return e&&e.isEntity?(t=e.associations,t&&a in t?(n=t[a],l=e[n.getterName](),l&&l.isStore&&(l.$associatedStore=!0)):a===o.validationKey&&(l=e.getValidation(!0),o.lastValidationGeneration=null)):e&&(i=e[a],i&&(i.isModel||i.isStore)&&(l=i)),r=s!==l,r&&(s&&o.detachBound(),l&&(l.isModel?l.join(o):(!l.$associatedStore||l.getCount()||l.loadCount||l.hasPendingLoad()||l.load(),l.on("load",o.onStoreLoad,o,{single:!0}))),o.boundValue=l),l},detachBound:function(){var e=this,t=e.boundValue;t&&(t.isModel?t.unjoin(e):t.un("load",e.onStoreLoad,e))},sort:function(){var e=this,t=e.formula,n=e.scheduler,i=e.storeBinding;e.callParent(),i&&n.sortItem(i),t&&n.sortItem(t)}}}),Ext.define("Ext.app.bind.LinkStub",{extend:"Ext.app.bind.Stub",isLinkStub:!0,binding:null,destroy:function(){var e=this,t=e.binding,n=e.owner;t&&(e.binding=null,t.destroy(),n&&delete n.linkData[e.name]),e.target=null,e.callParent()},getFullName:function(){var e=this;return e.fullName||(e.fullName="("+e.callParent()+" -> "+e.binding.getFullName()+")")},getDataObject:function(){var e=this.binding;return e&&e.getDataObject()},getRawValue:function(){var e=this.binding;return e&&e.getRawValue()},getValue:function(){var e=this.binding;return e&&e.getValue()},getTargetStub:function(){var e=this.binding;return e&&e.stub},isLoading:function(){var e=this.binding;return e?e.isLoading():!1},link:function(e,t){var n=this,i=n.binding;i&&i.destroy(),t=n.target=t||n.owner,n.linkDescriptor=e,n.binding=t.bind(e,n.onChange,n),n.binding.deep=!0},onChange:function(){this.invalidate(!0)},react:function(){var e=this,t=e.owner.linkData;t[e.name]=e.getValue(),e.callParent()},privates:{sort:function(){var e=this.binding;e&&this.scheduler.sortItem(e)}}}),Ext.define("Ext.app.bind.RootStub",{extend:"Ext.app.bind.AbstractStub",requires:["Ext.app.bind.LinkStub","Ext.app.bind.Stub"],isRootStub:!0,depth:0,createRootChild:function(e,t){var n,i,r=this,o=r.owner,a=o.getData(),s=r.children,l=s&&s[e],d=l?null:r;return t||a.hasOwnProperty(e)||!(n=o.getParent())?i=new Ext.app.bind.Stub(o,e,d):(i=new Ext.app.bind.LinkStub(o,e,l?null:d),i.link("{"+e+"}",n)),l&&l.graft(i),i},createStubChild:function(e){return this.createRootChild(e,!0)},descend:function(e,t){var n=this,i=n.children,r=t||0,o=e[r++],a=i&&i[o]||n.createRootChild(o);return r<e.length&&(a=a.descend(e,r)),a},getFullName:function(){return this.fullName||(this.fullName=this.owner.id+":")},getDataObject:function(){return this.owner.data},getRawValue:function(){return this.owner.data},getValue:function(){return this.owner.data},isDescendantOf:function(){return!1},isLoading:function(){return!1},set:function(e){e&&e.constructor===Object||Ext.Error.raise("Only an object can be set at the root");var t,n,i,r,o=this,a=o.children||(o.children={}),s=o.owner,l=s.data,d=s.getParent();for(r in e)r.indexOf(".")>=0&&Ext.Error.raise("Value names cannot contain dots"),void 0!==(i=e[r])?((n=a[r])?n.isLinkStub&&(t=n,n=new Ext.app.bind.Stub(s,r),t.graft(n)):n=new Ext.app.bind.Stub(s,r,o),n.set(i)):l.hasOwnProperty(r)&&(delete l[r],n=a[r],n&&!n.isLinkStub&&d&&(n=o.createRootChild(r)),n.invalidate(!0))},schedule:Ext.emptyFn,unschedule:Ext.emptyFn}),Ext.define("Ext.app.bind.Multi",{extend:"Ext.app.bind.BaseBinding",isMultiBinding:!0,missing:1,deep:!0,constructor:function(e,t,n,i,r){var o=this;o.callParent([t,n,i,r]),o.bindings=[],o.literal=e.$literal,e.constructor===Object?o.addObject(e,o.lastValue={}):o.addArray(e,o.lastValue=[]),--o.missing||o.scheduled||o.schedule()},destroy:function(){var e=this;e.bindings=Ext.destroy(e.bindings),e.callParent()},add:function(e,t,n){var i,r,o=this,a=o.owner,s=o.bindings,l=o.literal?e.reference?"bindEntity":"bindExpression":"bind";++o.missing,i=a[l](e,function(e){t[n]=e,1===i.calls&&--o.missing,o.missing||o.scheduled||o.schedule()},o,null),r=i.depth,(!s.length||r<o.depth)&&(o.depth=r),s.push(i)},addArray:function(e,t){var n,i,r=this,o=e.length;for(i=0;o>i;++i)n=e[i],n&&(n.reference||Ext.isString(n))?r.add(n,t,i):Ext.isArray(n)?r.addArray(n,t[i]=[]):n&&n.constructor===Object?r.addObject(n,t[i]={}):t[i]=n},addObject:function(e,t){var n,i,r=this;for(i in e)n=e[i],n&&(n.reference||Ext.isString(n))?r.add(n,t,i):Ext.isArray(n)?r.addArray(n,t[i]=[]):n&&n.constructor===Object?r.addObject(n,t[i]={}):t[i]=n},getFullName:function(){var e,t=this,n=t.fullName,i=t.bindings,r=i.length;if(!n){for(n="@[",e=0;r>e;++e)e&&(n+=","),n+=i[e].getFullName();n+="]",t.fullName=n}return n},getRawValue:function(){return this.lastValue},isDescendantOf:function(){return!1},isLoading:function(){for(var e=this.bindings,t=e.length;t-->0;)if(e[t].isLoading())return!0;return!1},isStatic:function(){var e,t,n=this.bindings,i=n.length;for(e=0;i>e;++e)if(t=n[e],!t.isTemplateBinding||!t.isStatic)return!1;return!0},react:function(){this.notify(this.lastValue)},refresh:function(){},privates:{sort:function(){this.scheduler.sortItems(this.bindings)}}}),Ext.define("Ext.app.bind.Formula",{extend:"Ext.util.Schedulable",requires:["Ext.util.LruCache"],statics:{getFormulaParser:function(e){var t,n,i=this.formulaCache;return i||(i=this.formulaCache=new Ext.util.LruCache({maxSize:20})),t=i.get(e),t||(n="[^\\.a-z0-9_]"+e+"\\((['\"])(.*?)\\1\\)",t=new RegExp(n,"gi"),i.add(e,t)),t}},isFormula:!0,calculation:null,explicit:!1,set:null,single:!1,argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,constructor:function(e,t){var n,i,r,o,a=this,s=e.owner;a.owner=s,a.stub=e,a.callParent(),t instanceof Function?a.get=r=t:(a.get=r=t.get,a.set=t.set,i=t.bind,t.single&&(a.single=t.single),i&&(n=i.bindTo,n&&(o=Ext.apply({},i),delete o.bindTo,i=n))),r||Ext.Error.raise("Must specify a getter method for a formula"),i?a.explicit=!0:i=r.$expressions||a.parseFormula(r),a.binding=s.bind(i,a.onChange,a,o)},destroy:function(){var e=this,t=e.binding,n=e.stub;t&&(t.destroy(),e.binding=null),n&&(n.formula=null),e.callParent(),e.getterFn=e.owner=null},getFullName:function(){return this.fullName||(this.fullName=this.stub.getFullName()+"="+this.callParent()+")")},getRawValue:function(){return this.calculation},onChange:function(){this.scheduled||this.schedule()},parseFormula:function(e){var t,n,i,r,o=e.toString(),a={$literal:!0};for(t=this.argumentNamesRe.exec(o),n=t?t[1]:"get",i=Ext.app.bind.Formula.getFormulaParser(n);t=i.exec(o);)r=t[2],a[r]=r;return a.$literal=!0,e.$expressions=a,a},react:function(){var e,t=this,n=t.owner,i=t.binding.lastValue;t.getterFn;e=t.explicit?i:n.getFormulaFn(i),t.settingValue=!0,t.stub.set(t.calculation=t.get.call(n,e)),t.settingValue=!1,t.single&&t.destroy()},privates:{getScheduler:function(){var e=this.owner;return e&&e.getScheduler()},sort:function(){var e=this,t=e.binding;t.destroyed||e.scheduler.sortItem(t)}}}),Ext.define("Ext.app.bind.Template",{requires:["Ext.util.Format"],numberRe:/^(?:\d+(?:\.\d*)?)$/,stringRe:/^(?:["][^"]*["])$/,tokenRe:/\{[!]?(?:(?:(\d+)|([a-z_][\w\-\.]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,formatRe:/^([a-z_]+)(?:\(([^\)]*?)?\))?$/i,buffer:null,slots:null,tokens:null,constructor:function(e){var t,n=this,i=n._initters;n.text=e;for(t in i)n[t]=i[t]},_initters:{apply:function(e,t){return this.parse().apply(e,t)},getTokens:function(){return this.parse().getTokens()}},apply:function(e,t){var n,i,r,o=this,a=o.slots,s=o.buffer,l=a.length;for(n=0;l>n;++n)i=a[n],i&&(null==(r=e[i.pos])&&(r=""),i.not&&(r=!r),i.format&&(r=i.format(r,t)),s[n]=r);return s.join("")},getTokens:function(){return this.tokens},parse:function(){var e,t,n,i,r,o,a,s=this,l=s.text,d=[],u=[],c=[],h={},f=0,g=s.tokenRe,p=0;for(t in s._initters)delete s[t];for(s.buffer=d,s.slots=u,s.tokens=c;i=g.exec(l);)n=i.index-f,n&&(d[p++]=l.substring(f,f+n),f+=n),f+=(r=i[0]).length,o={fmt:e=i[3]||null,index:i[1]?parseInt(i[1],10):null,not:"!"===r.charAt(1),token:i[2]||null},a=o.token||String(o.index),a in h?o.pos=h[a]:(h[a]=o.pos=c.length,c.push(a)),e&&("this."===e.substring(0,5)?o.fmt=e.substring(5):(e in Ext.util.Format||Ext.Error.raise('Invalid format specified: "'+e+'"'),o.scope=Ext.util.Format),s.parseArgs(i[4],o)),u[p++]=o;return f<l.length&&(d[p++]=l.substring(f)),s},parseArgs:function(e,t){var n,i,r,o,a=this,s=a.numberRe,l=a.stringRe;for(i=e?e.indexOf(",")<0?[e]:e.split(","):[],t=t||{},o=i.length,t.args=i,r=0;o>r;++r)if(n=i[r],"true"===n)i[r]=!0;else if("false"===n)i[r]=!1;else if("null"===n)i[r]=null;else if(s.test(n))i[r]=parseFloat(n);else{if(!l.test(n)){t.fn=Ext.functionFactory("return ["+e+"];"),t.format=a._formatEval;break}i[r]=n.substring(1,n.length-1)}return t.format||(i.unshift(0),t.format=a._formatArgs),t},parseFormat:function(e){var t,n=this,i=n.formatRe.exec(e),r={fmt:e,scope:Ext.util.Format};return i||Ext.Error.raise('Invalid format syntax: "'+r+'"'),t=i[2],t?(r.fmt=i[1],n.parseArgs(t,r)):(r.args=[0],r.format=n._formatArgs),r},_formatArgs:function(e,t){return t=this.scope||t,this.args[0]=e,t[this.fmt].apply(t,this.args)},_formatEval:function(e,t){var n=this.fn();return n.unshift(e),t=this.scope||t,t[this.fmt].apply(t,n)}}),Ext.define("Ext.app.bind.TemplateBinding",{extend:"Ext.app.bind.BaseBinding",requires:["Ext.app.bind.Multi","Ext.app.bind.Template"],isTemplateBinding:!0,lastValue:void 0,value:void 0,constructor:function(e,t,n,i,r){var o=this,a=new Ext.app.bind.Template(e),s=a.getTokens();o.callParent([t,n,i,r]),o.tpl=a,o.tokens=s,s.$literal=!0,s.length?o.multiBinding=new Ext.app.bind.Multi(s,t,o.onBindData,o):(o.isStatic=!0,o.onData(a.text))},destroy:function(){var e=this;Ext.destroy(e.multiBinding),e.tpl=e.multiBinding=null,e.callParent()},getFullName:function(){var e=this.multiBinding;return this.fullName||(this.fullName="$"+(e?e.getFullName():this.callParent()))},getRawValue:function(){return this.value},getTemplateScope:function(){return null},isDescendantOf:function(){return!1},isLoading:function(){var e=this.multiBinding;return e?e.isLoading():!1},onBindData:function(e){this.onData(this.tpl.apply(e,this.getTemplateScope()))},onData:function(e){var t=this,n=t.value;n!==(t.value=e)&&(t.lastValue=n,t.schedule())},react:function(){this.notify(this.value)},refresh:function(){var e=this.multiBinding;e&&e.refresh()},privates:{sort:function(){var e=this.multiBinding;e&&this.scheduler.sortItem(e)}}}),Ext.define("Ext.data.AbstractStore",{mixins:["Ext.mixin.Observable","Ext.mixin.Factoryable"],requires:["Ext.util.Collection","Ext.data.schema.Schema","Ext.util.Filter"],factoryConfig:{defaultType:"store",type:"store"},$configPrefixed:!1,$configStrict:!1,config:{autoFilter:!0,autoSort:!0,filters:void 0,autoDestroy:void 0,storeId:null,statefulFilters:!1,sorters:void 0,remoteSort:!1,remoteFilter:!1,groupField:void 0,groupDir:"ASC",grouper:null,pageSize:25},currentPage:1,loading:!1,isDestroyed:!1,isStore:!0,updating:0,constructor:function(e){var t,n=this;n.isInitializing=!0,n.mixins.observable.constructor.call(n,e),n.isInitializing=!1,t=n.getStoreId(),!t&&e&&e.id&&n.setStoreId(t=e.id),t&&Ext.data.StoreManager.register(n)},getId:function(){return this.getObservableId()},getCount:function(){return this.getData().getCount()},rangeCached:function(e,t){return this.getData().getCount()>=Math.max(e,t)},find:function(e,t,n,i,r,o){var a=!i,s=a&&o;return this.getData().findIndex(e,t,n,a,s,!r)},findRecord:function(){var e=this,t=e.find.apply(e,arguments);return-1!==t?e.getAt(t):null},findExact:function(e,t,n){return this.getData().findIndexBy(function(n){return n.isEqual(n.get(e),t)},this,n)},findBy:function(e,t,n){return this.getData().findIndexBy(e,t,n)},getAt:function(e){return this.getData().getAt(e)||null},getRange:function(e,t,n){var i=this.getData().getRange(e,Ext.isNumber(t)?t+1:t);return n&&n.callback&&n.callback.call(n.scope||this,i,e,t,n),i},applyFilters:function(e,t){return t||(t=this.createFiltersCollection(),t.setRootProperty("data")),t.add(e),t},applySorters:function(e,t){return t||(t=this.createSortersCollection(),t.setRootProperty("data")),t.add(e),t},updateAutoFilter:function(e){var t=this.getData();t.setAutoFilter&&t.setAutoFilter(e)},updateAutoSort:function(e){var t=this.getData();t.setAutoSort&&t.setAutoSort(e)},filter:function(e,t){Ext.isString(e)&&(e={property:e,value:t}),this.getFilters().add(e)},removeFilter:function(e){var t=this,n=t.getFilters();e instanceof Ext.util.Filter?n.remove(e):n.removeByKey(e)},updateRemoteSort:function(e){var t=this.getSorters();e?t.on("endupdate",this.onSorterEndUpdate,this):t.un("endupdate",this.onSorterEndUpdate,this)},updateRemoteFilter:function(e){var t=this.getFilters();e?t.on("endupdate",this.onFilterEndUpdate,this):t.un("endupdate",this.onFilterEndUpdate,this)},addFilter:function(e){this.getFilters().add(e)},filterBy:function(e,t){this.getFilters().add({filterFn:e,scope:t||this})},clearFilter:function(e){var t=this,n=t.getFilters(!1);n&&0!==n.getCount()&&(t.suppressNextFilter=!!e,n.removeAll(),t.suppressNextFilter=!1)},isFiltered:function(){return this.getFilters().getCount()>0},isSorted:function(){return this.getSorters().getCount()>0||this.isGrouped()},addFieldTransform:function(e){if(!e.getTransform()){var t,n,i=e.getProperty(),r=this.getModel();r&&(t=r.getField(i),n=t?t.getSortType():null),n&&n!==Ext.identityFn&&e.setTransform(n)}},beginUpdate:function(){this.updating++||this.fireEvent("beginupdate")},endUpdate:function(){this.updating&&!--this.updating&&(this.fireEvent("endupdate"),this.onEndUpdate())},getState:function(){var e,t,n,i=this,r=[],o=i.getFilters(),a=i.getGrouper();return i.getSorters().each(function(e){r[r.length]=e.getState(),t=!0}),i.statefulFilters&&i.saveStatefulFilters&&(t=!0,e=[],o.each(function(t){e[e.length]=t.getState()})),a&&(t=!0),t&&(n={},r.length&&(n.sorters=r),e&&(n.filters=e),a&&(n.grouper=a.getState())),n},applyState:function(e){var t=this,n=t.getSorters(),i=t.getFilters(),r=e.sorters,o=e.filters,a=e.grouper;r&&n.replaceAll(r),o&&(t.saveStatefulFilters=!0,i.replaceAll(o)),a&&this.setGrouper(a)},hasPendingLoad:Ext.emptyFn,isLoading:Ext.emptyFn,destroy:function(){var e=this;e.isDestroyed||(e.isDestroyed=!0,e.clearListeners(),e.getStoreId()&&Ext.data.StoreManager.unregister(e),e.onDestroy())},sort:function(e,t,n){var i=this;0===arguments.length?i.getRemoteSort()?i.attemptLoad():i.forceLocalSort():i.getSorters().addSort(e,t,n)},onSorterEndUpdate:function(){var e=this,t=e.getSorters().getRange();t.length?e.getRemoteSort()?e.attemptLoad({callback:function(){e.fireEvent("sort",e,t)}}):(e.fireEvent("datachanged",e),e.fireEvent("refresh",e),e.fireEvent("sort",e,t)):e.fireEvent("sort",e,t)},onFilterEndUpdate:function(){var e=this,t=e.suppressNextFilter;e.getAutoFilter()&&(e.getRemoteFilter()?(e.currentPage=1,t||e.attemptLoad()):t||(e.fireEvent("datachanged",e),e.fireEvent("refresh",e))),e.trackStateChanges&&(e.saveStatefulFilters=!0),e.fireEvent("filterchange",e,e.getFilters().getRange())},updateGroupField:function(e){var t=this.getData();e?t.setGrouper({property:e,direction:this.getGroupDir()}):t.setGrouper(null)},getGrouper:function(){return this.getData().getGrouper()},group:function(e,t,n){var i=this,r=e||i.getSorters().getCount()>0;e&&"string"==typeof e&&(e={property:e,direction:t||i.getGroupDir()}),i.getData().setGrouper(e),i.isLoadBlocked()||(r?i.getRemoteSort()?i.attemptLoad({callback:function(){i.fireEvent("groupchange",i,i.getGrouper())}}):(i.fireEvent("datachanged",i),i.fireEvent("refresh",i),i.fireEvent("groupchange",i,i.getGrouper())):i.fireEvent("groupchange",i,i.getGrouper()))},clearGrouping:function(){this.group(null)},getGroupField:function(){var e=this.getGrouper(),t="";return e&&(t=e.getProperty()),t},isGrouped:function(){return!!this.getGrouper()},applyGrouper:function(e){return this.group(e),this.getData().getGrouper()},getGroups:function(){return this.getData().getGroups()},onEndUpdate:Ext.emptyFn,deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}}),Ext.define("Ext.data.LocalStore",{extend:"Ext.Mixin",mixinConfig:{id:"localstore"},constructDataCollection:function(){var e,t=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{property:"internalId",rootProperty:""}}});return e=t.getSorters(),e.setSorterConfigure(this.addFieldTransform,this),t},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){return this.getData().getSorters()},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){this.getData().onSortChange()},contains:function(e){return this.indexOf(e)>-1},each:function(e,t){var n,i,r=this.data.items,o=r.length;for(i=0;o>i&&(n=r[i],e.call(t||n,n,i,o)!==!1);++i);},collect:function(e,t,n){var i=this,r=i.getData();return n===!0&&r.filtered&&(r=r.getSource()),r.collect(e,"data",t)},getById:function(e){var t=this.getData();return t.filtered&&(t=t.getSource()),t.get(e)||null},getByInternalId:function(e){var t=this.getData();return t.filtered&&(t=t.getSource()),t.byInternalId.get(e)||null},indexOf:function(e){return this.getData().indexOf(e)},indexOfId:function(e){return this.indexOf(this.getById(e))},queryBy:function(e,t){var n=this.getData();return(n.getSource()||n).createFiltered(e,t)},query:function(e,t,n,i,r){var o=this.getData();return(o.getSource()||o).createFiltered(e,t,n,i,r)},first:function(e){return this.getData().first(e)||null},last:function(e){return this.getData().last(e)||null},sum:function(e,t){var n=this.getData();return t&&this.isGrouped()?n.sumByGroup(e):n.sum(e)},count:function(e){var t=this.getData();return e&&this.isGrouped()?t.countByGroup():t.count()},min:function(e,t){var n=this.getData();return t&&this.isGrouped()?n.minByGroup(e):n.min(e)},max:function(e,t){var n=this.getData();return t&&this.isGrouped()?n.maxByGroup(e):n.max(e)},average:function(e,t){var n=this.getData();return t&&this.isGrouped()?n.averageByGroup(e):n.average(e)},aggregate:function(e,t,n,i){var r,o,a,s,l,d=this;if(n&&d.isGrouped()){for(r=d.getGroups().items,o=r.length,a={},l=0;o>l;++l)s=r[l],a[s.getGroupKey()]=d.getAggregate(e,t||d,s.items,i);return a}return d.getAggregate(e,t,d.getData().items,i)},getAggregate:function(e,t,n,i){var r,o=[],a=n.length;for(r=0;a>r;++r)o[r]=n[r].get(i);return e.call(t||this,n,o)},addObserver:function(e){var t=this.observers;t||(this.observers=t=new Ext.util.Collection),t.add(e)},removeObserver:function(e){var t=this.observers;t&&t.remove(e)},callObservers:function(e,t){var n,i,r,o,a,s=this.observers;if(s)for(i=s.items,t?t.unshift(this):t=[this],r=0,n=i.length;n>r;++r)a=i[r],o="onSource"+e,a[o]&&a[o].apply(a,t)}}),Ext.define("Ext.data.ChainedStore",{extend:"Ext.data.AbstractStore",alias:"store.chained",config:{source:null,remoteFilter:!1,remoteSort:!1},mixins:["Ext.data.LocalStore"],constructor:function(){
this.callParent(arguments),this.getData().addObserver(this)},updateRemoteFilter:function(e){e&&Ext.Error.raise("Remote filtering cannot be used with chained stores.")},updateRemoteSort:function(e){e&&Ext.Error.raise("Remote sorting cannot be used with chained stores.")},add:function(){var e=this.getSource();return e.add.apply(e,arguments)},remove:function(){var e=this.getSource();return e.remove.apply(e,arguments)},getData:function(){var e=this,t=e.data;return t||(e.data=t=e.constructDataCollection()),t},applySource:function(e){return e&&(e=Ext.data.StoreManager.lookup(e)),e},updateSource:function(e,t){var n,i=this;t&&t.removeObserver(i),e&&(n=i.getData(),n.setSource(e.getData()),i.isInitializing||(i.fireEvent("refresh",i),i.fireEvent("datachanged",i)),e.addObserver(i))},getModel:function(){return this.getSource().getModel()},getProxy:function(){return null},onCollectionAdd:function(e,t){var n=this,i=t.items,r=!t.next;n.ignoreCollectionAdd||(n.fireEvent("add",n,i,t.at),r&&n.fireEvent("datachanged",n))},onCollectionItemChange:function(e,t){var n=t.item,i=t.modified;this.contains(n)&&this.fireEvent("update",this,n,"edit",i)},onCollectionRemove:function(e,t){var n=this,i=t.items,r=!t.next;n.ignoreCollectionRemove||(n.fireEvent("remove",n,i,t.at,!1),r&&n.fireEvent("datachanged",n))},onSourceBeforeLoad:function(){this.ignoreCollectionAdd=!0,this.callObservers("BeforeLoad")},onSourceAfterLoad:function(){var e=this;e.ignoreCollectionAdd=!1,e.fireEvent("datachanged",e),e.fireEvent("refresh",e),this.callObservers("AfterLoad")},onSourceBeforeClear:function(){this.ignoreCollectionRemove=!0,this.callObservers("BeforeClear")},onSourceAfterClear:function(){this.ignoreCollectionRemove=!1,this.callObservers("AfterClear")},onSourceBeforeRemoveAll:function(){this.ignoreCollectionRemove=!0,this.callObservers("BeforeRemoveAll")},onSourceAfterRemoveAll:function(e,t){var n=this;n.ignoreCollectionRemove=!1,t||(n.fireEvent("clear",n),n.fireEvent("datachanged",n)),this.callObservers("AfterRemoveAll",[t])},onSourceFilter:function(){var e=this;e.fireEvent("refresh",e),e.fireEvent("datachanged",e)},hasPendingLoad:function(){return!1},isLoading:function(){return!1},onDestroy:function(){var e=this,t=e.data;e.observers=null,e.setSource(null),t&&(t.destroy(),e.data=null)}}),Ext.define("Ext.app.ViewModel",{mixins:["Ext.mixin.Factoryable","Ext.mixin.Identifiable"],requires:["Ext.util.Scheduler","Ext.data.Session","Ext.app.bind.RootStub","Ext.app.bind.LinkStub","Ext.app.bind.Multi","Ext.app.bind.Formula","Ext.app.bind.TemplateBinding","Ext.data.ChainedStore"],alias:"viewmodel.default",isViewModel:!0,factoryConfig:{name:"viewModel"},destroyed:!1,expressionRe:/^(?:\{[!]?(?:(\d+)|([a-z_][\w\-\.]*))\})$/i,$configStrict:!1,config:{data:!0,formulas:{$value:null,merge:function(e,t,n,i){var r,o;if(t)if(e){r=Ext.apply({},t);for(o in e)i&&r[o]||(r[o]=e[o])}else r=t;else r=e;return r}},links:null,parent:null,root:!0,scheduler:null,schema:"default",session:null,stores:null,view:null},constructor:function(e){this.hadValue={},this.initConfig(e)},destroy:function(){var e,t,n,i=this,r=i._scheduler,o=i.storeInfo,a=i.getParent();if(i.destroy=Ext.emptyFn,o)for(e in o)t=o[e],n=t.autoDestroy,(n||!t.$wasInstance&&n!==!1)&&t.destroy(),Ext.destroy(t.$binding);a&&a.unregisterChild(i),i.getRoot().destroy(),r&&r.$owner===i&&(r.$owner=null,r.destroy()),i.hadValue=i.children=i.storeInfo=i._session=i._view=i._scheduler=i._root=i._parent=i.formulaFn=i.$formulaData=null},bind:function(e,t,n,i){var r,o=this;return n=n||o,i||void 0===e.bindTo||Ext.isString(e)||(i=e,e=i.bindTo),Ext.isString(e)?o.expressionRe.test(e)?(e=e.substring(1,e.length-1),r=o.bindExpression(e,t,n,i)):r=new Ext.app.bind.TemplateBinding(e,o,t,n,i):r=new Ext.app.bind.Multi(e,o,t,n,i),r},getSession:function(){var e,t=this,n=t._session;return!n&&(e=t.getParent())&&t.setSession(n=e.getSession()),n||null},getStore:function(e){var t,n=this.storeInfo;return n&&(t=n[e]),t||null},linkTo:function(e,t){var n,i,r=this,o=r.getStub(e);o.depth-r.getRoot().depth>1&&Ext.Error.raise('Links can only be at the top-level: "'+e+'"'),t.isModel&&(t={reference:t.entityName,id:t.id}),n=t.reference,n?o.set(r.getRecord(n,t.id)):(o.isLinkStub||(i=new Ext.app.bind.LinkStub(r,o.name),o.graft(i),o=i),o.link(t))},notify:function(){this.getScheduler().notify()},get:function(e){return this.getStub(e).getValue()},set:function(e,t){var n,i,r=this;r.getData(),void 0===t&&e&&e.constructor===Object?(i=r.getRoot(),t=e):e&&e.indexOf(".")<0?(n={},n[e]=t,t=n,i=r.getRoot()):i=r.getStub(e),i.set(t)},privates:{registerChild:function(e){var t=this.children;t||(this.children=t={}),t[e.getId()]=e},unregisterChild:function(e){var t=this.children;t&&delete t[e.getId()]},getRecord:function(e,t){var n,i=this.getSession(),r=e;return i?n=i.getRecord(e,t):(r.$isClass||(r=this.getSchema().getEntity(r),r||Ext.Error.raise("Invalid model name: "+e)),n=r.createWithId(t),n.load()),n},notFn:function(e){return!e},bindExpression:function(e,t,n,i){var r,o=e.charAt(0),a="!"===o,s=a?e.substring(1):e,l=this.getStub(s);return r=l.bind(t,n,i),a&&(r.transform=this.notFn),r},applyScheduler:function(e){return e&&!e.isInstance&&(e=new Ext.util.Scheduler(e),e.$owner=this),e},getScheduler:function(){var e,t=this,n=t._scheduler;return n||((e=t.getParent())?n=e.getScheduler():(n=new Ext.util.Scheduler({preSort:"kind,-depth"}),n.$owner=t),t.setScheduler(n)),n},getStub:function(e){var t=this.getRoot();return e?t.getChild(e):t},collect:function(){var e,t=this.children;if(t)for(e in t)t[e].collect();this.getRoot().collect()},applyData:function(e,t){var n,i,r=this;r.getSession(),t||(i=r.getParent(),r.linkData=n=i?Ext.Object.chain(i.getData()):{},r.data=r._data=Ext.Object.chain(n)),e&&e.constructor===Object&&r.getRoot().set(e)},applyParent:function(e){return e&&e.registerChild(this),e},applyStores:function(e){var t,n,i,r,o,a=this,s=a.getRoot();a.storeInfo={},a.listenerScopeFn=function(){return a.getView().getInheritedConfig("defaultListenerScope")};for(t in e)n=e[t],n.isStore?(n.$wasInstance=!0,a.setupStore(n,t)):(n=Ext.isString(n)?{source:n}:Ext.apply({},n),o=n.listeners,delete n.listeners,i=a.bind(n,a.onStoreBind,a),i.isStatic()?(i.destroy(),a.createStore(t,n,o)):(i.$storeKey=t,i.$listeners=o,r=s.createStubChild(t),r.setStore(i)))},onStoreBind:function(e,t,n){var i,r=this.storeInfo,o=n.$storeKey,a=r[o];a?(e=Ext.merge({},e),i=e.proxy,delete e.type,delete e.model,delete e.fields,delete e.proxy,delete e.listeners,i&&(delete i.reader,delete i.writer,a.getProxy().setConfig(i)),a.setConfig(e)):this.createStore(o,e,n.$listeners,n)},createStore:function(e,t,n,i){var r,o=this.getSession();t=Ext.apply({},t),t.session&&(t.session=o),t.source&&(t.type=t.type||"chained"),t.listeners=n,r=Ext.Factory.store(t),r.$binding=i,this.setupStore(r,e)},setupStore:function(e,t){e.resolveListenerScope=this.listenerScopeFn,this.storeInfo[t]=e,this.set(t,e)},applyFormulas:function(e){var t,n,i=this,r=i.getRoot();i.getData();for(t in e)t.indexOf(".")>=0&&Ext.Error.raise("Formula names cannot contain dots: "+t),r.createStubChild(t),n=i.getStub(t),n.setFormula(e[t]);return e},applyLinks:function(e){for(var t in e)this.linkTo(t,e[t])},applySchema:function(e){return Ext.data.schema.Schema.get(e)},applyRoot:function(){var e=new Ext.app.bind.RootStub(this),t=this.getParent();return t&&(e.depth=t.getRoot().depth-1e3),e},getFormulaFn:function(e){var t=this,n=t.formulaFn;return n||(n=t.formulaFn=function(e){return t.$formulaData[e]}),t.$formulaData=e,n}}}),Ext.define("Ext.data.ResultSet",{isResultSet:!0,$configPrefixed:!1,config:{loaded:!0,count:null,total:null,success:!1,records:null,message:null,readRoot:!1},constructor:function(e){this.initConfig(e)},applyCount:function(e){return e||0===e?e:this.getRecords().length},updateRecords:function(e){this.setCount(e.length)}}),Ext.define("Ext.data.reader.Reader",{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],requires:["Ext.data.ResultSet","Ext.XTemplate"],mixins:["Ext.mixin.Observable","Ext.mixin.Factoryable"],alias:"reader.base",factoryConfig:{defaultType:null},config:{totalProperty:"total",successProperty:"success",rootProperty:"",messageProperty:"",typeProperty:"",implicitIncludes:!0,readRecordsOnFailure:!0,model:null,proxy:null,transform:null},isReader:!0,constructor:function(e){e&&e.hasOwnProperty("root")&&(e=Ext.apply({},e),e.rootProperty=e.root,delete e.root,Ext.log.error('Ext.data.reader.Reader: Using the deprecated "root" configuration. Use "rootProperty" instead.'));var t=this;t.duringInit=!0,t.mixins.observable.constructor.call(t,e),delete t.duringInit,t.buildExtractors()},applyModel:function(e){return Ext.data.schema.Schema.lookupEntity(e)},applyTransform:function(e){return e?(Ext.isFunction(e)&&(e={fn:e}),e.fn.bind(e.scope||this)):e},forceBuildExtractors:function(){this.duringInit||this.buildExtractors(!0)},updateTotalProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},updateSuccessProperty:function(){this.forceBuildExtractors()},read:function(e,t){var n,i;if(e)if(e.responseText){if(i=this.getResponseData(e),i&&i.__$isError)return new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:i.msg});n=this.readRecords(i,t)}else n=this.readRecords(e,t);return n||this.nullResultSet},createReadError:function(e){return{__$isError:!0,msg:e}},readRecords:function(e,t){var n,i,r,o,a,s,l,d,u=this;return d=this.getTransform(),d&&(e=d(e)),u.buildExtractors(),u.rawData=e,e=u.getData(e),n=!0,i=0,r=[],u.getSuccessProperty()&&(s=u.getSuccess(e),(s===!1||"false"===s)&&(n=!1)),u.getMessageProperty()&&(l=u.getMessage(e)),(u.getReadRecordsOnFailure()||n)&&(o=Ext.isArray(e)?e:u.getRoot(e),o&&(a=o.length),u.getTotalProperty()&&(s=parseInt(u.getTotal(e),10),isNaN(s)||(a=s)),o&&(r=u.extractData(o,t),i=r.length)),new Ext.data.ResultSet({total:a||i,count:i,records:r,success:n,message:l,readRoot:!!o})},extractData:function(e,t){var n,i,r,o,a,s=this,l=t&&t.model?Ext.data.schema.Schema.lookupEntity(t.model):s.getModel(),d=l.schema,u=d.hasAssociations(l)&&s.getImplicitIncludes(),c=s.getFieldExtractorInfo(l.fieldExtractors),h=e.length,f=new Array(h),g=s.getTypeProperty();for(!h&&Ext.isObject(e)&&(e=[e],h=1),a=0;h>a;a++)o=e[a],o.isModel||(i=o,g&&(r=s.getChildType(d,i,g))?(n=r.getProxy().getReader(),o=n.extractRecord(i,t,r,d.hasAssociations(r)&&n.getImplicitIncludes(),n.getFieldExtractorInfo(r.fieldExtractors))):o=s.extractRecord(i,t,l,u,c)),o.onLoad&&o.onLoad(),f[a]=o;return f},getChildType:function(e,t,n){var i;switch(typeof n){case"string":return e.getEntity(t[n]);case"object":return i=n.namespace,e.getEntity((i?i+".":"")+t[n.name]);case"function":return e.getEntity(n(t))}},extractRecordData:function(e,t){var n=t&&t.model?Ext.data.schema.Schema.lookupEntity(t.model):this.getModel(),i=this.getFieldExtractorInfo(n.fieldExtractors);return this.extractRecord(e,t,n,!1,i)},extractRecord:function(e,t,n,i,r){var o,a,s=this,l=t&&t.recordCreator||s.defaultRecordCreator;return o=s.extractModelData(e,r),a=l.call(s,o,n||s.getModel(),t),i&&a.isModel&&s.readAssociated(a,e,t),a},getFieldExtractorInfo:function(e){var t=this.$className,n=e[t];return void 0===n&&(e[t]=n=this.buildFieldExtractors()),n},buildFieldExtractors:function(){var e,t,n,i,r=this.getFields(),o=r.length,a=[],s=[],l=null,d=0;for(n=0;o>n;++n)e=r[n],i=this.createFieldAccessor(e),i&&(t=e.name,a.push("data['"+t+"'] = extractors["+d+"](raw);"),s.push(i),++d);return a.length&&(l={extractors:s,fn:new Function("raw","data","extractors",a.join(""))}),l},defaultRecordCreator:function(e,t){var n=new t(e);return n.phantom=!1,n},getModelData:function(e){return{}},extractModelData:function(e,t){var n,i=this.getModelData(e);return t&&(n=t.fn)(e,i,t.extractors),i},readAssociated:function(e,t,n){var i,r,o=e.associations;for(i in o)o.hasOwnProperty(i)&&(r=o[i],r.cls&&r.read(e,t,this,n))},getFields:function(){return this.getModel().fields},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(e){Ext.Error.raise("getResponseData must be implemented in the Ext.data.reader.Reader subclass")},onMetaChange:function(e){var t,n,i,r=this,o=e.fields||r.getFields();r.metaData=e,e.root&&r.setRootProperty(e.root),e.totalProperty&&r.setTotalProperty(e.totalProperty),e.successProperty&&r.setSuccessProperty(e.successProperty),e.messageProperty&&r.setMessageProperty(e.messageProperty),n=e.clientIdProperty,t=Ext.define(null,{extend:"Ext.data.Model",fields:o,clientIdProperty:n}),r.setModel(t),i=r.getProxy(),i&&i.setModel(t),r.buildExtractors(!0)},buildExtractors:function(e){var t=this,n=t.getTotalProperty(),i=t.getSuccessProperty(),r=t.getMessageProperty();return e||!t.hasExtractors?(n&&(t.getTotal=t.createAccessor(n)),i&&(t.getSuccess=t.createAccessor(i)),r&&(t.getMessage=t.createAccessor(r)),t.hasExtractors=!0,!0):void 0},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,destroy:function(){var e=this;delete e.model,delete e.getTotal,delete e.getSuccess,delete e.getMessage}},function(){var e=this.prototype;Ext.apply(e,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:""})})}),Ext.define("Ext.data.writer.Writer",{mixins:["Ext.mixin.Factoryable"],alias:"writer.base",factoryConfig:{defaultType:null},alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{clientIdProperty:null,allDataOptions:{persist:!0},partialDataOptions:{changes:!0,critical:!0},writeAllFields:!1,dateFormat:null,nameProperty:"name",writeRecordId:!0,transform:null},isWriter:!0,constructor:function(e){this.initConfig(e)},applyTransform:function(e){return e?(Ext.isFunction(e)&&(e={fn:e}),e.fn.bind(e.scope||this)):e},write:function(e){var t,n=e.getOperation(),i=n.getRecords()||[],r=i.length,o=[];for(t=0;r>t;t++)o.push(this.getRecordData(i[t],n));return this.writeRecords(e,o)},writeRecords:Ext.emptyFn,getRecordData:function(e,t){var n,i=this,r=i.getNameProperty(),o="name"!==r,a=e.self.idField,s=a.name,l=e.id,d=i.getWriteAllFields();if(a.serialize&&(l=a.serialize(l)),!d&&t&&t.isDestroyOperation)n={},n[r?a[r]:s]=l;else{var u,c,h=i.getDateFormat(),f=e.phantom,g=f||d?i.getAllDataOptions():i.getPartialDataOptions(),p=f&&i.getClientIdProperty(),m=e.getFieldsMap();g.serialize=!1,u=e.getData(g),n=o?{}:u,p?(n[p]=l,delete u[s]):i.getWriteRecordId()||delete u[s];for(s in u)l=u[s],(c=m[s])?(c.isDateField&&h&&Ext.isDate(l)?l=Ext.Date.format(l,h):c.serialize&&(l=c.serialize(l,e)),o&&(s=c[r]||s),n[s]=l):o&&(n[s]=l)}return n}}),Ext.define("Ext.data.proxy.Proxy",{mixins:["Ext.mixin.Factoryable","Ext.mixin.Observable"],$configPrefixed:!1,alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],requires:["Ext.data.schema.Schema","Ext.data.reader.Reader","Ext.data.writer.Writer"],uses:["Ext.data.Batch","Ext.data.operation.*","Ext.data.Model"],config:{batchOrder:"create,update,destroy",batchActions:!0,model:void 0,reader:{type:"json"},writer:{type:"json"}},isProxy:!0,isSynchronous:!1,constructor:function(e){this.mixins.observable.constructor.call(this,e)},applyModel:function(e){return Ext.data.schema.Schema.lookupEntity(e)},updateModel:function(e){if(e){var t=this.getReader();t&&!t.getModel()&&t.setModel(e)}},applyReader:function(e){return Ext.Factory.reader(e)},updateReader:function(e){if(e){var t=this,n=t.getModel();n?e.setModel(n):(n=e.getModel(),n&&t.setModel(n)),e.onMetaChange&&(e.onMetaChange=Ext.Function.createSequence(e.onMetaChange,t.onMetaChange,t))}},applyWriter:function(e){return Ext.Factory.writer(e)},abort:Ext.emptyFn,onMetaChange:function(e){this.fireEvent("metachange",this,e)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,erase:Ext.emptyFn,batch:function(e,t){var n,i,r,o,a,s,l,d,u,c=this,h=c.getBatchActions();for(void 0===e.operations&&(e={operations:e,listeners:t}),e.batch?Ext.isDefined(e.batch.runOperation)&&(n=Ext.applyIf(e.batch,{proxy:c,listeners:{}})):e.batch={proxy:c,listeners:e.listeners||{}},n||(n=new Ext.data.Batch(e.batch)),n.on("complete",Ext.bind(c.onBatchComplete,c,[e],0)),r=c.getBatchOrder().split(","),o=r.length,s=0;o>s;s++)if(a=r[s],i=e.operations[a])if(h)n.add(c.createOperation(a,{records:i,params:e.params}));else for(d=i.length,l=0;d>l;l++)u=i[l],n.add(c.createOperation(a,{records:[u],params:e.params}));return n.start(),n},onBatchComplete:function(e,t){var n=e.scope||this;t.hasException()?Ext.isFunction(e.failure)&&Ext.callback(e.failure,n,[t,e]):Ext.isFunction(e.success)&&Ext.callback(e.success,n,[t,e]),Ext.isFunction(e.callback)&&Ext.callback(e.callback,n,[t,e])},createOperation:function(e,t){var n=Ext.createByAlias("data.operation."+e,t);return n.setProxy(this),n},clone:function(){return new this.self(this.getInitialConfig())}}),Ext.define("Ext.data.proxy.Client",{extend:"Ext.data.proxy.Proxy",alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){Ext.Error.raise("The Ext.data.proxy.Client subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.")}}),Ext.define("Ext.data.proxy.Memory",{extend:"Ext.data.proxy.Client",alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:!0,config:{enablePaging:!1,data:null},finishOperation:function(e){var t=0,n=e.getRecords(),i=n.length;for(t;i>t;t++)n[t].commit();e.setSuccessful(!0)},create:function(e){this.finishOperation(e)},update:function(e){this.finishOperation(e)},erase:function(e){this.finishOperation(e)},read:function(e){var t=this,n=t.getReader().read(t.getData()),i=n.getRecords(),r=e.getSorters(),o=e.getGrouper(),a=e.getFilters(),s=e.getStart(),l=e.getLimit();e.process(n,null,null,!1)!==!1&&(a&&a.length&&(n.setRecords(i=Ext.Array.filter(i,Ext.util.Filter.createFilterFn(a))),n.setTotal(i.length)),o&&(r=r?r.concat(o):r),r&&r.length&&n.setRecords(i=Ext.Array.sort(i,Ext.util.Sortable.createComparator(r))),t.getEnablePaging()&&void 0!==s&&void 0!==l&&(s>=n.getTotal()?n.setConfig({success:!1,records:[],total:0}):n.setRecords(Ext.Array.slice(i,s,s+l))),e.setCompleted())},clear:Ext.emptyFn}),Ext.define("Ext.data.operation.Operation",{alternateClassName:"Ext.data.Operation",isOperation:!0,config:{synchronous:!1,params:void 0,callback:void 0,scope:void 0,resultSet:null,response:null,request:null,records:null,id:void 0,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,constructor:function(e){var t=e&&e.scope;this.initConfig(e),e&&(e.scope=t),t&&(this.setScope(t),this.initialConfig.scope=t)},getAction:function(){return this.action},execute:function(){var e=this;return delete e.error,delete e.success,e.complete=e.exception=!1,e.setStarted(),e.request=e.doExecute()},doExecute:Ext.emptyFn,abort:function(){var e=this,t=e.request;e.running&&t&&(e.getProxy().abort(t),e.request=null)},process:function(e,t,n,i){var r=this;i=i!==!1,r.setResponse(n),r.setResultSet(e),e.getSuccess()?(r.doProcess(e,t,n),r.setSuccessful(i)):i&&r.setException(e.getMessage())},_commitSetOptions:{convert:!0,commit:!0},doProcess:function(e,t,n){var i,r,o,a,s=this,l=s._commitSetOptions,d=s.getRecords(),u=d.length,c=d[0].clientIdProperty,h=e.getRecords(),f=h?h.length:0;if(f&&c){for(i=Ext.Array.toValueMap(d,"id"),a=0;f>a;++a)r=h[a],o=i[r[c]],o?(delete i[o.id],delete r[c],o.set(r,l)):Ext.log.warn("Ignoring server record: "+Ext.encode(r));for(a in i)i[a].commit()}else for(a=0;u>a;++a)o=d[a],0!==f&&(r=h[a])?o.set(r,l):o.commit()},setStarted:function(){this.started=this.running=!0},setCompleted:function(){this.complete=!0,this.running=!1,this.triggerCallbacks()},setSuccessful:function(e){this.success=!0,e&&this.setCompleted()},setException:function(e){var t=this;t.exception=!0,t.success=t.running=!1,t.error=e,t.setCompleted()},triggerCallbacks:function(){var e=this,t=e.getInternalCallback();t&&(t.call(e.getInternalScope()||e,e),e.setInternalCallback(null),e.setInternalScope(null)),(t=e.getCallback())&&(t.call(e.getScope()||e,e.getRecords(),e,e.wasSuccessful()),e.setCallback(null),e.setScope(null))},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var e;return this._records||((e=this.getResultSet())?e.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&this.success===!0},allowWrite:function(){return!0}}),Ext.define("Ext.data.operation.Create",{extend:"Ext.data.operation.Operation",alias:"data.operation.create",action:"create",isCreateOperation:!0,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}}),Ext.define("Ext.data.operation.Destroy",{extend:"Ext.data.operation.Operation",alias:"data.operation.destroy",action:"destroy",isDestroyOperation:!0,order:30,foreignKeyDirection:-1,doProcess:function(){var e,t=this.getRecords(),n=t.length;for(e=0;n>e;++e)t[e].setErased()},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(e,t){var n={},i=e.idField,r=this.getNameProperty()||"name";return n[i[r]]=e.id,n}}),Ext.define("Ext.data.operation.Read",{extend:"Ext.data.operation.Operation",alias:"data.operation.read",action:"read",isReadOperation:!0,config:{filters:void 0,sorters:void 0,grouper:void 0,start:void 0,limit:void 0,page:void 0,addRecords:!1},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return!1}}),Ext.define("Ext.data.operation.Update",{extend:"Ext.data.operation.Operation",alias:"data.operation.update",action:"update",isUpdateOperation:!0,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}}),Ext.define("Ext.data.ProxyStore",{extend:"Ext.data.AbstractStore",requires:["Ext.data.proxy.Proxy","Ext.data.proxy.Memory","Ext.data.operation.*"],config:{model:void 0,fields:null,proxy:void 0,autoLoad:void 0,autoSync:!1,batchUpdateMode:"operation",sortOnLoad:!0,trackRemoved:!0,session:void 0},onClassExtended:function(e,t,n){var i,r=t.model;"string"==typeof r&&(i=n.onBeforeCreated,n.onBeforeCreated=function(){var e=this,t=arguments;Ext.require(r,function(){i.apply(e,t)})})},implicitModel:!1,blockLoadCounter:0,autoSyncSuspended:0,constructor:function(e){var t=this,n=t.model;if(t.removed=[],t.blockLoad(),t.callParent(arguments),t.unblockLoad(),!t.getModel()&&t.useModelWarning!==!1&&"ext-empty-store"!==t.getStoreId()){var i=[Ext.getClassName(t)||"Store"," created with no model."];"string"==typeof n&&i.push(" The name '",n,"'"," does not correspond to a valid model."),Ext.log.warn(i.join(""))}},updateAutoLoad:function(e){var t,n=this;n.getData(),e&&(t=n.loadTask||(n.loadTask=new Ext.util.DelayedTask),t.delay(1,n.attemptLoad,n,Ext.isObject(e)?[e]:void 0))},getTotalCount:function(){return this.totalCount||0},applyFields:function(e){var t,n,i=this;e&&(i.implicitModel=!0,i.setModel(t=Ext.define(null,{extend:"Ext.data.Model",fields:e,proxy:n=i.getProxy()})),n&&!n.getModel()&&n.setModel(t))},applyModel:function(e){return e?e=Ext.data.schema.Schema.lookupEntity(e):(this.getFields(),this.getModel())},applyProxy:function(e){var t=this,n=t.getModel();return e?e.isProxy?e.setModel(n):(Ext.isString(e)?e={type:e,model:n}:e.model||(e=Ext.apply({model:n},e)),e=Ext.createByAlias("proxy."+e.type,e)):n&&(e=n.getProxy()),e||(e=Ext.createByAlias("proxy.memory")),t.disableMetaChangeEvent||e.on("metachange",t.onMetaChange,t),e},updateTrackRemoved:function(e){this.removed=e?[]:null},onMetaChange:function(e,t){this.fireEvent("metachange",this,t)},create:function(e,t){var n,i=this,r=new i.model(e),o=i.getProxy();return t=Ext.apply({},t),t.records||(t.records=[r]),t.internalScope=i,t.internalCallback=i.onProxyWrite,n=o.createOperation("create",t),n.execute()},read:function(){return this.load.apply(this,arguments)},update:function(e){var t,n=this,i=n.getProxy();return e=Ext.apply({},e),e.records||(e.records=n.getUpdatedRecords()),e.internalScope=n,e.internalCallback=n.onProxyWrite,t=i.createOperation("update",e),t.execute()},onProxyWrite:function(e){var t=this,n=e.wasSuccessful(),i=e.getRecords();switch(e.getAction()){case"create":t.onCreateRecords(i,e,n);break;case"update":t.onUpdateRecords(i,e,n);break;case"destroy":t.onDestroyRecords(i,e,n)}n&&(t.fireEvent("write",t,e),t.fireEvent("datachanged",t),t.fireEvent("refresh",t))},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(e,t,n){n&&(this.removed.length=0)},erase:function(e){var t,n=this,i=n.getProxy();return e=Ext.apply({},e),e.records||(e.records=n.getRemovedRecords()),e.internalScope=n,e.internalCallback=n.onProxyWrite,t=i.createOperation("destroy",e),t.execute()},onBatchOperationComplete:function(e,t){return this.onProxyWrite(t)},onBatchComplete:function(e,t){var n,i=this,r=e.operations,o=r.length;if("operation"!=i.batchUpdateMode){for(i.suspendEvents(),n=0;o>n;n++)i.onProxyWrite(r[n]);i.resumeEvents()}i.isSyncing=!1,i.fireEvent("datachanged",i),i.fireEvent("refresh",i)},onBatchException:function(e,t){},filterNew:function(e){return e.phantom===!0&&e.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(e){return e.dirty===!0&&e.phantom!==!0&&e.isValid()},getRemovedRecords:function(){return this.removed},sync:function(e){var t=this,n={},i=t.getNewRecords(),r=t.getUpdatedRecords(),o=t.getRemovedRecords(),a=!1;return t.isSyncing&&Ext.Error.warn("Sync called while a sync operation is in progress. Consider configuring autoSync as false."),t.needsSync=!1,i.length>0&&(n.create=i,a=!0),r.length>0&&(n.update=r,a=!0),o.length>0&&(n.destroy=o,a=!0),a&&t.fireEvent("beforesync",n)!==!1&&(t.isSyncing=!0,e=e||{},t.proxy.batch(Ext.apply(e,{operations:n,listeners:t.getBatchListeners()}))),t},getBatchListeners:function(){var e=this,t={scope:e,exception:e.onBatchException,complete:e.onBatchComplete};return"operation"==e.batchUpdateMode&&(t.operationcomplete=e.onBatchOperationComplete),t},save:function(){return this.sync.apply(this,arguments)},blockLoad:function(e){void 0!==e?this.blockLoadCounter=e:++this.blockLoadCounter},unblockLoad:function(e){var t=this,n=t.blockLoadCounter;return e?t.blockLoadCounter=0:n&&--t.blockLoadCounter,n},isLoadBlocked:function(){return!!this.blockLoadCounter},attemptLoad:function(e){this.isLoadBlocked()||this.load(e)},load:function(e){if(!this.isLoadBlocked()){var t,n,i,r=this,o=r.getProxy(),a=r.loadTask,s={internalScope:r,internalCallback:r.onProxyLoad};return r.getRemoteFilter()&&(t=r.getFilters(),t.getCount()&&(s.filters=t.getRange())),r.getRemoteSort()&&(n=r.getSorters(),n.getCount()&&(s.sorters=n.getRange())),Ext.apply(s,e),s.scope=s.scope||r,s.recordCreator||(i=r.getSession(),i&&(s.recordCreator=i.recordCreator)),r.lastOptions=s,s=o.createOperation("read",s),r.fireEvent("beforeload",r,s)!==!1&&(r.loading=!0,a&&(a.cancel(),r.loadTask=null),s.execute()),r}},reload:function(e){var t=Ext.apply({},e,this.lastOptions);return this.load(t)},onEndUpdate:function(){var e=this;e.needsSync&&e.autoSync&&!e.autoSyncSuspended&&e.sync()},afterReject:function(e){var t=this;t.contains(e)&&(t.onUpdate(e,Ext.data.Model.REJECT,null),t.fireEvent("update",t,e,Ext.data.Model.REJECT,null))},afterCommit:function(e,t){var n=this;t||(t=null),n.contains(e)&&(n.onUpdate(e,Ext.data.Model.COMMIT,t),n.fireEvent("update",n,e,Ext.data.Model.COMMIT,t))},afterErase:function(e){this.onErase(e)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,onDestroy:function(){var e=this;e.blockLoad(),e.clearData(),e.setProxy(null),e.setModel(null),e.setSession(null)},hasPendingLoad:function(){return!!this.loadTask||this.isLoading()},isLoading:function(){return!!this.loading},isLoaded:function(){return this.loadCount>0},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(e){var t=this;t.autoSyncSuspended||Ext.log.warn("Mismatched call to resumeAutoSync - auto synchronization is currently not suspended."),t.autoSyncSuspended&&!--t.autoSyncSuspended&&e&&t.sync()},removeAll:Ext.emptyFn,clearData:Ext.emptyFn}),Ext.define("Ext.data.Error",{isError:!0,$configPrefixed:!1,config:{field:null,message:""},constructor:function(e){this.initConfig(e),this.msg=this.message}}),Ext.define("Ext.data.ErrorCollection",{extend:"Ext.util.MixedCollection",alternateClassName:"Ext.data.Errors",requires:["Ext.data.Error"],init:function(e){var t,n,i,r,o,a,s,l,d,u,c=this,h=e.fields,f=e.validators,g=e.data;for(r=0,s=h.length;s>r;++r)if(n=h[r],u=n.name,d=g[u],n.validate&&!n.validate.$nullFn&&(t=c.length,l=n.validate(d,null,c),t===c.length&&l!==!0&&c.add(u,l)),f&&(i=f[u]))for(o=0,a=i.length;a>o;++o)l=i[o].validate(d,e),l!==!0&&c.add(u,l);return c},add:function(e,t){var n,i=this,r=Ext.data.field.Field.defaultInvalidMessage,o=e;if(Ext.isString(e)?o=new Ext.data.Error({field:e,message:t||r}):(o.isError||(o=new Ext.data.Error({field:o.field||o.name,message:o.error||o.message||o.msg||r})),e=o.field),n=i.get(e)){if(Ext.isArray(n))return n.push(o),n;i.removeAtKey(e),o=[n,o],o.field=e,o=[o]}return i.callParent([o])},getKey:function(e){return e.field},isValid:function(){return 0===this.length},getByField:function(e){var t=this.get(e);return t&&!Ext.isArray(t)&&(t=[t]),t||[]}}),Ext.define("Ext.data.SortTypes",{singleton:!0,none:Ext.identityFn,stripTagsRE:/<\/?[^>]+>/gi,asText:function(e){return String(e).replace(this.stripTagsRE,"")},asUCText:function(e){return String(e).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(e){return String(e).toUpperCase()},asDate:function(e){return e?Ext.isDate(e)?e.getTime():Date.parse(String(e)):0},asFloat:function(e){var t=parseFloat(String(e).replace(/,/g,""));return isNaN(t)?0:t},asInt:function(e){var t=parseInt(String(e).replace(/,/g,""),10);return isNaN(t)?0:t}}),Ext.define("Ext.data.validator.Validator",{mixins:["Ext.mixin.Factoryable"],alias:"data.validator.base",isValidator:!0,type:"base",statics:{all:{},register:function(e,t){var n=this.all;n[e.toUpperCase()]=n[e.toLowerCase()]=n[e]=t.prototype}},onClassExtended:function(e,t){t.type&&Ext.data.validator.Validator.register(t.type,e)},constructor:function(e){"function"==typeof e?(this.fnOnly=!0,this.validate=e):this.initConfig(e)},validate:function(){return!0},clone:function(){var e=this;return e.fnOnly?new Ext.data.validator.Validator(e.validate):new e.self(e.getCurrentConfig())}},function(){this.register(this.prototype.type,this)}),Ext.define("Ext.data.field.Field",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.data.SortTypes","Ext.data.validator.Validator"],alternateClassName:"Ext.data.Field",alias:"data.field.auto",aliasPrefix:"data.field.",type:"auto",factoryConfig:{defaultProperty:"name"},isDataField:!0,isField:!0,allowBlank:!0,allowNull:!1,critical:!1,defaultInvalidMessage:"This field is invalid",defaultValue:void 0,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:void 0,persist:null,reference:null,sortDir:"ASC",unique:!1,rank:null,stripRe:/[\$,%]/g,calculated:!1,evil:!1,identifier:!1,onClassExtended:function(e,t){var n,i=this,r=i.prototype,o=r.aliasPrefix.length,a=t.validators,s=t.alias,l=t.sortType;if(s)if(Ext.isString(s))i.register(s.substring(o),e);else for(n=s.length;n--;)i.register(s[n].substring(o),e);l&&Ext.isString(l)&&(e.prototype.sortType=Ext.data.SortTypes[l]),a&&(delete t.validators,t.validate=i.compileValidators(a))},statics:{all:{},compileValidators:function(e){e instanceof Array||(e=[e]);var t,n=e.length;for(t=0;n>t;++t)e[t]=Ext.Factory.dataValidator(e[t]);return function(i,r,o){var a,s,l=this,d="";for(t=-1;n>t;++t)if(0>t?a=l.callParent([i,r,o]):(s=e[t],a=s.validate(i)),a!==!0)if(a=a||l.defaultInvalidMessage,o)o.add(l.name,a),d=d||a;else{if(!r){d=a;break}d&&(d+=r),d+=a}return a||!0}},register:function(e,t){var n=this.all;n[e.toUpperCase()]=n[e]=t.prototype}},argumentNamesRe:/^function\s+\(\s*([^,\)\s]+)/,calculateRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(e){var t,n,i,r,o,a,s,l,d,u,c=this,h=c.calculateRe;
if(e&&(Ext.isString(e)?c.name=e:Ext.apply(c,e)),c.allowNull||(c.allowNull=!!c.reference),t=c.calculate,o=c.depends,t&&(c.convert=c.doCalculate,!o)){if(!(o=t.$depends))for(a={},d=t.toString(),t.$depends=o=[],s=c.argumentNamesRe.exec(d),l=s?s[1]:"data";s=h.exec(d);)l!==s[1]||a[u=s[2]]||(a[u]=1,o.push(u));c.depends=o}i=c.defaultValue,c.convert&&(void 0!==i&&(c.defaultValue=i=c.convert(i)),c.calculated=n=c.convert.length>1,c.evil=n&&!o),null===c.persist&&(c.persist=!n),r=c.sortType,c.sortType?Ext.isString(r)&&(c.sortType=Ext.data.SortTypes[r]):c.sortType=Ext.data.SortTypes.none,c.validators&&Ext.override(c,{validate:Ext.data.field.Field.compileValidators(c.validators)}),o&&"string"==typeof o&&(c.depends=[o]),c.cloneDefaultValue=void 0!==i&&(Ext.isDate(i)||Ext.isArray(i)||Ext.isObject(i))},collate:function(e,t){var n=this,i=e,r=t;return n.sortType&&(i=n.sortType(i),r=n.sortType(r)),r>i?-1:i>r?1:0},compare:function(e,t){return e===t?0:t>e?-1:1},isEqual:function(e,t){return!this.compare(e,t)},convert:null,serialize:null,validate:Ext.returnTrue,doCalculate:function(e,t){return t?this.calculate(t.data):e},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},hasMapping:function(){var e=this.mapping;return!(!e&&0!==e)},getPersist:function(){return this.persist},getSortDir:function(){return this.sortDir},getSortType:function(){return this.sortType},getType:function(){return"auto"}},function(){this.register(this.prototype.type,this)}),Ext.define("Ext.data.field.Boolean",{extend:"Ext.data.field.Field",alias:["data.field.bool","data.field.boolean"],isBooleanField:!0,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(e){return"boolean"==typeof e?e:!this.allowNull||void 0!==e&&null!==e&&""!==e?this.trueRe.test(String(e)):null},getType:function(){return"bool"}}),Ext.define("Ext.data.field.Date",{extend:"Ext.data.field.Field",alias:"data.field.date",sortType:"asDate",isDateField:!0,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(e,t){var n,i=e instanceof Date,r=t instanceof Date;return r&&i?(n=e.getTime()-t.getTime(),n=0===n?0:0>n?-1:1):n=i===r?0:i?1:-1,n},convert:function(e){if(!e)return null;if(e instanceof Date)return e;var t,n=this.dateReadFormat||this.dateFormat;return n?Ext.Date.parse(e,n):(t=Date.parse(e),t?new Date(t):null)},serialize:function(e){var t,n=null;return Ext.isDate(e)&&(t=this.getDateWriteFormat(),n=t?Ext.Date.format(e,t):e),n},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){var e=this;return e.hasOwnProperty("dateWriteFormat")?e.dateWriteFormat:e.hasOwnProperty("dateFormat")?e.dateFormat:e.dateWriteFormat||e.dateFormat||"timestamp"},getType:function(){return"date"}}),Ext.define("Ext.data.field.Integer",{extend:"Ext.data.field.Field",alias:["data.field.int","data.field.integer"],isNumeric:!0,isIntegerField:!0,convert:function(e){if("number"==typeof e)return parseInt(e);var t,n=void 0===e||null===e||""===e,i=this.allowNull;return n?t=i?null:0:(t=parseInt(String(e).replace(this.stripRe,""),10),i&&isNaN(t)&&(t=null)),t},getType:function(){return"int"}}),Ext.define("Ext.data.field.Number",{extend:"Ext.data.field.Field",alias:["data.field.float","data.field.number"],isNumeric:!0,isNumberField:!0,convert:function(e){if("number"==typeof e)return e;var t,n=void 0===e||null===e||""===e,i=this.allowNull;return n?t=i?null:0:(t=parseFloat(String(e).replace(this.stripRe,"")),i&&isNaN(t)&&(t=null)),t},getType:function(){return"float"}}),Ext.define("Ext.data.field.String",{extend:"Ext.data.field.Field",alias:"data.field.string",sortType:"asUCString",isStringField:!0,convert:function(e){var t=this.allowNull?null:"";return void 0===e||null===e?t:String(e)},getType:function(){return"string"}}),Ext.define("Ext.data.identifier.Generator",{"abstract":!0,mixins:["Ext.mixin.Factoryable"],alias:"data.identifier.default",factoryConfig:{defaultType:"sequential"},isGenerator:!0,config:{id:null},constructor:function(e){var t,n,i=this;i.initConfig(e),n=i.getId(),n&&(t=e&&e.cache||Ext.data.identifier.Generator.all,t[n]=i)},privates:{clone:function(e){var t=this.getInitialConfig();return t=e?Ext.apply({},e,t):t,new this.self(t)},statics:{all:{}}}},function(){var e=this,t=Ext.Factory,n=t.dataIdentifier;t.dataIdentifier=function(t){var i=Ext.isString(t)?t:t&&t.id,r=i&&(t&&t.cache||e.all)[i];return r||n(t)}}),Ext.define("Ext.data.identifier.Sequential",{extend:"Ext.data.identifier.Generator",alias:"data.identifier.sequential",config:{increment:1,prefix:null,seed:1},generate:function(){var e=this,t=e._seed,n=e._prefix;return e._seed+=e._increment,null!==n?n+t:t}}),Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",requires:["Ext.data.ErrorCollection","Ext.data.operation.*","Ext.data.field.*","Ext.data.validator.Validator","Ext.data.schema.Schema","Ext.data.identifier.Generator","Ext.data.identifier.Sequential"],uses:["Ext.data.Validation"],isEntity:!0,isModel:!0,validIdRe:null,observableType:"record",constructor:function(e,t){var n,i,r,o,a,s,l,d=this,u=d.self,c=u.identifier,h=Ext.data.Model,f=h.identifier,g=d.idField.name;if(d.data=e||(e={}),d.session=t||null,d.internalId=o=f.generate(),t&&!t.isSession&&Ext.Error.raise('Bad Model constructor argument 2 - "session" is not a Session'),(n=e)instanceof Array)for(d.data=e={},l=d.getFields(),a=Math.min(l.length,n.length),s=0;a>s;++s)e[l[s].name]=n[s];(r=u.initializeFn)||(u.initializeFn=r=h.makeInitializeFn(u)),r.$nullFn||u.initializeFn(d),(d.id=i=e[g])||0===i||(t?(c=t.getIdentifier(u),i=c.generate()):i=f===c?o:c.generate(),e[g]=d.id=i,d.phantom=!0),t&&t.add(d),d.init&&Ext.isFunction(d.init)&&d.init()},editing:!1,dirty:!1,session:null,dropped:!1,erased:!1,clientIdProperty:null,evented:!1,phantom:!1,idProperty:"id",identifier:null,previousValues:void 0,proxy:void 0,schema:"default",versionProperty:null,generation:1,validationSeparator:null,convertOnSet:!0,beginEdit:function(){var e=this,t=e.modified,n=e.previousValues;e.editing||(e.editing=!0,e.editMemento={dirty:e.dirty,data:Ext.apply({},e.data),generation:e.generation,modified:t&&Ext.apply({},t),previousValues:n&&Ext.apply({},n)})},cancelEdit:function(){var e=this,t=e.editMemento;t&&(e.editing=!1,Ext.apply(e,t),e.editMemento=null)},endEdit:function(e,t){var n=this,i=n.editMemento;i&&(n.editing=!1,n.editMemento=null,n.previousValues=i.previousValues,e||(t||(t=n.getModifiedFieldNames(i.data)),(n.dirty||t&&t.length)&&n.callJoined("afterEdit",[t])))},getField:function(e){return this.self.getField(e)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(e){this.set(this.idProperty,e)},getPrevious:function(e){var t=this.previousValues;return t&&t[e]},isModified:function(e){var t=this.modified;return!(!t||!t.hasOwnProperty(e))},getModified:function(e){var t;return this.isModified(e)&&(t=this.modified[e]),t},get:function(e){return this.data[e]},_singleProp:{},_rejectOptions:{convert:!1,commit:!0,silent:!0},set:function(e,t,n){var i,r,o,a,s,l,d,u,c,h,f,g,p,m,x,E,v=this,y=v.self,b=v.data,C=v.modified,S=v.previousValues,w=v.session,T=Ext.isString(e),P=T?n:t,I=P?P.convert!==!1:v.convertOnSet,k=v.fieldsMap,M=P&&P.silent,R=P&&P.commit,D=!(P&&P.refs===!1)&&w,A=!(P&&P.dirty===!1&&!R),F=null,L=0;for(T?(E=v._singleProp,E[e]=t):E=e,(p=y.rankedFields)||(p=y.rankFields()),f=p.length;;){for(s in E)if(x=E[s],i=b[s],d=v,r=k[s],r?(I&&r.convert&&(x=r.convert(x,v)),d=r,m=r.reference):m=null,!d.isEqual(i,x)){for(b[s]=x,(F||(F=[])).push(s),(S||(v.previousValues=S={}))[s]=i,m&&m.cls&&(D&&w.updateReference(v,r,x,i),m.onValueChange(v,w,x,i)),h=(c=r&&r.dependents)&&c.length;h-->0;)(u=c[h]).dirty=!0,L=L?Math.min(L,u.rank):u.rank;(!r||r.persist)&&(C&&C.hasOwnProperty(s)?(!A||d.isEqual(C[s],x))&&(delete C[s],v.dirty=-1):A&&(C||(v.modified=C={}),v.dirty=!0,C[s]=i)),s===v.idField.name&&(o=!0,l=i,g=x)}if(!L)break;for(r=p[L-1],r.dirty=!1,T?delete E[e]:(E=v._singleProp,T=!0),e=r.name,E[e]=b[e],I=!0;f>L&&!p[L].dirty;++L);f>L?++L:L=0}if(v.dirty<0){v.dirty=!1;for(a in C)if(C.hasOwnProperty(a)){v.dirty=!0;break}}return T&&delete E[e],++v.generation,o&&(v.id=g,v.callJoined("onIdChanged",[l,g])),R?v.commit(M,F):M||v.editing||!F||v.callJoined("afterEdit",[F]),F},reject:function(e){var t=this,n=t.modified;n&&t.set(n,t._rejectOptions),t.clearState(),e||t.callJoined("afterReject")},commit:function(e,t){var n,i=this;i.clearState(),i.phantom=!1,i.dropped&&(i.erased=n=!0),e||(n?i.callJoined("afterErase"):i.callJoined("afterCommit",[t]))},clearState:function(){var e=this;e.dirty=e.editing=!1,e.editMemento=e.modified=null},drop:function(e){this.dropped=!0,this.callJoined("afterDrop")},join:function(e){var t=this,n=t.joined;n?n.length?Ext.Array.include(n,e):n[0]=e:n=t.joined=[e],e.isStore&&(t.store=t.store||e)},unjoin:function(e){var t,n=this,i=n.joined,r=i.length,o=n.store;if(1===i.length&&i[0]===e?i.length=0:r&&Ext.Array.remove(i,e),o===e){for(o=null,t=0,r=i.length;r>t;++t)if(e=i[t],e.isStore){o=e;break}n.store=o}},clone:function(e){var t=this,n=t.modified,i=t.copy(t.id,e);return n&&(i.modified=Ext.apply({},n)),i.dirty=t.dirty,i.dropped=t.dropped,i.phantom=t.phantom,i},copy:function(e,t){var n=this,i=Ext.apply({},n.data),r=n.idProperty,o=n.self;return e||0===e?i[r]=e:null===e&&delete i[r],new o(i,t)},getProxy:function(){return this.self.getProxy()},getValidation:function(e){var t=this,n=t.validation;return n||(t.validation=n=new Ext.data.Validation,n.attach(t)),(e===!0||e!==!1&&n.syncGeneration!==t.generation)&&n.refresh(e),n},validate:function(){return(new Ext.data.ErrorCollection).init(this)},isValid:function(){var e=this.getValidation();return!e.dirty},erase:function(e){return this.drop(),this.save(e)},setErased:function(){this.erased=!0,this.callJoined("afterErase")},getChanges:function(){return this.getData(this._getChangesOptions)},getCriticalFields:function(){var e=this.self,t=e.criticalFields;return t||(e.rankFields(),t=e.criticalFields),t},getAssociatedData:function(e){var t,n,i,r,o,a,s,l,d=this,u=d.associations;e=e||{},d.$gathering=1;for(l in u)if(s=u[l],n=s.getAssociatedItem(d),n&&!n.$gathering){if(n.isStore){for(n.$gathering=1,i=n.getData().items,o=i.length,r=[],t=0;o>t;++t)a=i[t],a.$gathering=1,r.push(a.getData(!a.$gathering)),delete a.$gathering;delete n.$gathering}else r=n.getData(!0);e[l]=r}return delete d.$gathering,e},getData:function(e){var t,n,i,r,o,a=this,s={},l=e===!0?a._getAssociatedOptions:e||s,d=a.data,u=l.associated,c=l.changes,h=c&&l.critical,f=c?a.modified:d,g=a.fieldsMap,p=l.persist,m=l.serialize;if(f)for(r in f){if(o=d[r],n=g[r]){if(p&&!n.persist)continue;m&&n.serialize&&(o=n.serialize(o,a))}s[r]=o}if(h)for(t=a.self.criticalFields||a.getCriticalFields(),i=t.length;i-->0;)r=(n=t[i]).name,r in s||(o=d[r],m&&n.serialize&&(o=n.serialize(o,a)),s[r]=o);return u&&a.getAssociatedData(s),s},getTransientFields:function(){var e=this.self,t=e.transientFields;return t||(e.rankFields(),t=e.transientFields),t},isLoading:function(){return!!this.loadOperation},abort:function(){var e=this.loadOperation;e&&e.abort()},load:function(e){e=Ext.apply({},e);var t,n=this,i=e.scope||n,r=n.getProxy(),o=e.callback,a=n.loadOperation,s=n.getId();return a?(t=a.extraCalls,t||(t=a.extraCalls=[]),t.push(e),a):(n.phantom&&Ext.Error.raise("Cannot load phantom model"),e.id=s,e.recordCreator=function(e,t,i){var r=n.session;return i.recordCreator=r?r.recordCreator:null,n.set(e,n._commitOptions),n.getId()!==s&&Ext.Error.raise("Invalid record id returned for "+s+"@"+n.entityName),n},e.internalCallback=function(t){var r,a,s=t.wasSuccessful()&&t.getRecords().length>0,l=n.loadOperation,d=l.extraCalls,u=[n,t],c=[n,t,s];if(n.loadOperation=null,s?Ext.callback(e.success,i,u):Ext.callback(e.failure,i,u),Ext.callback(o,i,c),d)for(r=0,a=d.length;a>r;++r)e=d[r],s?Ext.callback(e.success,i,u):Ext.callback(e.failure,i,u),Ext.callback(e.callback,i,c);n.callJoined("afterLoad")},delete e.callback,n.loadOperation=a=r.createOperation("read",e),a.execute(),a)},save:function(e){e=Ext.apply({},e);var t,n=this,i=n.phantom,r=n.dropped,o=r?"destroy":i?"create":"update",a=e.scope||n,s=e.callback,l=n.getProxy();return e.records=[n],e.internalCallback=function(t){var i=[n,t],r=t.wasSuccessful();r?Ext.callback(e.success,a,i):Ext.callback(e.failure,a,i),i.push(r),Ext.callback(s,a,i)},delete e.callback,t=l.createOperation(o,e),r&&i?(t.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet),n.setErased(),t.setSuccessful(!0)):t.execute(),t},inheritableStatics:{addFields:function(e){this.replaceFields(e)},replaceFields:function(e,t){var n,i,r,o,a,s,l=this,d=l.prototype,u=Ext.data.field.Field,c=l.fields,h=l.fieldsMap,f=l.fieldOrdinals;if(t===!0)c.length=0,l.fieldsMap=h={},l.fieldOrdinals=f={};else if(t){for(i=t.length;i-->0;)a=t[i],a in f&&(delete f[a],delete h[a]);for(i=0,o=c.length;o>i;++i)a=(n=c[i]).name,a in f?f[a]=i:(c.splice(i,1),--i,--o)}for(i=0,o=e?e.length:0;o>i;i++)a=(n=e[i]).name,a in f||(f[a]=s=c.length,c.push(n=u.create(n)),h[a]=n,n.ordinal=s,n.definedBy=n.owner=this);l.idField=d.idField=r=h[d.idProperty],r.allowNull=r.critical=r.identifier=!0,r.defaultValue=null,l.initializeFn=l.rankedFields=l.transientFields=l.criticalFields=null},removeFields:function(e){this.replaceFields(null,e)},getIdFromData:function(e){var t=this,n=t.idField;return id=n.calculated?new t(e).id:e[n.name],id},createWithId:function(e,t,n){var i=t,r=this;return(e||0===e)&&(i={},t&&Ext.apply(i,t),i[r.idField.name]=e),new r(i,n)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(e){return this.fieldsMap[e]||null},getProxy:function(){var e,t=this,n=t.proxy;return n||(n=t.proxyConfig,n&&n.isProxy||(e=t.schema.constructProxy(t),n=n?Ext.merge(e,n):e),n=t.setProxy(n)),n},setProxy:function(e){var t,n=this;return e&&(e.isProxy?(t=e.getModel(),t&&t!==n&&(e=e.clone())):e=Ext.Factory.proxy(e),e.setModel(n)),n.prototype.proxy=n.proxy=e},load:function(e,t,n){var i=new this({id:e},n);return i.load(t),i}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(e,t){var n,i=this,r=i.stores,o=r.length;for(n=0;o>n;++n)e.call(t,r[n])},join:function(e){var t=this,n=t.stores,i=t.joined;i?i.push(e):i=t.joined=[e],e.isStore&&(t.store=t.store||e,n||(n=t.stores=[]),n.push(e))},unjoin:function(e){var t=this,n=t.stores,i=t.joined;1===i.length?i.length=0:Ext.Array.remove(i,e),e.isStore&&(Ext.Array.remove(n,e),t.store=n[0]||null)}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:!0},_getChangesOptions:{changes:!0},_getAssociatedOptions:{associated:!0},copyFrom:function(e){var t,n,i,r,o,a=this,s=a.fields,l=s.length,d=[],u=0,c=a.idProperty;if(e){for(n=a.data,i=e.data;l>u;u++)t=s[u],r=t.name,r!=c&&(o=i[r],void 0===o||a.isEqual(n[r],o)||(n[r]=o,d.push(r)));a.phantom&&!e.phantom&&(a.beginEdit(),a.setId(e.getId()),a.endEdit(!0),a.commit(!0))}return d},callJoined:function(e,t){var n,i,r,o,a=this,s=a.joined,l=a.session;if((s||l)&&(t?t.unshift(a):t=[a],l&&(r=l[e])&&r.apply(l,t),s))for(n=0,i=s.length;i>n;++n)o=s[n],o&&(r=o[e])&&r.apply(o,t)},setSession:function(e){e&&(this.session&&Ext.Error.raise("This model already belongs to a session."),this.id||Ext.Error.raise("The model must have an id to participate in a session.")),this.session=e,e&&e.add(this)},getModifiedFieldNames:function(e){var t,n=this,i=n.data,r=[],o=e||n.editMemento.data;for(t in i)i.hasOwnProperty(t)&&(n.isEqual(i[t],o[t],t)||r.push(t));return r},isEqual:function(e,t,n){var i;return n&&(i=n.isField?n:this.fieldsMap[n])?0===i.compare(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t},statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",rankFields:function(){var e,t,n,i=this,r=i.prototype,o=i.fields,a=o.length,s=[],l=[],d=[];for(i.rankedFields=r.rankedFields=s,i.criticalFields=r.criticalFields=l,i.transientFields=r.transientFields=d,n=0;a>n;++n)t=o[n],t.critical&&l.push(t),t.persist||d.push(t),t.evil?(e||(e=[])).push(t):t.depends||(s.push(t),t.rank=s.length);for(n=0;a>n;++n)(t=o[n]).rank||t.evil||i.topoAdd(t);if(e)for(n=0,a=e.length;a>n;++n)s.push(t=e[n]),t.rank=s.length;return i.topoStack=null,s},topoAdd:function(e){var t,n,i=this,r=e.depends,o=r?r.length:0,a=i.rankedFields,s=i.topoStack||(i.topoStack=[]);for(s.push(e.name),0===e.rank&&Ext.Error.raise(i.$className+" has circular field dependencies: "+s.join(" --> ")),s.length&&e.evil&&Ext.Error.raise(i.$className+": Field "+s[s.length-1]+" cannot depend on depends-less field "+e.name),e.rank=0,t=0;o>t;++t)n=i.fieldsMap[r[t]],n||Ext.Error.raise(i.$className+": Field "+e.name+" depends on undefined field "+r[t]),(n.dependents||(n.dependents=[])).push(e),n.rank||i.topoAdd(n);a.push(e),e.rank=a.length,s.pop()},initFields:function(e,t,n){var i,r,o,a,s,l,d,u=Ext.data.field.Field,c=e.fields,h=[],f={},g={},p=[],m=n.fields,x=e.versionProperty||n.versionProperty,E=e.idProperty||n.idProperty;if(t.fields=n.fields=h,t.fieldOrdinals=n.fieldOrdinals=f,t.fieldsMap=n.fieldsMap=g,t.references=n.references=p,m)for(o=0,a=m.length;a>o;++o)h[o]=r=Ext.Object.chain(m[o]),r.dependents=null,r.owner=t,f[s=r.name]=o,g[s]=r;if(c){var v;for(m&&(v=Ext.Array.toMap(m,"name")),delete e.fields,o=0,a=c.length;a>o;++o)r=c[o],d=r.reference,d&&"string"!=typeof d&&(d=Ext.merge({},d)),r.$reference=d,r=u.create(c[o]),s=r.name,m&&s in v&&Ext.log.warn('Redefining field "'+s+'" in '+t.$className),l=f[s],void 0===l&&(f[s]=l=h.length),g[s]=r,h[l]=r,r.definedBy=r.owner=t,r.ordinal=l,s===x&&(r.critical=!0)}(i=g[E])||(i=new u(E),l=h.length,h[l]=i,f[E]=l,g[E]=i,i.definedBy=t,i.ordinal=l),i.allowNull=i.critical=i.identifier=!0,i.defaultValue=null,t.idField=n.idField=i},initAssociations:function(e,t,n){var i,r,o,a=t.associations,s=t.belongsTo,l=t.hasMany,d=t.hasOne,u=t.manyToMany;if(t.belongsTo&&(Ext.log.warn('Use of "belongsTo" is obsolete'+(n.$className?" in "+n.$className:"")),delete t.belongsTo),delete t.manyToMany,u&&e.addMatrices(n,u),delete t.associations,delete t.belongsTo,delete t.hasMany,delete t.hasOne,a)for(a=Ext.isArray(a)?a:[a],i=0,r=a.length;r>i;++i)switch(o=a[i],o.type){case"belongsTo":e.addLegacyBelongsTo(n,o);break;case"hasMany":e.addLegacyHasMany(n,o);break;case"hasOne":e.addLegacyHasOne(n,o);break;default:Ext.Error.raise('Invalid association type: "'+o.type+'"')}if(s)for(s=Ext.isArray(s)?s:[s],i=0,r=s.length;r>i;++i)e.addLegacyBelongsTo(n,s[i]);if(l)for(l=Ext.isArray(l)?l:[l],i=0,r=l.length;r>i;++i)e.addLegacyHasMany(n,l[i]);if(d)for(d=Ext.isArray(d)?d:[d],i=0,r=d.length;r>i;++i)e.addLegacyHasOne(n,d[i]);e.afterLegacyAssociations(n)},initIdentifier:function(e,t,n){var i,r=e.identifier||e.idgen,o=n.identifier||t.schema._defaultIdentifier;e.idgen&&Ext.log.warn("Ext.data.Model: idgen has been deprecated. Please use identifier instead."),r?(delete e.identifier,delete e.idgen,r=Ext.Factory.dataIdentifier(r)):o&&(r=o.clone&&!o.getId()?o.clone():o.isGenerator?o:Ext.Factory.dataIdentifier(o)),t.identifier=n.identifier=r,r||(i=t.entityName,i||(i=Ext.id(null,"extModel")),t.identifier=Ext.Factory.dataIdentifier({type:"sequential",prefix:i+"-"}))},findValidator:function(e,t,n){var i,r,o,a=n.type||n,s=e[t];if(s)for(r=0,i=s.length;i>r;++r)if(o=s[r],o.type===a)return o;return null},initValidators:function(e,t,n){var i,r,o,a,s,l,d,u,c,h,f,g,p=Ext.data.validator.Validator,m=n.validators;if(m){i={};for(r in m)if(m.hasOwnProperty(r)){for(c=m[r],o=[],s=0,l=c.length;l>s;++s)o[s]=c[s].clone();i[r]=o}}if(a=e.validators||e.validations,e.validations&&(delete e.validations,Ext.log.warn((t.$className||"Ext.data.Model")+": validations has been deprecated. Please use validators instead.")),a){if(delete e.validators,i=i||{},Ext.isArray(a)){for(o={},s=0,l=a.length;l>s;++s)f=a[s],h=f.field,o[h]||(o[h]=[]),f=f.fn||f,o[h].push(f);a=o}for(h in a)if(a.hasOwnProperty(h))for(f=a[h],Ext.isArray(f)||(f=[f]),s=0,l=f.length;l>s;++s)u=f[s],g=typeof u,"function"===g?u=new p(u):(m&&(d=this.findValidator(i,h,u)),"string"===g?u=d?null:p.create({type:u}):d?(d.setConfig(u),u=null):u=p.create(u)),u&&(c=i[h],c||(c=i[h]=[]),c.push(u))}t.validators=n.validators=i},makeInitializeFn:function(e){var t,n,i,r,o,a,s,l,d,u,c,h=["var "],f=["\nreturn function (e) {\n    var data = e.data, v;\n"],g=[],p=0;for((s=e.rankedFields)||(s=e.rankFields()),u=0,c=s.length;c>u;++u)a=s[u],g[u]=l="f"+u,i=a.convert,u&&h.push(",  \n    "),h.push(l," = $fields["+u+"]"),h.push("  /*  ",a.name,"  */"),((d=void 0!==a.defaultValue)||i)&&(r='data["'+a.name+'"]',++p,t=n="",a.cloneDefaultValue&&(t="Ext.clone(",n=")"),f.push("\n"),i&&d?f.push("    v = ",r,";\n    if (v !== undefined) {\n        v = ",l,".convert(v, e);\n    }\n    if (v === undefined) {\n        v = ",t,l,".defaultValue",n,";\n    }\n    ",r," = v;"):i?f.push("    v = ",l,".convert(",r,",e);\n    if (v !== undefined) {\n        ",r," = v;\n    }\n"):d&&f.push("    if (",r," === undefined) {\n        ",r," = ",t,l,".defaultValue",n,";\n    }\n"));return p?(h.push(";\n"),h.push.apply(h,f),h.push("}"),h=h.join(""),(o=new Function("$fields",h))(s)):Ext.emptyFn}}}},function(){var e,t=this,n=t.prototype,i=Ext.data.schema.Schema;t.proxyConfig=n.proxy,delete n.proxy,t.schema=n.schema=i.get(n.schema),n.idField=new Ext.data.field.Field(n.idProperty),t.identifier=new Ext.data.identifier.Sequential,t.onExtended(function(n,r){var o,a,s,l=n.prototype,d=r.schema,u=l.superclass.self;n.idProperty=l.idProperty,d?(delete r.schema,o=i.get(d)):(o=l.schema)||(o=e||(e=i.get("default"))),n.rankFields=t.rankFields,n.topoAdd=t.topoAdd,l.schema=n.schema=o,(a=r.entityName)||(l.entityName=a=o.getEntityName(n),a||(r.associations&&Ext.Error.raise('Anonymous entities cannot specify "associations"'),r.belongsTo&&Ext.Error.raise('Anonymous entities cannot specify "belongsTo"'),r.hasMany&&Ext.Error.raise('Anonymous entities cannot specify "hasMany"'),r.hasOne&&Ext.Error.raise('Anonymous entities cannot specify "hasOne"'),r.matrices&&Ext.Error.raise('Anonymous entities cannot specify "manyToMany"'))),n.entityName=a,n.fieldExtractors={},t.initIdentifier(r,n,l),t.initFields(r,n,l),n.fields.items=n.fields,a&&(o.addEntity(n),t.initAssociations(o,r,n)),t.initValidators(r,n,l),s=r.proxy,s?delete r.proxy:s=u.proxyConfig||u.proxy,n.proxyConfig=s})}),Ext.define("Ext.data.proxy.Server",{extend:"Ext.data.proxy.Proxy",alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",uses:["Ext.data.Request"],isRemote:!0,config:{url:"",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3e4,api:{create:void 0,read:void 0,update:void 0,destroy:void 0},extraParams:{}},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},erase:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(e,t){this.getExtraParams()[e]=t},buildRequest:function(e){var t,n,i,r=this,o=Ext.apply({},e.getParams()),a=Ext.applyIf(o,r.getExtraParams()||{});return Ext.applyIf(a,r.getParams(e)),n=e.getId(),i=r.getIdParam(),void 0!==n&&void 0===a[i]&&(a[i]=n),t=new Ext.data.Request({params:a,action:e.getAction(),records:e.getRecords(),operation:e,proxy:r}),t.setUrl(r.buildUrl(t)),e.setRequest(t),t},processResponse:function(e,t,n,i){var r,o,a,s=this;e===!0?(o=s.getReader(),a=o.read(s.extractResponseData(i),{recordCreator:t.getRecordCreator()}),t.process(a,n,i),r=!t.wasSuccessful()):(s.setException(t,i),r=!0),r&&s.fireEvent("exception",s,i,t),s.afterRequest(n,e)},setException:function(e,t){e.setException({status:t.status,statusText:t.statusText,response:t})},extractResponseData:Ext.identityFn,applyEncoding:function(e){return Ext.encode(e)},encodeSorters:function(e,t){var n,i=[],r=e.length;for(n=0;r>n;n++)i[n]=e[n].serialize();return this.applyEncoding(t?i[0]:i)},encodeFilters:function(e){var t,n=[],i=e.length;for(t=0;i>t;t++)n[t]=e[t].serialize();return this.applyEncoding(n)},getParams:function(e){if(!e.isReadOperation)return{};var t,n,i=this,r={},o=e.getGrouper(),a=e.getSorters(),s=e.getFilters(),l=e.getPage(),d=e.getStart(),u=e.getLimit(),c=i.getSimpleSortMode(),h=i.getSimpleGroupMode(),f=i.getPageParam(),g=i.getStartParam(),p=i.getLimitParam(),m=i.getGroupParam(),x=i.getGroupDirectionParam(),E=i.getSortParam(),v=i.getFilterParam(),y=i.getDirectionParam();return f&&l&&(r[f]=l),g&&(d||0===d)&&(r[g]=d),p&&u&&(r[p]=u),t=m&&o,t&&(h?(r[m]=o.getProperty(),r[x]=o.getDirection()):r[m]=i.encodeSorters([o],!0)),E&&a&&a.length>0&&(c?(n=0,a.length>1&&t&&(n=1),r[E]=a[n].getProperty(),r[y]=a[n].getDirection()):r[E]=i.encodeSorters(a)),v&&s&&s.length>0&&(r[v]=i.encodeFilters(s)),r},buildUrl:function(e){var t=this,n=t.getUrl(e);return n||Ext.Error.raise("You are using a ServerProxy but have not supplied it with a url."),t.getNoCache()&&(n=Ext.urlAppend(n,Ext.String.format("{0}={1}",t.getCacheString(),Ext.Date.now()))),n},getUrl:function(e){var t;return e&&(t=e.getUrl()||this.getApi()[e.getAction()]),t?t:this.callParent()},doRequest:function(e){Ext.Error.raise("The doRequest function has not been implemented on your Ext.data.proxy.Server subclass. See src/data/ServerProxy.js for details")},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.getReader(),this.getWriter())}}),Ext.define("Ext.data.proxy.Ajax",{requires:["Ext.Ajax"],extend:"Ext.data.proxy.Server",alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],defaultActionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},config:{binary:!1,headers:void 0,paramsAsJson:!1,withCredentials:!1,useDefaultXhrHeader:!0,username:null,password:null,actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"}},doRequest:function(e){var t,n,i=this,r=i.getWriter(),o=i.buildRequest(e),a=i.getMethod(o);return r&&e.allowWrite()&&(o=r.write(o)),o.setConfig({binary:i.getBinary(),headers:i.getHeaders(),timeout:i.getTimeout(),scope:i,callback:i.createRequestCallback(o,e),method:a,useDefaultXhrHeader:i.getUseDefaultXhrHeader(),disableCaching:!1}),"GET"!==a.toUpperCase()&&i.getParamsAsJson()&&(n=o.getParams(),n&&(t=o.getJsonData(),t=t?Ext.Object.merge({},t,n):n,o.setJsonData(t),o.setParams(void 0))),i.getWithCredentials()&&(o.setWithCredentials(!0),o.setUsername(i.getUsername()),o.setPassword(i.getPassword())),i.sendRequest(o)},sendRequest:function(e){return e.setRawRequest(Ext.Ajax.request(e.getCurrentConfig())),this.lastRequest=e,e},abort:function(e){e=e||this.lastRequest,e&&Ext.Ajax.abort(e.getRawRequest())},getMethod:function(e){var t,n=this.getActionMethods(),i=e.getAction();return n&&(t=n[i]),t||this.defaultActionMethods[i]},createRequestCallback:function(e,t){var n=this;return function(i,r,o){e===n.lastRequest&&(n.lastRequest=null),n.processResponse(r,t,e,o)}}}),Ext.define("Ext.data.reader.Json",{extend:"Ext.data.reader.Reader",requires:["Ext.JSON"],alternateClassName:"Ext.data.JsonReader",alias:"reader.json",config:{record:null,metaProperty:"metaData",useSimpleAccessors:!1,preserveRawData:!1},updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},readRecords:function(e,t){var n,i=this;return i.getMeta?(n=i.getMeta(e),n&&i.onMetaChange(n)):e.metaData&&i.onMetaChange(e.metaData),i.callParent(arguments)},getResponseData:function(e){try{return Ext.decode(e.responseText)}catch(t){return Ext.Logger.warn("Unable to parse the JSON returned by the server"),this.createReadError(t.message)}},buildExtractors:function(){var e=this,t=e.getMetaProperty(),n=e.getRootProperty();e.callParent(arguments)&&(n?e.getRoot=e.createAccessor(n):e.getRoot=Ext.identityFn,t&&(e.getMeta=e.createAccessor(t)))},extractData:function(e,t){var n,i,r=this.getRecord(),o=[];if(r)for(n=e.length,!n&&Ext.isObject(e)&&(n=1,e=[e]),i=0;n>i;i++)o[i]=e[i][r];else o=e;return this.callParent([o,t])},getModelData:function(e){return this.getPreserveRawData()?Ext.apply({},e):e},createAccessor:function(){var e=/[\[\.]/,t=/^\[(?:\'|\")?([^\'\"]*)(?:\'|\")?\]$/;return function(n){var i,r,o,a,s,l,d=this,u=d.getUseSimpleAccessors(),c=0;if(n||0===n){if("function"==typeof n)return n;if(u||(c=String(n).search(e)),u===!0||0>=c)0===c&&(n=n.replace(t,"$1")),i=function(e){return e[n]};else{for(r=n.split("."),o=r.length,s="raw."+r[0],l=[s],a=1;o>a;a++)s+="."+r[a],l.push(s);i=l.join(" && "),i=Ext.functionFactory("raw","return "+i)}return i}}}(),createFieldAccessor:function(e){var t=this,n=e.mapping,i=n||0===n,r=i?n:e.name;return i?"function"==typeof r?function(n){return e.mapping(n,t)}:t.createAccessor(r):void 0}}),Ext.define("Ext.data.writer.Json",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",config:{rootProperty:void 0,encode:!1,allowSingle:!0,expandData:!1},constructor:function(e){e&&e.hasOwnProperty("root")&&(e=Ext.apply({},e),e.rootProperty=e.root,delete e.root,Ext.log.warn('Ext.data.writer.Json: Using the deprecated "root" configuration. Use "rootProperty" instead.')),this.callParent([e])},getExpandedData:function(e){for(var t,n,i,r,o,a=e.length,s=0,l=function(e,t){var n={};return n[e]=t,n};a>s;s++){t=e[s];for(n in t)if(t.hasOwnProperty(n)&&(i=n.split("."),r=i.length-1,r>0)){for(o=t[n];r>0;r--)o=l(i[r],o);t[i[0]]=t[i[0]]||{},Ext.Object.merge(t[i[0]],o),delete t[n]}}return e},writeRecords:function(e,t){var n,i,r,o=this,a=o.getRootProperty();return o.getExpandData()&&(t=o.getExpandedData(t)),o.getAllowSingle()&&1===t.length&&(t=t[0],i=!0),r=this.getTransform(),r&&(t=r(t,e),e.setJsonData(t)),o.getEncode()?a?e.setParam(a,Ext.encode(t)):Ext.Error.raise("Must specify a root when using encode"):(i||t&&t.length)&&(n=e.getJsonData()||{},a?n[a]=t:n=t,e.setJsonData(n)),e}}),Ext.define("Ext.util.Group",{extend:"Ext.util.Collection",config:{groupKey:null}}),Ext.define("Ext.util.SorterCollection",{extend:"Ext.util.Collection",requires:["Ext.util.Sorter"],isSorterCollection:!0,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(e){var t=this;t.sortFn=Ext.util.Sorter.createComparator(t),t.callParent([e]),t.setDecoder(t.decodeSorter)},addSort:function(e,t,n){var i,r,o,a,s,l,d,u=this;e?(a=u.getOptions(),e instanceof Array?(d=e,n=t,t=null):Ext.isString(e)?d=(l=u.get(e))?[l]:[{property:e,direction:t||a.getDefaultSortDirection()}]:Ext.isFunction(e)?d=[{sorterFn:e,direction:t||a.getDefaultSortDirection()}]:(Ext.isObject(e)||Ext.Error.raise("Invalid sort descriptor: "+e),d=[e],n=t,t=null),n&&!u._sortModes[n]&&Ext.Error.raise('Sort mode should be "multi", "append", "prepend" or "replace", not "'+n+'"'),n=u._sortModes[n||"replace"],s=u.getAt(0),i=u.length,r=n.append?i:0,u.beginUpdate(),u.splice(r,n.replace?i:0,d),n.multi&&(i=u.length,o=a.getMultiSortLimit(),i>o&&u.removeAt(o,i)),l&&t?l.setDirection(t):0===r&&s&&s===u.getAt(0)&&s.toggle(),u.endUpdate()):(u.beginUpdate(),u.endUpdate())},getSortFn:function(){return this.sortFn},getByProperty:function(e){var t,n,i=this.items,r=i.length;for(t=0;r>t;++t)if(n=i[t],n.getProperty()===e)return n;return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(e,t){var n,i,r,o=this,a=o.getOptions(),s=a.getRootProperty(),l=o.getSorterOptionsFn();if(e.isSorter)e.getRoot()||e.setRoot(s);else{if(i={direction:a.getDefaultSortDirection(),root:s},r=typeof e,"string"===r){if(n=o.get(e))return n;i.property=e}else"function"===r?i.sorterFn=e:(Ext.isObject(e)||Ext.Error.raise("Invalid sorter specified: "+e),i=Ext.apply(i,e),i.fn&&(i.sorterFn=i.fn,delete i.fn));
e=Ext.create(t||"Ext.util.Sorter",i)}return l&&l.call(o.getSorterOptionsScope()||o,e),e},setSorterConfigure:function(e,t){this.setSorterOptionsFn(e),this.setSorterOptionsScope(t)},decodeRemoveItems:function(e,t){var n=this,i=void 0===t?e:e[t];if(!i||!i.$cloned){(e.length>t+1||!Ext.isIterable(i))&&(i=Ext.Array.slice(e,t));var r,o,a,s,l,d=n.items,u=i.length,c=[];for(r=0;u>r;r++)if(s=i[r],s&&s.isFilter)c.push(s);else if(l=typeof s,"string"===l)s=n.get(s),s&&c.push(s);else if("function"===l)for(a=d.length;a-->0;)o=d[a],o.getSorterFn()===s&&c.push(o);else Ext.Error.raise("Invalid sorter specification: "+s);i=c,i.$cloned=!0}return i},getOptions:function(){return this.$sortable||this}}),Ext.define("Ext.util.FilterCollection",{extend:"Ext.util.Collection",requires:["Ext.util.Filter"],isFilterCollection:!0,$filterable:null,filterFn:null,constructor:function(e){var t=this;t.filterFn=Ext.util.Filter.createFilterFn(t),t.callParent([e]),t.setDecoder(t.decodeFilter)},filterData:function(e){return this.filtered?Ext.Array.filter(e,this.filterFn):e},getFilterFn:function(){return this.filterFn},isItemFiltered:function(e){return!this.filterFn(e)},decodeFilter:function(e){var t,n=this.getOptions(),i=n.getRootProperty();if(e.isFilter)e.getRoot()||e.setRoot(i);else{if(t={root:i},Ext.isFunction(e))t.filterFn=e;else if(Ext.isObject(e)||Ext.Error.raise("Invalid filter specified: "+e),t=Ext.apply(t,e),t.fn&&(t.filterFn=t.fn,delete t.fn),Ext.util.Filter.isInvalid(t))return!1;e=new Ext.util.Filter(t)}return e},decodeRemoveItems:function(e,t){var n=this,i=void 0===t?e:e[t];if(!i.$cloned){(e.length>t+1||!Ext.isIterable(i))&&(i=Ext.Array.slice(e,t));var r,o,a,s,l,d,u,c,h,f=n.items,g=i.length,p=[];for(o=0;g>o;o++)if(r=i[o],r&&r.isFilter)p.push(r);else for(h=typeof r,a="function"===h,s=void 0!==r.property&&void 0!==r.value,l="string"===h,a||s||l||Ext.Error.raise("Invalid filter specification: "+r),c=f.length;c-->0;)d=f[c],u=!1,l?u=d.getProperty()===r:a?u=d.getFilterFn()===r:s&&(u=d.getProperty()===r.property&&d.getValue()===r.value),u&&p.push(d);i=p,i.$cloned=!0}return i},getOptions:function(){return this.$filterable||this}}),Ext.define("Ext.util.GroupCollection",{extend:"Ext.util.Collection",requires:["Ext.util.Group","Ext.util.SorterCollection","Ext.util.FilterCollection"],isGroupCollection:!0,config:{itemRoot:null},observerPriority:-100,onCollectionAdd:function(e,t){this.addItemsToGroups(e,t.items)},onCollectionBeforeItemChange:function(e,t){var n=this,i=t.item,r=e.getKey(i);n.onCollectionAdd=n.onCollectionRemove=n.onCollectionUpdateKey=null,n.syncItemGrouping(e,i,r,t.oldKey)},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(e,t){delete this.onCollectionAdd,delete this.onCollectionRemove,delete this.onCollectionUpdateKey},onCollectionRefresh:function(e){this.removeAll(),this.addItemsToGroups(e,e.items)},onCollectionRemove:function(e,t){var n,i,r,o,a,s=this,l=s.groupItems(e,t.items,!1);for(r=0,o=l.length;o>r;++r)i=(n=l[r]).group,i&&(i.remove(n.items),i.length||(a||(a=[])).push(i));a&&s.remove(a)},onCollectionSort:function(e){var t,n,i=this,r=e.getSorters(),o=i.items,a=i.length;for(t=0;a>t;++t)n=o[t],n.getSorters()!==r&&n.setSorters(r)},onCollectionUpdateKey:function(e,t){this.syncItemGrouping(e,t.item,t.newKey,t.oldKey)},addItemsToGroups:function(e,t){var n,i,r,o=this,a=o.groupItems(e,t,!0);for(i=0,r=a.length;r>i;++i)n=a[i],n.group.add(n.items)},groupItems:function(e,t,n){var i,r,o,a,s,l,d,u,c=this,h={},f=[],g=e.getGrouper(),p=c.itemGroupKeys;for(a=0,d=t.length;d>a;++a)o=g.getGroupString(s=t[a]),l=e.getKey(s),n?(p||(c.itemGroupKeys=p={}))[l]=o:p&&delete p[l],(i=h[o])||(!(r=c.getByKey(o))&&n&&(u||(u=[])).push(r=c.createGroup(e,o)),f.push(h[o]=i={group:r,items:[]})),i.items.push(s);return u&&c.add(u),f},syncItemGrouping:function(e,t,n,i){var r,o,a,s,l=this,d=l.itemGroupKeys||(l.itemGroupKeys={}),u=e.getGrouper(),c=u.getGroupString(t),h=0;i?(s=d[i],delete d[i]):s=d[n],d[n]=c,(o=l.get(c))||(o=l.createGroup(e,c),r=[o]),o.get(n)!==t?o.add(t):o.itemChanged(t),c===s||0!==s&&!s||(a=l.get(s),a&&(a.remove(t),a.length||(h=[a]))),r?l.splice(0,h,r):h&&l.splice(0,h)},createGroup:function(e,t){var n=new Ext.util.Group({groupKey:t,rootProperty:this.getItemRoot(),sorters:e.getSorters()});return n},getKey:function(e){return e.getGroupKey()},getGroupByRecord:function(e){var t,n,i=this.items,r=i.length;for(n=0;r>n;n++)if(t=i[n],t.indexOf(e))return t;return null}}),Ext.define("Ext.data.Store",{extend:"Ext.data.ProxyStore",alias:"store.store",mixins:["Ext.data.LocalStore"],requires:["Ext.data.Model","Ext.data.proxy.Ajax","Ext.data.reader.Json","Ext.data.writer.Json","Ext.util.GroupCollection","Ext.util.DelayedTask"],uses:["Ext.data.StoreManager","Ext.util.Grouper"],config:{data:0,clearRemovedOnLoad:!0,clearOnPageLoad:!0,associatedEntity:null,role:null},addRecordsOptions:{addRecords:!0},loadCount:0,complete:!1,constructor:function(e){var t,n=this;if(e){if(e.buffered)return this.self!==Ext.data.Store&&Ext.Error.raise("buffered config not supported on derived Store classes. Please derive from Ext.data.BufferedStore."),new Ext.data.BufferedStore(e);e.remoteGroup&&Ext.log.warn("Ext.data.Store: remoteGroup has been removed. Use remoteSort instead.")}n.callParent(arguments),t=n.inlineData,t&&(delete n.inlineData,n.loadInlineData(t)),n.getData().addObserver(this)},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},applyData:function(e,t){var n=this;return n.getFields(),n.getModel(),t||(t=n.constructDataCollection()),e&&(n.isInitializing?n.inlineData=e:n.loadData(e)),t},loadInlineData:function(e){var t,n=this,i=n.getProxy();i&&i.isMemoryProxy?(i.setData(e),t=n.unblockLoad(!0),n.suspendEvents(),n.read(),n.resumeEvents(),n.blockLoad(t)):(n.removeAll(!0),n.suspendEvents(),n.fireEvent("clear",n),n.loadData(e),n.resumeEvents())},updateRemoteFilter:function(e){var t=this.getData(),n=this.getFilters();e?t.setFilters(null):t.setFilters(n),this.callParent(arguments)},updateRemoteSort:function(e){var t=this.getData(),n=this.getSorters();e?t.setSorters(null):t.setSorters(n),this.callParent(arguments)},insert:function(e,t){var n,i,r=this;if(t&&(t=Ext.isIterable(t)?Ext.Array.clone(t):[t],n=t.length),!n)return[];for(i=0;n>i;++i)t[i]=r.createModel(t[i]);return r.getData().insert(e,t),t},onCollectionAdd:function(e,t){var n,i,r,o=this,a=t.items,s=a.length,l=!t.next,d=o.getRemovedRecords();if(!o.ignoreCollectionAdd){for(n=0;s>n;++n)r=a[n],r.join(o),d&&d.length&&Ext.Array.remove(d,r),i=i||r.phantom||r.dirty;o.fireEvent("add",o,a,t.at),l&&o.fireEvent("datachanged",o),o.needsSync=o.needsSync||i}},onCollectionItemChange:function(e,t){var n=this,i=t.item,r=t.modified;n.contains(i)&&(n.onUpdate(i,"edit",r),n.fireEvent("update",n,i,"edit",r))},afterEdit:function(e,t){this.needsSync=this.needsSync||e.dirty,this.getData().itemChanged(e,t)},afterDrop:function(e){this.getData().remove(e)},onCollectionFilterAdd:function(e,t){var n,i=t.length;for(n=0;i>n;++n)t[n].join(this)},add:function(e){return this.insert(this.getCount(),1===arguments.length?e:arguments)},addSorted:function(e){var t,n=this,i=n.getRemoteSort(),r=n.getData();return i&&r.setSorters(n.getSorters()),t=r.findInsertionIndex(e),i&&r.setSorters(null),n.insert(t,e)},createModel:function(e){if(!e.isModel){var t=this.getModel();e=new t(e,this.getSession())}return e},remove:function(e,t,n){var i,r,o,a,s=this,l=s.getData();if(e)if(e.isModel)s.indexOf(e)>-1?(o=[e],i=1):i=0;else{for(o=[],r=0,i=e.length;i>r;++r){if(a=e[r],a&&a.isEntity){if(!l.contains(a))continue}else if(!(a=l.getAt(a)))continue;o.push(a)}i=o.length}return i?(s.removeIsMove=t===!0,s.removeIsSilent=n,l.remove(o),s.removeIsSilent=!1,o):[]},onCollectionRemove:function(e,t){var n,i,r,o,a=this,s=a.removed,l=t.items,d=t.at,u=l.length,c=a.removeIsMove,h=a.removeIsSilent,f=!t.next;if(!a.ignoreCollectionRemove){for(n=0;u>n;++n)i=l[n],i.unjoin(a),o=!i.phantom,s&&!c&&o&&(i.removedFrom=d+n,s.push(i)),r=r||o;h||(a.fireEvent("remove",a,l,d,c),f&&a.fireEvent("datachanged",a)),a.needsSync=a.needsSync||r&&!c}},onFilterEndUpdate:function(){this.callParent(arguments),this.callObservers("Filter")},removeAt:function(e,t){var n=this.getData();if(e=Math.max(e,0),e<n.length){if(1===arguments.length)t=1;else if(!t)return;n.removeAt(e,t)}},removeAll:function(e){var t,n=this,i=n.getData(),r=n.hasListeners.clear;i.length&&(n.removeIsSilent=!0,n.callObservers("BeforeRemoveAll"),r&&(t=i.getRange()),i.removeAll(),e||(n.fireEvent("clear",n,t),n.fireEvent("datachanged",n)),n.callObservers("AfterRemoveAll",[!!e]))},setRecords:function(e){var t=this.getCount();++this.loadCount,t?this.getData().splice(0,t,e):this.add(e)},splice:function(e,t,n){return this.getData().splice(e,t,n)},load:function(e){var t=this,n=t.getPageSize();return e="function"==typeof e?{callback:e}:Ext.apply({},e),t.getRemoteSort()&&!e.grouper&&t.getGrouper()&&(e.grouper=t.getGrouper()),(n||"start"in e||"limit"in e||"page"in e)&&(e.page=e.page||t.currentPage,e.start=void 0!==e.start?e.start:(e.page-1)*n,e.limit=e.limit||n),e.addRecords=e.addRecords||!1,t.callParent([e])},onProxyLoad:function(e){var t,n,i=this,r=e.getResultSet(),o=e.getRecords(),a=e.wasSuccessful();i.isDestroyed||(r&&(i.totalCount=r.getTotal()),i.loading=!1,a&&(t=i.getSession(),n=i.getAssociatedEntity(),t&&n&&!n.phantom&&(o=i.getRole().validateAssociationRecords(t,n,o)),i.loadRecords(o,e.getAddRecords()?{addRecords:!0}:void 0)),i.hasListeners.load&&i.fireEvent("load",i,o,a,e))},getNewRecords:function(){return this.getData().createFiltered(this.filterNew).getRange()},getUpdatedRecords:function(){return this.getData().createFiltered(this.filterUpdated).getRange()},loadData:function(e,t){var n,i=e.length,r=[];for(n=0;i>n;n++)r.push(this.createModel(e[n]));this.loadRecords(r,t?this.addRecordsOptions:void 0)},loadRawData:function(e,t){var n=this,i=n.getSession(),r=n.getProxy().getReader().read(e,i?{recordCreator:i.recordCreator}:void 0),o=r.getRecords(),a=r.getSuccess();return a&&(n.totalCount=r.getTotal(),n.loadRecords(o,t?n.addRecordsOptions:void 0)),a},loadRecords:function(e,t){var n,i,r,o,a=this,s=e.length,l=a.getData();for(t&&(n=t.addRecords),r=a.getRemoteSort()||!a.getSortOnLoad(),r&&(i=l.getAutoSort(),l.setAutoSort(!1)),n||a.clearData(!0),a.ignoreCollectionAdd=!0,a.callObservers("BeforeLoad"),l.add(e),a.ignoreCollectionAdd=!1,o=0;s>o;o++)e[o].join(a);r&&l.setAutoSort(i),++a.loadCount,a.complete=!0,a.fireEvent("datachanged",a),a.fireEvent("refresh",a),a.callObservers("AfterLoad")},loadPage:function(e,t){var n=this,i=n.getPageSize();n.currentPage=e,t=Ext.apply({page:e,start:(e-1)*i,limit:i,addRecords:!n.getClearOnPageLoad()},t),n.read(t)},nextPage:function(e){this.loadPage(this.currentPage+1,e)},previousPage:function(e){this.loadPage(this.currentPage-1,e)},clearData:function(e){var t,n,i,r=this,o=r.getData(),a=r.removed;if(o){for(t=o.items,n=0,i=t.length;i>n;++n)t[n].unjoin(r);r.ignoreCollectionRemove=!0,r.callObservers("BeforeClear"),o.removeAll(),r.ignoreCollectionRemove=!1,r.callObservers("AfterClear")}a&&(e!==!0||r.getClearRemovedOnLoad())&&(a.length=0)},onIdChanged:function(e,t,n){this.getData().updateKey(e,t)},commitChanges:function(){for(var e=this,t=e.getModifiedRecords(),n=t.length,i=e.removed,r=0;n>r;r++)t[r].commit();i&&(i.length=0)},filterNewOnly:function(e){return e.phantom===!0},getRejectRecords:function(){var e=this.getData().createFiltered(this.filterNew).getRange();return Ext.Array.push(e,this.getUpdatedRecords())},rejectChanges:function(){for(var e,t=this,n=t.getRejectRecords(),i=n.length,r=0;i>r;r++)e=n[r],e.reject(),e.phantom&&t.remove(e);if(n=t.removed){for(i=n.length,r=i-1;r>=0;r--)e=n[r],t.insert(e.removedFrom||0,e),e.reject();n.length=0}},onDestroy:function(){var e=this,t=e.loadTask;e.callParent(),e.observers=null,t&&(t.cancel(),e.loadTask=null),e.getData().destroy(),e.setData(null)}}),Ext.define("Ext.data.reader.Array",{extend:"Ext.data.reader.Json",alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",config:{totalProperty:void 0,successProperty:void 0},createFieldAccessor:function(e){var t,n=e.mapping,i=e.hasMapping()?n:e.ordinal;return e.mapping=i,t=this.callParent(arguments),e.mapping=n,t},getModelData:function(e){return{}}}),Ext.define("Ext.data.ArrayStore",{extend:"Ext.data.Store",alias:"store.array",alternateClassName:["Ext.data.SimpleStore"],requires:["Ext.data.proxy.Memory","Ext.data.reader.Array"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(e,t){if(this.expandData){for(var n=[],i=0,r=e.length;r>i;i++)n[n.length]=[e[i]];e=n}this.callParent([e,t])}}),Ext.define("Ext.data.PageMap",{extend:"Ext.util.LruCache",config:{pageSize:0,rootProperty:""},clear:function(e){var t=this;t.pageMapGeneration=(t.pageMapGeneration||0)+1,t.callParent(arguments)},forEach:function(e,t){var n,i,r,o,a,s=this,l=Ext.Object.getKeys(s.map),d=l.length,u=s.getPageSize();for(n=0;d>n;n++)l[n]=Number(l[n]);for(Ext.Array.sort(l),t=t||s,n=0;d>n;n++)for(r=l[n],o=s.getPage(r),a=o.length,i=0;a>i;i++)if(e.call(t,o[i],(r-1)*u+i)===!1)return},findBy:function(e,t){var n=this,i=null;return t=t||n,n.forEach(function(n,r){return e.call(t,n,r)?(i=n,!1):void 0}),i},findIndexBy:function(e,t){var n=this,i=-1;return t=t||n,n.forEach(function(n,r){return e.call(t,n)?(i=r,!1):void 0}),i},find:function(e,t,n,i,r,o){if(Ext.isEmpty(t,!1))return null;var a=Ext.String.createRegex(t,i,r,o),s=this.getRootProperty();return this.findBy(function(t){return t&&a.test((s?t[s]:t)[e])},null,n)},findIndex:function(e,t,n,i,r,o){if(Ext.isEmpty(t,!1))return null;var a=Ext.String.createRegex(t,i,r,o),s=this.getRootProperty();return this.findIndexBy(function(t){return t&&a.test((s?t[s]:t)[e])},null,n)},getPageFromRecordIndex:function(e){return Math.floor(e/this.getPageSize())+1},addAll:function(e){this.getCount()&&Ext.Error.raise("Cannot addAll to a non-empty PageMap"),this.addPage(1,e)},addPage:function(e,t){var n,i,r=this,o=r.getPageSize(),a=e+Math.floor((t.length-1)/o);for(n=0;a>=e;e++,n+=o)i=Ext.Array.slice(t,n,n+o),r.add(e,i),r.fireEvent("pageadded",e,i)},getCount:function(){var e=this.callParent();return e&&(e=(e-1)*this.getPageSize()+this.last.value.length),e},indexOf:function(e){return e?e.index:-1},insert:function(){Ext.Error.raise("insert operation not suppported into buffered Store")},remove:function(){Ext.Error.raise("remove operation not suppported from buffered Store")},removeAt:function(){Ext.Error.raise("removeAt operation not suppported from buffered Store")},removeAtKey:function(e){var t=this.getPage(e);return t&&t.value&&(t.value.length=0),this.callParent(arguments)},getPage:function(e){return this.get(e)},hasRange:function(e,t){for(var n=this.getPageFromRecordIndex(e),i=this.getPageFromRecordIndex(t);i>=n;n++)if(!this.hasPage(n))return!1;return!0},hasPage:function(e){return!!this.get(e)},getAt:function(e){return this.getRange(e,e+1)[0]},getRange:function(e,t){t--,this.hasRange(e,t)||Ext.Error.raise("PageMap asked for range which it does not have");for(var n,i,r,o,a=this,s=a.getPageSize(),l=a.getPageFromRecordIndex(e),d=a.getPageFromRecordIndex(t),u=(l-1)*s,c=d*s-1,h=l,f=[],g=0;d>=h;h++)h===l?(n=e-u,r=!0):(n=0,r=!1),h===d&&(i=s-(c-t),r=!0),r?Ext.Array.push(f,Ext.Array.slice(a.getPage(h),n,i)):Ext.Array.push(f,a.getPage(h));for(o=f.length;o>g;g++)f[g].index=e++;return f}}),Ext.define("Ext.data.BufferedStore",{extend:"Ext.data.ProxyStore",alias:"store.buffered",requires:["Ext.data.PageMap","Ext.util.Filter","Ext.util.Sorter","Ext.util.Grouper"],uses:["Ext.util.SorterCollection","Ext.util.FilterCollection","Ext.util.GroupCollection"],isBufferedStore:!0,buffered:!0,config:{data:0,pageSize:25,remoteSort:!0,remoteFilter:!0,sortOnLoad:!1,purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,viewSize:0},applyData:function(e){var t=this.data||(this.data=this.createDataCollection());return e&&e!==!0&&Ext.Error.raise("Cannot load a buffered store with local data - the store is a map of remote data"),t},createFiltersCollection:function(){return new Ext.util.FilterCollection},createSortersCollection:function(){return new Ext.util.SorterCollection},updateRemoteFilter:function(e){e===!1&&Ext.Error.raise("Buffered stores are always remotely filtered."),this.callParent(arguments)},updateRemoteSort:function(e){e===!1&&Ext.Error.raise("Buffered stores are always remotely sorted."),this.callParent(arguments)},updateGroupField:function(e){this.isInitializing&&this.blockLoad(),this.group(e),this.isInitializing&&this.unblockLoad()},getGrouper:function(){return this.grouper},isGrouped:function(){return!!this.grouper},createDataCollection:function(){var e=this,t=new Ext.data.PageMap({store:e,rootProperty:"data",pageSize:e.getPageSize(),maxSize:e.getPurgePageCount(),listeners:{clear:e.onPageMapClear,scope:e}});return e.pageRequests={},t},updateGroupsOnUpdate:function(e,t){var n=this,i=n.getGroupField();t&&Ext.Array.contains(t,i)&&Ext.Error.raise("Cannot move records between groups in a buffered store record - the store is a map of remote data"),n.callParent(arguments)},add:function(e){Ext.Error.raise("add method may not be called on a buffered store - the store is a map of remote data"),this.callParent(arguments)},removeAll:function(e){var t=this,n=t.getData();n&&(e&&t.suspendEvent("clear"),n.clear(),e&&t.resumeEvent("clear"))},load:function(e){var t=this;return e=e||{},t.getData().clear(),e.page=1,e.start=0,e.limit=t.getViewSize()||t.getDefaultViewSize(),e.loadCallback=e.callback,delete e.callback,t.loadToPrefetch(e)},reload:function(e){var t,n,i,r,o,a,s,l,d=this,u=d.getData();if(e||(e={}),delete d.totalCount,u.clear(!0),a=function(){d.rangeCached(t,n)&&(d.loading=!1,u.un("pageadded",a),l=u.getRange(t,n+1),d.fireEvent("load",d,l,!0))},s=Math.ceil((d.getLeadingBufferZone()+d.getTrailingBufferZone())/2),d.lastRequestStart?(t=d.lastRequestStart,n=d.lastRequestEnd):(t=e.start||0,n=t+(e.count||d.getPageSize())-1),i=d.getPageFromRecordIndex(Math.max(t-s,0)),r=d.getPageFromRecordIndex(n+s),d.fireEvent("beforeload",d,e)!==!1)for(d.loading=!0,u.on("pageadded",a),o=i;r>=o;o++)d.prefetchPage(o,e)},filter:function(){this.remoteSort?(this.getData().clear(),this.callParent(arguments)):Ext.Error.raise("Local filtering may not be used on a buffered store - the store is a map of remote data"),this.callParent(arguments)},clearFilter:function(){this.getData().clear(),this.callParent(arguments)},filterBy:function(e,t){Ext.Error.raise("Local filtering may not be used on a buffered store - the store is a map of remote data")},loadData:function(e,t){Ext.Error.raise("LoadData may not be used on a buffered store - the store is a map of remote data")},loadPage:function(e,t){var n=this;return t=t||{},t.page=n.currentPage=e,t.start=(e-1)*n.getPageSize(),t.limit=n.getViewSize()||n.getDefaultViewSize(),t.loadCallback=t.callback,delete t.callback,n.loadToPrefetch(t)},clearData:function(e){var t=this,n=t.getData();n&&n.clear(),(e!==!0||t.clearRemovedOnLoad)&&(t.removed.length=0)},doSort:function(){this.remoteSort?this.callParent(arguments):Ext.Error.raise("Local sorting may not be used on a buffered store - the store is a map of remote data")},getRange:function(e,t,n){var i,r,o,a=this,s=a.totalCount-1,l=a.lastRequestStart,d=[],u=a.getData();return n=Ext.apply({prefetchStart:e,prefetchEnd:t},n),t=t>=a.totalCount?s:t,r=0===e?0:e-1,o=t===s?t:t+1,a.lastRequestStart=e,a.lastRequestEnd=t,a.rangeCached(r,o)?(a.onRangeAvailable(n),d=u.getRange(e,t+1)):(a.fireEvent("cachemiss",a,e,t),i=function(s,l){a.rangeCached(r,o)&&(a.fireEvent("cachefilled",a,e,t),u.un("pageadded",i),a.onRangeAvailable(n))},u.on("pageadded",i),a.prefetchRange(e,t)),a.primeCache(e,t,l>e?-1:1),d},getById:function(e){var t=this.data.findBy(function(t){return t.getId()===e});return t||Ext.Error.raise("getById called for ID that is not present in local cache"),t},getByInternalId:function(e){var t;return t=this.data.findBy(function(t){return t.internalId===e})},indexOf:function(e){return this.getData().indexOf(e)},indexOfId:function(e){return this.indexOf(this.getById(e))},group:function(e,t){var n,i=this;e&&"string"==typeof e?(n=i.grouper,n?void 0===t?n.toggle():n.setDirection(t):i.grouper=new Ext.util.Grouper({property:e,direction:t||"ASC",root:"data"})):i.grouper=e?i.getSorters().decodeSorter(e,"Ext.util.Grouper"):null,i.isLoadBlocked()||(i.getData().clear(),i.loadPage(1,{callback:function(){i.fireEvent("groupchange",i,i.getGrouper())}}))},getPageFromRecordIndex:function(e){return Math.floor(e/this.getPageSize())+1},loadToPrefetch:function(e){var t,n,i,r,o=this,a=e,s=o.getPurgePageCount(),l=e.start,d=e.start+e.limit-1,u=Math.min(d,e.start+(o.getViewSize()||e.limit)-1),c=o.getPageFromRecordIndex(Math.max(l-o.getTrailingBufferZone(),0)),h=o.getPageFromRecordIndex(d+o.getLeadingBufferZone()),f=o.getData(),g=function(){o.rangeCached(l,u)&&(o.loading=!1,n=f.getRange(l,u+1),f.un("pageadded",g),o.hasListeners.guaranteedrange&&o.guaranteeRange(l,u,e.callback,e.scope),e.loadCallback&&e.loadCallback.call(e.scope||o,n,r,!0),e.callback&&e.callback.call(e.scope||o,n,l,d,e),o.fireEvent("datachanged",o),o.fireEvent("refresh",o),o.fireEvent("load",o,n,!0))};(isNaN(o.pageSize)||!o.pageSize)&&Ext.Error.raise("Buffered store configured without a pageSize",o),s&&f.setMaxSize(s=Math.max(s,h-c+1)),o.fireEvent("beforeload",o,e)!==!1&&(delete o.totalCount,o.loading=!0,e.callback&&(a=Ext.apply({},e),delete a.callback),o.on("prefetch",function(e,n,s,l){if(s)if(r=l,i=o.getTotalCount())for(f.on("pageadded",g),u=Math.min(u,i-1),h=o.getPageFromRecordIndex(Math.min(u+o.getLeadingBufferZone(),i-1)),t=c+1;h>=t;++t)o.prefetchPage(t,a);else o.fireEvent("datachanged",o),o.fireEvent("refresh",o),o.fireEvent("load",o,n,!0);else o.fireEvent("load",o,n,!1)},null,{single:!0}),o.prefetchPage(c,a))},prefetch:function(e){var t,n,i=this,r=i.getPageSize(),o=i.getData();return r?(i.lastPageSize&&r!=i.lastPageSize&&Ext.Error.raise("pageSize cannot be dynamically altered"),o.pageSize||(o.pageSize=r)):i.pageSize=o.pageSize=r=e.limit,i.lastPageSize=r,e.page||(e.page=i.getPageFromRecordIndex(e.start),e.start=(e.page-1)*r,e.limit=Math.ceil(e.limit/r)*r),i.pageRequests[e.page]||(t=i.proxy,e=Ext.apply({action:"read",filters:i.getFilters().items,sorters:i.getSorters().items,grouper:i.getGrouper(),internalCallback:i.onProxyPrefetch,internalScope:i},e),n=t.createOperation("read",e),n.pageMapGeneration=o.pageMapGeneration,i.fireEvent("beforeprefetch",i,n)!==!1&&(i.pageRequests[e.page]=n.execute(),t.isSynchronous&&delete i.pageRequests[e.page])),i},onPageMapClear:function(){var e,t,n=this,i=n.wasLoading,r=n.pageRequests,o=n.getData();o.clearListeners(),o.on("clear",n.onPageMapClear,n),n.loading=!0,n.totalCount=0;for(t in r)r.hasOwnProperty(t)&&(e=r[t],delete r[t],delete e.callback);n.fireEvent("clear",n),n.loading=i},prefetchPage:function(e,t){var n=this,i=n.getPageSize(),r=(e-1)*i,o=n.totalCount;(void 0===o||n.getCount()!==o)&&n.prefetch(Ext.applyIf({page:e,start:r,limit:i},t))},onProxyPrefetch:function(e){var t=this,n=e.getResultSet(),i=e.getRecords(),r=e.wasSuccessful(),o=e.getPage(),a=t.totalCount;e.pageMapGeneration===t.getData().pageMapGeneration&&(n&&(t.totalCount=n.getTotal(),t.totalCount!==a&&t.fireEvent("totalcountchange",t.totalCount)),void 0!==o&&delete t.pageRequests[o],t.loading=!1,t.fireEvent("prefetch",t,i,r,e),r&&t.cachePage(i,e.getPage()),Ext.callback(e.getCallback(),e.getScope()||t,[i,e,r]))},cachePage:function(e,t){var n,i=this,r=e.length;for(Ext.isDefined(i.totalCount)||(i.totalCount=e.length,i.fireEvent("totalcountchange",i.totalCount)),n=0;r>n;n++)e[n].join(i);i.getData().addPage(t,e)},rangeCached:function(e,t){return this.getData().hasRange(e,t)},pageCached:function(e){return this.getData().hasPage(e)},pagePending:function(e){return!!this.pageRequests[e]},rangeSatisfied:function(e,t){return this.rangeCached(e,t)},onRangeAvailable:function(e){var t,n=this,i=n.getTotalCount(),r=e.prefetchStart,o=e.prefetchEnd>i-1?i-1:e.prefetchEnd;o=Math.max(0,o),r>o&&Ext.log({level:"warn",msg:"Start ("+r+") was greater than end ("+o+") for the range of records requested ("+r+"-"+e.prefetchEnd+")"+(this.storeId?' from store "'+this.storeId+'"':"")}),t=n.getData().getRange(r,o+1),e.fireEvent!==!1&&n.fireEvent("guaranteedrange",t,r,o,e),e.callback&&e.callback.call(e.scope||n,t,r,o,e)},guaranteeRange:function(e,t,n,i,r){r=Ext.apply({callback:n,scope:i},r),this.getRange(e,t+1,r)},prefetchRange:function(e,t){var n,i,r,o=this,a=o.getPurgePageCount();if(!o.rangeCached(e,t))for(n=o.getPageFromRecordIndex(e),i=o.getPageFromRecordIndex(t),o.getData().setMaxSize(a?i-n+1+a:0),r=n;i>=r;r++)o.pageCached(r)||o.prefetchPage(r)},primeCache:function(e,t,n){var i=this,r=i.getLeadingBufferZone(),o=i.getTrailingBufferZone(),a=i.getPageSize(),s=i.totalCount;-1===n?(e=Math.max(e-r,0),t=Math.min(t+o,s-1)):1===n?(e=Math.max(Math.min(e-o,s-a),0),t=Math.min(t+r,s-1)):(e=Math.min(Math.max(Math.floor(e-(r+o)/2),0),s-i.pageSize),t=Math.min(Math.max(Math.ceil(t+(r+o)/2),0),s-1)),i.prefetchRange(e,t)},sort:function(){this.getData().clear(),this.loadPage(1)}}),Ext.define("Ext.direct.Manager",{singleton:!0,requires:["Ext.util.MixedCollection"],mixins:{observable:"Ext.util.Observable"},exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},constructor:function(){var e=this;e.transactions=new Ext.util.MixedCollection,e.providers=new Ext.util.MixedCollection,e.mixins.observable.constructor.call(e)},addProvider:function(e){var t,n,i=this,r=arguments,o=i.relayers||(i.relayers={});{if(!(r.length>1))return e.isProvider||(e=Ext.create("direct."+e.type+"provider",e)),i.providers.add(e),e.on("data",i.onProviderData,i),e.relayedEvents&&(o[e.id]=i.relayEvents(e,e.relayedEvents)),e.isConnected()||e.connect(),e;for(t=0,n=r.length;n>t;++t)i.addProvider(r[t])}},getProvider:function(e){return e.isProvider?e:this.providers.get(e)},removeProvider:function(e){var t,n=this,i=n.providers,r=n.relayers;return e=e.isProvider?e:i.get(e),e?(e.un("data",n.onProviderData,n),t=e.id,r[t]&&(r[t].destroy(),delete r[t]),i.remove(e),e):null},addTransaction:function(e){return this.transactions.add(e),e},removeTransaction:function(e){var t=this;return e=t.getTransaction(e),t.transactions.remove(e),e},getTransaction:function(e){return"object"==typeof e?e:this.transactions.get(e)},onProviderData:function(e,t){var n,i,r=this;if(Ext.isArray(t))for(n=0,i=t.length;i>n;++n)r.onProviderData(e,t[n]);else t.name&&"event"!=t.name&&"exception"!=t.name?r.fireEvent(t.name,t):t.status===!1&&r.fireEvent("exception",t),r.fireEvent("event",t,e)},parseMethod:function(e){if(Ext.isString(e)){for(var t=e.split("."),n=0,i=t.length,r=Ext.global;r&&i>n;)r=r[t[n]],++n;e=Ext.isFunction(r)?r:null}return e||null}},function(){Ext.Direct=Ext.direct.Manager}),Ext.define("Ext.data.proxy.Direct",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",requires:["Ext.direct.Manager"],config:{paramOrder:void 0,paramsAsHash:!0,directFn:void 0,api:void 0},paramOrderRe:/[\s,|]/,applyParamOrder:function(e){return Ext.isString(e)&&(e=e.split(this.paramOrderRe)),e},resolveMethods:function(){var e,t=this,n=t.getDirectFn(),i=t.getApi(),r=Ext.direct.Manager;if(n)t.setDirectFn(e=r.parseMethod(n)),Ext.isFunction(e)||Ext.Error.raise("Cannot resolve directFn "+n);else if(i)for(n in i)i.hasOwnProperty(n)&&(e=i[n],i[n]=r.parseMethod(e),Ext.isFunction(i[n])||Ext.Error.raise("Cannot resolve Direct api "+n+" method "+e));t.methodsResolved=!0},doRequest:function(e){var t,n,i=this,r=i.getWriter(),o=i.buildRequest(e),a=o.getParams(),s=[],l=o.getAction(),d=i.getApi();return i.methodsResolved||i.resolveMethods(),d&&(t=d[l]),t=t||i.getDirectFn(),t||Ext.Error.raise("No direct function specified for this proxy"),r&&e.allowWrite()&&(o=r.write(o)),"read"===l?(n=t.directCfg.method,s=n.getArgs(a,i.getParamOrder(),i.getParamsAsHash())):s.push(o.getJsonData()),s.push(i.createRequestCallback(o,e),i),o.setConfig({args:s,directFn:t}),t.apply(window,s),o},applyEncoding:Ext.identityFn,createRequestCallback:function(e,t){var n=this;return function(i,r){n.processResponse(r.status,t,e,r)}},extractResponseData:function(e){return Ext.isDefined(e.result)?e.result:e.data},setException:function(e,t){e.setException(t.message)},buildUrl:function(){return""}}),Ext.define("Ext.data.DirectStore",{extend:"Ext.data.Store",alias:"store.direct",requires:["Ext.data.proxy.Direct"],constructor:function(e){if(e=Ext.apply({},e),!e.proxy){var t={type:"direct",reader:{type:"json"}};Ext.copyTo(t,e,"paramOrder,paramsAsHash,directFn,api,simpleSortMode"),Ext.copyTo(t.reader,e,"totalProperty,root,idProperty"),e.proxy=t}this.callParent([e])}}),Ext.define("Ext.data.JsonP",{singleton:!0,requestCount:0,requests:{},timeout:3e4,disableCaching:!0,disableCachingParam:"_dc",callbackKey:"callback",request:function(e){e=Ext.apply({},e),e.url||Ext.Error.raise("A url must be specified for a JSONP request.");var t,n,i=this,r=Ext.isDefined(e.disableCaching)?e.disableCaching:i.disableCaching,o=e.disableCachingParam||i.disableCachingParam,a=++i.requestCount,s=e.callbackName||"callback"+a,l=e.callbackKey||i.callbackKey,d=Ext.isDefined(e.timeout)?e.timeout:i.timeout,u=Ext.apply({},e.params),c=e.url,h=Ext.name;return r&&!u[o]&&(u[o]=Ext.Date.now()),e.params=u,u[l]=h+".data.JsonP."+s,n=i.createScript(c,u,e),i.requests[a]=t={url:c,params:u,script:n,id:a,scope:e.scope,success:e.success,failure:e.failure,callback:e.callback,callbackKey:l,callbackName:s},d>0&&(t.timeout=setTimeout(Ext.bind(i.handleTimeout,i,[t]),d)),i.setupErrorHandling(t),i[s]=Ext.bind(i.handleResponse,i,[t],!0),i.loadScript(t),t},abort:function(e){var t,n=this,i=n.requests;if(e)e.id||(e=i[e]),n.handleAbort(e);else for(t in i)i.hasOwnProperty(t)&&n.abort(i[t])},setupErrorHandling:function(e){e.script.onerror=Ext.bind(this.handleError,this,[e])},handleAbort:function(e){e.errorType="abort",this.handleResponse(null,e)},handleError:function(e){e.errorType="error",this.handleResponse(null,e)},cleanupErrorHandling:function(e){e.script.onerror=null},handleTimeout:function(e){e.errorType="timeout",this.handleResponse(null,e)},handleResponse:function(e,t){var n=!0,i=Ext.GlobalEvents;t.timeout&&clearTimeout(t.timeout),delete this[t.callbackName],delete this.requests[t.id],this.cleanupErrorHandling(t),Ext.fly(t.script).destroy(),t.errorType?(n=!1,Ext.callback(t.failure,t.scope,[t.errorType])):Ext.callback(t.success,t.scope,[e]),Ext.callback(t.callback,t.scope,[n,e,t.errorType]),i.hasListeners.idle&&i.fireEvent("idle")},createScript:function(e,t,n){var i=document.createElement("script");return i.setAttribute("src",Ext.urlAppend(e,Ext.Object.toQueryString(t))),i.setAttribute("async",!0),i.setAttribute("type","text/javascript"),i},loadScript:function(e){Ext.getHead().appendChild(e.script)}}),Ext.define("Ext.data.proxy.JsonP",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.ScriptTagProxy",alias:["proxy.jsonp","proxy.scripttag"],requires:["Ext.data.JsonP"],config:{callbackKey:"callback",recordParam:"records",autoAppendParams:!0},doRequest:function(e){var t=this,n=t.buildRequest(e),i=n.getParams();return n.setConfig({callbackKey:t.callbackKey,timeout:t.timeout,scope:t,disableCaching:!1,callback:t.createRequestCallback(n,e)}),t.getAutoAppendParams()&&n.setParams({}),n.setRawRequest(Ext.data.JsonP.request(n.getCurrentConfig())),n.setParams(i),t.lastRequest=n,n},createRequestCallback:function(e,t){var n=this;return function(i,r,o){e===n.lastRequest&&(n.lastRequest=null),n.processResponse(i,t,e,r)}},setException:function(e,t){e.setException(e.getRequest().getRawRequest().errorType)},buildUrl:function(e){var t,n,i,r,o,a=this,s=a.callParent(arguments),l=e.getRecords(),d=a.getWriter();if(d&&e.getOperation().allowWrite()&&(e=d.write(e)),t=e.getParams(),n=t.filters,delete t.filters,n&&n.length)for(r=0;r<n.length;r++)i=n[r],o=i.getValue(),o&&(t[i.getProperty()]=o);return!(Ext.isArray(l)&&l.length>0)||d&&d.getEncode()||(t[a.getRecordParam()]=a.encodeRecords(l)),a.getAutoAppendParams()&&(s=Ext.urlAppend(s,Ext.Object.toQueryString(t))),
s},abort:function(e){e=e||this.lastRequest,e&&Ext.data.JsonP.abort(e.getRawRequest())},encodeRecords:function(e){for(var t=[],n=0,i=e.length;i>n;n++)t.push(Ext.encode(e[n].getData()));return t}}),Ext.define("Ext.data.JsonPStore",{extend:"Ext.data.Store",alias:"store.jsonp",requires:["Ext.data.proxy.JsonP","Ext.data.reader.Json"],constructor:function(e){e=Ext.apply({proxy:{type:"jsonp",reader:"json"}},e),this.callParent([e])}}),Ext.define("Ext.data.JsonStore",{extend:"Ext.data.Store",alias:"store.json",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Json","Ext.data.writer.Json"],constructor:function(e){e=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},e),this.callParent([e])}}),Ext.define("Ext.data.ModelManager",{alternateClassName:"Ext.ModelMgr",requires:["Ext.data.schema.Schema"],singleton:!0,deprecated:{5:{methods:{clear:null,create:function(e,t,n){var i=t;return i.isEntity||(i=this.getModel(t||e.name)),i.createWithId(n,e)},each:function(e,t){Ext.data.Model.schema.eachEntity(e,t)},get:function(e){return this.getModel(e)},getCount:function(){return Ext.data.Model.schema.entityCount},getModel:function(e){return Ext.data.schema.Schema.lookupEntity(e)},isRegistered:function(e){return!!this.getModel(e)}}}}}),Ext.define("Ext.data.NodeInterface",{requires:["Ext.data.field.Boolean","Ext.data.field.Integer","Ext.data.field.String","Ext.data.writer.Json","Ext.mixin.Observable"],statics:{decorate:function(e){var t,n,i,r=Ext.data.schema.Schema.lookupEntity(e),o=r.prototype;r.prototype.isObservable||r.mixin(Ext.mixin.Observable.prototype.mixinId,Ext.mixin.Observable),o.isNode||(t=o.idProperty,n=r.getField(t),i=n.type,r.override(this.getPrototypeBody()),r.addFields([{name:"parentId",type:i,defaultValue:null,allowNull:n.allowNull},{name:"index",type:"int",defaultValue:-1,persist:!1,convert:null},{name:"depth",type:"int",defaultValue:0,persist:!1,convert:null},{name:"expanded",type:"bool",defaultValue:!1,persist:!1,convert:null},{name:"expandable",type:"bool",defaultValue:!0,persist:!1,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"leaf",type:"bool",defaultValue:!1},{name:"cls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"icon",type:"string",defaultValue:"",persist:!1,convert:null},{name:"root",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isLast",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isFirst",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"allowDrop",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"allowDrag",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"loaded",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"loading",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"href",type:"string",defaultValue:"",persist:!1,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:!1,convert:null},{name:"children",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"visible",type:"boolean",defaultValue:!0,persist:!1},{name:"text",type:"string",persist:!1}]))},getPrototypeBody:function(){var e={idchanged:!0,append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0};return{isNode:!0,constructor:function(){var e=this;return e.mixins.observable.constructor.call(e),e.callParent(arguments),e.firstChild=e.lastChild=e.parentNode=e.previousSibling=e.nextSibling=null,e.childNodes=[],e},createNode:function(e){var t,n,i,r,o,a,s=this,l=s.childType,d=s.self;return e.isModel||(l?d=s.schema.getEntity(l):(t=s.getTreeStore(),n=t&&t.getProxy().getReader(),i=s.getProxy(),r=i?i.getReader():null,o=!n||r&&r.initialConfig.typeProperty?r:n,o&&(a=o.typeProperty,a&&(d=s.schema.getEntity(e[a])))),e=new d(e)),e.childNodes||(e.firstChild=e.lastChild=e.parentNode=e.previousSibling=e.nextSibling=null,e.childNodes=[]),e},isLeaf:function(){return this.get("leaf")===!0},setFirstChild:function(e){this.firstChild=e},setLastChild:function(e){this.lastChild=e},updateInfo:function(e,t){var n,i,r,o,a,s,l,d,u=this,c=u.data.depth,h={},f=u.childNodes,g=f.length,p=u.phantom,m=u.data,x=u.fields,E=u.modified||(u.modified={}),v=t.parentId;t||Ext.Error.raise("NodeInterface expects update info to be passed");for(i in t)if(o=x[u.fieldOrdinals[i]],r=t[i],d=o&&o.persist,a=m[i],l=d&&"index"===i&&-1!==a&&v&&v!==E.parentId,(l||!u.isEqual(a,r))&&(m[i]=r,d))if(!l&&E.hasOwnProperty(i)){if(u.isEqual(E[i],r)){delete E[i],u.dirty=!1;for(s in E)if(E.hasOwnProperty(s)){u.dirty=!0;break}}}else u.dirty=!0,E[i]=a;if(e&&(u.commit(),u.phantom=p),u.data.depth!==c)for(h={depth:u.data.depth+1},n=0;g>n;n++)f[n].updateInfo(e,h)},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var e=this;return e.get("expandable")?!(e.isLeaf()||e.isLoaded()&&!e.phantom&&!e.hasChildNodes()):!1},triggerUIUpdate:function(){this.callJoined("afterEdit",[])},appendChild:function(e,t,n){var i,r,o,a,s,l,d=this,u={isLast:!0,parentId:d.getId(),depth:(d.data.depth||0)+1};if(Ext.suspendLayouts(),Ext.isArray(e)){for(r=e.length,l=new Array(r),d.callJoined("beginFill"),i=0;r>i;i++)l[i]=d.appendChild(e[i],t,n);d.callJoined("endFill",[l])}else{if(e=d.createNode(e),t!==!0&&d.fireEventArgs("beforeappend",[d,e])===!1)return!1;if(o=d.childNodes.length,a=e.parentNode){if(t!==!0&&e.fireEventArgs("beforemove",[e,a,d,o])===!1)return!1;a.removeChild(e,!1,!1,a.getTreeStore()===d.getTreeStore())}o=d.childNodes.length,0===o&&d.setFirstChild(e),d.childNodes[o]=e,e.parentNode=d,e.nextSibling=null,d.setLastChild(e),s=d.childNodes[o-1],s?(e.previousSibling=s,s.nextSibling=e,s.updateInfo(n,{isLast:!1}),s.triggerUIUpdate()):e.previousSibling=null,u.isFirst=0===o,u.index=o,e.updateInfo(n,u),d.isLeaf()&&d.set("leaf",!1),d.isLoaded()?1===d.childNodes.length&&d.triggerUIUpdate():d.set("loaded",!0),o&&d.childNodes[o-1].isExpanded()&&d.childNodes[o-1].cascadeBy(d.triggerUIUpdate),!e.isLeaf()&&e.phantom&&e.set("loaded",!0),t!==!0&&(d.fireEventArgs("append",[d,e,o]),a&&e.fireEventArgs("move",[e,a,d,o])),d.callJoined("onNodeAppend",[e,o]),l=e}return Ext.resumeLayouts(!0),l},getOwnerTree:function(){var e=this.getTreeStore();return e?e.ownerTree:void 0},getTreeStore:function(){return this.store},removeChild:function(e,t,n,i){var r,o,a,s=this,l=s.indexOf(e);if(-1===l||n!==!0&&s.fireEventArgs("beforeremove",[s,e,!!i])===!1)return!1;if(Ext.suspendLayouts(),Ext.Array.erase(s.childNodes,l,1),s.firstChild===e&&s.setFirstChild(e.nextSibling),s.lastChild===e&&s.setLastChild(e.previousSibling),a=e.previousSibling,a&&(e.previousSibling.nextSibling=e.nextSibling),e.nextSibling)for(e.nextSibling.previousSibling=e.previousSibling,0===l&&e.nextSibling.updateInfo(!1,{isFirst:!0}),r=l,o=s.childNodes.length;o>r;r++)s.childNodes[r].updateInfo(!1,{index:r});else a&&(a.updateInfo(!1,{isLast:!0}),a.isExpanded()?a.cascadeBy(s.triggerUIUpdate):a.triggerUIUpdate());return s.childNodes.length||s.triggerUIUpdate(),Ext.resumeLayouts(!0),n!==!0&&(s.callJoined("beforeNodeRemove",[[e],!!i]),e.previousSibling=e.nextSibling=e.parentNode=null,s.fireEventArgs("remove",[s,e,!!i]),s.callJoined("onNodeRemove",[[e],!!i])),t?e.erase(!0):e.clear(),e},copy:function(e,t){var n,i=this,r=i.callParent(arguments),o=i.childNodes?i.childNodes.length:0;if(t)for(n=0;o>n;n++)r.appendChild(i.childNodes[n].copy(void 0,!0));return r},clear:function(e){var t=this;t.parentNode=t.previousSibling=t.nextSibling=null,e&&(t.firstChild=t.lastChild=null)},erase:function(e){var t,n=this,i=n.destroyOptions,r=n.childNodes,o=r.length;if(e===!0){for(n.clear(!0),t=0;o>t;t++)r[t].erase(!0);n.childNodes=null,delete n.destroyOptions,n.callParent([i])}else n.destroyOptions=e,n.remove(!0)},insertBefore:function(e,t,n){var i,r,o,a=this,s=a.indexOf(t),l=e.parentNode,d=s;if(!t)return a.appendChild(e);if(e===t)return!1;if(e=a.createNode(e),n!==!0&&a.fireEventArgs("beforeinsert",[a,e,t])===!1)return!1;if(l===a&&a.indexOf(e)<s&&d--,l){if(n!==!0&&e.fireEventArgs("beforemove",[e,l,a,s,t])===!1)return!1;l.removeChild(e,!1,!1,l.getTreeStore()===a.getTreeStore())}for(0===d&&a.setFirstChild(e),Ext.Array.splice(a.childNodes,d,0,e),e.parentNode=a,e.nextSibling=t,t.previousSibling=e,r=a.childNodes[d-1],r?(e.previousSibling=r,r.nextSibling=e):e.previousSibling=null,e.updateInfo(!1,{parentId:a.getId(),index:d,isFirst:0===d,isLast:!1,depth:(a.data.depth||0)+1}),o=d+1,i=a.childNodes.length;i>o;o++)a.childNodes[o].updateInfo(!1,{index:o});return a.isLoaded()?1===a.childNodes.length&&a.triggerUIUpdate():a.set("loaded",!0),!e.isLeaf()&&e.phantom&&e.set("loaded",!0),n!==!0&&(a.fireEventArgs("insert",[a,e,t]),l&&e.fireEventArgs("move",[e,l,a,d,t])),a.callJoined("onNodeInsert",[e,d]),e},insertChild:function(e,t){var n=this.childNodes[e];return n?this.insertBefore(t,n):this.appendChild(t)},isLastVisible:function(){var e=this,t=e.data.isLast,n=e.nextSibling;if(!t&&e.getTreeStore().isFiltered()){for(;n;){if(n.data.visible)return!1;n=n.nextSibling}return!0}return t},remove:function(e,t){var n=this,i=n.parentNode;return i?i.removeChild(n,e,t):e&&n.erase(!0),n},removeAll:function(e,t,n){var i,r=this,o=r.childNodes,a=0,s=o.length;if(s){for(r.callJoined("beforeNodeRemove",[o,!1]);s>a;++a)i=o[a],i.previousSibling=i.nextSibling=i.parentNode=null,r.fireEventArgs("remove",[r,i,!1]),e?i.erase(!0):i.removeAll(!1,t,!0);return r.callJoined("onNodeRemove",[o,!1]),r.firstChild=r.lastChild=null,r.childNodes.length=0,n||r.triggerUIUpdate(),r}},getChildAt:function(e){return this.childNodes[e]},replaceChild:function(e,t,n){var i=t?t.nextSibling:null;return this.removeChild(t,!1,n),this.insertBefore(e,i,n),t},indexOf:function(e){return Ext.Array.indexOf(this.childNodes,e)},indexOfId:function(e){for(var t=this.childNodes,n=t.length,i=0;n>i;++i)if(t[i].getId()===e)return i;return-1},getPath:function(e,t){e=e||this.idProperty,t=t||"/";for(var n=[this.get(e)],i=this.parentNode;i;)n.unshift(i.get(e)),i=i.parentNode;return t+n.join(t)},getDepth:function(){return this.get("depth")},bubble:function(e,t,n){for(var i=this;i&&e.apply(t||i,n||[i])!==!1;)i=i.parentNode},cascade:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead."),this.cascadeBy.apply(this,arguments)},cascadeBy:function(e,t,n,i){var r=this;if(1!==arguments.length||Ext.isFunction(e)||(i=e.after,t=e.scope,n=e.args,e=e.before),!e||e.apply(t||r,n||[r])!==!1){var o,a=r.childNodes,s=a.length;for(o=0;s>o;o++)a[o].cascadeBy.call(a[o],e,t,n,i);i&&i.apply(t||r,n||[r])}},eachChild:function(e,t,n){var i,r=this.childNodes,o=r.length;for(i=0;o>i&&e.apply(t||this,n||[r[i]])!==!1;i++);},findChild:function(e,t,n){return this.findChildBy(function(){return this.get(e)==t},null,n)},findChildBy:function(e,t,n){for(var i,r,o=this.childNodes,a=o.length,s=0;a>s;s++){if(i=o[s],e.call(t||i,i)===!0)return i;if(n&&(r=i.findChildBy(e,t,n),null!==r))return r}return null},contains:function(e){return e.isAncestor(this)},isAncestor:function(e){for(var t=this.parentNode;t;){if(t===e)return!0;t=t.parentNode}return!1},sort:function(e,t,n){var i,r,o=this,a=o.childNodes,s=a.length,l={isFirst:!0};if(s>0){for(e||(e=o.getTreeStore().getSortFn()),Ext.Array.sort(a,e),o.setFirstChild(a[0]),o.setLastChild(a[s-1]),i=0;s>i;i++)r=a[i],r.previousSibling=a[i-1],r.nextSibling=a[i+1],l.isLast=i===s-1,l.index=i,r.updateInfo(!1,l),l.isFirst=!1,t&&!r.isLeaf()&&r.sort(e,!0,!0);n!==!0&&(o.fireEventArgs("sort",[o,a]),o.callJoined("onNodeSort",[a]))}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var e=this.parentNode;e;){if(!e.isExpanded())return!1;e=e.parentNode}return!0},expand:function(e,t,n){var i=this;i.isLeaf()?Ext.callback(t,n||i):i.isLoading()?i.on("expand",function(){i.expand(e,t,n)},i,{single:!0}):i.isExpanded()?e?i.expandChildren(!0,t,n):Ext.callback(t,n||i,[i.childNodes]):i.fireEventArgs("beforeexpand",[i])!==!1&&i.callJoined("onBeforeNodeExpand",[i.onChildNodesAvailable,i,[e,t,n]])},onChildNodesAvailable:function(e,t,n,i){var r=this;Ext.suspendLayouts(),r.set("expanded",!0),r.callJoined("onNodeExpand",[e,!1]),r.fireEventArgs("expand",[r,e]),t?r.expandChildren(!0,n,i):Ext.callback(n,i||r,[r.childNodes]),Ext.resumeLayouts(!0)},expandChildren:function(e,t,n,i){var r,o,a,s,l,d,u=this;for(Ext.isBoolean(t)&&(r=t,t=n,n=i,i=r),void 0===i&&(i=u.getTreeStore().singleExpand),a=u.childNodes,s=[],l=i?Math.min(a.length,1):a.length,o=0;l>o;++o)d=a[o],d.isLeaf()||(s[s.length]=d);for(l=s.length,o=0;l>o;++o)s[o].expand(e);t&&Ext.callback(t,n||u,[u.childNodes])},collapse:function(e,t,n){var i,r,o=this,a=o.isExpanded(),s=o.childNodes.length;if(!o.isLeaf()&&(!a&&e||o.fireEventArgs("beforecollapse",[o])!==!1)){if(Ext.suspendLayouts(),o.isExpanded())e?(r=function(){for(i=0;s>i;i++)o.childNodes[i].setCollapsed(!0)},t=t?Ext.Function.createSequence(r,Ext.Function.bind(t,n,[o.childNodes])):r):t&&(t=Ext.Function.bind(t,n,[o.childNodes])),o.set("expanded",!1),o.callJoined("onNodeCollapse",[o.childNodes,t,n]),o.fireEventArgs("collapse",[o,o.childNodes]),t=null;else if(e)for(i=0;s>i;i++)o.childNodes[i].setCollapsed(!0);Ext.resumeLayouts(!0)}Ext.callback(t,n||o,[o.childNodes])},setCollapsed:function(e){var t,n=this,i=n.childNodes.length;if(!n.isLeaf()&&n.fireEventArgs("beforecollapse",[n])!==!1&&(n.data.expanded=!1,n.fireEventArgs("collapse",[n,n.childNodes]),e))for(t=0;i>t;t++)n.childNodes[t].setCollapsed(!0)},collapseChildren:function(e,t,n){var i,r,o=this,a=o.childNodes,s=a.length,l=[];for(i=0;s>i;++i)r=a[i],!r.isLeaf()&&r.isLoaded()&&r.isExpanded()&&l.push(r);if(s=l.length)for(i=0;s>i;++i)r=l[i],i===s-1?r.collapse(e,t,n):r.collapse(e);else Ext.callback(t,n)},fireEvent:function(e){return this.fireEventArgs(e,Ext.Array.slice(arguments,1))},fireEventArgs:function(t,n){var i,r,o=Ext.mixin.Observable.prototype.fireEventArgs;if(e[t]){for(r=this;i!==!1&&r;r=r.parentNode)r.hasListeners&&r.hasListeners[t]&&(i=o.call(r,t,n));return i}return o.apply(this,arguments)},serialize:function(){var e,t,n=Ext.data.writer.Json.prototype.getRecordData(this),i=this.childNodes,r=i.length;if(r>0){for(e=[],t=0;r>t;t++)e.push(i[t].serialize());n.children=e}return n}}}}}),Ext.define("Ext.data.NodeStore",{extend:"Ext.data.Store",alias:"store.node",requires:["Ext.data.NodeInterface"],isNodeStore:!0,config:{node:null,recursive:!1,rootVisible:!1,folderSort:!1},isExpandingOrCollapsing:0,getTotalCount:function(){return this.getCount()},afterEdit:function(e,t){if(this.getNode()&&t){if(-1!==t.indexOf("loaded"))return this.add(this.retrieveChildNodes(e));if(-1!==t.indexOf("expanded"))return this.filter();if(-1!==t.indexOf("sorted"))return this.sort()}this.callParent(arguments)},onNodeAppend:function(e,t){this.add([t].concat(this.retrieveChildNodes(t)))},onNodeInsert:function(e,t){this.add([t].concat(this.retrieveChildNodes(t)))},onNodeRemove:function(e,t){this.remove([t].concat(this.retrieveChildNodes(t)))},onNodeExpand:function(e,t){this.loadRecords(t)},applyNode:function(e){return e&&Ext.data.NodeInterface.decorate(e),e},updateNode:function(e,t){var n,i=this;t&&!t.isDestroyed&&(t.un({append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove",load:"onNodeLoad",scope:i}),t.unjoin(i)),e&&(e.on({scope:i,append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove",load:"onNodeLoad"}),e.join(i),n=[],e.childNodes.length&&(n=n.concat(i.retrieveChildNodes(e))),i.getRootVisible()?n.push(e):(e.isLoaded()||e.isLoading())&&e.set("expanded",!0),i.getData().clear(),i.fireEvent("clear",i),i.suspendEvents(),i.add(n),i.resumeEvents(),0===n.length&&(i.loaded=e.loaded=!0),i.fireEvent("refresh",i,i.data))},retrieveChildNodes:function(e){var t=this.getNode(),n=this.getRecursive(),i=[],r=e;if(!e.childNodes.length||!n&&e!==t)return i;if(!n)return e.childNodes;for(;r;)if(r._added){if(delete r._added,r===e)break;r=r.nextSibling||r.parentNode}else r!==e&&i.push(r),r.firstChild?(r._added=!0,r=r.firstChild):r=r.nextSibling||r.parentNode;return i},isVisible:function(e){var t=e.parentNode;if(!this.getRecursive()&&t!==this.getNode())return!1;for(;t;){if(!t.isExpanded())return!1;if(t===this.getNode())break;t=t.parentNode}return!0}}),Ext.define("Ext.data.Request",{config:{action:void 0,params:void 0,method:"GET",url:null,operation:null,proxy:null,disableCaching:!1,headers:{},callbackKey:null,rawRequest:null,jsonData:void 0,xmlData:void 0,withCredentials:!1,username:null,password:null,binary:!1,callback:null,scope:null,timeout:3e4,records:null,directFn:null,args:null,useDefaultXhrHeader:null},constructor:function(e){this.initConfig(e)},getParam:function(e){var t,n=this.getParams();return n?n[e]:t},setParam:function(e,t){var n=this.getParams()||{};n[e]=t,this.setParams(n)}}),Ext.define("Ext.data.StoreManager",{extend:"Ext.util.MixedCollection",alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,requires:["Ext.data.ArrayStore"],register:function(){for(var e,t=0;e=arguments[t];t++)this.add(e)},unregister:function(){for(var e,t=0;e=arguments[t];t++)this.remove(this.lookup(e))},lookup:function(e){if(Ext.isArray(e)){var t,n,i=["field1"],r=!Ext.isArray(e[0]),o=e;if(r)for(o=[],t=0,n=e.length;n>t;++t)o.push([e[t]]);else for(t=2,n=e[0].length;n>=t;++t)i.push("field"+t);return new Ext.data.ArrayStore({data:o,fields:i,autoDestroy:!0,autoCreated:!0,expanded:r})}return Ext.isString(e)?this.get(e):Ext.Factory.store(e)},getKey:function(e){return e.storeId}},function(){Ext.regStore=function(e,t){var n;if(Ext.isObject(e))t=e;else{if(Ext.data.StoreManager.containsKey(e))return Ext.data.StoreManager.lookup(e);t.storeId=e}return n=t instanceof Ext.data.Store?t:new Ext.data.Store(t),Ext.data.StoreManager.register(n),n},Ext.getStore=function(e){return Ext.data.StoreManager.lookup(e)};var e=Ext.regStore("ext-empty-store",{proxy:"memory",useModelWarning:!1});e.isEmptyStore=!0,e.add=e.remove=e.insert=function(){Ext.Error.raise("Cannot modify ext-empty-store")}}),Ext.define("Ext.mixin.Queryable",{mixinId:"queryable",isQueryable:!0,query:function(e){return e=e||"*",Ext.ComponentQuery.query(e,this.getQueryRoot())},queryBy:function(e,t){for(var n,i=[],r=this.getQueryRoot().getRefItems(!0),o=0,a=r.length;a>o;++o)n=r[o],e.call(t||n,n)!==!1&&i.push(n);return i},queryById:function(e){return this.down(Ext.makeIdSelector(e))},child:function(e){var t=this.getQueryRoot().getRefItems();return e&&e.isComponent?this.matchById(t,e.getItemId()):(e&&(t=Ext.ComponentQuery.query(e,t)),t.length?t[0]:null)},down:function(e){return e&&e.isComponent?this.matchById(this.getRefItems(!0),e.getItemId()):(e=e||"",this.query(e)[0]||null)},visitPreOrder:function(e,t,n,i){Ext.ComponentQuery._visit(!0,e,this.getQueryRoot(),t,n,i)},visitPostOrder:function(e,t,n,i){Ext.ComponentQuery._visit(!1,e,this.getQueryRoot(),t,n,i)},getRefItems:function(){return[]},getQueryRoot:function(){return this},privates:{matchById:function(e,t){var n,i,r=e.length;for(n=0;r>n;++n)if(i=e[n],i.getItemId()===t)return i;return null}}}),Ext.define("Ext.data.TreeModel",{extend:"Ext.data.Model",requires:["Ext.data.NodeInterface"],mixins:["Ext.mixin.Queryable"],getRefItems:function(){return this.childNodes},getRefOwner:function(){return this.parentNode}},function(){Ext.data.NodeInterface.decorate(this)}),Ext.define("Ext.data.TreeStore",{extend:"Ext.data.NodeStore",alias:"store.tree",requires:["Ext.util.Sorter","Ext.data.TreeModel","Ext.data.NodeInterface"],isTreeStore:!0,config:{root:null,rootVisible:!1,recursive:!0,defaultRootProperty:"children"},clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",fillCount:0,folderSort:!1,constructor:function(e){var t=this;t.byIdMap={},t.byInternalIdMap={},t.callParent([e]),Ext.isDefined(t.nodeParameter)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead."),t.nodeParam=t.nodeParameter,delete t.nodeParameter)},applyFields:function(e){var t=this;e&&(t.defaultRootProperty!==t.self.prototype.config.defaultRootProperty&&(e=e.concat({name:t.defaultRootProperty,type:"auto",defaultValue:null,persist:!1})),t.setModel(Ext.define(null,{extend:"Ext.data.TreeModel",fields:e,proxy:t.getProxy()})),t.implicitModel=!0)},onSorterEndUpdate:function(){var e=this,t=e.getSorters(),n=t.getRange(),i=e.getRoot();i&&n.length?e.getRemoteSort()?e.attemptLoad({callback:function(){e.fireEvent("sort",e,n)}}):(i.sort(this.getSortFn(),!0),e.fireEvent("datachanged",e),e.fireEvent("refresh",e),e.fireEvent("sort",e,n)):e.fireEvent("sort",e,n)},updateRemoteFilter:function(){var e=this.getData(),t=this.getFilters();e.setFilters(null),t.on("endupdate",this.onFilterEndUpdate,this)},updateRemoteSort:function(){var e=this.getData(),t=this.getSorters();e.setSorters(null),t.on("endupdate",this.onSorterEndUpdate,this)},getSortFn:function(){return this._sortFn||(this._sortFn=this.createSortFn())},createSortFn:function(){var e=this.sorters.getSortFn(),t=e;return this.getFolderSort()&&(t=function(t,n){var i=t.get("leaf")?1:0,r=n.get("leaf")?1:0;return i-r||e(t,n)}),t},updateRootVisible:function(e){var t,n=this.getRoot();n&&(t=this.getData(),e?t.insert(0,n):t.remove(n))},updateTrackRemoved:function(e){this.callParent(arguments),this.removedNodes=this.removed,this.removed=null},getRemovedRecords:function(){return this.removedNodes},onDestroyRecords:function(e,t,n){n&&(this.removedNodes.length=0)},applyProxy:function(e){var t;return e=this.callParent(arguments),e.setIdParam&&e.setIdParam(this.nodeParam),Ext.isEmpty(e.getReader().getRootProperty())&&(t=e.getReader(),t.setRootProperty(this.defaultRootProperty),t.buildExtractors(!0)),e},applyModel:function(e){return e=this.callParent(arguments),e||(e=Ext.data.TreeModel),e},updateModel:function(e){var t=e.prototype.isNode;Ext.data.NodeInterface.decorate(e),t||this.getProxy().getReader().buildExtractors(!0)},onFilterEndUpdate:function(e){var t,n,i=this,r=e.length,o=e.getFilterFn(),a=i.getRoot();if(r)for(n=[],a.cascadeBy({after:function(e){e.set("visible",o(e))}}),t=0,r=a.childNodes.length;r>t;t++)a.childNodes[t].get("visible")&&n.push(a.childNodes[t]);else n=a.childNodes;i.onNodeFilter(a,n),a.fireEvent("filterchange",a,n),i.fireEvent("filterchange",i,e)},clearFilter:function(){var e=this,t=e.getRoot();e.callParent(),e.filterFn=null,t.cascadeBy(function(e){e.set("visible",!0)}),e.onNodeFilter(t,t.childNodes),t.fireEvent("filterchange",t,t.childNodes),e.fireEvent("filterchange",e,[])},onNodeFilter:function(e,t){var n=this,i=n.getData(),r=[];n.handleNodeExpand(e,t,r),n.suspendEvents(),i.splice(0,i.getCount(),r),n.resumeEvents(),n.fireEvent("datachanged",n),n.fireEvent("refresh",n)},onBeforeNodeExpand:function(e,t,n,i){var r,o,a,s,l,d,u,c=this;e.isLoaded()?(d=[e.childNodes],i&&d.push.apply(d,i),Ext.callback(t,n||e,d)):e.isLoading()?c.on("load",function(){d=[e.childNodes],i&&d.push.apply(d,i),Ext.callback(t,n||e,d)},c,{single:!0,priority:1001}):(r=c.getProxy().getReader(),o=e.getProxy(),a=o?o.getReader():null,s=a&&a.initialConfig.rootProperty?a:r,(l=s.getRoot(e.raw||e.data))?(u=e.childType,c.fillNode(e,s.extractData(l,u?{model:u}:void 0)),d=[e.childNodes],i&&d.push.apply(d,i),Ext.callback(t,n||e,d)):c.read({node:e,onChildNodesAvailable:function(){delete c.lastOptions.onChildNodesAvailable,d=[e.childNodes],i&&d.push.apply(d,i),Ext.callback(t,n||e,d)}}))},onNodeExpand:function(e,t){var n=this,i=n.indexOf(e)+1,r=[];n.handleNodeExpand(e,t,r),n.refreshCounter||!e.isRoot()||e.get("visible")?n.insert(i,r):n.loadRecords(r)},handleNodeExpand:function(e,t,n){var i,r,o=this,a=t?t.length:0;if((e===this.getRoot()||o.isVisible(e))&&a)for(i=0;a>i;i++)r=t[i],r.get("visible")&&(n.push(r),r.isExpanded()&&(r.isLoaded()?o.handleNodeExpand(r,r.childNodes,n):(r.set("expanded",!1),r.expand())))},onNodeCollapse:function(e,t,n,i){var r,o,a,s,l=this,d=l.indexOf(e)+1;if(l.recursive||e===l.getRoot()){if(!l.remoteFilter&&l.getFilters().getCount()&&(t=Ext.Array.filter(t,l.filterVisible)),t.length&&l.data.contains(t[0])){for(r=e;r.parentNode;){for(a=r.nextSibling;a&&!a.get("visible");a=a.nextSibling);if(a){s=!0,o=l.indexOf(a);break}r=r.parentNode}s||(o=l.getCount()),l.removeAt(d,o-d)}Ext.callback(n,i)}},getNewRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterUpdated)},beforeNodeRemove:function(e,t){Ext.isArray(t)||(t=[t]);var n,i,r=t.length;for(n=0;r>n;n++)i=t[n],!i.isLeaf()&&i.isExpanded()&&this.onNodeCollapse(i,i.childNodes)},onNodeRemove:function(e,t,n){var i,r,o,a=this,s=a.removedNodes,l=t.length;for(a.remove(t,n),i=0;l>i;i++)r=t[i],o=!r.phantom,s&&!n&&o&&!a.loading&&(r.removedFrom=a.indexOf(r),s.push(r)),a.unregisterNode(r,!0)},onNodeAppend:function(e,t,n){this.onNodeInsert(e,t,n)},onNodeInsert:function(e,t,n){var i,r,o,a,s,l,d,u,c,h=this,f=t.raw||t.data;if(h.filterFn&&(u=h.filterFn(t),t.set("visible",u),u&&e.set("visible",h.filterFn(e))),h.registerNode(t,!0),t.join(h),h.beginUpdate(),h.isVisible(t)){if(0!==n&&t.previousSibling){for(r=t.previousSibling;r&&!r.get("visible");r=r.previousSibling);for(;r.isExpanded()&&r.lastChild;)r=r.lastChild;i=r}else i=e;h.insert(h.indexOf(i)+1,t),!t.isLeaf()&&t.isExpanded()&&(t.isLoaded()?h.onNodeExpand(t,t.childNodes):h.fillCount||(t.set("expanded",!1),t.expand()))}else h.needsSync=h.needsSync||t.phantom||t.dirty;t.isLeaf()||t.isLoaded()||h.lazyFill||(o=h.getProxy().getReader(),a=t.getProxy(),s=a?a.getReader():null,l=s&&s.initialConfig.rootProperty?s:o,d=l.getRoot(f),d&&(c=t.childType,h.fillNode(t,l.extractData(d,c?{model:c}:void 0)))),h.endUpdate()},afterEdit:function(e,t){-1!==this.getData().indexOf(e)&&this.callParent(arguments)},registerNode:function(e,t){var n,i,r,o=this;if(o.byIdMap[e.id]=e,o.byInternalIdMap[e.internalId]=e,t===!0)for(n=e.childNodes,i=n.length,r=0;i>r;r++)o.registerNode(n[r],!0)},unregisterNode:function(e,t){var n,i,r,o=this;if(delete o.byIdMap[e.id],delete o.byInternalIdMap[e.internalId],t===!0)for(n=e.childNodes,i=n.length,r=0;i>r;r++)o.unregisterNode(n[r],!0)},onNodeSort:function(e,t){var n=this;n.suspendAutoSync(),(-1!==n.indexOf(e)||e===n.getRoot()&&!n.rootVisible&&e.isExpanded())&&(Ext.suspendLayouts(),n.onNodeCollapse(e,t),n.onNodeExpand(e,t),Ext.resumeLayouts(!0)),n.resumeAutoSync(n.autoSync)},applyRoot:function(e){var t=this,n=t.getModel(),i=n.prototype.idProperty;return e&&!e.isNode&&(e=Ext.apply({text:t.defaultRootText,root:!0,isFirst:!0,isLast:!0,depth:0,index:0,parentId:null,allowDrag:!1},e),t.defaultRootId&&void 0===e[i]&&(e[i]=t.defaultRootId),e=new n(e)),e},updateRoot:function(e,t){var n,i=this;if(i.byIdMap={},i.byInternalIdMap={},i.getTrackRemoved(),i.suspendEvents(),i.getData().clear(),e)if(e.fireEventArgs("beforeappend",[null,e])===!1)e=null;else{if(n=e.parentNode){if(!n.removeChild(e,!1,!1,n.getTreeStore()===i))return}else(n=e.getTreeStore())&&n!==i&&e===n.getRoot()&&n.setRoot(null);e.set("root",!0),e.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null}),e.fireEvent("append",null,e,!1),e.fireEvent("rootchange",e),i.onNodeAppend(null,e,0)}return i.fireEvent("rootchange",e,t),t&&t.isModel&&(t.set("root",!1),i.remove(t),t.fireEvent("remove",null,t,!1),t.fireEvent("rootchange",null),t.unjoin(i)),i.resumeEvents(),!e||e.isLoaded()||i.autoLoad!==!0&&!e.isExpanded()?(i.fireEvent("datachanged",i),i.fireEvent("refresh",i)):(e.data.expanded=!1,e.expand()),e},getNodeById:function(e){var t=this.byIdMap[e];return t&&t.data.visible?t:void 0},load:function(e){e=e||{},e.params=e.params||{};var t,n=this,i=e.node||n.getRoot(),r=n.getProxy(),o=e.callback,a=e.scope;return i?(i.data.expanded&&(i.data.loaded=!1,n.clearOnLoad&&(i.data.expanded=!1),e.callback=function(){n.clearOnLoad||i.collapse(),i.expand(),Ext.callback(o,a,arguments)}),e.id=i.getId(),e=Ext.apply({filters:n.getFilters().items,sorters:n.getSorters().items,node:e.node||i,internalScope:n,internalCallback:n.onProxyLoad},e),n.lastOptions=Ext.apply({},e),t=r.createOperation("read",e),n.fireEvent("beforeload",n,t)!==!1&&(n.loading=!0,n.clearOnLoad&&(n.clearRemovedOnLoad&&n.clearRemoved(i),i.removeAll(!1)),t.execute()),n.loading&&i&&i.set("loading",!0),n):void n.setRoot({expanded:!0})},clearRemoved:function(e){var t,n,i,r=this,o=r.removedNodes,a=e.getId(),s=o.length,l=s,d={},u=[],c={};if(e===r.getRoot())return void(r.removedNodes=[]);for(;l--;)t=o[l],c[t.getId()]=t;for(l=s;l--;){for(t=o[l],n=t;n&&n.getId()!==a;)i=n.get("parentId"),n=n.parentNode||r.getNodeById(i)||c[i];n&&(d[t.getId()]=t)}for(l=0;s>l;l++)t=o[l],d[t.getId()]||u.push(t);r.removedNodes=u},fillNode:function(e,t){var n,i,r,o=this,a=t?t.length:0,s=o.getSorters(),l=!1,d=o.sortOnLoad&&a>1&&!o.remoteSort&&s&&s.items&&s.items.length;if(a){for(!o.remoteFilter&&o.getFilters().getCount()&&t[0].set("visible",o.filterFn(t[0])),n=1;!l&&a>n;n++)i=t[n],r=t[n-1],o.filterFn&&i.set("visible",o.filterFn(i)),l=i.data.index!==r.data.index;d?(l&&(o.indexSorter=s.insert(0,o.indexSorter)),Ext.Array.sort(t,s.getSortFn()),l&&s.remove(o.indexSorter)):l&&Ext.Array.sort(t,o.sortByIndex)}return e.set("loaded",!0),t.length&&e.appendChild(t,void 0,!0),t},beginFill:function(){var e=this;e.fillCount++||(e.beginUpdate(),e.suspendEvents(),e.suspendAutoSync(),e.fillArray=[])},endFill:function(e,t){var n,i,r,o=this;if(o.fillArray.push(t),!--o.fillCount){for(o.resumeAutoSync(),o.resumeEvents(),n=0,i=o.fillArray.length;i>n;n++)r=o.indexOf(o.fillArray[n][0]),-1!==r&&o.fireEvent("add",o,o.fillArray[n],r);o.fillArray=null,o.endUpdate()}},sortByIndex:function(e,t){return e.data.index-t.data.index},onIdChanged:function(e,t,n){var i,r=e.childNodes,o=r&&r.length;for(this.callParent(arguments),delete this.byIdMap[t],this.byIdMap[n]=e,i=0;o>i;i++)r[i].set("parentId",n)},onProxyLoad:function(e){var t=this,n=e.initialConfig,i=e.wasSuccessful(),r=e.getRecords(),o=n.node,a=e.getScope()||t,s=[r,e,i];t.isDestroyed||(t.loading=!1,o.set("loading",!1),i&&(t.clearOnLoad||(r=t.cleanRecords(o,r)),r=t.fillNode(o,r)),Ext.callback(n.onChildNodesAvailable,a,s),t.fireEvent("load",t,e.node,r,i))},cleanRecords:function(e,t){for(var n,i={},r=e.childNodes,o=0,a=r.length,s=[];a>o;++o)i[r[o].getId()]=!0;for(o=0,a=t.length;a>o;++o)n=t[o],i[n.getId()]||s.push(n);return s},removeAll:function(){this.suspendEvents(),this.setRoot(null),this.resumeEvents(),this.callParent()},doSort:function(e){var t=this;t.remoteSort?t.load():(t.tree.sort(e,!0),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),t.fireEvent("sort",t,t.sorters.getRange())},filterVisible:function(e){return e.get("visible")},isVisible:function(e){for(var t=e.parentNode,n=e.data.visible,i=this.getRoot();n&&t;)n=t.data.expanded&&t.data.visible,t=t.parentNode;return n&&!(e===i&&!this.rootVisible)},getRootNode:function(){return this.getRoot()},setRootNode:function(e){return this.setRoot(e),this.getRoot()},deprecated:{5:{properties:{tree:null}}}},function(){var e=this.prototype;e.indexSorter=new Ext.util.Sorter({sorterFn:e.sortByIndex})}),Ext.define("Ext.data.Types",{singleton:!0,requires:["Ext.data.SortTypes"]},function(e){var t=Ext.data.SortTypes;Ext.apply(e,{stripRe:/[\$,%]/g,AUTO:{sortType:t.none,type:"auto"},STRING:{convert:function(e){var t=this.getAllowNull()?null:"";return void 0===e||null===e?t:String(e)},sortType:t.asUCString,type:"string"},INT:{convert:function(t){return"number"==typeof t?parseInt(t):void 0!==t&&null!==t&&""!==t?parseInt(String(t).replace(e.stripRe,""),10):this.getAllowNull()?null:0},sortType:t.none,type:"int"},FLOAT:{
convert:function(t){return"number"==typeof t?t:void 0!==t&&null!==t&&""!==t?parseFloat(String(t).replace(e.stripRe,""),10):this.getAllowNull()?null:0},sortType:t.none,type:"float"},BOOL:{convert:function(e){return"boolean"==typeof e?e:!this.getAllowNull()||void 0!==e&&null!==e&&""!==e?"true"===e||1==e:null},sortType:t.none,type:"bool"},DATE:{convert:function(e){var t,n=this.getDateReadFormat()||this.getDateFormat();return e?e instanceof Date?e:n?Ext.Date.parse(e,n):(t=Date.parse(e),t?new Date(t):null):null},sortType:t.asDate,type:"date"}}),e.BOOLEAN=e.BOOL,e.INTEGER=e.INT,e.NUMBER=e.FLOAT}),Ext.define("Ext.data.Validation",{extend:"Ext.data.Model",isValidation:!0,syncGeneration:0,attach:function(e){this.record=e,delete this.data.id},getValidation:function(){return null},isValid:function(){var e=this;return e.syncGeneration!==e.record.generation&&e.refresh(),e.dirty},refresh:function(e){var t,n,i,r,o,a,s,l,d,u,c,h,f=this,g=f.data,p=f.record,m=p.fields,x=p.generation,E=p.validators,v=p.data,y=p.validationSeparator,b=null;if(e||f.syncGeneration!==x){for(f.syncGeneration=x,a=0,d=m.length;d>a;++a){if(r=m[a],h=r.name,c=v[h],t=r.defaultInvalidMessage,i=0,h in g?n=g[h]:g[h]=n=!0,r.validate!==Ext.emptyFn&&(u=r.validate(c,y),u!==!0&&(i=u||t)),(y||!i)&&E&&(o=E[h]))for(s=0,l=o.length;l>s;++s)if(u=o[s].validate(c,f),u!==!0)if(i)i+=y,i+=u||t;else if(i=u||t,!y)break;i||(i=!0),i!==n&&((b||(b={}))[h]=i)}b&&f.set(b)}}}),Ext.define("Ext.dom.Query",function(){function children(e){for(var t,n=e.firstChild,i=-1;n;)t=n.nextSibling,3!=n.nodeType||nonSpace.test(n.nodeValue)?n.nodeIndex=++i:e.removeChild(n),n=t;return this}function attrValue(e,t){return e.tagName||"undefined"==typeof e.length||(e=e[0]),e?"for"==t?e.htmlFor:"class"==t||"className"==t?e.className:e.getAttribute(t)||e[t]:null}function getNodes(e,t,n){var i,r,o,a,s,l,d,u,c,h=[],f=-1;if(!e)return h;if(n=n.replace("|",":")||"*","undefined"!=typeof e.getElementsByTagName&&(e=[e]),t){if("/"==t||">"==t)for(d=n.toUpperCase(),r=0;o=e[r];r++)for(l=o.childNodes,a=0;c=l[a];a++)(c.nodeName==d||c.nodeName==n||"*"==n)&&(h[++f]=c);else if("+"==t)for(d=n.toUpperCase(),r=0;u=e[r];r++){for(;(u=u.nextSibling)&&1!=u.nodeType;);!u||u.nodeName!=d&&u.nodeName!=n&&"*"!=n||(h[++f]=u)}else if("~"==t)for(d=n.toUpperCase(),r=0;u=e[r];r++)for(;u=u.nextSibling;)(u.nodeName==d||u.nodeName==n||"*"==n)&&(h[++f]=u)}else if(n=unescapeCssSelector(n),!supportsColonNsSeparator&&DQ.isXml(e[0])&&-1!==n.indexOf(":"))for(r=0;o=e[r];r++)for(i=o.getElementsByTagName(n.split(":").pop()),a=0;s=i[a];a++)s.tagName===n&&(h[++f]=s);else for(r=0;o=e[r];r++)for(i=o.getElementsByTagName(n),a=0;s=i[a];a++)h[++f]=s;return h}function concat(e,t){return e.push.apply(e,t),e}function byTag(e,t){if((e.tagName||e===doc)&&(e=[e]),!t)return e;var n,i,r=[],o=-1;for(t=t.toLowerCase(),n=0;i=e[n];n++)1==i.nodeType&&i.tagName.toLowerCase()==t&&(r[++o]=i);return r}function byId(e,t){if(t=unescapeCssSelector(t),(e.tagName||e===doc)&&(e=[e]),!t)return e;var n,i,r=[],o=-1;for(n=0;i=e[n];n++)if(i&&i.id==t)return r[++o]=i,r;return r}function byAttribute(e,t,n,i,r){var o,a,s,l,d,u=[],c=-1,h="{"==r,f=DQ.operators[i];for(n=unescapeCssSelector(n),l=0;d=e[l];l++)1===d.nodeType&&(s||(a=DQ.isXml(d),s=!0),o=a?d.getAttribute(t):h?DQ.getStyle(d,t):"class"==t||"className"==t?d.className:"for"==t?d.htmlFor:"href"==t?d.getAttribute("href",2):d.getAttribute(t),(f&&f(o,n)||!f&&o)&&(u[++c]=d));return u}function byPseudo(e,t,n){return n=unescapeCssSelector(n),DQ.pseudos[t](e,n)}function nodupIEXml(e){var t,n,i,r,o=++key;for(e[0].setAttribute("_nodup",o),t=[e[0]],n=1,i=e.length;i>n;n++)r=e[n],!r.getAttribute("_nodup")!=o&&(r.setAttribute("_nodup",o),t[t.length]=r);for(n=0,i=e.length;i>n;n++)e[n].removeAttribute("_nodup");return t}function nodup(e){if(!e)return[];var t,n,i,r,o,a=e.length,s=e,l=-1;if(!a||"undefined"!=typeof e.nodeType||1==a)return e;if(isIE&&"undefined"!=typeof e[0].selectSingleNode)return nodupIEXml(e);for(r=++key,e[0]._nodup=r,n=1;t=e[n];n++){if(t._nodup==r){for(s=[],o=0;n>o;o++)s[++l]=e[o];for(o=n+1;i=e[o];o++)i._nodup!=r&&(i._nodup=r,s[++l]=i);return s}t._nodup=r}return s}function quickDiffIEXml(e,t){var n,i,r=++key,o=[];for(n=0,i=e.length;i>n;n++)e[n].setAttribute("_qdiff",r);for(n=0,i=t.length;i>n;n++)t[n].getAttribute("_qdiff")!=r&&(o[o.length]=t[n]);for(n=0,i=e.length;i>n;n++)e[n].removeAttribute("_qdiff");return o}function quickDiff(e,t){var n,i,r=e.length,o=++key,a=[];if(!r)return t;if(isIE&&"undefined"!=typeof e[0].selectSingleNode)return quickDiffIEXml(e,t);for(n=0;r>n;n++)e[n]._qdiff=o;for(n=0,i=t.length;i>n;n++)t[n]._qdiff!=o&&(a[a.length]=t[n]);return a}function quickId(e,t,n,i){if(e==n){i=unescapeCssSelector(i);var r=n.ownerDocument||n;return r.getElementById(i)}return e=getNodes(e,t,"*"),byId(e,i)}var DQ,doc=document,cache,simpleCache,valueCache,useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=function(){var e=doc.createElement("div");return e.innerHTML="<!-- -->text<!-- -->",e.children&&0===e.children.length}(),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=window.ActiveXObject?!0:!1,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=function(){var e,t='<r><a:b xmlns:a="n"></a:b></r>';return window.DOMParser?e=(new DOMParser).parseFromString(t,"application/xml"):(e=new ActiveXObject("Microsoft.XMLDOM"),e.loadXML(t)),!!e.getElementsByTagName("a:b").length}(),longHexToChar=function(e,t){return String.fromCharCode(parseInt(t,16))},shortToLongHex=function(e,t){for(;t.length<6;)t="0"+t;return"\\"+t},charToLongHex=function(e,t){return num=t.charCodeAt(0).toString(16),1===num.length&&(num="0"+num),"\\0000"+num},unescapeCssSelector=function(e){return hasEscapes?e.replace(longHex,longHexToChar):e},setupEscapes=function(e){return hasEscapes=e.indexOf("\\")>-1,hasEscapes&&(e=e.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")),e};return eval("var batch = 30803, child, next, prev, byClassName;"),child=useChildrenCollection?function(e,t){return e.children[t]}:function(e,t){for(var n=0,i=e.firstChild;i;){if(1==i.nodeType&&++n==t)return i;i=i.nextSibling}return null},next=useElementPointer?function(e){return e.nextElementSibling}:function(e){for(;(e=e.nextSibling)&&1!=e.nodeType;);return e},prev=useElementPointer?function(e){return e.previousElementSibling}:function(e){for(;(e=e.previousSibling)&&1!=e.nodeType;);return e},byClassName=useClassList?function(e,t){if(t=unescapeCssSelector(t),!t)return e;var n,i,r,o=[],a=-1;for(n=0;i=e[n];n++)r=i.classList,r?r.contains(t)&&(o[++a]=i):-1!==(" "+i.className+" ").indexOf(t)&&(o[++a]=i);return o}:function(e,t){if(t=unescapeCssSelector(t),!t)return e;var n,i,r=[],o=-1;for(n=0;i=e[n];n++)-1!==(" "+i.className+" ").indexOf(t)&&(r[++o]=i);return r},{singleton:!0,alternateClassName:["Ext.core.DomQuery","Ext.DomQuery"],requires:["Ext.dom.Helper","Ext.util.Operators"],_init:function(){DQ=this,DQ.operators=Ext.Object.chain(Ext.util.Operators),DQ._cache=cache=new Ext.util.LruCache({maxSize:200}),DQ._valueCache=valueCache=new Ext.util.LruCache({maxSize:200}),DQ._simpleCache=simpleCache=new Ext.util.LruCache({maxSize:200})},clearCache:function(){cache.clear(),valueCache.clear(),simpleCache.clear()},getStyle:function(e,t){return Ext.fly(e,"_DomQuery").getStyle(t)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;for(path=setupEscapes(path),lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',path=path.replace(lmode[1],""));"/"==path.substr(0,1);)path=path.substr(1);for(;path&&lastPath!=path;){for(lastPath=path,tokenMatch=path.match(tagTokenRe),"select"==type?tokenMatch?("#"==tokenMatch[1]?fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");':fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],"")):"@"!=path.substr(0,1)&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tokenMatch&&("#"==tokenMatch[1]?fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");':fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],""));!(modeMatch=path.match(modeRe));){for(matched=!1,j=0;matchersLn>j;j++)if(t=matchers[j],m=path.match(t.re)){fn[fn.length]=t.select.replace(tplRe,function(e,t){return m[t]}),path=path.replace(m[0],""),matched=!0;break}matched||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}modeMatch[1]&&(fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";',path=path.replace(modeMatch[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},jsSelect:function(e,t,n){t=t||doc,"string"==typeof t&&(t=doc.getElementById(t));var i,r,o,a,s,l=Ext.splitAndUnescape(e,","),d=[];for(r=0,o=l.length;o>r;r++)a=l[r].replace(trimRe,""),i=cache.get(a),i?setupEscapes(a):(i=DQ.compile(a,n),i||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:a+" is not a valid selector"}),cache.add(a,i)),s=i(t),s&&s!==doc&&(d=d.concat(s));return l.length>1?nodup(d):d},isXml:function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1},select:doc.querySelectorAll?function(e,t,n,i){if(t=t||doc,!DQ.isXml(t))try{return t.parentNode&&9!==t.nodeType&&-1===e.indexOf(",")&&!startIdRe.test(e)&&(e=Ext.makeIdSelector(Ext.id(t))+" "+e,t=t.parentNode),i?[t.querySelector(e)]:Ext.Array.toArray(t.querySelectorAll(e))}catch(r){}return DQ.jsSelect.call(this,e,t,n)}:function(e,t,n){return DQ.jsSelect.call(this,e,t,n)},selectNode:function(e,t){return Ext.DomQuery.select(e,t,null,!0)[0]},selectValue:function(e,t,n){e=e.replace(trimRe,"");var i,r=valueCache.get(e);return r?setupEscapes(e):(r=DQ.compile(e,"select"),valueCache.add(e,r)),i=r(t),DQ.getNodeValue(i[0]?i[0]:i)},getNodeValue:function(e,t){"function"==typeof e.normalize&&e.normalize();var n=e&&e.firstChild?e.firstChild.nodeValue:null;return null===n||void 0===n||""===n?t:n},selectNumber:function(e,t,n){var i=DQ.selectValue(e,t,n||0);return parseFloat(i)},is:function(e,t){"string"==typeof e&&(e=doc.getElementById(e));var n=Ext.isArray(e),i=DQ.filter(n?e:[e],t);return n?i.length==e.length:i.length>0},filter:function(e,t,n){t=t.replace(trimRe,"");var i,r=simpleCache.get(t);return r?setupEscapes(t):(r=DQ.compile(t,"simple"),simpleCache.add(t,r)),i=r(e),n?quickDiff(i,e):i},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],pseudos:{"first-child":function(e){var t,n,i,r=[],o=-1;for(n=0;i=t=e[n];n++){for(;(t=t.previousSibling)&&1!=t.nodeType;);t||(r[++o]=i)}return r},"last-child":function(e){var t,n,i,r=[],o=-1;for(n=0;i=t=e[n];n++){for(;(t=t.nextSibling)&&1!=t.nodeType;);t||(r[++o]=i)}return r},"nth-child":function(e,t){var n,i,r,o,a,s=[],l=-1,d=nthRe.exec("even"==t&&"2n"||"odd"==t&&"2n+1"||!nthRe2.test(t)&&"n+"+t||t),u=(d[1]||1)-0,c=d[2]-0;for(n=0;i=e[n];n++){if(a=i.parentNode,batch!=a._batch){for(r=0,o=a.firstChild;o;o=o.nextSibling)1==o.nodeType&&(o.nodeIndex=++r);a._batch=batch}1==u?(0===c||i.nodeIndex==c)&&(s[++l]=i):(i.nodeIndex+c)%u===0&&(s[++l]=i)}return s},"only-child":function(e){var t,n,i=[],r=-1;for(t=0;n=e[t];t++)prev(n)||next(n)||(i[++r]=n);return i},empty:function(e){var t,n,i,r,o,a,s=[],l=-1;for(t=0;n=e[t];t++){for(i=n.childNodes,r=0,a=!0;o=i[r];)if(++r,1==o.nodeType||3==o.nodeType){a=!1;break}a&&(s[++l]=n)}return s},contains:function(e,t){var n,i,r=[],o=-1;for(n=0;i=e[n];n++)-1!=(i.textContent||i.innerText||i.text||"").indexOf(t)&&(r[++o]=i);return r},nodeValue:function(e,t){var n,i,r=[],o=-1;for(n=0;i=e[n];n++)i.firstChild&&i.firstChild.nodeValue==t&&(r[++o]=i);return r},checked:function(e){var t,n,i=[],r=-1;for(t=0;n=e[t];t++)n.checked===!0&&(i[++r]=n);return i},not:function(e,t){return DQ.filter(e,t,!0)},any:function(e,t){var n,i,r,o,a=t.split("|"),s=[],l=-1;for(i=0;r=e[i];i++)for(o=0;n=a[o];o++)if(DQ.is(r,n)){s[++l]=r;break}return s},odd:function(e){return this["nth-child"](e,"odd")},even:function(e){return this["nth-child"](e,"even")},nth:function(e,t){return e[t-1]||[]},first:function(e){return e[0]||[]},last:function(e){return e[e.length-1]||[]},has:function(e,t){var n,i,r=DQ.select,o=[],a=-1;for(n=0;i=e[n];n++)r(t,i).length>0&&(o[++a]=i);return o},next:function(e,t){var n,i,r,o=DQ.is,a=[],s=-1;for(n=0;i=e[n];n++)r=next(i),r&&o(r,t)&&(a[++s]=i);return a},prev:function(e,t){var n,i,r,o=DQ.is,a=[],s=-1;for(n=0;i=e[n];n++)r=prev(i),r&&o(r,t)&&(a[++s]=i);return a},focusable:function(e){for(var t,n=e.length,i=[],r=0;n>r;r++)t=e[r],Ext.fly(t,"_DomQuery").isFocusable()&&i.push(t);return i},visible:function(e,t){for(var n,i=e.length,r=[],o=0;i>o;o++)n=e[o],Ext.fly(n,"_DomQuery").isVisible(t)&&r.push(n);return r},isScrolled:function(e){var t,n,i,r=[],o=-1;for(t=0;n=e[t];t++)i=Ext.fly(n,"_DomQuery").getScroll(),(i.top>0||i.left>0)&&(r[++o]=n);return r}}}},function(){this._init()}),Ext.define("Ext.data.reader.Xml",{extend:"Ext.data.reader.Reader",requires:["Ext.dom.Query"],alternateClassName:"Ext.data.XmlReader",alias:"reader.xml",config:{record:"",namespace:""},createAccessor:function(e){var t=this;return Ext.isEmpty(e)?Ext.emptyFn:Ext.isFunction(e)?e:function(n){return t.getNodeValue(Ext.DomQuery.selectNode(e,n))}},getNodeValue:function(e){return e&&("function"==typeof e.normalize&&e.normalize(),e=e.firstChild)?e.nodeValue:void 0},getResponseData:function(e){var t=e.responseXML,n="XML data not found in the response";return t?t:(Ext.Logger.warn(n),this.createReadError(n))},getData:function(e){return e.documentElement||e},getRoot:function(e){var t=e.nodeName,n=this.getRootProperty();return!n||t&&t==n?e:Ext.DomQuery.isXml(e)?Ext.DomQuery.selectNode(n,e):void 0},extractData:function(e,t){var n=this.getRecord();return n||Ext.Error.raise("Record is a required parameter"),e=n!==e.nodeName?Ext.DomQuery.select(n,e):[e],this.callParent([e,t])},readRecords:function(e,t){return Ext.isArray(e)&&(e=e[0]),this.xmlData=e,this.callParent([e,t])},createFieldAccessor:function(e){var t,n,i=this,r=i.getNamespace();return t=e.mapping||(r?r+"|":"")+e.name,n="function"==typeof t?function(t){return e.mapping(t,i)}:function(e){return i.getNodeValue(Ext.DomQuery.selectNode(t,e))}}}),Ext.define("Ext.data.writer.Xml",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.XmlWriter",alias:"writer.xml",config:{documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record"},writeRecords:function(e,t){var n,i,r,o=this,a=[],s=0,l=t.length,d=o.getDocumentRoot(),u=o.getRecord(),c=1!==t.length;for(r=this.getTransform(),r&&(t=r(t,e)),a.push(o.getHeader()||""),!d&&c&&(d=o.getDefaultDocumentRoot()),d&&a.push("<",d,">");l>s;++s){n=t[s],a.push("<",u,">");for(i in n)n.hasOwnProperty(i)&&a.push("<",i,">",n[i],"</",i,">");a.push("</",u,">")}return d&&a.push("</",d,">"),e.setXmlData(a.join("")),e}}),Ext.define("Ext.data.XmlStore",{extend:"Ext.data.Store",alias:"store.xml",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Xml","Ext.data.writer.Xml"],constructor:function(e){e=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},e),this.callParent([e])}}),Ext.define("Ext.data.identifier.Negative",{extend:"Ext.data.identifier.Sequential",alias:"data.identifier.negative",config:{increment:-1,seed:-1}}),Ext.define("Ext.data.identifier.Uuid",{extend:"Ext.data.identifier.Generator",alias:"data.identifier.uuid",isUnique:!0,config:{id:null},constructor:function(e){this.callParent([e]),this.reconfigure(e)},reconfigure:function(e){var t=this.self;this.generate=e&&1===e.version?t.createSequential(e.salt,e.timestamp,e.clockSeq):t.createRandom()},clone:null,statics:{createRandom:function(){var e="xxxxxxxx-xxxx-4xxx-Rxxx-xMxxxxxxxxxx".split(""),t="0123456789abcdef".split(""),n=e.length,i=[];return function(){for(var r,o,a=0;n>a;++a)o=e[a],"-"!==o&&"4"!==o&&(r=16*Math.random(),r="R"===o?3&r|8:r|("M"===o?1:0),o=t[r]),i[a]=o;return i.join("")}},createSequential:function(e,t,n){var i=[],r=Math.pow(2,32),o=e.lo,a=e.hi,s=t.lo,l=t.hi,d=function(e,t){var n=e.toString(16).toLowerCase();return n.length>t?n=n.substring(n.length-t):n.length<t&&(n=Ext.String.leftPad(n,t,"0")),n};return"number"==typeof e&&(a=Math.floor(e/r),o=Math.floor(e-a*r)),"number"==typeof t&&(l=Math.floor(t/r),s=Math.floor(t-l*r)),a|=256,i[3]=d(128|n>>>8&63,2)+d(255&n,2),i[4]=d(a,4)+d(o,8),function(){return i[0]=d(s,8),i[1]=d(65535&l,4),i[2]=d(l>>>16&4095|4096,4),++s,s>=r&&(s=0,++l),i.join("-")}}}},function(){this.Global=new this({id:"uuid"})}),Ext.define("Ext.data.proxy.WebStorage",{extend:"Ext.data.proxy.Client",alternateClassName:"Ext.data.WebStorageProxy",requires:["Ext.data.identifier.Sequential"],config:{id:void 0},constructor:function(e){this.callParent(arguments),this.cache={},void 0===this.getStorageObject()&&Ext.Error.raise("Local Storage is not supported in this browser, please use another type of data proxy"),void 0===this.getId()&&Ext.Error.raise("No unique id was provided to the local storage proxy. See Ext.data.proxy.LocalStorage documentation for details"),this.initialize()},create:function(e){var t,n,i,r=this,o=e.getRecords(),a=o.length,s=r.getIds();for(e.setStarted(),void 0===r.isHierarchical&&(r.isHierarchical=!!o[0].isNode,r.isHierarchical&&r.getStorageObject().setItem(r.getTreeKey(),!0)),i=0;a>i;i++)n=o[i],n.phantom?(n.phantom=!1,t=r.getNextId()):t=n.getId(),r.setRecord(n,t),n.commit(),s.push(t);r.setIds(s),e.setSuccessful(!0)},read:function(e){var t,n,i,r,o,a,s,l,d,u,c,h,f,g=this,p=[],m=!0,x=g.getModel(),E=0;if(e.setStarted(),g.isHierarchical)p=g.getTreeData();else if(l=g.getIds(),d=l.length,c=e.getId())u=g.getRecord(c),null!==u&&(s=new x(u)),s?p.push(s):m=!1;else{for(i=e.getSorters(),n=e.getFilters(),r=e.getLimit(),t=[],h=0;d>h;h++)t.push(new x(g.getRecord(l[h])));for(i&&Ext.Array.sort(t,Ext.util.Sorter.createComparator(i)),h=e.getStart()||0;d>h;h++){if(s=t[h],a=!0,n)for(f=0,o=n.length;o>f;f++)a=n[f].filter(s);if(a&&(p.push(s),E++),r&&E===r)break}}m?(e.setResultSet(new Ext.data.ResultSet({records:p,total:p.length,loaded:!0})),e.setSuccessful(!0)):e.setException("Unable to load records")},update:function(e){var t,n,i,r=e.getRecords(),o=r.length,a=this.getIds();for(e.setStarted(),i=0;o>i;i++)t=r[i],this.setRecord(t),t.commit(),n=t.getId(),void 0!==n&&-1===Ext.Array.indexOf(a,n)&&a.push(n);this.setIds(a),e.setSuccessful(!0)},erase:function(e){var t,n=this,i=e.getRecords(),r=n.getIds(),o=r.length,a=[],s={},l=i.length;for(e.setStarted();l--;)Ext.apply(s,n.removeRecord(i[l]));for(l=0;o>l;l++)t=r[l],s[t]||a.push(t);n.setIds(a),e.setSuccessful(!0)},getRecord:function(e){var t=this,n=t.cache,i=n[e]?n[e]:Ext.decode(t.getStorageObject().getItem(t.getRecordKey(e)));return i?(n[e]=i,i[t.getModel().prototype.idProperty]=e,Ext.merge({},i)):null},setRecord:function(e,t){t?e.set("id",t,{commit:!0}):t=e.getId();for(var n,i,r,o,a=this,s=e.getData(),l={},d=a.getModel(),u=d.getFields(),c=u.length,h=0;c>h;h++)n=u[h],i=n.name,n.persist&&(l[i]=s[i]);delete l[d.prototype.idProperty],e.isNode&&1===e.get("depth")&&delete l.parentId,r=a.getStorageObject(),o=a.getRecordKey(t),a.cache[t]=l,r.removeItem(o),r.setItem(o,Ext.encode(l))},removeRecord:function(e){var t,n,i=this,r=e.getId(),o={};if(o[r]=e,i.getStorageObject().removeItem(i.getRecordKey(r)),delete i.cache[r],e.childNodes)for(n=e.childNodes,t=n.length;t--;)Ext.apply(o,i.removeRecord(n[t]));return o},getRecordKey:function(e){return e.isModel&&(e=e.getId()),Ext.String.format("{0}-{1}",this.getId(),e)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.getId())},getTreeKey:function(){return Ext.String.format("{0}-tree",this.getId())},getIds:function(){var e,t=this,n=(t.getStorageObject().getItem(t.getId())||"").split(","),i=n.length,r=this.getIdField().isStringField;if(1===i&&""===n[0])n=[];else for(e=0;i>e;e++)n[e]=r?n[e]:+n[e];return n},getIdField:function(){return this.getModel().prototype.idField},setIds:function(e){var t=this.getStorageObject(),n=e.join(","),i=this.getId();t.removeItem(i),Ext.isEmpty(n)||t.setItem(i,n)},getNextId:function(){var e,t=this,n=t.getStorageObject(),i=t.getRecordCounterKey(),r=t.getIdField().isStringField;return e=t.idGenerator.generate(),n.setItem(i,e),r&&(e+=""),e},getTreeData:function(){for(var e,t,n,i,r,o,a=this,s=a.getIds(),l=s.length,d=[],u={},c=[],h=0,f=a.getModel(),g=f.prototype.idProperty;l>h;h++)o=s[h],t=a.getRecord(o),d.push(t),u[o]=t,t.parentId||c.push(t);for(e=c.length,Ext.Array.sort(d,a.sortByParentId),h=e;l>h;h++)t=d[h],i=t.parentId,n&&n[g]===i||(n=u[i],n.children=r=[]),r.push(t);for(h=l;h--;)t=d[h],t.children||t.leaf||(t.loaded=!0);for(h=e;h--;)t=c[h],c[h]=new f(t);return c},sortByParentId:function(e,t){return(e.parentId||0)-(t.parentId||0)},initialize:function(){var e=this,t=e.getStorageObject(),n=+t.getItem(e.getRecordCounterKey()),i=e.getId();t.setItem(i,t.getItem(i)||""),t.getItem(e.getTreeKey())&&(e.isHierarchical=!0),e.idGenerator=new Ext.data.identifier.Sequential({seed:n?n+1:1})},clear:function(){var e,t=this,n=t.getStorageObject(),i=t.getIds(),r=i.length;for(e=0;r>e;e++)n.removeItem(t.getRecordKey(i[e]));n.removeItem(t.getRecordCounterKey()),n.removeItem(t.getTreeKey()),n.removeItem(t.getId()),t.cache={}},getStorageObject:function(){Ext.Error.raise("The getStorageObject function has not been defined in your Ext.data.proxy.WebStorage subclass")}}),Ext.define("Ext.data.proxy.LocalStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}}),Ext.define("Ext.data.proxy.Rest",{extend:"Ext.data.proxy.Ajax",alternateClassName:"Ext.data.RestProxy",alias:"proxy.rest",defaultActionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},slashRe:/\/$/,periodRe:/\.$/,config:{appendId:!0,format:null,batchActions:!1,actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"}},buildUrl:function(e){var t,n,i=this,r=e.getOperation(),o=r.getRecords(),a=o?o[0]:null,s=i.getFormat(),l=i.getUrl(e);return t=a&&!a.phantom?a.getId():r.getId(),i.getAppendId()&&i.isValidId(t)&&(l.match(i.slashRe)||(l+="/"),l+=t,n=e.getParams(),n&&delete n[i.getIdParam()]),s&&(l.match(i.periodRe)||(l+="."),l+=s),e.setUrl(l),i.callParent([e])},isValidId:function(e){return e||0===e}}),Ext.define("Ext.data.proxy.SessionStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.sessionstorage",alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}}),Ext.define("Ext.data.proxy.Sql",{alias:"proxy.sql",extend:"Ext.data.proxy.Client",alternateClassName:"Ext.data.proxy.SQL",isSQLProxy:!0,config:{reader:null,writer:null,table:null,database:"Sencha",columns:"",uniqueIdStrategy:!1,tableExists:!1,defaultDateFormat:"Y-m-d H:i:s.u"},updateModel:function(e){if(e){var t=e.modelName,n=this.getDefaultDateFormat(),i=t.slice(t.lastIndexOf(".")+1);e.getFields().each(function(e){e.isDateField&&!e.getDateFormat()&&(e.dateFormat=n)}),this.setUniqueIdStrategy(e.getIdentifier().isUnique),this.getTable()||this.setTable(i),this.setColumns(this.getPersistedModelColumns(e))}this.callParent(arguments)},setException:function(e,t){e.setException(t)},create:function(e,t,n){var i=this,r=i.getDatabaseObject(),o=e.getRecords(),a=i.getTableExists();e.setStarted(),r.transaction(function(t){a||i.createTable(t),i.insertRecords(o,t,function(t,n){e.process(e.getAction(),t)===!1&&i.fireEvent("exception",i,e),n&&e.setException(n)},i)},function(r,o){i.setException(e,o),"function"==typeof t&&t.call(n||i,e)},function(r){"function"==typeof t&&t.call(n||i,e)})},read:function(e,t,n){var i,r,o,a=this,s=a.getDatabaseObject(),l=a.getModel(),d=l.getIdProperty(),u=a.getTableExists(),c=e.getParams()||{},h=c[d],f=e.getSorters(),g=e.getFilters(),p=e.getPage(),m=e.getStart(),x=e.getLimit();c=Ext.apply(c,{page:p,start:m,limit:x,sorters:f,filters:g}),e.setStarted(),s.transaction(function(t){u||a.createTable(t),a.selectRecords(t,void 0!==h?h:c,function(t,n){if(e.process(e.getAction(),t)===!1&&a.fireEvent("exception",a,e),n&&e.setException(n),g&&g.length){for(i=Ext.create("Ext.util.Collection",function(e){return e.getId()}),i.setFilterRoot("data"),r=0,o=g.length;o>r;r++)null===g[r].getProperty()&&i.addFilter(g[r]);i.addAll(e.getRecords()),e.setRecords(i.items.slice()),t.setRecords(e.getRecords()),t.setCount(i.items.length),t.setTotal(i.items.length)}})},function(i,r){a.setException(e,r),"function"==typeof t&&t.call(n||a,e)},function(i){"function"==typeof t&&t.call(n||a,e)})},update:function(e,t,n){var i=this,r=e.getRecords(),o=i.getDatabaseObject(),a=i.getTableExists();e.setStarted(),o.transaction(function(t){a||i.createTable(t),i.updateRecords(t,r,function(t,n){e.process(e.getAction(),t)===!1&&i.fireEvent("exception",i,e),n&&e.setException(n)})},function(r,o){i.setException(e,o),"function"==typeof t&&t.call(n||i,e)},function(r){"function"==typeof t&&t.call(n||i,e)})},erase:function(e,t,n){var i=this,r=e.getRecords(),o=i.getDatabaseObject(),a=i.getTableExists();e.setStarted(),o.transaction(function(t){a||i.createTable(t),i.destroyRecords(t,r,function(t,n){e.process(e.getAction(),t)===!1&&i.fireEvent("exception",i,e),n&&e.setException(n)})},function(r,o){i.setException(e,o),"function"==typeof t&&t.call(n||i,e)},function(r){"function"==typeof t&&t.call(n||i,e)})},createTable:function(e){e.executeSql("CREATE TABLE IF NOT EXISTS "+this.getTable()+" ("+this.getSchemaString()+")"),this.setTableExists(!0)},insertRecords:function(e,t,n,i){var r,o,a,s,l=this,d=l.getTable(),u=l.getColumns(),c=e.length,h=0,f=[],g=[],p=[],m=l.getUniqueIdStrategy();for(s=new Ext.data.ResultSet({records:g,success:!0}),r=0,o=u.length;o>r;r++)f.push("?");a=f.join(", "),Ext.each(e,function(e){var r=e.getId(),o=l.getRecordData(e),f=l.getColumnValues(u,o);t.executeSql("INSERT INTO "+d+" ("+u.join(", ")+") VALUES ("+a+")",f,function(e,t){h++,g.push({clientId:r,id:m?r:t.insertId,data:o,node:o}),h===c&&"function"==typeof n&&n.call(i||l,s,p.length>0?p:null)},function(e,t){h++,p.push({clientId:r,error:t}),h===c&&"function"==typeof n&&n.call(i||l,s,p)})})},selectRecords:function(e,t,n,i){var r,o,a,s,l,d,u,c,h,f,g=this,p=g.getTable(),m=g.getModel().getIdProperty(),x="SELECT * FROM "+p,E=[],v=" WHERE ",y=" ORDER BY ";if(s=new Ext.data.ResultSet({records:E,success:!0}),Ext.isObject(t)){if(o=t.filters&&t.filters.length)for(r=0;o>r;r++)u=t.filters[r],h=u.getProperty(),f=u.getValue(),null!==h&&(x+=v+h+" "+(u.getAnyMatch()?"LIKE '%"+f+"%'":"= '"+f+"'"),v=" AND ");if(o=t.sorters&&t.sorters.length)for(r=0;o>r;r++)c=t.sorters[r],h=c.getProperty(),null!==h&&(x+=y+h+" "+c.getDirection(),y=", ");void 0!==t.page&&(x+=" LIMIT "+parseInt(t.start,10)+", "+parseInt(t.limit,10))}else x+=v+m+" = "+t;e.executeSql(x,null,function(e,t){for(d=t.rows,l=d.length,r=0,o=l;o>r;r++)a=d.item(r),E.push({clientId:null,id:a[m],data:a,node:a});s.setSuccess(!0),s.setTotal(l),s.setCount(l),"function"==typeof n&&n.call(i||g,s)},function(e,t){s.setSuccess(!1),s.setTotal(0),s.setCount(0),"function"==typeof n&&n.call(i||g,s,t)})},updateRecords:function(e,t,n,i){var r,o,a,s=this,l=s.getTable(),d=s.getColumns(),u=t.length,c=s.getModel().getIdProperty(),h=0,f=[],g=[];a=new Ext.data.ResultSet({records:f,success:!0}),Ext.each(t,function(t){var p=t.getId(),m=s.getRecordData(t),x=s.getColumnValues(d,m),E=[];for(r=0,o=d.length;o>r;r++)E.push(d[r]+" = ?");e.executeSql("UPDATE "+l+" SET "+E.join(", ")+" WHERE "+c+" = ?",x.concat(p),function(e,t){h++,f.push({clientId:p,id:p,data:m,node:m}),h===u&&"function"==typeof n&&n.call(i||s,a,g.length>0?g:null)},function(e,t){h++,g.push({clientId:p,error:t}),h===u&&"function"==typeof n&&n.call(i||s,a,g)})})},destroyRecords:function(e,t,n,i){var r,o,a,s,l=this,d=l.getTable(),u=l.getModel().getIdProperty(),c=[],h=[],f=[];for(r=0,o=t.length;o>r;r++)c.push(u+" = ?"),h.push(t[r].getId());a=new Ext.data.ResultSet({records:f,success:!0}),e.executeSql("DELETE FROM "+d+" WHERE "+c.join(" OR "),h,function(e,d){for(r=0,o=t.length;o>r;r++)s=t[r],f.push({id:s.getId()});"function"==typeof n&&n.call(i||l,a)},function(e,t){"function"==typeof n&&n.call(i||l,a,t)})},getRecordData:function(e){var t,n,i=this,r=e.getFields(),o=e.getIdProperty(),a=i.getUniqueIdStrategy(),s={};return r.each(function(r){if(r.persist){if(t=r.name,t===o&&!a)return;n=e.get(t),r.isDateField&&(n=i.writeDate(r,n)),s[t]=n}},i),s},getColumnValues:function(e,t){var n,i,r,o=e.length,a=[];for(n=0;o>n;n++)i=e[n],r=t[i],void 0!==r&&a.push(r);return a},getSchemaString:function(){var e,t,n,i,r=this,o=[],a=r.getModel(),s=a.getIdProperty(),l=a.getFields().items,d=r.getUniqueIdStrategy(),u=l.length;for(e=0;u>e;e++)t=l[e],n=t.getType(),i=t.name,i===s?d?(n=r.convertToSqlType(n),o.unshift(s+" "+n)):o.unshift(s+" INTEGER PRIMARY KEY AUTOINCREMENT"):(n=r.convertToSqlType(n),o.push(i+" "+n));return o.join(", ")},getPersistedModelColumns:function(e){var t,n,i,r=e.getFields().items,o=this.getUniqueIdStrategy(),a=e.getIdProperty(),s=[],l=r.length;for(t=0;l>t;t++)n=r[t],i=n.name,(i!==a||o)&&n.persist&&s.push(n.name);return s},convertToSqlType:function(e){switch(e.toLowerCase()){case"date":case"string":case"auto":return"TEXT";case"int":return"INTEGER";case"float":return"REAL";case"bool":return"NUMERIC"}},writeDate:function(e,t){if(Ext.isEmpty(t))return null;var n=e.getDateFormat()||this.getDefaultDateFormat();switch(n){case"timestamp":return t.getTime()/1e3;case"time":return t.getTime();default:return Ext.Date.format(t,n)}},dropTable:function(e){var t=this,n=t.getTable(),i=e?e.callback:null,r=e?e.scope||t:null,o=t.getDatabaseObject();o.transaction(function(e){e.executeSql("DROP TABLE "+n)},function(e,o){"function"==typeof i&&i.call(r||t,!1,n,o)},function(e){"function"==typeof i&&i.call(r||t,!0,n)}),t.setTableExists(!1)},getDatabaseObject:function(){return openDatabase(this.getDatabase(),"1.0","Sencha Database",5242880)}}),Ext.define("Ext.data.validator.Bound",{extend:"Ext.data.validator.Validator",alias:"data.validator.bound",type:"bound",config:{min:void 0,max:void 0,emptyMessage:"Must be present",minOnlyMessage:null,maxOnlyMessage:null,bothOnlyMessage:null},constructor:function(){var e=this;e.preventConfigure=!0,e.callParent(arguments),delete e.preventConfigure,e.configure()},setConfig:function(){var e=this;e.preventConfigure=!0,e.callParent(arguments),delete e.preventConfigure,e.configure()},configure:function(){var e,t,n,i,r=this;r.preventConfigure||(n=r.getMin(),i=r.getMax(),e=r.hasMin=void 0!==n,t=r.hasMax=void 0!==i,e&&t?r._bothMsg=Ext.String.format(r.getBothMessage(),n,i):e?r._minMsg=Ext.String.format(r.getMinOnlyMessage(),n):t&&(r._maxMsg=Ext.String.format(r.getMaxOnlyMessage(),i)))},updateMin:function(){this.configure()},updateMax:function(){this.configure()},updateMinOnlyMessage:function(e){this.configure()},updateMaxOnlyMessage:function(){this.configure()},updateBothMessage:function(){this.configure()},validate:function(e){var t=this,n=t.hasMin,i=t.hasMax,r=t.getMin(),o=t.getMax(),a=!0;return void 0===e||null===e?t.getEmptyMessage():(e=t.getValue(e),n&&i?(r>e||e>o)&&(a=t._bothMsg):n?r>e&&(a=t._minMsg):i&&e>o&&(a=t._maxMsg),a)},getValue:Ext.identityFn}),Ext.define("Ext.data.validator.Format",{extend:"Ext.data.validator.Validator",alias:"data.validator.format",type:"format",config:{message:"Is in the wrong format",matcher:void 0},constructor:function(){this.callParent(arguments),
this.getMatcher()||Ext.Error.raise("validator.Format must be configured with a matcher")},validate:function(e){var t=this.getMatcher(),n=t&&t.test(e);return n?n:this.getMessage()}}),Ext.define("Ext.data.validator.Email",{extend:"Ext.data.validator.Format",alias:"data.validator.email",type:"email",config:{message:"Is not a valid email address",matcher:/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+\/=?\^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/}}),Ext.define("Ext.data.validator.List",{extend:"Ext.data.validator.Validator",alias:"data.validator.list",type:"list",config:{list:null},inclusion:null,validate:function(e){var t,n=Ext.Array.contains(this.getList(),e),i=this.inclusion,r=!i;return t=i&&n||r&&!n,t||this.getMessage()}}),Ext.define("Ext.data.validator.Exclusion",{extend:"Ext.data.validator.List",alias:"data.validator.exclusion",type:"exclusion",config:{message:"Is a value that has been excluded"},constructor:function(){this.callParent(arguments),this.getList()||Ext.Error.raise("validator.Exclusion requires a list")},inclusion:!1}),Ext.define("Ext.data.validator.Inclusion",{extend:"Ext.data.validator.List",alias:"data.validator.inclusion",type:"inclusion",config:{message:"Is not in the list of acceptable values"},constructor:function(){this.callParent(arguments),this.getList()||Ext.Error.raise("validator.Inclusion requires a list")},inclusion:!0}),Ext.define("Ext.data.validator.Length",{extend:"Ext.data.validator.Bound",alias:"data.validator.length",type:"length",config:{minOnlyMessage:"Length must be greater than {0}",maxOnlyMessage:"Length must be less than {0}",bothMessage:"Length must be between {0} and {1}"},getValue:function(e){return String(e).length}}),Ext.define("Ext.data.validator.Presence",{extend:"Ext.data.validator.Validator",alias:"data.validator.presence",type:"presence",config:{message:"Must be present"},validate:function(e){var t=!(void 0===e||null===e);return t?!0:this.getMessage()}}),Ext.define("Ext.data.validator.Range",{extend:"Ext.data.validator.Bound",alias:"data.validator.range",type:"range",config:{minOnlyMessage:"Must be greater than {0}",maxOnlyMessage:"Must be less than {0}",bothMessage:"Must be between {0} and {1}"}}),Ext.define("Ext.direct.Event",{alias:"direct.event",status:!0,constructor:function(e){Ext.apply(this,e)},getName:function(){return this.name},getData:function(){return this.data}}),Ext.define("Ext.direct.RemotingEvent",{extend:"Ext.direct.Event",alias:"direct.rpc",getTransaction:function(){var e=this;return e.transaction||Ext.direct.Manager.getTransaction(e.tid)}}),Ext.define("Ext.direct.ExceptionEvent",{extend:"Ext.direct.RemotingEvent",alias:"direct.exception",status:!1}),Ext.define("Ext.direct.Provider",{alias:"direct.provider",mixins:{observable:"Ext.util.Observable"},isProvider:!0,constructor:function(e){var t=this;Ext.apply(t,e),Ext.applyIf(t,{id:Ext.id(null,"provider-")}),t.mixins.observable.constructor.call(t,e)},isConnected:function(){return!1},connect:Ext.emptyFn,disconnect:Ext.emptyFn}),Ext.define("Ext.direct.JsonProvider",{extend:"Ext.direct.Provider",alias:"direct.jsonprovider",uses:["Ext.direct.ExceptionEvent","Ext.direct.Manager"],parseResponse:function(e){return Ext.isEmpty(e.responseText)?null:Ext.isObject(e.responseText)?e.responseText:Ext.decode(e.responseText)},createEvents:function(e){var t,n,i,r=this,o=null,a=[];try{o=r.parseResponse(e)}catch(s){return t=new Ext.direct.ExceptionEvent({data:s,xhr:e,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+s}),[t]}if(Ext.isArray(o))for(n=0,i=o.length;i>n;++n)a.push(r.createEvent(o[n]));else Ext.isObject(o)&&a.push(r.createEvent(o));return a},createEvent:function(e){return"object"==typeof e&&"type"in e?Ext.create("direct."+e.type,e):new Ext.direct.ExceptionEvent({data:e,code:Ext.direct.Manager.exceptions.DATA,message:"Invalid data: event type is not specified"})}}),Ext.define("Ext.direct.PollingProvider",{extend:"Ext.direct.JsonProvider",alias:"direct.pollingprovider",requires:["Ext.Ajax","Ext.util.DelayedTask"],uses:["Ext.direct.ExceptionEvent","Ext.direct.Manager"],interval:3e3,isConnected:function(){return!!this.pollTask},connect:function(){var e=this,t=e.url;t&&!e.pollTask?(e.pollTask=Ext.TaskManager.start({run:e.runPoll,interval:e.interval,scope:e}),e.fireEvent("connect",e)):t||Ext.Error.raise("Error initializing PollingProvider, no url configured.")},disconnect:function(){var e=this;e.pollTask&&(Ext.TaskManager.stop(e.pollTask),delete e.pollTask,e.fireEvent("disconnect",e))},runPoll:function(){var e=this,t=e.url;e.fireEvent("beforepoll",e)!==!1&&(Ext.isFunction(t)?t(e.baseParams):Ext.Ajax.request({url:t,callback:e.onData,scope:e,params:e.baseParams}),e.fireEvent("poll",e))},onData:function(e,t,n){var i,r,o,a=this;if(t)for(o=a.createEvents(n),i=0,r=o.length;r>i;++i)a.fireEvent("data",a,o[i]);else o=new Ext.direct.ExceptionEvent({data:null,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:n}),a.fireEvent("data",a,o)}}),Ext.define("Ext.direct.RemotingMethod",{constructor:function(e){var t,n,i,r,o=this,a=Ext.isDefined(e.params)?e.params:e.len;if(o.name=e.name,o.formHandler=e.formHandler,Ext.isNumeric(a))o.len=a,o.ordered=!0;else for(o.strict=void 0!==e.strict?e.strict:!0,o.params={},n=a.length,i=0;n>i;i++)r=a[i],t=Ext.isObject(r)?r.name:r,o.params[t]=!0},getArgs:function(e,t,n){var i,r,o=this,a=[];if(o.ordered){if(o.len>0)if(t)for(i=0,r=t.length;r>i;i++)a.push(e[t[i]]);else n&&a.push(e)}else a.push(e);return a},getCallData:function(e){var t,n,i,r,o=this,a=null,s=o.len,l=o.params,d=o.strict;if(o.ordered)t=e[s],n=e[s+1],r=e[s+2],0!==s&&(a=e.slice(0,s));else if(a=Ext.apply({},e[0]),t=e[1],n=e[2],r=e[3],d)for(i in a)a.hasOwnProperty(i)&&!l[i]&&delete a[i];return{data:a,callback:t,scope:n,options:r}}}),Ext.define("Ext.direct.Transaction",{alias:"direct.transaction",alternateClassName:"Ext.Direct.Transaction",statics:{TRANSACTION_ID:0},constructor:function(e){var t=this;Ext.apply(t,e),t.id=t.tid=++t.self.TRANSACTION_ID,t.retryCount=0},send:function(){var e=this;e.provider.queueTransaction(e)},retry:function(){var e=this;e.retryCount++,e.send()},getProvider:function(){return this.provider}}),Ext.define("Ext.direct.RemotingProvider",{extend:"Ext.direct.JsonProvider",alias:"direct.remotingprovider",requires:["Ext.util.MixedCollection","Ext.util.DelayedTask","Ext.direct.Transaction","Ext.direct.RemotingMethod"],enableBuffer:10,maxRetries:1,constructor:function(e){var t=this;t.callParent(arguments),t.namespace=Ext.isString(t.namespace)?Ext.ns(t.namespace):t.namespace||Ext.global,t.transactions=new Ext.util.MixedCollection,t.callBuffer=[]},getNamespace:function(e,t){var n,i,r,o;for(e=e||Ext.global,n=t.toString().split("."),r=0,o=n.length;o>r;r++)if(i=n[r],e=e[i],"undefined"==typeof e)return e;return e},createNamespaces:function(e,t){var n,i;e=e||Ext.global,n=t.toString().split(".");for(var r=0,o=n.length;o>r;r++)i=n[r],e[i]=e[i]||{},e=e[i];return e},initAPI:function(){var e,t,n,i,r,o,a=this,s=a.actions,l=a.namespace;for(e in s)if(s.hasOwnProperty(e))for(a.disableNestedActions?(t=l[e],t||(t=l[e]={})):(t=a.getNamespace(l,e),t||(t=a.createNamespaces(l,e))),n=s[e],i=0,r=n.length;r>i;++i)o=new Ext.direct.RemotingMethod(n[i]),t[o.name]=a.createHandler(e,o)},createHandler:function(e,t){var n,i=this,r=Array.prototype.slice;return n=t.formHandler?function(n,o,a){i.configureFormRequest(e,t,r.call(arguments,0))}:function(){i.configureRequest(e,t,r.call(arguments,0))},n.directCfg={action:e,method:t},n},isConnected:function(){return!!this.connected},connect:function(){var e=this;e.url?(e.initAPI(),e.connected=!0,e.fireEvent("connect",e)):e.url||Ext.Error.raise('Error initializing RemotingProvider "'+e.id+'", no url configured.')},disconnect:function(){var e=this;e.connected&&(e.connected=!1,e.fireEvent("disconnect",e))},runCallback:function(e,t){var n,i,r,o=!!t.status,a=o?"success":"failure";e&&e.callback&&(n=e.callback,i=e.callbackOptions,r="undefined"!=typeof t.result?t.result:t.data,Ext.isFunction(n)?n(r,t,o,i):(Ext.callback(n[a],n.scope,[r,t,o,i]),Ext.callback(n.callback,n.scope,[r,t,o,i])))},onData:function(e,t,n){var i,r,o,a,s,l,d=this;if(t)for(o=d.createEvents(n),i=0,r=o.length;r>i;++i)a=o[i],s=d.getTransaction(a),d.fireEvent("data",d,a),s&&d.fireEvent("beforecallback",d,a,s)!==!1&&(d.runCallback(s,a,!0),Ext.direct.Manager.removeTransaction(s));else for(l=[].concat(e.transaction),i=0,r=l.length;r>i;++i)s=d.getTransaction(l[i]),s&&s.retryCount<d.maxRetries?s.retry():(a=new Ext.direct.ExceptionEvent({data:null,transaction:s,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:n}),d.fireEvent("data",d,a),s&&d.fireEvent("beforecallback",d,s)!==!1&&(d.runCallback(s,a,!1),Ext.direct.Manager.removeTransaction(s)))},getTransaction:function(e){return e&&e.tid?Ext.direct.Manager.getTransaction(e.tid):null},configureRequest:function(e,t,n){var i,r,o,a,s,l,d,u=this;i=t.getCallData(n),r=i.data,o=i.callback,a=i.scope,s=i.options||{},d=Ext.apply({},{provider:u,args:n,action:e,method:t.name,data:r,callbackOptions:s,callback:a&&Ext.isFunction(o)?Ext.Function.bind(o,a):o}),s.timeout&&Ext.applyIf(d,{timeout:s.timeout}),l=new Ext.direct.Transaction(d),u.fireEvent("beforecall",u,l,t)!==!1&&(Ext.direct.Manager.addTransaction(l),u.queueTransaction(l),u.fireEvent("call",u,l,t))},getCallData:function(e){return{action:e.action,method:e.method,data:e.data,type:"rpc",tid:e.id}},sendRequest:function(e){var t,n,i,r,o,a=this,s=a.enableUrlEncode;if(t={url:a.url,callback:a.onData,scope:a,transaction:e,timeout:a.timeout},e.timeout&&(t.timeout=e.timeout),Ext.isArray(e))for(n=[],r=0,o=e.length;o>r;++r)n.push(a.getCallData(e[r]));else n=a.getCallData(e);s?(i={},i[Ext.isString(s)?s:"data"]=Ext.encode(n),t.params=i):t.jsonData=n,Ext.Ajax.request(t)},queueTransaction:function(e){var t=this,n=t.enableBuffer;return e.form?void t.sendFormRequest(e):n===!1||"undefined"!=typeof e.timeout?void t.sendRequest(e):(t.callBuffer.push(e),void(n?(t.callTask||(t.callTask=new Ext.util.DelayedTask(t.combineAndSend,t)),t.callTask.delay(Ext.isNumber(n)?n:10)):t.combineAndSend()))},combineAndSend:function(){var e=this,t=e.callBuffer,n=t.length;n>0&&(e.sendRequest(1==n?t[0]:t),e.callBuffer=[])},configureFormRequest:function(e,t,n){var i,r,o,a=this,s=n[0],l=n[1],d=n[2];i=new Ext.direct.Transaction({provider:a,action:e,method:t.name,args:[s,l,d],callback:d&&Ext.isFunction(l)?Ext.Function.bind(l,d):l,isForm:!0}),a.fireEvent("beforecall",a,i,t)!==!1&&(Ext.direct.Manager.addTransaction(i),r="multipart/form-data"==String(s.getAttribute("enctype")).toLowerCase(),o={extTID:i.id,extAction:e,extMethod:t.name,extType:"rpc",extUpload:String(r)},Ext.apply(i,{form:Ext.getDom(s),isUpload:r,params:l&&Ext.isObject(l.params)?Ext.apply(o,l.params):o}),a.fireEvent("call",a,i,t),a.sendFormRequest(i))},sendFormRequest:function(e){var t=this;Ext.Ajax.request({url:t.url,params:e.params,callback:t.onData,scope:t,form:e.form,isUpload:e.isUpload,transaction:e})}}),Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:"Ext.dom.CompositeElementLite",isLite:!1,getElement:function(e){return e},transformElement:function(e){return Ext.get(e)}}),Ext.define("Ext.util.paintmonitor.Abstract",{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:"",monitorClass:"",constructor:function(e){this.onElementPainted=Ext.Function.bind(this.onElementPainted,this),this.initConfig(e)},bindListeners:function(e){this.monitorElement[e?"addEventListener":"removeEventListener"](this.eventName,this.onElementPainted,!0)},applyElement:function(e){return e?Ext.get(e):void 0},updateElement:function(e){this.monitorElement=Ext.Element.create({classList:["x-paint-monitor",this.monitorClass]},!0),e.appendChild(this.monitorElement),e.addCls("x-paint-monitored"),this.bindListeners(!0)},onElementPainted:function(){},destroy:function(){var e=this.monitorElement,t=e.parentNode,n=this.getElement();this.bindListeners(!1),delete this.monitorElement,n&&!n.isDestroyed&&(n.removeCls("x-paint-monitored"),delete this._element),t&&t.removeChild(e),this.callSuper()}}),Ext.define("Ext.util.paintmonitor.CssAnimation",{extend:"Ext.util.paintmonitor.Abstract",eventName:Ext.browser.is.WebKit?"webkitAnimationEnd":"animationend",monitorClass:"cssanimation",onElementPainted:function(e){"x-paint-monitor-helper"===e.animationName&&this.getCallback().apply(this.getScope(),this.getArgs())}}),Ext.define("Ext.util.paintmonitor.OverflowChange",{extend:"Ext.util.paintmonitor.Abstract",eventName:Ext.browser.is.Firefox?"overflow":"overflowchanged",monitorClass:"overflowchange",onElementPainted:function(e){this.getCallback().apply(this.getScope(),this.getArgs())}}),Ext.define("Ext.util.PaintMonitor",{requires:["Ext.util.paintmonitor.CssAnimation","Ext.util.paintmonitor.OverflowChange"],constructor:function(e){return Ext.browser.is.Firefox||Ext.browser.is.WebKit&&Ext.browser.engineVersion.gtEq("536")&&!Ext.os.is.Blackberry?new Ext.util.paintmonitor.OverflowChange(e):new Ext.util.paintmonitor.CssAnimation(e)}}),Ext.define("Ext.event.publisher.ElementPaint",{extend:"Ext.event.publisher.Publisher",requires:["Ext.util.PaintMonitor","Ext.TaskQueue"],targetType:"element",handledEvents:["painted"],constructor:function(){this.monitors={},this.callSuper(arguments)},subscribe:function(e){var t,n,i=e.match(this.idSelectorRegex),r=this.subscribers;return i?(t=i[1],r.hasOwnProperty(t)?(r[t]++,!0):(r[t]=1,n=Ext.get(t),this.monitors[t]=new Ext.util.PaintMonitor({element:n,callback:this.onElementPainted,scope:this,args:[e,n]}),!0)):!1},unsubscribe:function(e,t,n){var i,r=e.match(this.idSelectorRegex),o=this.subscribers;return r?(i=r[1],!o.hasOwnProperty(i)||!n&&--o[i]>0?!0:(delete o[i],this.monitors[i].destroy(),delete this.monitors[i],!0)):!1},onElementPainted:function(e,t){Ext.TaskQueue.requestRead("dispatch",this,[e,"painted",[t]])}}),Ext.define("Ext.mixin.Templatable",{extend:"Ext.Mixin",mixinConfig:{id:"templatable"},referenceAttributeName:"reference",referenceSelector:"[reference]",getElementConfig:function(){return{reference:"element"}},getElementTemplate:function(){var e=document.createDocumentFragment();return e.appendChild(Ext.Element.create(this.getElementConfig(),!0)),e},initElement:function(){var e=this.self.prototype;e.elementTemplate=this.getElementTemplate(),e.initElement=e.doInitElement,this.initElement.apply(this,arguments)},linkElement:function(e,t){this.link(e,t)},doInitElement:function(){var e,t,n,i,r,o,a=this.referenceAttributeName;for(e=this.elementTemplate.cloneNode(!0),t=e.querySelectorAll(this.referenceSelector),n=0,i=t.length;i>n;n++)r=t[n],o=r.getAttribute(a),r.removeAttribute(a),this.linkElement(o,r)}}),Ext.define("Ext.util.sizemonitor.Abstract",{mixins:["Ext.mixin.Templatable"],requires:["Ext.TaskQueue"],config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:0,height:0,contentWidth:0,contentHeight:0,constructor:function(e){this.refresh=Ext.Function.bind(this.refresh,this),this.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0},this.initElement(),this.initConfig(e),this.bindListeners(!0)},bindListeners:Ext.emptyFn,applyElement:function(e){return e?Ext.get(e):void 0},updateElement:function(e){e.append(this.detectorsContainer),e.addCls("x-size-monitored")},applyArgs:function(e){return e.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.offsetWidth},getContentHeight:function(){return this.detectorsContainer.offsetHeight},refreshSize:function(){var e=this.getElement();if(!e||e.isDestroyed)return!1;var t,n=e.getWidth(),i=e.getHeight(),r=this.getContentWidth(),o=this.getContentHeight(),a=this.contentWidth,s=this.contentHeight,l=this.info,d=!1;return this.width=n,this.height=i,this.contentWidth=r,this.contentHeight=o,t=(a!==r?1:0)+(s!==o?2:0),t>0&&(l.width=n,l.height=i,l.contentWidth=r,l.contentHeight=o,l.flag=t,d=!0,this.getCallback().apply(this.getScope(),this.getArgs())),d},refresh:function(e){(this.refreshSize()||e)&&Ext.TaskQueue.requestWrite("refreshMonitors",this)},destroy:function(){var e=this.getElement();this.bindListeners(!1),e&&!e.isDestroyed&&e.removeCls("x-size-monitored"),delete this._element,this.callSuper()}}),Ext.define("Ext.util.sizemonitor.Default",{extend:"Ext.util.sizemonitor.Abstract",updateElement:function(e){},bindListeners:function(e){var t=this.getElement().dom;t&&(e?t.onresize=this.refresh:delete t.onresize)},getContentBounds:function(){return this.getElement().dom.getBoundingClientRect()},getContentWidth:function(){return this.getElement().getWidth()},getContentHeight:function(){return this.getElement().getHeight()}}),Ext.define("Ext.util.sizemonitor.Scroll",{extend:"Ext.util.sizemonitor.Abstract",getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","scroll"],children:[{reference:"expandMonitor",className:"expand"},{reference:"shrinkMonitor",className:"shrink"}]}},constructor:function(e){this.onScroll=Ext.Function.bind(this.onScroll,this),this.callSuper(arguments)},bindListeners:function(e){var t=e?"addEventListener":"removeEventListener";this.expandMonitor[t]("scroll",this.onScroll,!0),this.shrinkMonitor[t]("scroll",this.onScroll,!0)},forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this,[!0])},onScroll:function(){Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){var e=this.expandMonitor,t=this.shrinkMonitor,n=1e6;e&&!e.isDestroyed&&(e.scrollLeft=n,e.scrollTop=n),t&&!t.isDestroyed&&(t.scrollLeft=n,t.scrollTop=n)}}),Ext.define("Ext.util.sizemonitor.OverflowChange",{extend:"Ext.util.sizemonitor.Abstract",constructor:function(e){this.onExpand=Ext.Function.bind(this.onExpand,this),this.onShrink=Ext.Function.bind(this.onShrink,this),this.callSuper(arguments)},getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","overflowchanged"],children:[{reference:"expandMonitor",className:"expand",children:[{reference:"expandHelper"}]},{reference:"shrinkMonitor",className:"shrink",children:[{reference:"shrinkHelper"}]}]}},bindListeners:function(e){var t=e?"addEventListener":"removeEventListener";this.expandMonitor[t](Ext.browser.is.Firefox?"underflow":"overflowchanged",this.onExpand,!0),this.shrinkMonitor[t](Ext.browser.is.Firefox?"overflow":"overflowchanged",this.onShrink,!0)},onExpand:function(e){Ext.browser.is.Webkit&&e.horizontalOverflow&&e.verticalOverflow||Ext.TaskQueue.requestRead("refresh",this)},onShrink:function(e){(!Ext.browser.is.Webkit||e.horizontalOverflow||e.verticalOverflow)&&Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){if(!this.isDestroyed){var e,t=this.expandHelper,n=this.shrinkHelper,i=this.getContentBounds(),r=i.width,o=i.height;t&&!t.isDestroyed&&(e=t.style,e.width=r+1+"px",e.height=o+1+"px"),n&&!n.isDestroyed&&(e=n.style,e.width=r+"px",e.height=o+"px"),Ext.TaskQueue.requestRead("refresh",this)}}}),Ext.define("Ext.util.SizeMonitor",{requires:["Ext.util.sizemonitor.Default","Ext.util.sizemonitor.Scroll","Ext.util.sizemonitor.OverflowChange"],constructor:function(e){var t=Ext.util.sizemonitor;return Ext.browser.is.Firefox?new t.OverflowChange(e):Ext.browser.is.WebKit?!Ext.browser.is.Silk&&Ext.browser.engineVersion.gtEq("535")?new t.OverflowChange(e):new t.Scroll(e):Ext.browser.is.IE11?new t.Scroll(e):new t.Default(e)}}),Ext.define("Ext.event.publisher.ElementSize",{extend:"Ext.event.publisher.Publisher",requires:["Ext.util.SizeMonitor"],targetType:"element",handledEvents:["resize"],constructor:function(){this.monitors={},this.callSuper(arguments)},subscribe:function(e){var t,n,i,r=e.match(this.idSelectorRegex),o=this.subscribers;return r&&"#ext-window"!==e?(t=r[1],o.hasOwnProperty(t)?(o[t]++,!0):(o[t]=1,n=Ext.get(t),this.monitors[t]=i=new Ext.util.SizeMonitor({element:n,callback:this.onElementResize,scope:this,args:[e,n]}),this.dispatcher.addListener("element",e,"painted","forceRefresh",i),!0)):!1},unsubscribe:function(e,t,n){var i,r,o=e.match(this.idSelectorRegex),a=this.subscribers,s=this.monitors;return o?(i=o[1],!a.hasOwnProperty(i)||!n&&--a[i]>0?!0:(delete a[i],r=s[i],this.dispatcher.removeListener("element",e,"painted","forceRefresh",r),r.destroy(),delete s[i],!0)):!1},onElementResize:function(e,t,n){Ext.TaskQueue.requestRead("dispatch",this,[e,"resize",[t,n]])}}),Ext.define("Ext.fx.State",{isAnimatable:{"background-color":!0,"background-image":!0,"background-position":!0,"border-bottom-color":!0,"border-bottom-width":!0,"border-color":!0,"border-left-color":!0,"border-left-width":!0,"border-right-color":!0,"border-right-width":!0,"border-spacing":!0,"border-top-color":!0,"border-top-width":!0,"border-width":!0,bottom:!0,color:!0,crop:!0,"font-size":!0,"font-weight":!0,height:!0,left:!0,"letter-spacing":!0,"line-height":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,opacity:!0,"outline-color":!0,"outline-offset":!0,"outline-width":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,right:!0,"text-indent":!0,"text-shadow":!0,top:!0,"vertical-align":!0,visibility:!0,width:!0,"word-spacing":!0,"z-index":!0,zoom:!0,transform:!0},constructor:function(e){this.data={},this.set(e)},setConfig:function(e){return this.set(e),this},setRaw:function(e){return this.data=e,this},clear:function(){return this.setRaw({})},setTransform:function(e,t){var n,i,r=this.data,o=Ext.isArray(t),a=r.transform;if(a||(a=r.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0}),"string"==typeof e)switch(e){case"translate":if(o){if(n=t.length,0==n)break;if(a.translateX=t[0],1==n)break;if(a.translateY=t[1],2==n)break;a.translateZ=t[2]}else a.translateX=t;break;case"rotate":if(o){if(n=t.length,0==n)break;if(a.rotateX=t[0],1==n)break;if(a.rotateY=t[1],2==n)break;a.rotateZ=t[2]}else a.rotate=t;break;case"scale":if(o){if(n=t.length,0==n)break;if(a.scaleX=t[0],1==n)break;if(a.scaleY=t[1],2==n)break;a.scaleZ=t[2]}else a.scaleX=t,a.scaleY=t;break;case"skew":if(o){if(n=t.length,0==n)break;if(a.skewX=t[0],1==n)break;a.skewY=t[1]}else a.skewX=t;break;default:a[e]=t}else for(i in e)e.hasOwnProperty(i)&&(t=e[i],this.setTransform(i,t))},set:function(e,t){var n,i=this.data;if("string"!=typeof e)for(n in e)t=e[n],"transform"===n?this.setTransform(t):i[n]=t;else"transform"===e?this.setTransform(t):i[e]=t;return this},unset:function(e){var t=this.data;return t.hasOwnProperty(e)&&delete t[e],this},getData:function(){return this.data}}),Ext.define("Ext.fx.animation.Abstract",{extend:"Ext.Evented",isAnimation:!0,requires:["Ext.fx.State"],config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:!1,replacePrevious:!0},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,constructor:function(){return this.states={},this.callParent(arguments),this},applyElement:function(e){return Ext.get(e)},applyBefore:function(e,t){return e?Ext.factory(e,Ext.fx.State,t):void 0},applyAfter:function(e,t){return e?Ext.factory(e,Ext.fx.State,t):void 0},setFrom:function(e){return this.setState(this.STATE_FROM,e)},setTo:function(e){return this.setState(this.STATE_TO,e)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(e){var t,n=this.stateNameRegex;for(t in e)n.test(t)&&this.setState(t,e[t]);return this},getStates:function(){return this.states},stop:function(){this.fireEvent("stop",this)},destroy:function(){this.stop(),this.callParent()},setState:function(e,t){var n,i=this.getStates();return n=Ext.factory(t,Ext.fx.State,i[e]),n?i[e]=n:e===this.STATE_TO&&Ext.Logger.error("Setting and invalid '100%' / 'to' state of: "+t),this},getState:function(e){return this.getStates()[e]},getData:function(){var e,t,n,i=this.getStates(),r={},o=this.getBefore(),a=this.getAfter(),s=i[this.STATE_FROM],l=i[this.STATE_TO],d=s.getData(),u=l.getData();for(t in i)i.hasOwnProperty(t)&&(n=i[t],e=n.getData(),r[t]=e);return Ext.browser.is.AndroidStock2&&(r["0.0001%"]=d),{before:o?o.getData():{},after:a?a.getData():{},states:r,from:d,to:u,duration:this.getDuration(),iteration:this.getIteration(),direction:this.getDirection(),easing:this.getEasing(),delay:this.getDelay(),onEnd:this.getOnEnd(),onBeforeEnd:this.getOnBeforeEnd(),onBeforeStart:this.getOnBeforeStart(),scope:this.getScope(),preserveEndState:this.getPreserveEndState(),replacePrevious:this.getReplacePrevious()}}}),Ext.define("Ext.fx.animation.Slide",{extend:"Ext.fx.animation.Abstract",alternateClassName:"Ext.fx.animation.SlideIn",alias:["animation.slide","animation.slideIn"],config:{direction:"left",out:!1,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:!0,useCssTransform:!0},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(e){return"auto"===e?"ease-"+(this.getOut()?"in":"out"):e},getContainerBox:function(){var e=this._containerBox;return"auto"===e&&(e=this.getElement().getParent().getBox()),e},getElementBox:function(){var e=this._elementBox;return this.getIsElementBoxFit()?this.getContainerBox():("auto"===e&&(e=this.getElement().getBox()),e)},getData:function(){var e,t,n,i,r=this.getElementBox(),o=this.getContainerBox(),a=r?r:o,s=this.getFrom(),l=this.getTo(),d=this.getOut(),u=this.getOffset(),c=this.getDirection(),h=this.getUseCssTransform(),f=this.getReverse(),g=0,p=0;switch(f&&(c=this.reverseDirectionMap[c]),c){case this.DIRECTION_UP:p=d?o.top-a.top-a.height-u:o.bottom-a.bottom+a.height+u;break;case this.DIRECTION_DOWN:p=d?o.bottom-a.bottom+a.height+u:o.top-a.height-a.top-u;break;case this.DIRECTION_RIGHT:g=d?o.right-a.right+a.width+u:o.left-a.left-a.width-u;break;case this.DIRECTION_LEFT:g=d?o.left-a.left-a.width-u:o.right-a.right+a.width+u}return e=d?0:g,t=d?0:p,h?s.setTransform({translateX:e,translateY:t}):(s.set("left",e),s.set("top",t)),n=d?g:0,i=d?p:0,h?l.setTransform({translateX:n,translateY:i}):(l.set("left",n),l.set("top",i)),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.SlideOut",{extend:"Ext.fx.animation.Slide",alias:["animation.slideOut"],config:{out:!0}}),Ext.define("Ext.fx.animation.Fade",{extend:"Ext.fx.animation.Abstract",alternateClassName:"Ext.fx.animation.FadeIn",alias:["animation.fade","animation.fadeIn"],config:{out:!1,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(e){var t=this.getTo(),n=this.getFrom();e?(n.set("opacity",1),t.set("opacity",0)):(n.set("opacity",0),t.set("opacity",1))}}),Ext.define("Ext.fx.animation.FadeOut",{extend:"Ext.fx.animation.Fade",alias:"animation.fadeOut",config:{out:!0,before:{}}}),Ext.define("Ext.fx.animation.Flip",{extend:"Ext.fx.animation.Abstract",alias:"animation.flip",config:{easing:"ease-in",direction:"right",half:!1,out:null},getData:function(){var e=this.getFrom(),t=this.getTo(),n=this.getDirection(),i=this.getOut(),r=this.getHalf(),o=r?90:180,a=1,s=1,l=0,d=0,u=0,c=0;switch(i?s=.8:a=.8,n){case this.DIRECTION_UP:i?u=o:l=-o;break;case this.DIRECTION_DOWN:i?u=-o:l=o;break;case this.DIRECTION_RIGHT:i?c=o:d=-o;break;case this.DIRECTION_LEFT:i?c=-o:d=o}return e.setTransform({rotateX:l,rotateY:d,scale:a}),t.setTransform({rotateX:u,rotateY:c,scale:s}),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.Pop",{extend:"Ext.fx.animation.Abstract",alias:["animation.pop","animation.popIn"],alternateClassName:"Ext.fx.animation.PopIn",config:{out:!1,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var e=this.getTo(),t=this.getFrom(),n=this.getOut();return n?(t.set("opacity",1),t.setTransform({scale:1}),e.set("opacity",0),e.setTransform({scale:0})):(t.set("opacity",0),t.setTransform({scale:0}),e.set("opacity",1),e.setTransform({scale:1})),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.PopOut",{extend:"Ext.fx.animation.Pop",alias:"animation.popOut",config:{out:!0,before:{}}}),Ext.define("Ext.fx.Animation",{requires:["Ext.fx.animation.Slide","Ext.fx.animation.SlideOut","Ext.fx.animation.Fade","Ext.fx.animation.FadeOut","Ext.fx.animation.Flip","Ext.fx.animation.Pop","Ext.fx.animation.PopOut"],constructor:function(e){var t,n=Ext.fx.animation.Abstract;return"string"==typeof e?(t=e,e={}):e&&e.type&&(t=e.type),t&&(Ext.browser.is.AndroidStock2&&("pop"==t&&(t="fade"),"popIn"==t&&(t="fadeIn"),"popOut"==t&&(t="fadeOut")),n=Ext.ClassManager.getByAlias("animation."+t),n||Ext.Logger.error("Invalid animation type of: '"+t+"'")),Ext.factory(e,n)}}),Ext.define("Ext.fx.runner.Css",{extend:"Ext.Evented",requires:["Ext.fx.Animation"],prefixedProperties:{transform:!0,"transform-origin":!0,perspective:!0,"transform-style":!0,transition:!0,"transition-property":!0,"transition-duration":!0,"transition-timing-function":!0,"transition-delay":!0,animation:!0,"animation-name":!0,"animation-duration":!0,"animation-iteration-count":!0,"animation-direction":!0,"animation-timing-function":!0,"animation-delay":!0},lengthProperties:{top:!0,right:!0,bottom:!0,left:!0,width:!0,height:!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,"border-bottom-width":!0,"border-left-width":!0,"border-right-width":!0,"border-spacing":!0,"border-top-width":!0,"border-width":!0,"outline-width":!0,"letter-spacing":!0,"line-height":!0,"text-indent":!0,"word-spacing":!0,"font-size":!0,translate:!0,translateX:!0,translateY:!0,translateZ:!0,translate3d:!0},durationProperties:{"transition-duration":!0,"transition-delay":!0,"animation-duration":!0,"animation-delay":!0},angleProperties:{rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,skew:!0,skewX:!0,skewY:!0},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",formattedNameCache:{},constructor:function(){var e=Ext.feature.has.Css3dTransforms;return e?this.transformMethods=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY","scaleZ"]:this.transformMethods=["translateX","translateY","rotate","skewX","skewY","scaleX","scaleY"],this.vendorPrefix=Ext.browser.getStyleDashPrefix(),this.ruleStylesCache={},this},getStyleSheet:function(){var e,t,n=this.styleSheet;return n||(e=document.createElement("style"),e.type="text/css",(document.head||document.getElementsByTagName("head")[0]).appendChild(e),t=document.styleSheets,this.styleSheet=n=t[t.length-1]),n},applyRules:function(e){var t,n,i,r,o,a,s,l=this.getStyleSheet(),d=this.ruleStylesCache,u=l.cssRules;for(t in e){n=e[t],i=d[t],void 0===i&&(o=u.length,l.insertRule(t+"{}",o),i=d[t]=u.item(o).style),r=i.$cache,r||(r=i.$cache={});for(a in n)s=this.formatValue(n[a],a),a=this.formatName(a),r[a]!==s&&(r[a]=s,null===s?i.removeProperty(a):i.setProperty(a,s,"important"))}return this},applyStyles:function(e){var t,n,i,r,o,a;for(t in e)if(e.hasOwnProperty(t)){if(n=document.getElementById(t),!n)return this;i=n.style,r=e[t];for(o in r)r.hasOwnProperty(o)&&(a=this.formatValue(r[o],o),o=this.formatName(o),null===a?i.removeProperty(o):i.setProperty(o,a,"important"))}return this},formatName:function(e){var t=this.formattedNameCache,n=t[e];return n||(n=!Ext.os.is.Tizen&&Ext.feature.has.CssTransformNoPrefix||!this.prefixedProperties[e]?e:this.vendorPrefix+e,t[e]=n),n},formatValue:function(e,t){var n,i,r,o,a,s,l,d=typeof e,u=this.DEFAULT_UNIT_LENGTH;if(null===e)return"";if("string"==d){if(this.lengthProperties[t]){if(l=e.match(this.lengthUnitRegex)[1],!(l.length>0))return e+u;l!==u&&Ext.Logger.error("Length unit: '"+l+"' in value: '"+e+"' of property: '"+t+"' is not valid for animation. Only 'px' is allowed");
}return e}if("number"==d){if(0==e)return"0";if(this.lengthProperties[t])return e+u;if(this.angleProperties[t])return e+this.DEFAULT_UNIT_ANGLE;if(this.durationProperties[t])return e+this.DEFAULT_UNIT_DURATION}else{if("transform"===t){for(n=this.transformMethods,a=[],r=0,o=n.length;o>r;r++)i=n[r],a.push(i+"("+this.formatValue(e[i],i)+")");return a.join(" ")}if(Ext.isArray(e)){for(s=[],r=0,o=e.length;o>r;r++)s.push(this.formatValue(e[r],t));return s.length>0?s.join(", "):"none"}}return e}}),Ext.define("Ext.fx.runner.CssTransition",{extend:"Ext.fx.runner.Css",requires:["Ext.AnimationQueue"],listenersAttached:!1,constructor:function(){return this.runningAnimationsData={},this.callParent(arguments)},attachListeners:function(){this.listenersAttached=!0,this.getEventDispatcher().addListener("element","*","transitionend","onTransitionEnd",this)},onTransitionEnd:function(e){var t=e.target,n=t.id;n&&this.runningAnimationsData.hasOwnProperty(n)&&this.refreshRunningAnimationsData(Ext.get(t),[e.browserEvent.propertyName])},onAnimationEnd:function(e,t,n,i,r){var o,a,s,l,d,u=e.getId(),c=this.runningAnimationsData[u],h={},f={};if(n.un("stop","onAnimationStop",this),c&&(o=c.nameMap),h[u]=f,t.onBeforeEnd&&t.onBeforeEnd.call(t.scope||this,e,i),n.fireEvent("animationbeforeend",n,e,i),this.fireEvent("animationbeforeend",this,n,e,i),r||!i&&!t.preserveEndState)for(a=t.toPropertyNames,s=0,l=a.length;l>s;s++)d=a[s],o&&!o.hasOwnProperty(d)&&(f[d]=null);t.after&&Ext.merge(f,t.after),this.applyStyles(h),t.onEnd&&t.onEnd.call(t.scope||this,e,i),n.fireEvent("animationend",n,e,i),this.fireEvent("animationend",this,n,e,i),Ext.AnimationQueue.stop(Ext.emptyFn,n)},onAllAnimationsEnd:function(e){var t=e.getId(),n={};delete this.runningAnimationsData[t],n[t]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null},this.applyStyles(n),this.fireEvent("animationallend",this,e)},hasRunningAnimations:function(e){var t=e.getId(),n=this.runningAnimationsData;return n.hasOwnProperty(t)&&n[t].sessions.length>0},refreshRunningAnimationsData:function(e,t,n,i){var r=e.getId(),o=this.runningAnimationsData,a=o[r];if(a){var s,l,d,u,c,h,f,g,p=a.nameMap,m=a.nameList,x=a.sessions,E=!1;if(n=Boolean(n),i=Boolean(i),!x)return this;if(s=x.length,0===s)return this;if(i){for(a.nameMap={},m.length=0,c=0;s>c;c++)h=x[c],this.onAnimationEnd(e,h.data,h.animation,n,i);x.length=0}else for(c=0;s>c;c++){for(h=x[c],f=h.map,g=h.list,l=0,d=t.length;d>l;l++)u=t[l],f[u]&&(delete f[u],Ext.Array.remove(g,u),h.length--,0==--p[u]&&(delete p[u],Ext.Array.remove(m,u)));0==h.length&&(x.splice(c,1),c--,s--,E=!0,this.onAnimationEnd(e,h.data,h.animation,n))}i||n||0!=x.length||!E||this.onAllAnimationsEnd(e)}},getRunningData:function(e){var t=this.runningAnimationsData;return t.hasOwnProperty(e)||(t[e]={nameMap:{},nameList:[],sessions:[]}),t[e]},getTestElement:function(){var e,t,n,i=this.testElement;return i||(e=document.createElement("iframe"),n=e.style,n.setProperty("visibility","hidden","important"),n.setProperty("width","0px","important"),n.setProperty("height","0px","important"),n.setProperty("position","absolute","important"),n.setProperty("border","0px","important"),n.setProperty("zIndex","-1000","important"),document.body.appendChild(e),t=e.contentDocument,t.open(),t.writeln("</body>"),t.close(),this.testElement=i=t.createElement("div"),i.style.setProperty("position","absolute","important"),t.body.appendChild(i),this.testElementComputedStyle=window.getComputedStyle(i)),i},getCssStyleValue:function(e,t){var n=this.getTestElement(),i=this.testElementComputedStyle,r=n.style;return r.setProperty(e,t),Ext.browser.is.Firefox&&n.offsetHeight,t=i.getPropertyValue(e),r.removeProperty(e),t},run:function(e){var t,n,i,r,o,a,s,l,d,u,c,h,f,g,p,m,x,E,v,y,b,C,S,w,T,P,I,k,M=this,R=this.lengthProperties,D={},A={},F={};for(this.listenersAttached||this.attachListeners(),e=Ext.Array.from(e),h=0,g=e.length;g>h;h++){p=e[h],p=Ext.factory(p,Ext.fx.Animation),t=p.getElement(),Ext.AnimationQueue.start(Ext.emptyFn,p),E=window.getComputedStyle(t.dom),n=t.getId(),F=Ext.merge({},p.getData()),p.onBeforeStart&&p.onBeforeStart.call(p.scope||this,t),p.fireEvent("animationstart",p),this.fireEvent("animationstart",this,p),F[n]=F,o=F.before,i=F.from,r=F.to,F.fromPropertyNames=a=[],F.toPropertyNames=s=[];for(y in r)r.hasOwnProperty(y)&&(r[y]=b=this.formatValue(r[y],y),v=this.formatName(y),w=R.hasOwnProperty(y),w||(b=this.getCssStyleValue(v,b)),i.hasOwnProperty(y)?(i[y]=S=this.formatValue(i[y],y),w||(S=this.getCssStyleValue(v,S)),b!==S&&(a.push(v),s.push(v))):(C=E.getPropertyValue(v),b!==C&&s.push(v)));if(m=s.length,0!==m){for(u=this.getRunningData(n),I=u.sessions,I.length>0&&this.refreshRunningAnimationsData(t,Ext.Array.merge(a,s),!0,F.replacePrevious),T=u.nameMap,P=u.nameList,x={},f=0;m>f;f++)y=s[f],x[y]=!0,T.hasOwnProperty(y)?T[y]++:(T[y]=1,P.push(y));k={element:t,map:x,list:s.slice(),length:m,data:F,animation:p},I.push(k),p.on("stop","onAnimationStop",this),c=Ext.apply({},o),Ext.apply(c,i),P.length>0&&(a=Ext.Array.difference(P,a),s=Ext.Array.merge(a,s),c["transition-property"]=a),D[n]=c,A[n]=Ext.apply({},r),A[n]["transition-property"]=s,A[n]["transition-duration"]=F.duration,A[n]["transition-timing-function"]=F.easing,A[n]["transition-delay"]=F.delay,p.startTime=Date.now()}else this.onAnimationEnd(t,F,p)}d=this.$className,this.applyStyles(D),l=function(e){e.data===d&&e.source===window&&(window.removeEventListener("message",l,!1),M.applyStyles(A))},Ext.browser.is.IE?Ext.Function.requestAnimationFrame(function(){window.addEventListener("message",l,!1),window.postMessage(d,"*")}):(window.addEventListener("message",l,!1),window.postMessage(d,"*"))},onAnimationStop:function(e){var t,n,i,r,o,a,s=this.runningAnimationsData;for(t in s)if(s.hasOwnProperty(t))for(n=s[t],i=n.sessions,r=0,o=i.length;o>r;r++)a=i[r],a.animation===e&&this.refreshRunningAnimationsData(a.element,a.list.slice(),!1)}}),Ext.define("Ext.fx.Runner",{requires:["Ext.fx.runner.CssTransition"],constructor:function(){return new Ext.fx.runner.CssTransition}}),Ext.define("Ext.fx.animation.Cube",{extend:"Ext.fx.animation.Abstract",alias:"animation.cube",config:{before:{},after:{},direction:"right",out:!1},getData:function(){var e=this.getTo(),t=this.getFrom(),n=this.getBefore(),i=this.getAfter(),r=this.getOut(),o=this.getDirection(),a=this.getElement(),s=a.getWidth(),l=(a.getHeight(),r?"100% 100%":"0% 0%"),d=1,u=1,c={rotateY:0,translateZ:0},h={rotateY:0,translateZ:0};return("left"==o||"right"==o)&&(r?(u=.5,h.translateZ=s,h.rotateY=-90):(d=.5,c.translateZ=s,c.rotateY=90)),n["transform-origin"]=l,i["transform-origin"]=null,e.set("transform",h),t.set("transform",c),t.set("opacity",d),e.set("opacity",u),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.Wipe",{extend:"Ext.fx.Animation",alternateClassName:"Ext.fx.animation.WipeIn",config:{easing:"ease-out",direction:"right",out:!1},refresh:function(){var e,t,n=this,i=n.getElement(),r=i.dom.getBoundingClientRect(),o=r.width,a=r.height,s=n.getFrom(),l=n.getTo(),d=n.getOut(),u=n.getDirection(),c=0,h=0,f=0,g=0;switch(u){case"up":d?(e="-webkit-gradient(linear, left top, left bottom, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",h=3*a+"px",g=a+"px"):(e="-webkit-gradient(linear, left top, left bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",h=2*-a+"px",g=0);break;case"down":d?(e="-webkit-gradient(linear, left top, left bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",h=2*-a+"px",g=0):(e="-webkit-gradient(linear, left top, left bottom, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",h=3*a+"px",g=a+"px");break;case"right":d?(e="-webkit-gradient(linear, right top, left top, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",c=2*-o+"px",f=0):(e="-webkit-gradient(linear, right top, left top, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",f=2*-o+"px");break;case"left":d?(e="-webkit-gradient(linear, right top, left top, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",f=2*-o+"px"):(e="-webkit-gradient(linear, right top, left top, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",c=2*-o+"px",f=0)}d||(t=h,h=g,g=t,t=c,c=f,f=t),s.set("mask-image",e),s.set("mask-size",3*o+"px "+3*a+"px"),s.set("mask-position-x",c),s.set("mask-position-y",h),l.set("mask-position-x",f),l.set("mask-position-y",g)},getData:function(){return this.refresh(),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.WipeOut",{extend:"Ext.fx.animation.Wipe",config:{out:!0}}),Ext.define("Ext.fx.easing.Abstract",{config:{startTime:0,startValue:0},isEasing:!0,isEnded:!1,constructor:function(e){return this.initConfig(e),this},applyStartTime:function(e){return e||(e=Ext.Date.now()),e},updateStartTime:function(e){this.reset()},reset:function(){this.isEnded=!1},getValue:Ext.emptyFn}),Ext.define("Ext.fx.easing.Bounce",{extend:"Ext.fx.easing.Abstract",config:{springTension:.3,acceleration:30,startVelocity:0},getValue:function(){var e=Ext.Date.now()-this.getStartTime(),t=e/this.getAcceleration(),n=t*Math.pow(Math.E,-this.getSpringTension()*t);return this.getStartValue()+this.getStartVelocity()*n}}),Ext.define("Ext.fx.easing.Momentum",{extend:"Ext.fx.easing.Abstract",config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(e){var t=Math.log(1-e/10);this.theta=t,this.alpha=t/this.getAcceleration()},updateStartVelocity:function(e){this.velocity=e*this.getAcceleration()},updateAcceleration:function(e){this.velocity=this.getStartVelocity()*e,this.alpha=this.theta/e},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var e=Ext.Date.now()-this.getStartTime();return Math.exp(e*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}}),Ext.define("Ext.fx.easing.BoundMomentum",{extend:"Ext.fx.easing.Abstract",requires:["Ext.fx.easing.Momentum","Ext.fx.easing.Bounce"],config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:.01,startVelocity:0},applyMomentum:function(e,t){return Ext.factory(e,Ext.fx.easing.Momentum,t)},applyBounce:function(e,t){return Ext.factory(e,Ext.fx.easing.Bounce,t)},updateStartTime:function(e){this.getMomentum().setStartTime(e),this.callParent(arguments)},updateStartVelocity:function(e){this.getMomentum().setStartVelocity(e)},updateStartValue:function(e){this.getMomentum().setStartValue(e)},reset:function(){return this.lastValue=null,this.isBouncingBack=!1,this.isOutOfBound=!1,this.callParent(arguments)},getValue:function(){var e,t,n=this.getMomentum(),i=this.getBounce(),r=n.getStartVelocity(),o=r>0?1:-1,a=this.getMinMomentumValue(),s=this.getMaxMomentumValue(),l=1==o?s:a,d=this.lastValue;if(0===r)return this.getStartValue();if(!this.isOutOfBound){if(e=n.getValue(),t=n.getVelocity(),Math.abs(t)<this.getMinVelocity()&&(this.isEnded=!0),e>=a&&s>=e)return e;this.isOutOfBound=!0,i.setStartTime(Ext.Date.now()).setStartVelocity(t).setStartValue(l)}return e=i.getValue(),this.isEnded||(this.isBouncingBack?Math.round(e)==l&&(this.isEnded=!0):null!==d&&(1==o&&d>e||-1==o&&e>d)&&(this.isBouncingBack=!0)),this.lastValue=e,e}}),Ext.define("Ext.fx.easing.Linear",{extend:"Ext.fx.easing.Abstract",alias:"easing.linear",config:{duration:0,endValue:0},updateStartValue:function(e){this.distance=this.getEndValue()-e},updateEndValue:function(e){this.distance=e-this.getStartValue()},getValue:function(){var e=Ext.Date.now()-this.getStartTime(),t=this.getDuration();return e>t?(this.isEnded=!0,this.getEndValue()):this.getStartValue()+e/t*this.distance}}),Ext.define("Ext.fx.easing.EaseIn",{extend:"Ext.fx.easing.Linear",alias:"easing.ease-in",config:{exponent:4,duration:1500},getValue:function(){var e=Ext.Date.now()-this.getStartTime(),t=this.getDuration(),n=this.getStartValue(),i=this.getEndValue(),r=this.distance,o=e/t,a=Math.pow(o,this.getExponent()),s=n+a*r;return e>=t?(this.isEnded=!0,i):s}}),Ext.define("Ext.fx.easing.EaseOut",{extend:"Ext.fx.easing.Linear",alias:"easing.ease-out",config:{exponent:4,duration:1500},getValue:function(){var e=Ext.Date.now()-this.getStartTime(),t=this.getDuration(),n=this.getStartValue(),i=this.getEndValue(),r=this.distance,o=e/t,a=1-o,s=1-Math.pow(a,this.getExponent()),l=n+s*r;return e>=t?(this.isEnded=!0,i):l}}),Ext.define("Ext.fx.easing.Easing",{requires:["Ext.fx.easing.Linear"],constructor:function(e){return Ext.factory(e,Ext.fx.easing.Linear,null,"easing")}}),Ext.define("Ext.fx.layout.card.Abstract",{extend:"Ext.Evented",isAnimation:!0,config:{direction:"left",duration:null,reverse:null,layout:null},updateLayout:function(){this.enable()},enable:function(){var e=this.getLayout();e&&e.onBefore("activeitemchange","onActiveItemChange",this)},disable:function(){var e=this.getLayout();this.isAnimating&&this.stopAnimation(),e&&e.unBefore("activeitemchange","onActiveItemChange",this)},onActiveItemChange:Ext.emptyFn,destroy:function(){var e=this.getLayout();this.isAnimating&&this.stopAnimation(),e&&e.unBefore("activeitemchange","onActiveItemChange",this),this.setLayout(null),this.observableId&&(this.fireEvent("destroy",this),this.clearListeners(),this.clearManagedListeners())}}),Ext.define("Ext.fx.layout.card.Style",{extend:"Ext.fx.layout.card.Abstract",requires:["Ext.fx.Animation"],config:{inAnimation:{before:{visibility:null},preserveEndState:!1,replacePrevious:!0},outAnimation:{preserveEndState:!1,replacePrevious:!0}},constructor:function(e){var t,n;this.callParent([e]),this.endAnimationCounter=0,t=this.getInAnimation(),n=this.getOutAnimation(),t.on("animationend","incrementEnd",this),n.on("animationend","incrementEnd",this)},updateDirection:function(e){this.getInAnimation().setDirection(e),this.getOutAnimation().setDirection(e)},updateDuration:function(e){this.getInAnimation().setDuration(e),this.getOutAnimation().setDuration(e)},updateReverse:function(e){this.getInAnimation().setReverse(e),this.getOutAnimation().setReverse(e)},incrementEnd:function(){this.endAnimationCounter++,this.endAnimationCounter>1&&(this.endAnimationCounter=0,this.fireEvent("animationend",this))},applyInAnimation:function(e,t){return Ext.factory(e,Ext.fx.Animation,t)},applyOutAnimation:function(e,t){return Ext.factory(e,Ext.fx.Animation,t)},updateInAnimation:function(e){e.setScope(this)},updateOutAnimation:function(e){e.setScope(this)},onActiveItemChange:function(e,t,n,i,r){var o,a,s=this.getInAnimation(),l=this.getOutAnimation();t&&n&&n.isPainted()&&(o=t.renderElement,a=n.renderElement,s.setElement(o),l.setElement(a),l.setOnBeforeEnd(function(e,t){(t||Ext.Animator.hasRunningAnimations(e))&&(r.firingArguments[1]=null,r.firingArguments[2]=null)}),l.setOnEnd(function(){r.resume()}),o.dom.style.setProperty("visibility","hidden","important"),t.show(),Ext.Animator.run([l,s]),r.pause())},destroy:function(){Ext.destroy(this.getInAnimation(),this.getOutAnimation()),this.callParent(arguments)}}),Ext.define("Ext.fx.layout.card.Slide",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.slide",config:{inAnimation:{type:"slide",easing:"ease-out"},outAnimation:{type:"slide",easing:"ease-out",out:!0}},updateReverse:function(e){this.getInAnimation().setReverse(e),this.getOutAnimation().setReverse(e)}}),Ext.define("Ext.fx.layout.card.Cover",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.cover",config:{reverse:null,inAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out"},outAnimation:{easing:"ease-out",from:{opacity:.99},to:{opacity:1},out:!0}},updateReverse:function(e){this.getInAnimation().setReverse(e),this.getOutAnimation().setReverse(e)}}),Ext.define("Ext.fx.layout.card.Reveal",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.reveal",config:{inAnimation:{easing:"ease-out",from:{opacity:.99},to:{opacity:1}},outAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out",out:!0}},updateReverse:function(e){this.getInAnimation().setReverse(e),this.getOutAnimation().setReverse(e)}}),Ext.define("Ext.fx.layout.card.Fade",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.fade",config:{reverse:null,inAnimation:{type:"fade",easing:"ease-out"},outAnimation:{type:"fade",easing:"ease-out",out:!0}}}),Ext.define("Ext.fx.layout.card.Flip",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.flip",config:{duration:500,inAnimation:{type:"flip",half:!0,easing:"ease-out",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null}},outAnimation:{type:"flip",half:!0,easing:"ease-in",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null},out:!0}},onActiveItemChange:function(e,t,n,i,r){var o=t.element.getParent();o.addCls("x-layout-card-perspective"),this.on("animationend",function(){o.removeCls("x-layout-card-perspective")},this,{single:!0}),this.callParent(arguments)},updateDuration:function(e){var t=e/2,n=this.getInAnimation(),i=this.getOutAnimation();n.setDelay(t),n.setDuration(t),i.setDuration(t)}}),Ext.define("Ext.fx.layout.card.Pop",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.pop",config:{duration:500,inAnimation:{type:"pop",easing:"ease-out"},outAnimation:{type:"pop",easing:"ease-in",out:!0}},updateDuration:function(e){var t=e/2,n=this.getInAnimation(),i=this.getOutAnimation();n.setDelay(t),n.setDuration(t),i.setDuration(t)}}),Ext.define("Ext.fx.layout.card.Scroll",{extend:"Ext.fx.layout.card.Abstract",requires:["Ext.fx.easing.Linear"],alias:"fx.layout.card.scroll",config:{duration:150},constructor:function(e){this.initConfig(e)},getEasing:function(){var e=this.easing;return e||(this.easing=e=new Ext.fx.easing.Linear),e},updateDuration:function(e){this.getEasing().setDuration(e)},onActiveItemChange:function(e,t,n,i,r){var o,a,s,l,d,u,c=this.getDirection(),h=this.getEasing();t&&n&&(this.isAnimating&&this.stopAnimation(),t.setWidth("100%"),t.setHeight("100%"),o=this.getLayout().container.innerElement,l=o.getWidth(),d=o.getHeight(),a=t.renderElement,s=n.renderElement,this.oldItem=n,this.newItem=t,this.currentEventController=r,this.containerElement=o,this.isReverse=u=this.getReverse(),t.show(),"right"==c?(c="left",this.isReverse=u=!u):"down"==c&&(c="up",this.isReverse=u=!u),"left"==c?u?(h.setConfig({startValue:l,endValue:0}),o.dom.scrollLeft=l,s.setLeft(l)):(h.setConfig({startValue:0,endValue:l}),a.setLeft(l)):u?(h.setConfig({startValue:d,endValue:0}),o.dom.scrollTop=d,s.setTop(d)):(h.setConfig({startValue:0,endValue:d}),a.setTop(d)),this.startAnimation(),r.pause())},startAnimation:function(){this.isAnimating=!0,this.getEasing().setStartTime(Date.now()),Ext.AnimationQueue.start(this.doAnimationFrame,this)},doAnimationFrame:function(){var e,t=this.getEasing(),n=this.getDirection(),i="scrollTop";("left"==n||"right"==n)&&(i="scrollLeft"),t.isEnded?this.stopAnimation():(e=t.getValue(),this.containerElement.dom[i]=e)},stopAnimation:function(){var e=this,t=e.getDirection(),n="setTop",i=e.oldItem,r=e.newItem;("left"==t||"right"==t)&&(n="setLeft"),e.currentEventController.resume(),e.isReverse&&i&&i.renderElement&&i.renderElement.dom?i.renderElement[n](null):r&&r.renderElement&&r.renderElement.dom&&r.renderElement[n](null),Ext.AnimationQueue.stop(this.doAnimationFrame,this),e.isAnimating=!1,e.fireEvent("animationend",e)}}),Ext.define("Ext.fx.layout.Card",{requires:["Ext.fx.layout.card.Slide","Ext.fx.layout.card.Cover","Ext.fx.layout.card.Reveal","Ext.fx.layout.card.Fade","Ext.fx.layout.card.Flip","Ext.fx.layout.card.Pop","Ext.fx.layout.card.Scroll"],constructor:function(e){var t,n=Ext.fx.layout.card.Abstract;return e?("string"==typeof e?(t=e,e={}):e.type&&(t=e.type),e.elementBox=!1,t&&(Ext.browser.is.AndroidStock2&&"fade"!=t&&(t="scroll"),n=Ext.ClassManager.getByAlias("fx.layout.card."+t),n||Ext.Logger.error("Unknown card animation type: '"+t+"'")),Ext.factory(e,n)):null}}),Ext.define("Ext.fx.layout.card.Cube",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.cube",config:{reverse:null,inAnimation:{type:"cube"},outAnimation:{type:"cube",out:!0}}}),Ext.define("Ext.fx.layout.card.ScrollCover",{extend:"Ext.fx.layout.card.Scroll",alias:"fx.layout.card.scrollcover",onActiveItemChange:function(e,t,n,i,r){var o,a,s,l,d,u;this.lastController=r,this.inItem=t,t&&n&&(o=this.getLayout().container.innerElement,a=o.getSize(),s=this.calculateXY(a),l={easing:this.getEasing(),duration:this.getDuration()},t.renderElement.dom.style.setProperty("visibility","hidden","important"),d=t.setTranslatable(!0).getTranslatable(),u=n.setTranslatable(!0).getTranslatable(),u.translate({x:0,y:0}),d.translate({x:s.left,y:s.top}),d.getWrapper().dom.style.setProperty("z-index","100","important"),t.show(),d.on({animationstart:"onInAnimationStart",animationend:"onInAnimationEnd",scope:this}),d.translateAnimated({x:0,y:0},l),r.pause())},onInAnimationStart:function(){this.inItem.renderElement.dom.style.removeProperty("visibility")},onInAnimationEnd:function(){this.inItem.getTranslatable().getWrapper().dom.style.removeProperty("z-index"),this.lastController.resume()}}),Ext.define("Ext.fx.layout.card.ScrollReveal",{extend:"Ext.fx.layout.card.Scroll",alias:"fx.layout.card.scrollreveal",onActiveItemChange:function(e,t,n,i,r){var o,a,s,l,d,u;this.lastController=r,this.outItem=n,this.inItem=t,t&&n&&(o=this.getLayout().container.innerElement,a=o.getSize(),s=this.calculateXY(a),l={easing:this.getEasing(),duration:this.getDuration()},d=n.setTranslatable(!0).getTranslatable(),u=t.setTranslatable(!0).getTranslatable(),d.getWrapper().dom.style.setProperty("z-index","100","important"),d.translate({x:0,y:0}),u.translate({x:0,y:0}),t.show(),d.on({animationend:"onOutAnimationEnd",scope:this}),d.translateAnimated({x:s.x,y:s.y},l),r.pause())},onOutAnimationEnd:function(){this.outItem.getTranslatable().getWrapper().dom.style.removeProperty("z-index"),this.lastController.resume()}}),Ext.define("Ext.fx.runner.CssAnimation",{extend:"Ext.fx.runner.Css",constructor:function(){return this.runningAnimationsMap={},this.elementEndStates={},this.animationElementMap={},this.keyframesRulesCache={},this.uniqueId=0,this.callParent(arguments)},attachListeners:function(){var e=this.getEventDispatcher();this.listenersAttached=!0,e.addListener("element","*","animationstart","onAnimationStart",this),e.addListener("element","*","animationend","onAnimationEnd",this)},onAnimationStart:function(e){var t=e.browserEvent.animationName,n=this.animationElementMap[t],i=this.runningAnimationsMap[n][t],r=this.elementEndStates,o=r[n],a={};console.log("START============= "+t),o&&(delete r[n],a[n]=o,this.applyStyles(a)),i.before&&(a[n]=i.before,this.applyStyles(a))},onAnimationEnd:function(e){var t=e.target,n=e.browserEvent.animationName,i=this.animationElementMap,r=i[n],o=this.runningAnimationsMap,a=o[r],s=a[n];console.log("END============= "+n),s.onBeforeEnd&&s.onBeforeEnd.call(s.scope||this,t),s.onEnd&&s.onEnd.call(s.scope||this,t),delete i[n],delete a[n],this.removeKeyframesRule(n)},generateAnimationId:function(){return"animation-"+ ++this.uniqueId},run:function(e){var t,n,i,r,o,a,s,l,d,u,c,h,f,g,p,m={},x=this.elementEndStates,E=this.animationElementMap,v=this.runningAnimationsMap;for(this.listenersAttached||this.attachListeners(),e=Ext.Array.from(e),o=0,a=e.length;a>o;o++){s=e[o],s=Ext.factory(s,Ext.fx.Animation),i=s.getElement().getId(),r=s.getName()||this.generateAnimationId(),E[r]=i,s=s.getData(),n=s.states,this.addKeyframesRule(r,n),t=v[i],t||(t=v[i]={}),t[r]=s,u=[],c=[],h=[],f=[],g=[],p=[];for(l in t)t.hasOwnProperty(l)&&(d=t[l],u.push(l),c.push(d.duration),h.push(d.easing),f.push(d.delay),g.push(d.direction),p.push(d.iteration));m[i]={"animation-name":u,"animation-duration":c,"animation-timing-function":h,"animation-delay":f,"animation-direction":g,"animation-iteration-count":p},s.preserveEndState&&(x[i]=n["100%"])}this.applyStyles(m)},addKeyframesRule:function(e,t){var n,i,r,o,a,s,l,d,u;o=this.getStyleSheet(),a=o.cssRules,l=a.length,o.insertRule("@"+this.vendorPrefix+"keyframes "+e+"{}",l),r=a[l];for(n in t){i=t[n],a=r.cssRules,l=a.length,s=[];for(d in i)u=this.formatValue(i[d],d),d=this.formatName(d),s.push(d+":"+u);r.insertRule(n+"{"+s.join(";")+"}",l)}return this},removeKeyframesRule:function(e){var t,n,i,r=this.getStyleSheet(),o=r.cssRules;for(t=0,n=o.length;n>t;t++)if(i=o[t],i.name===e){r.removeRule(t);break}return this}}),Ext.define("Ext.mixin.Hookable",{extend:"Ext.Mixin",mixinConfig:{id:"hookable"},bind:function(e,t,n,i,r){n||(n=t);var o,a,s=e[t];return s&&s.hasOwnProperty("$binding")&&(a=s.$binding,a.bindingMethod===n&&a.bindingScope===this)?this:(e[t]=o=function(){var e=o.$binding,t=e.bindingScope,n=Array.prototype.slice.call(arguments);return n.push(arguments),r&&n.push.apply(n,r),e.preventDefault||t[e.bindingMethod].apply(t,n)===!1?void 0:e.boundFn.apply(this,arguments)},o.$binding={preventDefault:!!i,boundFn:s,bindingMethod:n,bindingScope:this},this)},unbind:function(e,t,n){n||(n=t);for(var i,r,o=e[t],a=o.$binding;a;){if(i=a.boundFn,a.bindingMethod===n&&a.bindingScope===this)return r?r.boundFn=i:e[t]=i,this;r=a,a=i.$binding}return this}}),Ext.define("Ext.mixin.Mashup",function(e){return{extend:"Ext.Mixin",mixinConfig:{id:"mashup",extended:function(t,n){e.process(n)}},statics:{process:function(e){var t=e.prototype,n=t.requiredScripts,i=e._classHooks,r=i.onCreated;n&&(delete t.requiredScripts,i.onCreated=function(){var e=this,t=Ext.Array.slice(arguments);Ext.Loader.loadScripts({url:n,cache:!0,onLoad:function(){i.onCreated=r,i.onCreated.call(e,t)}})})}},onClassMixedIn:function(t){e.process(t)}}}),Ext.define("Ext.mixin.Responsive",function(e){return{extend:"Ext.Mixin",mixinConfig:{id:"responsive",after:{destroy:"destroy"}},config:{responsiveConfig:{$value:0,merge:function(e,t,n,i){if(!e)return t;var r,o=t?Ext.Object.chain(t):{};for(r in e)i&&r in o||(o[r]={config:e[r]});return o}}},destroy:function(){e.unregister(this),this.callParent()},privates:{statics:{active:!1,all:{},count:0,nextId:0,argNames:"landscape,portrait,tall,wide,height,width,platform",state:{platform:{desktop:!0}},stateArgs:[],activate:function(){e.active=!0,e.updateState(),Ext.on("resize",e.onResize,e)},deactivate:function(){e.active=!1,Ext.un("resize",e.onResize,e)},notify:function(){var t,n=e.all,i=e.timer;i&&(e.timer=null,Ext.Function.cancelAnimationFrame(i)),e.updateState(),Ext.suspendLayouts();for(t in n)n[t].updateResponsiveState();Ext.resumeLayouts(!0)},onResize:function(){e.timer||(e.timer=Ext.Function.requestAnimationFrame(e.onTimer))},onTimer:function(){e.timer=null,e.notify()},register:function(t){var n=t.$responsiveId;n||(t.$responsiveId=n=++e.nextId,e.all[n]=t,1===++e.count&&e.activate())},unregister:function(t){var n=t.$responsiveId;n in e.all&&(t.$responsiveId=null,delete e.all[n],0===--e.count&&e.deactivate())},updateState:function(){var t,n=e.argNamesArray,i=Ext.Element,r=i.getViewportWidth(),o=i.getViewportHeight(),a=e.state,s=e.stateArgs;for(n||(e.argNamesArray=n=e.argNames.split(",")),a.width=r,a.height=o,a.tall=o>r,a.wide=!a.tall,a.landscape=a.portrait=!1,!a.platform.desktop||Ext.supports.OrientationChange?a[Ext.dom.Element.getOrientation()]=!0:a.landscape=!0,t=n.length;t--;)s[t]=a[n[t]]}},afterClassMixedIn:function(e){var t=e.prototype,n=t.responsiveConfig;n&&(delete t.responsiveConfig,e.getConfigurator().add({responsiveConfig:n}))},applyResponsiveConfig:function(e){return e},getResponsiveState:function(){var t,n,i=this.getResponsiveConfig(),r=e.stateArgs,o={};for(n in i)t=i[n],t.fn||(t.fn=new Function(e.argNames,"return "+n)),t.fn.apply(this,r)&&Ext.merge(o,t.config);return o},transformInstanceConfig:function(t){var n,i,r=this,o=t&&t.responsiveConfig;return e.register(r),o&&(n=r.getConfigurator(),n=n.configs.responsiveConfig,r.config.responsiveConfig=n.merge(o,r.config.responsiveConfig,r)),i=r.getResponsiveState(),t&&(i=Ext.merge({},t,i),delete i.responsiveConfig),i},updateResponsiveState:function(){var e=this.getResponsiveState();this.setConfig(e)}}}}),Ext.define("Ext.mixin.Selectable",{extend:"Ext.Mixin",mixinConfig:{id:"selectable",after:{updateStore:"updateStore"}},config:{disableSelection:null,mode:"SINGLE",allowDeselect:!1,lastSelected:null,lastFocused:null,deselectOnContainerClick:!0},modes:{SINGLE:!0,SIMPLE:!0,MULTI:!0},selectableEventHooks:{addrecords:"onSelectionStoreAdd",removerecords:"onSelectionStoreRemove",updaterecord:"onSelectionStoreUpdate",load:"refreshSelection",refresh:"refreshSelection"},constructor:function(){this.selected=new Ext.util.MixedCollection,this.callParent(arguments)},applyMode:function(e){return e=e?e.toUpperCase():"SINGLE",this.modes[e]?e:"SINGLE"},updateStore:function(e,t){var n=this,i=Ext.apply({},n.selectableEventHooks,{scope:n});t&&Ext.isObject(t)&&t.isStore&&(t.autoDestroy?t.destroy():(t.un(i),e&&e.un("clear","onSelectionStoreClear",this))),e&&(e.on(i),e.onBefore("clear","onSelectionStoreClear",this),n.refreshSelection())},selectAll:function(e){var t=this,n=t.getStore().getRange();t.select(n,!0,e)},deselectAll:function(e){var t=this,n=t.getStore().getRange();t.deselect(n,e),t.selected.clear(),t.setLastSelected(null),t.setLastFocused(null)},selectWithEvent:function(e){var t=this,n=t.isSelected(e);switch(t.getMode()){case"MULTI":case"SIMPLE":n?t.deselect(e):t.select(e,!0);break;case"SINGLE":t.getAllowDeselect()&&n?t.deselect(e):t.select(e,!1)}},selectRange:function(e,t,n){var i,r,o=this,a=o.getStore(),s=[];if(!o.getDisableSelection()){for(e>t&&(i=t,t=e,e=i),r=e;t>=r;r++)s.push(a.getAt(r));this.doMultiSelect(s,n)}},select:function(e,t,n){var i,r=this;r.getDisableSelection()||("number"==typeof e&&(e=[r.getStore().getAt(e)]),e&&("SINGLE"==r.getMode()&&e?(i=e.length?e[0]:e,r.doSingleSelect(i,n)):r.doMultiSelect(e,t,n)))},doSingleSelect:function(e,t){var n=this,i=n.selected;n.getDisableSelection()||n.isSelected(e)||(i.getCount()>0&&n.deselect(n.getLastSelected(),t),i.add(e),n.setLastSelected(e),n.onItemSelect(e,t),n.setLastFocused(e),t||n.fireSelectionChange([e]))},doMultiSelect:function(e,t,n){if(null!==e&&!this.getDisableSelection()){e=Ext.isArray(e)?e:[e];var i,r=this,o=r.selected,a=e.length,s=!1,l=0;for(!t&&o.getCount()>0&&(s=!0,r.deselect(r.getSelection(),!0));a>l;l++)i=e[l],t&&r.isSelected(i)||(s=!0,r.setLastSelected(i),o.add(i),n||r.setLastFocused(i),r.onItemSelect(i,n));s&&!n&&this.fireSelectionChange(e)}},deselect:function(e,t){var n=this;if(!n.getDisableSelection()){e=Ext.isArray(e)?e:[e];for(var i,r=n.selected,o=!1,a=0,s=n.getStore(),l=e.length;l>a;a++)i=e[a],"number"==typeof i&&(i=s.getAt(i)),r.remove(i)&&(n.getLastSelected()==i&&n.setLastSelected(r.last()),o=!0),i&&n.onItemDeselect(i,t);o&&!t&&n.fireSelectionChange(e)}},updateLastFocused:function(e,t){this.onLastFocusChanged(t,e)},fireSelectionChange:function(e){var t=this;t.fireAction("beforeselectionchange",[t],function(){t.fireAction("selectionchange",[t,e],"getSelection")})},getSelection:function(){return this.selected.getRange()},isSelected:function(e){return e=Ext.isNumber(e)?this.getStore().getAt(e):e,-1!==this.selected.indexOf(e)},hasSelection:function(){return this.selected.getCount()>0},refreshSelection:function(){var e=this,t=e.getSelection();e.deselectAll(!0),t.length&&e.select(t,!1,!0)},onSelectionStoreRemove:function(e,t){var n,i,r=this,o=r.selected,a=t.length;if(!r.getDisableSelection())for(i=0;a>i;i++)n=t[i],o.remove(n)&&(r.getLastSelected()==n&&r.setLastSelected(null),r.getLastFocused()==n&&r.setLastFocused(null),r.fireSelectionChange([n]))},onSelectionStoreClear:function(e){var t=e.getData().items;this.onSelectionStoreRemove(e,t)},getSelectionCount:function(){return this.selected.getCount()},onSelectionStoreAdd:Ext.emptyFn,onSelectionStoreUpdate:Ext.emptyFn,onItemSelect:Ext.emptyFn,onItemDeselect:Ext.emptyFn,onLastFocusChanged:Ext.emptyFn,onEditorKey:Ext.emptyFn},function(){}),Ext.define("Ext.mixin.Traversable",{extend:"Ext.Mixin",mixinConfig:{id:"traversable"},setParent:function(e){return this.parent=e,this},hasParent:function(){
return Boolean(this.parent)},getParent:function(){return this.parent},getAncestors:function(){for(var e=[],t=this.getParent();t;)e.push(t),t=t.getParent();return e},getAncestorIds:function(){for(var e=[],t=this.getParent();t;)e.push(t.getId()),t=t.getParent();return e}}),Ext.define("Ext.perf.Accumulator",function(){function e(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function t(t){var n=t?t:l()-this.time,i=this,r=i.accum;++r.count,--r.depth||e(r.total,n),e(r.pure,n-i.childTime),a=i.parent,a&&(++a.accum.childCount,a.childTime+=n)}function n(){return{min:Number.MAX_VALUE,max:0,sum:0}}function i(e,t){return function(){var n=e.enter(),i=t.apply(this,arguments);return n.leave(),i}}function r(e,t,n,i){var r={avg:0,min:i.min,max:i.max,sum:0};return e&&(n=n||0,r.sum=i.sum-t*n,r.avg=r.sum/e),r}var o,a=null,s=Ext.global.chrome,l=function(){l=Ext.now;var e,t;if(Ext.isChrome&&s&&s.Interval)e=new s.Interval,e.start(),l=function(){return e.microseconds()/1e3};else if(window.ActiveXObject)try{t=new ActiveXObject("SenchaToolbox.Toolbox"),Ext.senchaToolbox=t,l=function(){return t.milliseconds}}catch(n){}return Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=l,l()};return{requires:["Ext.XTemplate","Ext.ClassManager"],constructor:function(e){var t=this;t.count=t.childCount=t.depth=t.maxDepth=0,t.pure=n(),t.total=n(),t.name=e},statics:{getTimestamp:l},format:function(e){o||(o=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(e){return Math.round(100*e)/100}}));var t=this.getData(e);return t.name=this.name,t.pure.type="Pure",t.total.type="Total",t.times=[t.pure,t.total],o.apply(t)},getData:function(e){var t=this;return{count:t.count,childCount:t.childCount,depth:t.maxDepth,pure:r(t.count,t.childCount,e,t.pure),total:r(t.count,t.childCount,e,t.total)}},enter:function(){var e=this,n={accum:e,leave:t,childTime:0,parent:a};return++e.depth,e.maxDepth<e.depth&&(e.maxDepth=e.depth),a=n,n.time=l(),n},monitor:function(e,t,n){var i=this.enter();n?e.apply(t,n):e.call(t),i.leave()},report:function(){Ext.log(this.format())},tap:function(e,t){var n,r,o,a,s,l,d,u,c=this,h="string"==typeof t?[t]:t;return u=function(){if("string"==typeof e)for(n=Ext.global,a=e.split("."),o=0,s=a.length;s>o;++o)n=n[a[o]];else n=e;for(o=0,s=h.length;s>o;++o)l=h[o],r="!"==l.charAt(0),r?l=l.substring(1):r=!(l in n.prototype),d=r?n:n.prototype,d[l]=i(c,d[l])},Ext.ClassManager.onCreated(u,c,e),c}}},function(){Ext.perf.getTimestamp=this.getTimestamp}),Ext.define("Ext.perf.Monitor",{singleton:!0,alternateClassName:"Ext.Perf",requires:["Ext.perf.Accumulator"],constructor:function(){this.accumulators=[],this.accumulatorsByName={}},calibrate:function(){var e,t,n,i=new Ext.perf.Accumulator("$"),r=i.total,o=Ext.perf.Accumulator.getTimestamp,a=0;n=o();do e=i.enter(),e.leave(),++a;while(r.sum<100);return t=o(),(t-n)/a},get:function(e){var t=this,n=t.accumulatorsByName[e];return n||(t.accumulatorsByName[e]=n=new Ext.perf.Accumulator(e),t.accumulators.push(n)),n},enter:function(e){return this.get(e).enter()},monitor:function(e,t,n){this.get(e).monitor(t,n)},report:function(){var e=this,t=e.accumulators,n=e.calibrate();t.sort(function(e,t){return e.name<t.name?-1:t.name<e.name?1:0}),e.updateGC(),Ext.log("Calibration: "+Math.round(100*n)/100+" msec/sample"),Ext.each(t,function(e){Ext.log(e.format(n))})},getData:function(e){var t={},n=this.accumulators;return Ext.each(n,function(n){(e||n.count)&&(t[n.name]=n.getData())}),t},reset:function(){Ext.each(this.accumulators,function(e){var t=e;t.count=t.childCount=t.depth=t.maxDepth=0,t.pure={min:Number.MAX_VALUE,max:0,sum:0},t.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var e,t=this.accumulatorsByName.GC,n=Ext.senchaToolbox;t&&(t.count=n.garbageCollectionCounter||0,t.count&&(e=t.pure,t.total.sum=e.sum=n.garbageCollectionMilliseconds,e.min=e.max=e.sum/t.count,e=t.total,e.min=e.max=e.sum/t.count))},watchGC:function(){Ext.perf.getTimestamp();var e=Ext.senchaToolbox;e&&(this.get("GC"),e.watchGarbageCollector(!1))},setup:function(e){e||(e={render:{"Ext.Component":"render"},layout:{"Ext.layout.Context":"run"}}),this.currentConfig=e;var t,n,i,r,o;for(t in e)if(e.hasOwnProperty(t)){n=e[t],i=Ext.Perf.get(t);for(r in n)n.hasOwnProperty(r)&&(o=n[r],i.tap(r,o))}this.watchGC()}}),Ext.define("Ext.util.translatable.Abstract",{extend:"Ext.Evented",requires:["Ext.fx.easing.Linear"],config:{useWrapper:null,easing:null,easingX:null,easingY:null},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:!1,isTranslatable:!0,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.position={x:0,y:0}},factoryEasing:function(e){return Ext.factory(e,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(e){this.getEasingX()||this.setEasingX(this.factoryEasing(e)),this.getEasingY()||this.setEasingY(this.factoryEasing(e))},applyEasingX:function(e){return this.factoryEasing(e)},applyEasingY:function(e){return this.factoryEasing(e)},doTranslate:Ext.emptyFn,translate:function(e,t,n){return n?this.translateAnimated(e,t,n):(this.isAnimating&&this.stopAnimation(),isNaN(e)||"number"!=typeof e||(this.x=e),isNaN(t)||"number"!=typeof t||(this.y=t),void this.doTranslate(e,t))},translateAxis:function(e,t,n){var i,r;return"x"==e?i=t:r=t,this.translate(i,r,n)},getPosition:function(){var e=this,t=e.position;return t.x=-e.x,t.y=-e.y,t},animate:function(e,t){return this.activeEasingX=e,this.activeEasingY=t,this.isAnimating=!0,this.lastX=null,this.lastY=null,Ext.AnimationQueue.start(this.doAnimationFrame,this),this.fireEvent("animationstart",this,this.x,this.y),this},translateAnimated:function(e,t,n){var i=this;Ext.isObject(n)||(n={}),i.isAnimating&&i.stopAnimation(),i.callback=n.callback,i.callbackScope=n.scope;var r=Ext.Date.now(),o=n.easing,a="number"==typeof e?n.easingX||o||i.getEasingX()||!0:null,s="number"==typeof t?n.easingY||o||i.getEasingY()||!0:null;return a&&(a=i.factoryEasing(a),a.setStartTime(r),a.setStartValue(i.x),a.setEndValue(e),"duration"in n&&a.setDuration(n.duration)),s&&(s=i.factoryEasing(s),s.setStartTime(r),s.setStartValue(i.y),s.setEndValue(t),"duration"in n&&s.setDuration(n.duration)),i.animate(a,s)},doAnimationFrame:function(){var e,t,n=this,i=n.activeEasingX,r=n.activeEasingY,o=Date.now();if(n.isAnimating){if(n.lastRun=o,null===i&&null===r)return void n.stopAnimation();null!==i?(n.x=e=Math.round(i.getValue()),i.isEnded&&(n.activeEasingX=null,n.fireEvent("axisanimationend",n,"x",e))):e=n.x,null!==r?(n.y=t=Math.round(r.getValue()),r.isEnded&&(n.activeEasingY=null,n.fireEvent("axisanimationend",n,"y",t))):t=n.y,(n.lastX!==e||n.lastY!==t)&&(n.doTranslate(e,t),n.lastX=e,n.lastY=t),n.fireEvent("animationframe",n,e,t)}},stopAnimation:function(){var e=this;e.isAnimating&&(e.activeEasingX=null,e.activeEasingY=null,e.isAnimating=!1,Ext.AnimationQueue.stop(e.doAnimationFrame,e),e.fireEvent("animationend",e,e.x,e.y),e.callback&&(e.callback.call(e.callbackScope),e.callback=null))},refresh:function(){this.translate(this.x,this.y)},destroy:function(){this.isAnimating&&this.stopAnimation(),this.callParent(arguments)}}),Ext.define("Ext.util.translatable.Dom",{extend:"Ext.util.translatable.Abstract",config:{element:null},applyElement:function(e){return e?Ext.get(e):void 0},updateElement:function(){this.refresh()}}),Ext.define("Ext.util.translatable.CssTransform",{extend:"Ext.util.translatable.Dom",doTranslate:function(e,t){var n=this.getElement();this.isDestroyed||n.isDestroyed||n.translate(e,t)},destroy:function(){var e=this.getElement();e&&!e.isDestroyed&&(e.dom.style.webkitTransform=null),this.callSuper()}}),Ext.define("Ext.util.translatable.ScrollPosition",{extend:"Ext.util.translatable.Dom",type:"scrollposition",config:{useWrapper:!0},getWrapper:function(){var e,t=this.wrapper,n=this.getElement();if(!t){if(e=n.getParent(),!e)return null;e.hasCls(Ext.baseCSSPrefix+"translatable-hboxfix")&&(e=e.getParent()),t=this.getUseWrapper()?n.wrap():e,n.addCls("x-translatable"),t.addCls("x-translatable-container"),this.wrapper=t,t.on("painted",function(){this.isAnimating||this.refresh()},this),this.refresh()}return t},doTranslate:function(e,t){var n,i=this.getWrapper();i&&(n=i.dom,"number"==typeof e&&(n.scrollLeft=5e5-e),"number"==typeof t&&(n.scrollTop=5e5-t))},destroy:function(){var e=this.getElement(),t=this.wrapper;t&&(e.isDestroyed||(this.getUseWrapper()&&t.doReplaceWith(e),e.removeCls("x-translatable")),t.isDestroyed||(t.removeCls("x-translatable-container"),t.un("painted","refresh",this)),delete this.wrapper,delete this._element),this.callSuper()}}),Ext.define("Ext.util.translatable.ScrollParent",{extend:"Ext.util.translatable.Dom",applyElement:function(e){var t=Ext.get(e);return this.parent=t.parent(),t},doTranslate:function(e,t){var n=this.parent;n.setScrollLeft(Math.round(-e)),n.setScrollTop(Math.round(-t))},getPosition:function(){var e=this,t=e.position,n=e.parent;return t.x=n.getScrollLeft(),t.y=n.getScrollTop(),t}}),Ext.define("Ext.util.translatable.CssPosition",{extend:"Ext.util.translatable.Dom",doTranslate:function(e,t){var n=this.getElement().dom.style;"number"==typeof e&&(n.left=e+"px"),"number"==typeof t&&(n.top=t+"px")},destroy:function(){var e=this.getElement().dom.style;e.left=null,e.top=null,this.callParent(arguments)}}),Ext.define("Ext.util.Translatable",{requires:["Ext.util.translatable.CssTransform","Ext.util.translatable.ScrollPosition","Ext.util.translatable.ScrollParent","Ext.util.translatable.CssPosition"],constructor:function(e){var t=Ext.util.translatable;switch(Ext.browser.getPreferredTranslationMethod(e)){case"scrollposition":return new t.ScrollPosition(e);case"scrollparent":return new t.ScrollParent(e);case"csstransform":return new t.CssTransform(e);case"cssposition":return new t.CssPosition(e)}}}),Ext.define("Ext.scroll.Scroller",{extend:"Ext.Evented",requires:["Ext.fx.easing.BoundMomentum","Ext.fx.easing.EaseOut","Ext.util.Translatable"],config:{element:null,direction:"auto",fps:"auto",disabled:null,directionLock:!1,momentumEasing:{momentum:{acceleration:30,friction:.5},bounce:{acceleration:30,springTension:.3},minVelocity:1},bounceEasing:{duration:400},outOfBoundRestrictFactor:.5,startMomentumResetTime:300,maxAbsoluteVelocity:6,containerSize:"auto",size:"auto",autoRefresh:!0,initialOffset:{x:0,y:0},slotSnapSize:{x:0,y:0},slotSnapOffset:{x:0,y:0},slotSnapEasing:{duration:150},translatable:{translationMethod:"auto",useWrapper:!1},mouseEnabled:!1,snapToBoundary:!0},statics:{instances:{}},cls:Ext.baseCSSPrefix+"scroll-scroller",containerCls:Ext.baseCSSPrefix+"scroll-container",dragStartTime:0,dragEndTime:0,isDragging:!1,isAnimating:!1,isMouseEvent:{mousedown:1,mousemove:1,mouseup:1},constructor:function(e){var t=this,n=e&&e.element,i="onEvent";return t.listenerMap={touchstart:"onTouchStart",touchend:"onTouchEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd"},t.listeners={touchstart:i,touchend:i,dragstart:i,drag:i,dragend:i,scope:t},t.minPosition={x:0,y:0},t.startPosition={x:0,y:0},t.velocity={x:0,y:0},t.isAxisEnabledFlags={x:!1,y:!1},t.flickStartPosition={x:0,y:0},t.flickStartTime={x:0,y:0},t.lastDragPosition={x:0,y:0},t.dragDirection={x:0,y:0},t.initialConfig=e,n&&t.setElement(n),t.self.instances[t.id]=t,this},initialize:function(){var e=this;e.initialized||(e.mixins.observable.constructor.call(e,e.initialConfig),e.initialized=!0)},applyElement:function(e){return e?Ext.get(e):void 0},updateElement:function(e){var t=this;t.initialize(),t.FixedHBoxStretching||e.addCls(t.cls),t.getDisabled()||t.attachListeners();var n=function(){t.refreshMaxPosition()},i=Ext.Function.createSequence,r=t.updateContainerSize,o=t.updateSize;return t.updateContainerSize=r?i(r,n):n,t.updateSize=o?i(o,n):n,t.on({maxpositionchange:"snapToBoundary",minpositionchange:"snapToBoundary",scope:t}),t},applyTranslatable:function(e,t){return Ext.factory(e,Ext.util.Translatable,t)},updateTranslatable:function(e){e.setConfig({element:this.getElement(),listeners:{animationframe:"onAnimationFrame",animationend:"onAnimationEnd",scope:this}})},updateFps:function(e){"auto"!==e&&this.getTranslatable().setFps(e)},attachListeners:function(){this.getContainer().on(this.listeners)},detachListeners:function(){this.getContainer().un(this.listeners)},updateDisabled:function(e){e?this.detachListeners():this.attachListeners()},updateInitialOffset:function(e){"number"==typeof e&&(e={x:e,y:e}),this.getTranslatable().translate(-e.x,-e.y)},applyDirection:function(e){var t,n,i=this.getMinPosition(),r=this.getMaxPosition();return this.givenDirection=e,"auto"===e&&(t=r.x>i.x,n=r.y>i.y,e=t&&n?"both":t?"horizontal":"vertical"),e},updateDirection:function(e,t){var n=this.isAxisEnabledFlags,i=this.cls+"-vertical",r=this.cls+"-horizontal",o=this.getElement();("both"===t||"horizontal"===t)&&o.removeCls(r),("both"===t||"vertical"===t)&&o.removeCls(i),n.x=n.y=!1,("both"===e||"horizontal"===e)&&(n.x=!0,o.addCls(r)),("both"===e||"vertical"===e)&&(n.y=!0,o.addCls(i))},isAxisEnabled:function(e){return this.getDirection(),this.isAxisEnabledFlags[e]},applyMomentumEasing:function(e){var t=Ext.fx.easing.BoundMomentum;return{x:Ext.factory(e,t),y:Ext.factory(e,t)}},applyBounceEasing:function(e){var t=Ext.fx.easing.EaseOut;return{x:Ext.factory(e,t),y:Ext.factory(e,t)}},updateBounceEasing:function(e){this.getTranslatable().setEasingX(e.x).setEasingY(e.y)},applySlotSnapEasing:function(e){var t=Ext.fx.easing.EaseOut;return{x:Ext.factory(e,t),y:Ext.factory(e,t)}},getPosition:function(){return this.getTranslatable().getPosition()},getMinPosition:function(){var e=this.minPosition;return e||(this.minPosition=e={x:0,y:0},this.fireEvent("minpositionchange",this,e)),e},getMaxPosition:function(){var e,t,n=this.maxPosition;return n||(e=this.getSize(),t=this.getContainerSize(),this.maxPosition=n={x:Math.max(0,e.x-t.x),y:Math.max(0,e.y-t.y)},this.fireEvent("maxpositionchange",this,n)),n},refreshMaxPosition:function(){this.maxPosition=null,this.getMaxPosition()},applyContainerSize:function(e){var t,n,i=this.getContainer().dom;if(i)return this.givenContainerSize=e,"auto"===e?(t=i.clientWidth,n=i.clientHeight):(t=e.x,n=e.y),{x:t,y:n}},applySize:function(e){var t,n,i=this.getElement().dom,r=this.getContainer().dom;if(i)return this.givenSize=e,"auto"===e?(t=Math.max(i.offsetWidth,r.clientWidth),n=Math.max(i.offsetHeight,r.clientHeight)):"number"==typeof e?(t=e,n=e):(t=e.x,n=e.y),{x:t,y:n}},updateAutoRefresh:function(e){this.getElement().toggleListener(e,"resize","onElementResize",this),this.getContainer().toggleListener(e,"resize","onContainerResize",this)},applySlotSnapSize:function(e){return"number"==typeof e?{x:e,y:e}:e},applySlotSnapOffset:function(e){return"number"==typeof e?{x:e,y:e}:e},getContainer:function(){var e,t=this.container;return t||(e=this.getElement().getParent(),this.container=t=this.FixedHBoxStretching?e.getParent():e,t||Ext.Logger.error("Making an element scrollable that doesn't have any container"),t.addCls(this.containerCls)),t},refresh:function(){return this.stopAnimation(),this.getTranslatable().refresh(),this.setSize(this.givenSize),this.setContainerSize(this.givenContainerSize),this.setDirection(this.givenDirection),this.fireEvent("refresh",this),this},onElementResize:function(e,t){this.setSize({x:t.width,y:t.height}),this.refresh()},onContainerResize:function(e,t){this.setContainerSize({x:t.width,y:t.height}),this.refresh()},scrollTo:function(e,t,n){var i,r=this;if(r.isDestroyed)return r;"number"!=typeof e&&1===arguments.length&&(Ext.Logger.deprecate("Calling scrollTo() with an object argument is deprecated, please pass x and y arguments instead",r),t=e.y,e=e.x);var o,a,s=r.getTranslatable(),l=r.getPosition(),d=!1;return r.isAxisEnabled("x")&&(isNaN(e)||"number"!=typeof e?e=l.x:l.x!==e&&(d=!0),o=this.convertX(-e)),r.isAxisEnabled("y")&&(isNaN(t)||"number"!=typeof t?t=l.y:l.y!==t&&(d=!0),a=-t),d&&(void 0!==n&&n!==!1?(i=function(){r.fireEvent("scroll",r,e,t)},n===!0?n={callback:i}:n.callback?n.callback=Ext.Function.createSequence(n.callback,i):n.callback=i,s.translateAnimated(o,a,n)):(s.translate(o,a),r.fireEvent("scroll",r,e,t))),this},scrollToTop:function(e){var t=this.getInitialOffset();return this.scrollTo(t.x,t.y,e)},scrollToEnd:function(e){var t=this.getSize(),n=this.getContainerSize();return this.scrollTo(t.x-n.x,t.y-n.y,e)},scrollBy:function(e,t,n){var i=this.getPosition();return e="number"==typeof e?e+i.x:null,t="number"==typeof t?t+i.y:null,this.scrollTo(e,t,n)},onEvent:function(e){var t=this,n=e.browserEvent;(!Ext.supports.Touch||t.getMouseEnabled()||!t.isMouseEvent[n.type]&&"mouse"!==n.pointerType)&&t[t.listenerMap[e.type]](e)},onTouchStart:function(){this.isTouching=this.self.isTouching=!0,this.stopAnimation()},onTouchEnd:function(){var e=this.getPosition();this.isTouching=this.self.isTouching=!1,!this.isDragging&&this.snapToSlot()&&this.fireEvent("scrollstart",this,e.x,e.y)},onDragStart:function(e){var t=this.getDirection(),n=e.absDeltaX,i=e.absDeltaY,r=this.getDirectionLock(),o=this.startPosition,a=this.flickStartPosition,s=this.flickStartTime,l=this.lastDragPosition,d=this.getPosition(),u=this.dragDirection,c=d.x,h=d.y,f=Ext.Date.now();if(this.isDragging=!0,r&&"both"!==t){if(!("horizontal"===t&&n>i||"vertical"===t&&i>n))return void(this.isDragging=!1);e.stopPropagation()}l.x=c,l.y=h,a.x=c,a.y=h,o.x=c,o.y=h,s.x=f,s.y=f,u.x=0,u.y=0,this.dragStartTime=f,this.isDragging=!0,this.fireEvent("scrollstart",this,c,h)},onAxisDrag:function(e,t){if(this.isAxisEnabled(e)){var n,i=this.flickStartPosition,r=this.flickStartTime,o=this.lastDragPosition,a=this.dragDirection,s=this.getPosition()[e],l=this.getMinPosition()[e],d=this.getMaxPosition()[e],u=this.startPosition[e],c=o[e],h=u-t,f=a[e],g=this.getOutOfBoundRestrictFactor(),p=this.getStartMomentumResetTime(),m=Ext.Date.now();l>h?h*=g:h>d&&(n=h-d,h=d+n*g),h>c?a[e]=1:c>h&&(a[e]=-1),(0!==f&&a[e]!==f||m-r[e]>p)&&(i[e]=s,r[e]=m),o[e]=h}},onDrag:function(e){if(this.isDragging){var t=this.lastDragPosition;this.onAxisDrag("x",this.convertX(e.deltaX)),this.onAxisDrag("y",e.deltaY),this.scrollTo(t.x,t.y)}},onDragEnd:function(e){var t,n;this.isDragging&&(this.dragEndTime=Ext.Date.now(),this.onDrag(e),this.isDragging=!1,t=this.getAnimationEasing("x",e),n=this.getAnimationEasing("y",e),t||n?this.getTranslatable().animate(t,n):this.onScrollEnd())},getAnimationEasing:function(e,t){if(!this.isAxisEnabled(e))return null;var n,i,r=this.getPosition()[e],o=this.getMinPosition()[e],a=this.getMaxPosition()[e],s=this.getMaxAbsoluteVelocity(),l=null,d=this.dragEndTime,u=t.flick.velocity[e],c="x"===e;return o>r?l=o:r>a&&(l=a),c&&(r=this.convertX(r),l=this.convertX(l)),null!==l?(i=this.getBounceEasing()[e],i.setConfig({startTime:d,startValue:-r,endValue:-l}),i):0===u?null:(-s>u?u=-s:u>s&&(u=s),Ext.browser.is.IE&&(u*=2),i=this.getMomentumEasing()[e],n={startTime:d,startValue:-r,startVelocity:1.5*u,minMomentumValue:-a,maxMomentumValue:0},c&&this.convertEasingConfig(n),i.setConfig(n),i)},onAnimationFrame:function(e,t,n){var i=this.getPosition();this.fireEvent("scroll",this,this.convertX(i.x),i.y)},onAnimationEnd:function(){this.snapToBoundary(),this.onScrollEnd()},stopAnimation:function(){this.getTranslatable().stopAnimation()},onScrollEnd:function(){var e=this.getPosition();(this.isTouching||!this.snapToSlot())&&this.fireEvent("scrollend",this,e.x,e.y)},snapToSlot:function(){var e=this.getSnapPosition("x"),t=this.getSnapPosition("y"),n=this.getSlotSnapEasing();return null!==e||null!==t?(this.scrollTo(e,t,{easingX:n.x,easingY:n.y}),!0):!1},getSnapPosition:function(e){var t,n,i,r,o=this.getSlotSnapSize()[e],a=null;return 0!==o&&this.isAxisEnabled(e)&&(t=this.getPosition()[e],n=this.getSlotSnapOffset()[e],i=this.getMaxPosition()[e],r=Math.floor((t-n)%o),0!==r&&(a=t!==i&&Math.abs(r)>o/2?Math.min(i,t+(r>0?o-r:r-o)):t-r)),a},snapToBoundary:function(){if(this.getSnapToBoundary()){var e=this.getPosition(),t=this.getMinPosition(),n=this.getMaxPosition(),i=t.x,r=t.y,o=n.x,a=n.y,s=Math.round(e.x),l=Math.round(e.y);i>s?s=i:s>o&&(s=o),r>l?l=r:l>a&&(l=a),this.scrollTo(s,l)}},destroy:function(){var e,t=this.getElement(),n=this.sizeMonitors;n&&(n.element.destroy(),n.container.destroy()),t&&!t.isDestroyed&&(t.removeCls(this.cls),e=this.getContainer(),e&&!e.isDestroyed&&e.removeCls(this.containerCls)),Ext.destroy(this.getTranslatable()),delete this.self.instances[this.id],this.callParent(arguments)},convertX:function(e){return e},convertEasingConfig:function(e){return e}},function(){this.override({constructor:function(e){var t,n,i,r,o;e||(e={}),"string"==typeof e&&(e={direction:e}),2==arguments.length&&(Ext.Logger.deprecate("Passing element as the first argument is deprecated, pass it as the 'element' property of the config object instead"),t=e,e=arguments[1],e||(e={}),e.element=t),e.hasOwnProperty("acceleration")&&(n=e.acceleration,delete e.acceleration,Ext.Logger.deprecate("'acceleration' config is deprecated, set momentumEasing.momentum.acceleration and momentumEasing.bounce.acceleration configs instead"),Ext.merge(e,{momentumEasing:{momentum:{acceleration:n},bounce:{acceleration:n}}})),e.hasOwnProperty("snap")&&(e.slotSnapOffset=e.snap,Ext.Logger.deprecate("'snap' config is deprecated, please use the 'slotSnapOffset' config instead")),e.hasOwnProperty("friction")&&(i=e.friction,delete e.friction,Ext.Logger.deprecate("'friction' config is deprecated, set momentumEasing.momentum.friction config instead"),Ext.merge(e,{momentumEasing:{momentum:{friction:i}}})),e.hasOwnProperty("springTension")&&(r=e.springTension,delete e.springTension,Ext.Logger.deprecate("'springTension' config is deprecated, set momentumEasing.momentum.springTension config instead"),Ext.merge(e,{momentumEasing:{momentum:{springTension:r}}})),e.hasOwnProperty("minVelocityForAnimation")&&(o=e.minVelocityForAnimation,delete e.minVelocityForAnimation,Ext.Logger.deprecate("'minVelocityForAnimation' config is deprecated, set momentumEasing.minVelocity config instead"),Ext.merge(e,{momentumEasing:{minVelocity:o}})),this.callOverridden(arguments)},scrollToAnimated:function(e,t,n){return Ext.Logger.deprecate("scrollToAnimated() is deprecated, please use `scrollTo()` and pass 'animation' as the third argument instead"),this.scrollTo.apply(this,arguments)},scrollBy:function(e,t,n){return Ext.isObject(e)&&(Ext.Logger.deprecate("calling `scrollBy()` with an object of `x` and `y` properties is no longer supported. Please pass `x` and `y` values as two separate arguments instead"),t=e.y,e=e.x),this.callOverridden([e,t,n])},setOffset:function(e){return this.scrollToAnimated(-e.x,-e.y)}})}),Ext.define("Ext.util.Base64",{singleton:!0,_str:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,i,r,o,a,s,l=this,d="",u=0;e=l._utf8_encode(e);for(var c=e.length;c>u;)t=e.charCodeAt(u++),n=e.charCodeAt(u++),i=e.charCodeAt(u++),r=t>>2,o=(3&t)<<4|n>>4,a=(15&n)<<2|i>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),d=d+l._str.charAt(r)+l._str.charAt(o)+l._str.charAt(a)+l._str.charAt(s);return d},decode:function(e){var t,n,i,r,o,a,s,l=this,d="",u=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var c=e.length;c>u;)r=l._str.indexOf(e.charAt(u++)),o=l._str.indexOf(e.charAt(u++)),a=l._str.indexOf(e.charAt(u++)),s=l._str.indexOf(e.charAt(u++)),t=r<<2|o>>4,n=(15&o)<<4|a>>2,i=(3&a)<<6|s,d+=String.fromCharCode(t),64!=a&&(d+=String.fromCharCode(n)),64!=s&&(d+=String.fromCharCode(i));return d=l._utf8_decode(d)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0,i=e.length;i>n;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},_utf8_decode:function(e){for(var t="",n=0,i=0,r=0,o=0,a=e.length;a>n;)i=e.charCodeAt(n),128>i?(t+=String.fromCharCode(i),n++):i>191&&224>i?(o=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&o),n+=2):(o=e.charCodeAt(n+1),r=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&r),n+=3);return t}}),Ext.define("Ext.util.LocalStorage",{id:null,destroyed:!1,lazyKeys:!0,prefix:"",session:!1,_keys:null,_store:null,_users:0,statics:{cache:{},get:function(e){var t,n=this,i=n.cache,r={_users:1};return Ext.isString(e)?r.id=e:Ext.apply(r,e),(t=i[r.id])?(t===!0&&Ext.Error.raise('Creating a shared instance of private local store "'+n.id+'".'),++t._users):t=new n(r),t},supported:!0},constructor:function(e){var t=this;Ext.apply(t,e),t.hasOwnProperty("id")||Ext.Error.raise("No id was provided to the local store."),t._users?Ext.util.LocalStorage.cache[t.id]=t:(Ext.util.LocalStorage.cache[t.id]&&Ext.Error.raise('Cannot create duplicate instance of local store "'+t.id+'". Use Ext.util.LocalStorage.get() to share instances.'),Ext.util.LocalStorage.cache[t.id]=!0),t.init()},init:function(){var e=this,t=e.id;!e.prefix&&t&&(e.prefix=t+"-"),e._store=e.session?window.sessionStorage:window.localStorage},destroy:function(){var e=this;e._users&&Ext.log.warn("LocalStorage(id="+e.id+") destroyed while in use"),delete Ext.util.LocalStorage.cache[e.id],e._store=e._keys=null,e.destroyed=!0,e.destroy=Ext.emptyFn},getKeys:function(){var e,t,n=this,i=n._store,r=n.prefix,o=n._keys,a=r.length;if(!o)for(n._keys=o=[],e=i.length;e--;)t=i.key(e),t.length>a&&r===t.substring(0,a)&&o.push(t.substring(a));return o},release:function(){--this._users||this.destroy()},save:Ext.emptyFn,clear:function(){var e,t=this,n=t._store,i=t.prefix,r=t._keys||t.getKeys();for(e=r.length;e--;)n.removeItem(i+r[e]);r.length=0},key:function(e){var t=this._keys||this.getKeys();return e>=0&&e<t.length?t[e]:null},getItem:function(e){var t=this.prefix+e;return this._store.getItem(t)},removeItem:function(e){var t=this,n=t.prefix+e,i=t._store,r=t._keys,o=i.length;i.removeItem(n),r&&o!==i.length&&(t.lazyKeys?t._keys=null:Ext.Array.remove(r,e))},setItem:function(e,t){var n=this,i=n.prefix+e,r=n._store,o=r.length,a=n._keys;r.setItem(i,t),a&&o!==r.length&&a.push(e)}},function(){var e=this;if(!("localStorage"in window))return Ext.isIE?void e.override({data:null,flushDelay:1,init:function(){var e,t=this,n=t.data;t.el=e=document.createElement("div"),e.id=t.id||(t.id="extjs-localstore"),e.addBehavior("#default#userdata"),Ext.getHead().dom.appendChild(e),e.load(t.id),n=e.getAttribute("xdata"),t.data=n=n?Ext.decode(n):{},t._flushFn=function(){t._timer=null,t.save(0)}},destroy:function(){var e=this,t=e.el;t&&(e._timer&&e.save(),t.parentNode.removeChild(t),e.data=e.el=null,e.callParent())},getKeys:function(){var e=this,t=e._keys;return t||(e._keys=t=Ext.Object.getKeys(e.data)),t},save:function(e){var t=this;e?t._timer||(t._timer=setTimeout(t._flushFn,e)):(t._timer&&(clearTimeout(t._timer),t._timer=null),t.el.setAttribute("xdata",Ext.encode(t.data)),t.el.save(t.id))},clear:function(){var e=this;e.data={},e._keys=null,e.save(e.flushDelay)},getItem:function(e){var t=this.data;return e in t?t[e]:null},removeItem:function(e){var t=this,n=t._keys,i=t.data;e in i&&(delete i[e],n&&(t.lazyKeys?t._keys=null:Ext.Array.remove(n,e)),t.save(t.flushDelay))},setItem:function(e,t){var n=this,i=n.data,r=n._keys;!r||e in i||r.push(e),i[e]=t,n.save(n.flushDelay)}}):(e.supported=!1,void(e.prototype.init=function(){Ext.Error.raise("Local storage is not supported on this browser")}))}),Ext.define("Ext.util.TaskManager",{extend:"Ext.util.TaskRunner",alternateClassName:["Ext.TaskManager"],singleton:!0}),Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(e,t,n){var i=this,r=i.shared;return r||(r=i.shared=new i(e,n)),r.bind(e),r.setFixedWidth(n||"auto"),r.getSize(t)},destroy:function(){var e=this;Ext.destroy(e.shared),e.shared=null}},constructor:function(e,t){var n=this,i=Ext.getBody().createChild({"data-sticky":!0,role:"presentation",cls:Ext.baseCSSPrefix+"textmetrics"});n.measure=i,e&&n.bind(e),i.position("absolute"),i.setLocalXY(-1e3,-1e3),i.hide(),t&&i.setWidth(t)},getSize:function(e){var t,n=this.measure;return n.setHtml(e),t=n.getSize(),n.setHtml(""),t},bind:function(e){var t=this;t.el=Ext.get(e),t.measure.setStyle(t.el.getStyle(["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing","word-break"]))},setFixedWidth:function(e){this.measure.setWidth(e)},getWidth:function(e){return this.measure.dom.style.width="auto",this.getSize(e).width},getHeight:function(e){return this.getSize(e).height},destroy:function(){var e=this;e.measure.destroy(),delete e.el,delete e.measure}},function(){Ext.Element.override({getTextWidth:function(e,t,n){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(e,this.dom.innerHTML,!0)).width,t||0,n||1e6)}})}),Ext.define("Ext.Action",{constructor:function(e){this.initialConfig=e,this.itemId=e.itemId=e.itemId||e.id||Ext.id(),this.items=[]},isAction:!0,setText:function(e){this.initialConfig.text=e,this.callEach("setText",[e])},getText:function(){return this.initialConfig.text},setIconCls:function(e){this.initialConfig.iconCls=e,this.callEach("setIconCls",[e])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(e){this.initialConfig.disabled=e,this.callEach("setDisabled",[e])},enable:function(){this.setDisabled(!1)},disable:function(){this.setDisabled(!0)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(e){this.initialConfig.hidden=e,this.callEach("setVisible",[!e])},show:function(){this.setHidden(!1)},hide:function(){this.setHidden(!0)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(e,t){this.initialConfig.handler=e,this.initialConfig.scope=t,this.callEach("setHandler",[e,t])},each:function(e,t){Ext.each(this.items,e,t)},callEach:function(e,t){var n,i=this.items,r=0,o=i.length;for(Ext.suspendLayouts();o>r;r++)n=i[r],n[e].apply(n,t);Ext.resumeLayouts(!0)},addComponent:function(e){this.items.push(e),e.on("destroy",this.removeComponent,this)},removeComponent:function(e){Ext.Array.remove(this.items,e)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}}),Ext.define("Ext.util.ProtoElement",function(){var e=Ext.String.splitWords,t=Ext.Array.toMap;return{isProtoEl:!0,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:!1,constructor:function(n){var i,r,o=this;n&&(Ext.apply(o,n),i=o.cls,r=o.style,delete o.cls),o.classList=i?e(i):[],o.classMap=i?t(o.classList):{},r&&("string"==typeof r?o.style=Ext.Element.parseStyles(r):Ext.isFunction(r)?(o.styleFn=r,delete o.style):o.style=Ext.apply({},r))},flush:function(){this.flushClassList=[],this.removedClasses={},delete this.style,delete this.unselectableAttr},addCls:function(t){if(!t)return this;for(var n,i=this,r="string"==typeof t?e(t):t,o=r.length,a=i.classList,s=i.classMap,l=i.flushClassList,d=0;o>d;++d)n=r[d],s[n]||(s[n]=!0,a.push(n),l&&(l.push(n),delete i.removedClasses[n]));return i},hasCls:function(e){return e in this.classMap},removeCls:function(n){var i,r,o=this,a=o.classList,s=o.classList=[],l=t(e(n)),d=a.length,u=o.classMap,c=o.removedClasses;for(i=0;d>i;++i)r=a[i],l[r]?(c&&u[r]&&(c[r]=!0,Ext.Array.remove(o.flushClassList,r)),delete u[r]):s.push(r);return o},setStyle:function(e,t){var n=this,i=n.style||(n.style={});return"string"==typeof e?1===arguments.length?n.setStyle(Ext.Element.parseStyles(e)):i[e]=t:Ext.apply(i,e),n},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls),Ext.isOpera&&(this.unselectableAttr=!0)},writeTo:function(e){var t,n=this,i=n.flushClassList||n.classList,r=n.removedClasses;return n.styleFn?(t=Ext.apply({},n.styleFn()),Ext.apply(t,n.style)):t=n.style,e[n.clsProp]=i.join(" "),t&&(e[n.styleProp]=n.styleIsText?Ext.DomHelper.generateStyles(t,null,!0):t),r&&(r=Ext.Object.getKeys(r),r.length&&(e[n.removedProp]=r.join(" "))),n.unselectableAttr&&(e.unselectable="on"),e}}}),Ext.define("Ext.util.ElementContainer",{
mixinId:"elementCt",config:{childEls:{$value:{},cached:!0,lazy:!0,merge:function(e,t,n,i){var r,o,a=t?Ext.Object.chain(t):{};if(e instanceof Array)for(r=e.length;r--;)o=e[r],i&&o in a||("string"==typeof o?a[o]={name:o,itemId:o}:a[o.name]=o);else if(e)if(e.constructor===Object)for(r in e)i&&r in a||(o=e[r],o===!0?a[r]={itemId:r}:"string"==typeof o?a[r]={itemId:o}:(a[r]=o,"itemId"in o||(o.itemId=r)),a[r].name=r);else i&&e in a||(a[e]={name:e,itemId:e});return a}}},destroy:function(){var e,t,n=this,i=n.getChildEls();for(t in i)e=n[t],e&&(e.destroy&&e.destroy(),n[t]=null)},privates:{afterClassMixedIn:function(e){var t=e.prototype,n=t.childEls;n&&(delete t.childEls,e.getConfigurator().add({childEls:n}))},attachChildEls:function(e,t){var n,i,r,o,a,s,l,d=this,u=d.getChildEls(),c=t||d,h=c.id+"-",f=!c.frame;for(n in u)if(r=u[n],!f||!r.frame){if(a=r.select,a?s=e.select(a,!0):(a=r.selectNode)?s=e.selectNode(a,!1):(l=r.id)?s=Ext.cache[l]||e.getById(l):(l=h+r.itemId,s=Ext.cache[l]),s)if(s.isElement)s.component=c;else if(s.isComposite&&!s.isLite)for(i=s.elements,o=i.length;o--;)i[o].component=c;d[n]=s||null}}}}),Ext.define("Ext.util.Renderable",{mixinId:"renderable",requires:["Ext.dom.Element"],frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR","Table"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}Body" data-ref="frameBody" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table id="{fgid}Table" data-ref="frameTable" class="{frameCls} ',Ext.baseCSSPrefix+'table-plain" cellpadding="0" role="presentation">','<tpl if="top">','<tr role="presentation">','<tpl if="left"><td id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>",'<tr role="presentation">','<tpl if="left"><td id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}Body" data-ref="frameBody" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" style="{mcStyle}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">','<tr role="presentation">','<tpl if="left"><td id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</table>","{%this.renderDockedItems(out,values,1);%}"],_renderState:0,statics:{makeRenderSetter:function(e,t){var n=e.name;return function(i){var r=this,o=r.renderConfigs||(r.renderConfigs={}),a=o[t];return r._renderState>=t?(e.setter||e.getSetter()).call(r,i):(a||(o[t]=a={}),n in a||(a[n]=r[n]),r[n]=i),r}},processRenderConfig:function(e,t,n){var i,r,o,a,s=this.prototype,l=this.getConfigurator(),d=Ext.util.Renderable,u=d.makeRenderSetter,c=e[t];for(o in c)r=Ext.Config.get(o),s[a=r.names.set]||(i=r.renderSetter||(r.renderSetter={}),s[a]=i[n]||(i[n]=u(r,n)));delete e[t],l.add(c)}},onClassMixedIn:function(e){var t=e.override,n=this.processRenderConfig,i=function(e){e.beforeRenderConfig&&this.processRenderConfig(e,"beforeRenderConfig",1),e.renderConfig&&this.processRenderConfig(e,"renderConfig",3),t.call(this,e)},r=function(e,t){e.override=i,e.processRenderConfig=n,t.beforeRenderConfig&&e.processRenderConfig(t,"beforeRenderConfig",1),t.renderConfig&&e.processRenderConfig(t,"renderConfig",3)};r(e,e.prototype),e.onExtended(r)},afterRender:function(){var e,t,n,i,r=this,o={},a=r.protoEl,s=r.el;r.finishRenderChildren(),r._renderState=4,r.contentEl&&(t=Ext.baseCSSPrefix,n=t+"hidden-",i=Ext.get(r.contentEl),i.component=r,i.removeCls([t+"hidden",n+"display",n+"offsets"]),r.getContentTarget().appendChild(i.dom)),a.writeTo(o),e=o.removed,e&&s.removeCls(e),e=o.cls,e.length&&s.addCls(e),e=o.style,o.style&&s.setStyle(e),r.protoEl=null,r.ownerCt||r.updateLayout(),r.x&&r.y||!r.pageX&&!r.pageY||r.setPagePosition(r.pageX,r.pageY),r.disableOnRender?r.onDisable():r.enableOnRender&&r.onEnable(),Ext.enableAria&&r.ariaApplyAfterRenderAttributes()},afterFirstLayout:function(e,t){var n,i,r,o,a=this,s=a.x,l=a.y,d=a.defaultAlign,u=a.alignOffset;a.ownerLayout||(n=void 0!==s,i=void 0!==l),!a.floating||n&&i||(a.floatParent?(r=a.floatParent.getTargetEl().getViewRegion(),o=a.el.getAlignToXY(a.alignTarget||a.floatParent.getTargetEl(),d,u),r.x=o[0]-r.x,r.y=o[1]-r.y):(o=a.el.getAlignToXY(a.alignTarget||a.container,d,u),r=a.container.translateXY(o[0],o[1])),s=n?s:r.x,l=i?l:r.y,n=i=!0),(n||i)&&a.setPosition(s,l),a.onBoxReady(e,t)},beforeRender:function(){var e,t=this,n=t.floating,i=t.getComponentLayout();t._renderState=1,t.initBindable(),t.renderConfigs&&t.flushRenderConfigs(),t.reference&&t.publishState(),n&&(t.addCls(Ext.baseCSSPrefix+"layer"),e=n.cls,e&&t.addCls(e)),t.frame=t.frame||t.alwaysFramed,i.initialized||i.initLayout(),t.initOverflow(),t.setUI(t.ui),t.disabled&&t.disable(!0)},doApplyRenderTpl:function(e,t){var n,i=t.$comp;i.rendered||(n=i.initRenderTpl(),n.applyOut(t.renderData,e))},getElConfig:function(){var e,t=this,n=t.autoEl,i=t.getFrameInfo(),r={tag:"div",tpl:i?t.initFramingTpl(i.table):t.initRenderTpl()},o=t.protoEl;return t.initStyles(o),o.writeTo(r),o.flush(),Ext.isString(n)?r.tag=n:Ext.apply(r,n),Ext.enableAria&&t.ariaRenderAttributesToElement&&Ext.apply(r,t.ariaGetRenderAttributes()),r.id=t.id,r.tpl&&(i?(r.tplData=e=t.getFrameRenderData(),e.renderData=t.initRenderData()):r.tplData=t.initRenderData()),r},getInsertPosition:function(e){return void 0!==e&&(e=Ext.isNumber(e)?this.container.dom.childNodes[e]:Ext.getDom(e)),e},getRenderTree:function(){var e=this,t=null;return e.hasListeners.beforerender&&e.fireEvent("beforerender",e)===!1||(e._renderState=1,e.beforeRender(),e.rendering=!0,e._renderState=2,t=e.getElConfig(),e.el&&(t.id=e.$pid=Ext.id(null,e.el.identifiablePrefix))),t},initRenderData:function(){var e=this;return Ext.apply({$comp:e,id:e.id,ui:e.ui,uiCls:e.uiCls,baseCls:e.baseCls,componentCls:e.componentCls,frame:e.frame,renderScroller:e.touchScroll,scrollerCls:e.scrollerCls,role:e.ariaRole,childElCls:""},e.renderData)},onRender:function(e,t){var n,i,r=this,o=r.x,a=r.y,s=null,l=r.el;r.applyRenderSelectors(),r.rendering=null,r.rendered=!0,r._renderState=3,r.renderConfigs&&r.flushRenderConfigs(),null!=o&&(s={x:o}),null!=a&&((s=s||{}).y=a),r.getFrameInfo()||(n=r.width,i=r.height,"number"==typeof n&&(s=s||{},s.width=n),"number"==typeof i&&(s=s||{},s.height=i)),1===r.touchScroll&&r.getOverflowEl().disableTouchScroll(),r.lastBox=l.lastBox=s},render:function(e,t){var n,i,r,o=this,a=o.el,s=o.ownerLayout;a&&!a.isElement&&(o.el=a=o.wrapPrimaryEl(a)),Ext.suspendLayouts(),e=o.initContainer(e),r=o.getInsertPosition(t),a?o.hasListeners.beforerender&&o.fireEvent("beforerender",o)===!1?n=!0:(o.beforeRender(),o.needsRenderTpl=o.rendering=!0,o._renderState=2,o.initStyles(a),o.allowDomMove!==!1&&(r?e.dom.insertBefore(a.dom,r):e.dom.appendChild(a.dom))):(i=o.getRenderTree(),s&&s.transformItemRenderTree&&(i=s.transformItemRenderTree(i)),i&&(a=r?Ext.DomHelper.insertBefore(r,i):Ext.DomHelper.append(e,i),o.wrapPrimaryEl(a),o.cacheRefEls(a))),a&&!n&&o.finishRender(t),Ext.resumeLayouts(!o.hidden&&!e.isDetachedBody)},ensureAttachedToBody:function(e){for(var t,n=this;n.ownerCt;)n=n.ownerCt;n.container.isDetachedBody&&(n.container=t=Ext.getBody(),t.appendChild(n.el.dom),e&&n.updateLayout(),("number"==typeof n.x||"number"==typeof n.y)&&n.setPosition(n.x,n.y))},privates:{applyRenderSelectors:function(){var e,t,n=this,i=n.renderSelectors,r=n.el;if(n.attachChildEls(r),i)for(t in i)e=i[t],e&&(n[t]=r.selectNode(e,!1))},cacheRefEls:function(e){e=e||this.el;var t,n,i=Ext.cache,r=Ext.dom.Element,o=e.isElement?e.dom:e,a=o.querySelectorAll("[data-ref]"),s=a.length;for(n=0;s>n;n++)t=a[n],i[t.id]||new r(t)},doAutoRender:function(){var e=this;e.rendered||(e.floating?e.render(e.renderTo||document.body):e.render(Ext.isBoolean(e.autoRender)?Ext.getBody():e.autoRender))},doRenderContent:function(e,t){var n=t.$comp,i=n.data;n.html&&(Ext.DomHelper.generateMarkup(n.html,e),delete n.html),n.tpl&&(n.tpl.isTemplate||(n.tpl=new Ext.XTemplate(n.tpl)),i&&(n.data=i=i.isEntity?i.getData(!0):i,n.tpl.applyOut(i,e)))},doRenderFramingDockedItems:function(e,t,n){var i=t.$comp;!i.rendered&&i.doRenderDockedItems&&(t.renderData.$skipDockedItems=!0,i.doRenderDockedItems.call(this,e,t,n))},flushRenderConfigs:function(){var e,t,n,i,r,o=this,a=o.renderConfigs,s=o._renderState;if(a){for(t=0;s>=t;++t)if(e=a[t]){a[t]=null;for(n in e)r=e[n],(i||(i={}))[n]=o[n],o[n]=r}i&&o.setConfig(i)}},finishRender:function(e){var t,n,i,r,o,a,s,l=this,d=Ext.cache;if(!l.el||l.$pid)if(l.container?(s=d[l.id],a=s?s.dom:l.container.getById(l.id,!0)):(i=l.$pid||l.id,s=d[i],a=s?s.dom:Ext.getDom(i)),l.el){for(delete l.$pid,l.el.dom||l.wrapPrimaryEl(l.el),a.parentNode.insertBefore(l.el.dom,a),t=a,a=l.el.dom,n=a.firstChild;t.firstChild;)a.insertBefore(t.firstChild,n);l.el.addCls(t.className),Ext.removeNode(t)}else l.wrapPrimaryEl(a);else l.needsRenderTpl&&(r=l.initRenderTpl(),r&&(o=l.initRenderData(),r.insertFirst(l.getTargetEl(),o)),l.cacheRefEls());l.el.component=l,l.container||(l.container=Ext.get(l.el.dom.parentNode)),l.ctCls&&l.container.addCls(l.ctCls),l.onRender(l.container,e),l.overflowInited||l.initOverflow(),l.el.setVisibilityMode(Ext.Element[l.hideMode.toUpperCase()]),l.overCls&&l.el.hover(l.addOverCls,l.removeOverCls,l),l.hasListeners.render&&l.fireEvent("render",l),l.afterRender(),l.hasListeners.afterrender&&l.fireEvent("afterrender",l),l.initEvents(),l.hidden&&l.el.hide()},finishRenderChildren:function(){var e=this.getComponentLayout();e.finishRender()},getFrameRenderData:function(){var e=this,t=e.frameSize,n="";return e._syncFrameHeight&&e.height&&(n="height:"+(e.height-t.height)+"px"),{$comp:e,fgid:e.id+"-frame",ui:e.ui,uiCls:e.uiCls,frameCls:e.frameCls,baseCls:e.baseCls,top:!!t.top,left:!!t.left,right:!!t.right,bottom:!!t.bottom,mcStyle:n,frameElCls:""}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return!1;var e,t,n,i,r,o,a,s,l,d,u,c,h,f,g,p,m,x,E=this,v=E.frameInfoCache,y=E.getFramingInfoCls()+"-frameInfo",b=v[y],C=Math.max;return null==b&&(e=Ext.fly(E.getStyleProxy(y),"frame-style-el"),t=e.getStyle("font-family"),t?(t=t.split("-"),g=parseInt(t[1],10),p=parseInt(t[2],10),m=parseInt(t[3],10),x=parseInt(t[4],10),a=parseInt(t[5],10),s=parseInt(t[6],10),l=parseInt(t[7],10),d=parseInt(t[8],10),u=parseInt(t[9],10),c=parseInt(t[10],10),h=parseInt(t[11],10),f=parseInt(t[12],10),n=C(a,C(g,p)),i=C(s,C(p,m)),r=C(l,C(x,m)),o=C(d,C(g,x)),b={table:"t"===t[0].charAt(0),vertical:"v"===t[0].charAt(1),top:n,right:i,bottom:r,left:o,width:o+i,height:n+r,maxWidth:C(n,i,r,o),border:{top:a,right:s,bottom:l,left:d,width:d+s,height:a+l},padding:{top:u,right:c,bottom:h,left:f,width:f+c,height:u+h},radius:{tl:g,tr:p,br:m,bl:x}}):b=!1,E.frame!==!0||b||Ext.log.error("You have set frame: true explicity on this component ("+E.getXType()+") and it does not have any framing defined in the CSS template. In this case IE cannot figure out what sizes to use and thus framing on this component will be disabled."),v[y]=b),E.frame=!!b,E.frameSize=b,b},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(e){var t=this.styleProxyEl||(Ext.Component.prototype.styleProxyEl=Ext.getBody().createChild({"data-sticky":!0,role:"presentation",style:{position:"absolute",top:"-10000px"}},null,!0));return t.className=e,t},getFrameTpl:function(e){return this.getTpl(e?"frameTableTpl":"frameTpl")},initContainer:function(e){var t=this;return!e&&t.el&&(e=t.el.dom.parentNode,t.allowDomMove=!1),t.container=e.dom?e:Ext.get(e),t.container},initOverflow:function(){var e=this,t=e.getOverflowStyle(),n=e.scrollFlags,i=e.getOverflowEl(),r=e.touchScroll=(n.y||n.x)&&Ext.supports.touchScroll;i&&(e.overflowInited=!0,2===r?i.setStyle("overflow","hidden"):i.setStyle(t))},doRenderPadding:function(e,t){var n=t.$comp;n.touchScroll&&e.push("padding:",n.unitizeBox(n.padding))},initFramingTpl:function(e){var t=this.getFrameTpl(e);return t&&!t.applyRenderTpl&&this.setupFramingTpl(t),t},initRenderTpl:function(){var e=this.getTpl("renderTpl");return e&&!e.renderContent&&this.setupRenderTpl(e),e},setupFramingTpl:function(e){e.applyRenderTpl=this.doApplyRenderTpl,e.renderDockedItems=this.doRenderFramingDockedItems},setupRenderTpl:function(e){e.renderBody=e.renderContent=this.doRenderContent,e.renderPadding=this.doRenderPadding},updateFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var e,t,n,i,r,o,a,s,l,d,u,c=this,h=c.el.dom,f=c.frameTable,g=c.frameBody,p=g.dom,m=c.getFrameInfo();for(n=document.createElement("div"),o=c.getFrameRenderData(),s=c.getFrameTpl(m.table),s.insertFirst(n,o),u=n.querySelectorAll("[data-ref]"),d=n.querySelector('[data-ref="frameBody"]'),r=p;r.parentNode!==h;)r=r.parentNode;for(;n.firstChild;)h.insertBefore(n.firstChild,r);d.parentNode.replaceChild(p,d),p.className=d.className,g.setSize(),e=c.getChildEls(),f&&(f.destroy(),c.frameTable=null);for(t in e)e[t].frame&&(i=c[t],i&&i!==g&&(i.destroy(),c[t]=null));for(l=u.length;l--;)t=(a=u[l]).getAttribute("data-ref"),"frameBody"!==t&&(c[t]=new Ext.dom.Element(a))}},frameInfoCache:{}}}),Ext.define("Ext.state.Provider",{mixins:{observable:"Ext.util.Observable"},prefix:"ext-",constructor:function(e){var t=this;Ext.apply(t,e),t.state={},t.mixins.observable.constructor.call(t)},get:function(e,t){return"undefined"==typeof this.state[e]?t:this.state[e]},clear:function(e){var t=this;delete t.state[e],t.fireEvent("statechange",t,e,null)},set:function(e,t){var n=this;n.state[e]=t,n.fireEvent("statechange",n,e,t)},decodeValue:function(e){var t,n,i,r,o,a,s=this,l=/^(a|n|d|b|s|o|e)\:(.*)$/,d=l.exec(unescape(e));if(d&&d[1])switch(n=d[1],e=d[2],n){case"e":return null;case"n":return parseFloat(e);case"d":return new Date(Date.parse(e));case"b":return"1"==e;case"a":if(t=[],""!=e)for(r=e.split("^"),o=r.length,a=0;o>a;a++)e=r[a],t.push(s.decodeValue(e));return t;case"o":if(t={},""!=e)for(r=e.split("^"),o=r.length,a=0;o>a;a++)e=r[a],i=e.split("="),t[i[0]]=s.decodeValue(i[1]);return t;default:return e}},encodeValue:function(e){var t,n,i,r="",o=0;if(null==e)return"e:1";if("number"==typeof e)t="n:"+e;else if("boolean"==typeof e)t="b:"+(e?"1":"0");else if(Ext.isDate(e))t="d:"+e.toUTCString();else if(Ext.isArray(e)){for(n=e.length;n>o;o++)r+=this.encodeValue(e[o]),o!=n-1&&(r+="^");t="a:"+r}else if("object"==typeof e){for(i in e)"function"!=typeof e[i]&&void 0!==e[i]&&(r+=i+"="+this.encodeValue(e[i])+"^");t="o:"+r.substring(0,r.length-1)}else t="s:"+e;return escape(t)}}),Ext.define("Ext.state.Manager",{singleton:!0,requires:["Ext.state.Provider"],constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(e){this.provider=e},get:function(e,t){return this.provider.get(e,t)},set:function(e,t){this.provider.set(e,t)},clear:function(e){this.provider.clear(e)},getProvider:function(){return this.provider}}),Ext.define("Ext.state.Stateful",{mixinId:"state",requires:["Ext.state.Manager"],stateful:!1,saveDelay:100,constructor:function(){var e=this;e.stateEvents||(e.stateEvents=[]),e.stateful!==!1&&(e.addStateEvents(e.stateEvents),e.initState())},addStateEvents:function(e){var t,n,i,r,o=this;if(o.stateful&&o.getStateId())for(r="string"==typeof e?arguments:e,i=o.stateEventsByName||(o.stateEventsByName={}),t=r.length;t--;)n=r[t],n&&!i[n]&&(i[n]=1,o.on(n,o.onStateChange,o))},onStateChange:function(){var e,t,n=this,i=n.saveDelay;n.stateful&&(i?(n.stateTask||(e=Ext.state.Stateful,t=e.runner||(e.runner=new Ext.util.TaskRunner),n.stateTask=t.newTask({run:n.saveState,scope:n,interval:i,repeat:1})),n.stateTask.start()):n.saveState())},saveState:function(){var e,t,n,i,r,o,a=this,s=a.stateful&&a.getStateId(),l=a.hasListeners;if(s){for(r=a.getState()||{},e=a.getPlugins()||[],n=0,i=e.length;i>n;n++)t=e[n],t&&t.getState&&(o=t.getState(r),o&&!r[t.ptype]&&(r[t.ptype]=o));l.beforestatesave&&a.fireEvent("beforestatesave",a,r)===!1||(Ext.state.Manager.set(s,r),l.statesave&&a.fireEvent("statesave",a,r))}},getState:function(){return null},applyState:function(e){e&&Ext.apply(this,e)},getStateId:function(){var e=this;return e.stateId||(e.autoGenId?null:e.id)},initState:function(){var e,t,n,i,r,o,a,s=this,l=s.stateful&&s.getStateId(),d=s.hasListeners;if(l&&(t=Ext.state.Manager.get(l),t&&(e=Ext.apply({},t),!d.beforestaterestore||s.fireEvent("beforestaterestore",s,t)!==!1))){for(r=s.getPlugins()||[],n=0,i=r.length;i>n;n++)o=r[n],o&&(a=o.ptype,o.applyState&&o.applyState(e[a],t),delete e[a]);s.applyState(e),d.staterestore&&s.fireEvent("staterestore",s,t)}},savePropToState:function(e,t,n){var i=this,r=i[e],o=i.initialConfig;return!i.hasOwnProperty(e)||o&&o[e]===r?!1:(t&&(t[n||e]=r),!0)},savePropsToState:function(e,t){var n,i,r=this;if("string"==typeof e)r.savePropToState(e,t);else for(n=0,i=e.length;i>n;++n)r.savePropToState(e[n],t);return t},destroy:function(){var e=this,t=e.stateTask;t&&(t.destroy(),e.stateTask=null),e.clearListeners()}}),Ext.define("Ext.util.Floating",{mixinId:"floating",uses:["Ext.Layer","Ext.ZIndexManager"],focusOnToFront:!0,shadow:"sides",constrain:!1,constructor:function(e){var t=this;t.el=new Ext.dom.Layer(Ext.apply({preventSync:!0,hideMode:t.hideMode,shadow:"undefined"!=typeof t.shadow?t.shadow:"sides",shadowOffset:t.shadowOffset,constrain:!1,fixed:t.fixed,shim:t.shim===!1?!1:void 0},t.floating),e),t.modal&&!Ext.enableFocusManager&&t.mon(t.el,{keydown:t.onKeyDown,scope:t}),t.mon(t.el,{mousedown:t.onMouseDown,scope:t,capture:!0}),t.floating=!0,t.registerWithOwnerCt(),t.initHierarchyEvents()},initHierarchyEvents:function(){var e=this,t=this.syncHidden;e.hasHierarchyEventListeners||(e.mon(Ext.GlobalEvents,{hide:t,collapse:t,show:t,expand:t,added:t,scope:e}),e.hasHierarchyEventListeners=!0)},registerWithOwnerCt:function(){var e=this,t=e.ownerCt,n=e.zIndexParent;n&&n.unregisterFloatingItem(e),n=e.zIndexParent=e.up("[floating]"),e.setFloatParent(t||n),delete e.ownerCt,n?n.registerFloatingItem(e):Ext.WindowManager.register(e)},onKeyDown:function(e){var t,n,i,r,o=this;e.getKey()===e.TAB&&(t=e.shiftKey,n=o.query(":focusable"),n.length&&(i=n[0],r=n[n.length-1],!t&&r.hasFocus?(e.stopEvent(),i.focus()):t&&i.hasFocus&&(e.stopEvent(),r.focus())))},onMouseDown:function(e){var t,n,i=this,r=i.focusTask,o=!1;if(i.floating&&(!r||!r.id)){for(t=e.target,n=i.el.dom;t&&t!==n;){if(Ext.fly(t).isFocusable()){o=!0;break}t=t.parentNode}i.toFront(o)}},setFloatParent:function(e){var t=this;t.floatParent=e,!t.constrain&&!t.constrainHeader||t.constrainTo||(t.constrainTo=e?e.getTargetEl():t.container)},syncShadow:function(){this.floating&&this.el.sync(!0)},onBeforeFloatLayout:function(){this.el.preventSync=!0},onAfterFloatLayout:function(){delete this.el.preventSync,this.syncShadow()},syncHidden:function(){var e=this,t=e.hidden||!e.rendered,n=e.hierarchicallyHidden=e.isHierarchicallyHidden(),i=e.pendingShow;t!==n&&(n?(e.hide(),e.pendingShow=!0):i&&(delete e.pendingShow,i.length?e.show.apply(e,i):e.show()))},setZIndex:function(e){var t=this;return t.el.setZIndex(e),e+=10,t.floatingDescendants&&(e=100*Math.floor(t.floatingDescendants.setBase(e)/100)+1e4),e},doConstrain:function(e){var t=this,n=t.calculateConstrainedPosition(e,null,!0);n&&t.setPosition(n)},toFront:function(e){var t=this,n=t.zIndexParent,i=t.preventFocusOnActivate;return n&&t.bringParentToFront!==!1&&n.toFront(!0),Ext.isDefined(e)||(e=!t.focusOnToFront),e&&(t.preventFocusOnActivate=!0),t.zIndexManager.bringToFront(t,e)&&(e||t.focus(!1,!0),t.hasListeners.tofront&&t.fireEvent("tofront",t,t.el.getZIndex())),t.preventFocusOnActivate=i,t},setActive:function(e,t){var n=this;e?(n.el.shadow&&!n.maximized&&n.el.enableShadow(!0),n.preventFocusOnActivate||n.focus(!1,!0),n.fireEvent("activate",n)):(n.isWindow&&t&&t.isWindow&&n.hideShadowOnDeactivate&&n.el.disableShadow(),n.fireEvent("deactivate",n))},toBack:function(){return this.zIndexManager.sendToBack(this),this},center:function(){var e,t=this;return t.isVisible()?(e=t.getAlignToXY(t.container,"c-c"),t.setPagePosition(e)):t.needsCenter=!0,t},onFloatShow:function(){this.needsCenter&&this.center(),delete this.needsCenter,this.toFrontOnShow&&this.toFront()},fitContainer:function(e){var t=this,n=t.floatParent,i=n?n.getTargetEl():t.container,r=i.getViewSize(),o=n||i.dom!==document.body?[0,0]:i.getXY();r.x=o[0],r.y=o[1],t.setBox(r,e)}}),Ext.define("Ext.Component",{alternateClassName:"Ext.AbstractComponent",xtype:["component","box"],requires:["Ext.ComponentQuery","Ext.ComponentManager","Ext.util.ProtoElement","Ext.dom.CompositeElement"],mixins:["Ext.mixin.Inheritable","Ext.util.Positionable","Ext.util.Observable","Ext.mixin.Bindable","Ext.util.Animate","Ext.util.ElementContainer","Ext.util.Renderable","Ext.state.Stateful","Ext.util.Floating"],uses:["Ext.overrides.*","Ext.Element","Ext.DomHelper","Ext.XTemplate","Ext.ComponentLoader","Ext.layout.Context","Ext.layout.Layout","Ext.layout.component.Auto","Ext.LoadMask","Ext.ZIndexManager","Ext.scroll.Manager","Ext.util.DelayedTask","Ext.Layer","Ext.resizer.Resizer","Ext.util.ComponentDragger"],statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g,componentIdAttribute:"componentId",cancelLayout:function(e,t){var n=this.runningLayoutContext||this.pendingLayouts;n&&n.cancelComponent(e,!1,t)},flushLayouts:function(){var e=this,t=e.pendingLayouts;t&&t.invalidQueue.length&&(e.pendingLayouts=null,e.runningLayoutContext=t,Ext.override(t,{runComplete:function(){e.runningLayoutContext=null;var t=this.callParent();return Ext.GlobalEvents.hasListeners.afterlayout&&Ext.GlobalEvents.fireEvent("afterlayout"),t}}),t.run())},resumeLayouts:function(e){this.layoutSuspendCount&&!--this.layoutSuspendCount&&(e&&this.flushLayouts(),Ext.GlobalEvents.hasListeners.resumelayouts&&Ext.GlobalEvents.fireEvent("resumelayouts"))},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(e,t){var n,i=this,r=i.runningLayoutContext;r?r.queueInvalidate(e):(n=i.pendingLayouts||(i.pendingLayouts=new Ext.layout.Context),n.queueInvalidate(e),t||i.layoutSuspendCount||e.isLayoutSuspended()||i.flushLayouts())}},$configPrefixed:!1,$configStrict:!1,config:{data:null},defaultBindProperty:"html",alignTarget:null,autoRender:!1,autoShow:!1,baseCls:Ext.baseCSSPrefix+"component",childEls:{frameTable:{frame:!0},frameTL:{frame:"tl"},frameTC:{frame:"tc"},frameTR:{frame:"tr"},frameML:{frame:"ml"},frameBody:{frame:"mc"},frameMR:{frame:"mr"},frameBL:{frame:"bl"},frameBC:{frame:"bc"},frameBR:{frame:"br"}},componentLayout:"autocomponent",defaultAlign:"c-c",disabled:!1,disabledRe:/^(?:button|input|select|textarea|optgroup|option|fieldset)$/i,nonMaskableRe:function(){var e=["input","select","textarea","optgroup","option","table"];return!Ext.isIE9m||Ext.isIE9&&!Ext.isIEQuirks||e.push("p"),new RegExp("^(?:"+e.join("|")+")$","i")}(),disabledCls:Ext.baseCSSPrefix+"item-disabled",draggable:!1,floating:!1,hidden:!1,hideMode:"display",maskElement:null,renderTpl:['<tpl if="renderScroller">','<div class="{scrollerCls}" style="{%this.renderPadding(out, values)%}">',"</tpl>","{%this.renderContent(out,values)%}",'<tpl if="renderScroller"></div></tpl>'],resizeHandles:"all",shrinkWrap:2,toFrontOnShow:!0,synthetic:!1,tplWriteMode:"overwrite",ui:"default",uiCls:[],weight:null,allowDomMove:!0,autoGenId:!1,borderBoxCls:Ext.baseCSSPrefix+"border-box",componentLayoutCounter:0,contentPaddingProperty:"padding",deferLayouts:!1,frameSize:null,horizontalPosProp:"left",isComponent:!0,_isLayoutRoot:!1,layoutSuspendCount:0,liquidLayout:!1,maskOnDisable:!0,offsetsCls:Ext.baseCSSPrefix+"hidden-offsets",rendered:!1,rootCls:Ext.baseCSSPrefix+"body",scrollerCls:Ext.baseCSSPrefix+"touch-scroller",scrollerSelector:"."+Ext.baseCSSPrefix+"touch-scroller",validIdRe:Ext.validIdRe,constructor:function(e){var t,n,i,r,o=this;if(e=e||{},e.initialConfig?(e.isAction&&(o.baseAction=e),e=e.initialConfig):(e.tagName||e.dom||Ext.isString(e))&&(e={applyTo:e,id:e.id||e}),o.initialConfig=e,o.getId(),o.protoEl=new Ext.util.ProtoElement,o.initConfig(e),i=o.xhooks,i&&(delete o.xhooks,Ext.override(o,i)),o.mixins.elementCt.constructor.call(o),o.validIdRe.test(o.id)||Ext.Error.raise('Invalid component "id": "'+o.id+'"'),o.validIdRe.test(o.itemId)||Ext.Error.raise('Invalid component "itemId": "'+o.itemId+'"'),o.setupProtoEl(),o.cls&&(o.initialCls=o.cls,o.protoEl.addCls(o.cls)),o.style&&(o.initialStyle=o.style,o.protoEl.setStyle(o.style)),o.renderData=o.renderData||{},o.initComponent(),o.preventRegister||Ext.ComponentManager.register(o),o.mixins.state.constructor.call(o),o.addStateEvents("resize"),r=o.getController(),r&&r.init(o),o.plugins)for(t=0,n=o.plugins.length;n>t;t++)o.plugins[t]=o.initPlugin(o.plugins[t]);o.loader=o.getLoader(),o.renderTo&&o.render(o.renderTo),o.autoShow&&!o.initOwnerCt&&o.show(),Ext.isDefined(o.disabledClass)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: disabledClass has been deprecated. Please use disabledCls."),o.disabledCls=o.disabledClass,delete o.disabledClass),o.baseAction&&o.baseAction.addComponent(o)},beforeInitConfig:function(){this.mixins.observable.constructor.call(this)},addCls:function(e){var t=this,n=t.rendered?t.el:t.protoEl;return n.addCls.apply(n,arguments),t},addClsWithUI:function(e,t){var n,i,r=this,o=[],a=0,s=r.uiCls=Ext.Array.clone(r.uiCls),l=r.activeUI;for("string"==typeof e&&(e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)),n=e.length;n>a;a++)i=e[a],i&&!r.hasUICls(i)&&(s.push(i),l&&(o=o.concat(r.addUIClsToElement(i))));return t!==!0&&l&&r.addCls(o),o},afterComponentLayout:function(e,t,n,i){var r=this;1===++r.componentLayoutCounter&&r.afterFirstLayout(e,t),(e!==n||t!==i)&&r.onResize(e,t,n,i),this.floating&&this.onAfterFloatLayout()},addListener:function(e,t,n,i){var r,o,a=this;if(Ext.isString(e)&&(Ext.isObject(t)||i&&i.element)){if(i.element){r=t,t={},t[e]=r,e=i.element,n&&(t.scope=n);for(o in i)i.hasOwnProperty(o)&&a.eventOptionsRe.test(o)&&(t[o]=i[o])}return void(a[e]&&a[e].on?a.mon(a[e],t):(a.afterRenderEvents=a.afterRenderEvents||{},a.afterRenderEvents[e]||(a.afterRenderEvents[e]=[]),a.afterRenderEvents[e].push(t)))}return a.mixins.observable.addListener.apply(a,arguments)},addPlugin:function(e){var t=this;return e=t.constructPlugin(e),t.plugins?t.plugins.push(e):t.plugins=[e],t.pluginsInitialized&&t.initPlugin(e),e},addPropertyToState:function(e,t,n){var i=this,r=arguments.length;return(3===r||i.hasOwnProperty(t))&&(3>r&&(n=i[t]),n!==i.initialConfig[t]&&((e||(e={}))[t]=n)),e},addUIClsToElement:function(e){var t,n,i,r,o=this,a=o.baseCls+"-"+o.ui+"-"+e,s=[Ext.baseCSSPrefix+e,o.baseCls+"-"+e,a];if(o.rendered&&o.frame&&!Ext.supports.CSS3BorderRadius){a+="-",t=o.getChildEls();for(n in t)r=t[n].frame,r&&r!==!0&&(i=o[n],i&&i.addCls(a+r))}return s},removeUIClsFromElement:function(e){var t,n,i,r,o=this,a=o.baseCls+"-"+o.ui+"-"+e,s=[Ext.baseCSSPrefix+e,o.baseCls+"-"+e,a];if(o.rendered&&o.frame&&!Ext.supports.CSS3BorderRadius){a+="-",t=o.getChildEls();for(n in t)r=t[n].frame,r&&r!==!0&&(i=o[n],i&&i.removeCls(a+r))}return s},adjustPosition:function(e,t){var n,i=this;return i.isContainedFloater()&&(n=i.floatParent.getTargetEl().getViewRegion(),e+=n.left,t+=n.top),{x:e,y:t}},afterHide:function(e,t){var n=this;n.hiddenByLayout=null,this.ownerLayout&&this.updateLayout({isRoot:!1}),Ext.callback(e,t||n),n.fireEvent("hide",n),n.fireHierarchyEvent("hide")},afterSetPosition:function(e,t){var n=this;n.onPosition(e,t),n.hasListeners.move&&n.fireEvent("move",n,e,t)},afterShow:function(e,t,n){var i,r,o,a=this,s=a.el;e=a.getAnimateTarget(e),a.ghost||(e=null),e?(r={x:s.getX(),y:s.getY(),width:s.dom.offsetWidth,height:s.dom.offsetHeight},i={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight},s.addCls(a.offsetsCls),o=a.ghost(),o.el.stopAnimation(),o.setX(-1e4),a.ghostBox=r,o.el.animate({from:i,to:r,listeners:{afteranimate:function(){delete o.componentLayout.lastComponentSize,a.unghost(),delete a.ghostBox,s.removeCls(a.offsetsCls),a.onShowComplete(t,n)}}})):a.onShowComplete(t,n),a.fireHierarchyEvent("show")},animate:function(e){var t,n,i,r,o,a,s,l,d,u,c,h,f,g,p,m,x=this;return e=e||{},o=e.to||{},Ext.fx.Manager.hasFxBlock(x.id)?x:(t=Ext.isDefined(o.width),t&&(r=Ext.Number.constrain(o.width,x.minWidth,x.maxWidth)),n=Ext.isDefined(o.height),n&&(i=Ext.Number.constrain(o.height,x.minHeight,x.maxHeight)),e.dynamic||!t&&!n||(l=(e.from?e.from.width:void 0)||x.getWidth(),d=l,u=(e.from?e.from.height:void 0)||x.getHeight(),c=u,h=!1,n&&i>u&&(c=i,h=!0),t&&r>l&&(d=r,h=!0),(n||t)&&(m=x.el.getStyle("overflow"),"hidden"!==m&&x.el.setStyle("overflow","hidden")),
h&&(a=!Ext.isNumber(x.width),s=!Ext.isNumber(x.height),x.setSize(d,c),x.el.setSize(l,u),a&&delete x.width,s&&delete x.height),t&&(o.width=r),n&&(o.height=i)),f=x.constrain,g=x.constrainHeader,(f||g)&&(x.constrain=x.constrainHeader=!1,p=e.callback,e.callback=function(){x.constrain=f,x.constrainHeader=g,p&&p.call(e.scope||x,arguments),"hidden"!==m&&x.el.setStyle("overflow",m)}),x.mixins.animate.animate.apply(x,arguments))},beforeBlur:Ext.emptyFn,beforeComponentLayout:function(){return!0},beforeDestroy:Ext.emptyFn,beforeFocus:Ext.emptyFn,beforeLayout:function(){this.floating&&this.onBeforeFloatLayout()},beforeSetPosition:function(e,t,n){var i,r,o,a,s=this,l=null;return e&&(Ext.isNumber(i=e[0])?(n=t,t=e[1],e=i):void 0!==(i=e.x)&&(n=t,t=e.y,e=i)),(s.constrain||s.constrainHeader)&&(l=s.calculateConstrainedPosition(null,[e,t],!0),l&&(e=l[0],t=l[1])),r=void 0!==e,o=void 0!==t,(r||o)&&(s.x=e,s.y=t,a=s.adjustPosition(e,t),l={x:a.x,y:a.y,anim:n,hasX:r,hasY:o}),l},beforeShow:Ext.emptyFn,bubble:function(e,t,n){for(var i=this;i&&e.apply(t||i,n||[i])!==!1;)i=i.getBubbleTarget();return this},cancelFocus:function(){var e=this.focusTask;e&&e.cancel()},cloneConfig:function(e){e=e||{};var t,n=e.id||Ext.id(),i=Ext.applyIf(e,this.initialConfig);return i.id=n,new(t=Ext.getClass(this))(i)},destroy:function(){var e,t,n=this,i=n.renderSelectors,r=n.getConfig("viewModel",!0),o=n.getConfig("session",!0);if(!(n.isDestroyed||n.hasListeners.beforedestroy&&n.fireEvent("beforedestroy",n)===!1)){if(n.destroying=!0,n.removeBindings(),n.beforeDestroy(),r&&r.isViewModel&&(r.destroy(),n.viewModel=null),o&&o.isSession&&(o.destroy(),n.session=null),n.floating?(delete n.floatParent,n.zIndexManager&&n.zIndexManager.unregister(n)):n.ownerCt&&n.ownerCt.remove&&n.ownerCt.remove(n,!1),n.stopAnimation(),n.onDestroy(),Ext.destroy(n.plugins),n.componentLayout=null,n.hasListeners.destroy&&n.fireEvent("destroy",n),n.preventRegister||Ext.ComponentManager.unregister(n),n.mixins.state.destroy.call(n),n.clearListeners(),n.rendered){if(n.preserveElOnDestroy||n.el.destroy(),n.mixins.elementCt.destroy.call(n),i)for(e in i)i.hasOwnProperty(e)&&(t=n[e],t&&(delete n[e],t.destroy()));delete n.data,delete n.el,delete n.frameBody,delete n.rendered}n.destroying=!1,n.isDestroyed=!0}},disable:function(e){var t=this;return t.enableOnRender=!1,t.addCls(t.disabledCls),t.rendered?t.onDisable():t.disableOnRender=!0,t.disabled=!0,e!==!0&&(delete t.resetDisable,t.fireEvent("disable",t)),t},enable:function(e){var t=this;return t.disableOnRender=!1,t.removeCls(t.disabledCls),t.rendered?t.onEnable():t.enableOnRender=!0,t.disabled=!1,delete t.resetDisable,e!==!0&&t.fireEvent("enable",t),t},findParentBy:function(e){var t;for(t=this.getRefOwner();t&&!e(t,this);t=t.getRefOwner());return t||null},findParentByType:function(e){return Ext.isFunction(e)?this.findParentBy(function(t){return t.constructor===e}):this.up(e)},findPlugin:function(e){var t,n=this.plugins,i=n&&n.length;for(t=0;i>t;t++)if(n[t].ptype===e)return n[t]},focus:function(e,t,n,i){var r,o,a,s=this;if(!s.isDestroyed){if(t)return s.getFocusTask().delay(Ext.isNumber(t)?t:10,s.focus,s,[e,!1,n,i]),s;if(s.focusTask&&s.focusTask.cancel(),s.rendered&&!s.isDestroyed&&s.isVisible(!0)&&(r=s.getFocusEl())){if(r.isComponent)return r.focus(e,t);(o=r.dom)&&(r.needsTabIndex()&&(o.tabIndex=-1),s.floating&&(a=s.container.dom.scrollTop),r.focus(),e&&(Ext.isArray(e)?s.selectText&&s.selectText.apply(s,e):o.select()),Ext.callback(n,i)),s.floating&&(s!==s.zIndexManager.getActive()&&s.toFront(!0),void 0!==a&&(s.container.dom.scrollTop=a))}return s}},getAnimateTarget:function(e){return e=e||this.animateTarget,e&&(e=e.isComponent?e.getEl():Ext.get(e)),e||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){var e=this;return e.componentLayout&&e.componentLayout.isLayout||e.setComponentLayout(Ext.layout.Layout.create(e.componentLayout,"autocomponent")),e.componentLayout},getEl:function(){return this.el},getHeight:function(){return this.el.getHeight()},initInheritedState:function(e){var t=this,n=t.componentLayout;t.hidden&&(e.hidden=!0),t.collapseImmune&&(e.collapseImmune=!0),void 0!==t.modelValidation&&(e.modelValidation=t.modelValidation),t.mixins.bindable.initInheritedState.call(t,e),n&&n.initInheritedState&&n.initInheritedState(e)},getId:function(){var e,t=this;return t.id||(t.id=t.initialConfig.id)||(e=t.getXType(),e=e?e.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):Ext.name.toLowerCase()+"-comp",t.id=e+"-"+t.getAutoId()),t.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var e=this,t=e.loader;return t?(t.isLoader?t.setTarget(e):e.loader=new Ext.ComponentLoader(Ext.apply({target:e},t)),e.loader):null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getPlugin:function(e){var t,n=this.plugins,i=n&&n.length;for(t=0;i>t;t++)if(n[t].pluginId===e)return n[t]},getPosition:function(e){var t,n,i=this,r=i.isContainedFloater();return e!==!0||r?(t=i.getXY(),e===!0&&r&&(n=i.floatParent.getTargetEl().getViewRegion(),t[0]-=n.left,t[1]-=n.top),t):[i.getLocalX(),i.getLocalY()]},getScrollX:function(){var e=this,t=e.scrollManager;return t?t.getPosition().x:e.getScrollLeft()},getScrollY:function(){var e=this,t=e.scrollManager;return t?t.getPosition().y:e.getOverflowEl().getScrollTop()},getSize:function(e){return this.el.getSize(e)},getSizeModel:function(e){var t,n,i,r,o,a,s,l,d,u,c=this,h=Ext.layout.SizeModel,f=c.componentLayout.ownerContext,g=c.width,p=c.height,m=c.floating||c.floated;return f&&(u=f.widthModel,o=f.heightModel),u&&o||(i="number"==(t=typeof g),r="number"==(n=typeof p),d=m||!(a=c.ownerLayout),d?(s=Ext.layout.Layout.prototype.autoSizePolicy,l=m?3:c.shrinkWrap,i&&(u=h.configured),r&&(o=h.configured)):(s=a.getItemSizePolicy(c,e),l=a.isItemShrinkWrap(c)),f&&(f.ownerSizePolicy=s),l=l===!0?3:l||0,d&&l&&(g&&"string"==t&&(l&=2),p&&"string"==n&&(l&=1)),3!==l&&(e||(e=c.ownerCt&&c.ownerCt.getSizeModel()),e&&(l|=(e.width.shrinkWrap?1:0)|(e.height.shrinkWrap?2:0))),u||(u=s.setsWidth?s.readsWidth?i?h.calculatedFromConfigured:1&l?h.calculatedFromShrinkWrap:h.calculatedFromNatural:h.calculated:i?h.configured:1&l?h.shrinkWrap:h.natural),o||(o=s.setsHeight?s.readsHeight?r?h.calculatedFromConfigured:2&l?h.calculatedFromShrinkWrap:h.calculatedFromNatural:h.calculated:r?h.configured:2&l?h.shrinkWrap:h.natural)),u.pairsByHeightOrdinal[o.ordinal]},getState:function(){var e=this,t=null,n=e.getSizeModel();return n.width.configured&&(t=e.addPropertyToState(t,"width")),n.height.configured&&(t=e.addPropertyToState(t,"height")),t},getWidth:function(){return this.el.getWidth()},getXType:function(){return this.self.xtype},getXTypes:function(){var e,t,n,i=this.self;if(!i.xtypes){for(e=[],t=this;t;)n=t.xtypes,void 0!==n&&e.unshift.apply(e,n),t=t.superclass;i.xtypeChain=e,i.xtypes=e.join("/")}return i.xtypes},hasCls:function(e){var t=this,n=t.rendered?t.el:t.protoEl;return n.hasCls.apply(n,arguments)},hasUICls:function(e){var t=this,n=t.uiCls||[];return Ext.Array.contains(n,e)},hide:function(e,t,n){var i,r=this;return r.pendingShow&&delete r.pendingShow,(!r.rendered||r.isVisible())&&(i=r.fireEvent("beforehide",r)!==!1,(r.hierarchicallyHidden||i)&&(r.hidden=!0,r.getInherited().hidden=!0,r.rendered&&r.onHide.apply(r,arguments))),r},initComponent:function(){var e=this,t=e.width,n=e.height;e.plugins&&!e.plugins.processed&&(e.plugins=e.constructPlugins()),(null!=t||null!=n)&&e.setSize(t,n),e.listeners&&(e.on(e.listeners),e.listeners=null)},initEvents:function(){var e,t,n,i,r,o=this,a=o.afterRenderEvents;if(a)for(n in a)if(t=o[n],t&&t.on)for(e=a[n],i=0,r=e.length;r>i;++i)o.mon(t,e[i]);o.addFocusListener()},is:function(e){return Ext.ComponentQuery.is(this,e)},isDescendantOf:function(e){return!!this.findParentBy(function(t){return t===e})},isDisabled:function(){return this.disabled},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},isFloating:function(){return this.floating},isFocusable:function(){var e,t=this;return t.focusable!==!1&&(e=t.getFocusEl())&&t.rendered&&!t.destroying&&!t.isDestroyed&&!t.disabled&&t.isVisible(!0)?e.isFocusable(!0):void 0},isHidden:function(){return this.hidden},isHierarchicallyHidden:function(){for(var e,t,n=this,i=!1;e=n.ownerCt||n.floatParent;n=e){if(t=e.getInherited(),t.hidden){i=!0;break}if(!n.getInherited().collapseImmune){i=!!t.collapsed;break}if(e.collapsed&&!n.collapseImmune){i=!0;break}}return i},isLayoutRoot:function(){var e=this,t=e.ownerLayout;return!t||e._isLayoutRoot||e.floating?!0:t.isItemLayoutRoot(e)},isLayoutSuspended:function(){for(var e,t=this;t;){if(t.layoutSuspendCount||t.suspendLayout)return!0;if(e=t.ownerLayout,!e)break;t=e.owner}return!1},isVisible:function(e){var t,n=this;return n.hidden||!n.rendered||n.isDestroyed?t=!0:e&&(t=n.isHierarchicallyHidden()),!t},isXType:function(e,t){return t?-1!==Ext.Array.indexOf(this.xtypes,e):!!this.xtypesMap[e]},mask:function(e,t,n){var i=this.lastBox,r=this.getMaskTarget()||this.el;i&&(n=i.height),r.mask(e,t,n)},nextNode:function(e,t){var n,i,r,o,a,s=this,l=s.ownerCt;if(t&&s.is(e))return s;if(l){for(i=l.items.items,o=Ext.Array.indexOf(i,s)+1,r=i.length;r>o;o++){if(a=i[o],a.is(e))return a;if(a.down&&(n=a.down(e)))return n}return l.nextNode(e)}return null},nextSibling:function(e){var t,n,i,r,o=this.ownerCt;if(o&&(t=o.items,i=t.indexOf(this)+1))if(e){for(n=t.getCount();n>i;i++)if((r=t.getAt(i)).is(e))return r}else if(i<t.getCount())return t.getAt(i);return null},onAdded:function(e,t,n){var i=this,r=i.inheritedState;i.ownerCt=e,r&&n&&i.invalidateInheritedState(),i.reference&&i.fixReference(),i.hasListeners&&i.hasListeners.added&&i.fireEvent("added",i,e,t),Ext.GlobalEvents.hasListeners.added&&i.fireHierarchyEvent("added")},onRemoved:function(e){var t,n=this;Ext.GlobalEvents.hasListeners.removed&&n.fireHierarchyEvent("removed"),n.hasListeners.removed&&n.fireEvent("removed",n,n.ownerCt),n.reference&&(t=n.lookupReferenceHolder(),t&&t.clearReference(n)),e||n.removeBindings(),n.inheritedState&&!e&&n.invalidateInheritedState(),n.ownerCt=n.ownerLayout=null},onBoxReady:function(e,t){var n=this;n.resizable&&n.initResizable(n.resizable),n.draggable&&n.initDraggable(),n.touchScroll&&n.initScrollManager(),n.hasListeners.boxready&&n.fireEvent("boxready",n,e,t)},onBlur:function(e){var t=this,n=t.focusCls,i=t.getFocusEl();t.destroying||(t.beforeBlur(e),n&&i&&i.removeCls(t.removeClsWithUI(n,!0)),t.validateOnBlur&&t.validate(),t.hasFocus=!1,t.fireEvent("blur",t,e),t.postBlur(e))},onFocus:function(e){var t=this,n=t.focusCls,i=t.getFocusEl();t.disabled||(t.beforeFocus(e),n&&i&&i.addCls(t.addClsWithUI(n,!0)),t.hasFocus||(t.hasFocus=!0,t.fireEvent("focus",t,e)))},onDestroy:function(){var e=this,t=e.controller;e.bind&&e.removeBindings(),t&&t.destroy(),e.controller=null,e.rendered&&Ext.destroy(e.dd,e.resizer,e.proxy,e.proxyWrap,e.resizerComponent),delete e.focusTask,Ext.destroy(e.componentLayout,e.loadMask,e.floatingDescendants)},onDisable:function(){var e,t,n=this,i=n.focusCls,r=n.getFocusEl();i&&r&&r.removeCls(n.removeClsWithUI(i,!0)),n.maskOnDisable&&(e=n.el.dom,t=e.nodeName,n.disabledRe.test(t)&&(e.disabled=!0),n.nonMaskableRe.test(t)||n.mask())},onEnable:function(){var e,t,n=this;n.maskOnDisable&&(e=n.el.dom,t=e.nodeName,n.disabledRe.test(t)&&(e.disabled=!1),n.nonMaskableRe.test(t)||n.unmask())},onHide:function(e,t,n){var i,r,o,a=this,s=Ext.Element.getActiveElement();(s===a.el||a.el.contains(s))&&Ext.fly(s).blur(),e=a.getAnimateTarget(e),a.ghost||(e=null),e&&(o={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight},i=a.ghost(),i.el.stopAnimation(),r=a.getSize(),i.el.animate({to:o,listeners:{afteranimate:function(){delete i.componentLayout.lastComponentSize,i.el.hide(),i.setHiddenState(!0),i.el.setSize(r),a.afterHide(t,n)}}})),a.el.hide(),e||a.afterHide(t,n)},onPosition:Ext.emptyFn,onResize:function(e,t,n,i){var r=this;r.floating&&r.constrain&&r.doConstrain(),n&&r.refreshScroll(),r.hasListeners.resize&&r.fireEvent("resize",r,e,t,n,i)},onShow:function(){var e=this;e.el.show(),e.updateLayout({isRoot:!1}),e.floating&&(e.maximized?e.fitContainer():e.constrain&&e.doConstrain())},onShowComplete:function(e,t){var n=this;n.floating&&n.onFloatShow(),Ext.callback(e,t||n),n.fireEvent("show",n),delete n.hiddenByLayout},onShowVeto:Ext.emptyFn,postBlur:Ext.emptyFn,previousNode:function(e,t){var n,i,r,o,a=this,s=a.ownerCt;if(t&&a.is(e))return a;if(s){for(i=s.items.items,r=Ext.Array.indexOf(i,a)-1;r>-1;r--){if(o=i[r],o.query&&(n=o.query(e),n=n[n.length-1]))return n;if(o.is(e))return o}return s.previousNode(e,!0)}return null},previousSibling:function(e){var t,n,i,r=this.ownerCt;if(r&&(t=r.items,n=t.indexOf(this),-1!=n))if(e){for(--n;n>=0;n--)if((i=t.getAt(n)).is(e))return i}else if(n)return t.getAt(--n);return null},registerFloatingItem:function(e){var t=this;t.floatingDescendants||(t.floatingDescendants=new Ext.ZIndexManager(t)),t.floatingDescendants.register(e)},removeCls:function(e){var t=this,n=t.rendered?t.el:t.protoEl;return n.removeCls.apply(n,arguments),t},removeClsWithUI:function(e,t){var n,i,r=this,o=[],a=0,s=Ext.Array,l=s.remove,d=r.uiCls=s.clone(r.uiCls),u=r.activeUI;for("string"==typeof e&&(e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)),n=e.length,a=0;n>a;a++)i=e[a],i&&r.hasUICls(i)&&(l(d,i),u&&(o=o.concat(r.removeUIClsFromElement(i))));return t!==!0&&u&&r.removeCls(o),o},resumeLayouts:function(e){var t=this;t.rendered&&(t.layoutSuspendCount||Ext.log.warn("Mismatched call to resumeLayouts - layouts are currently not suspended."),t.layoutSuspendCount&&!--t.layoutSuspendCount&&(t.suspendLayout=!1,e&&!t.isLayoutSuspended()&&t.updateLayout(e)))},scrollBy:function(e,t,n){var i=this,r=i.scrollManager;r?r.scrollBy(e,t,n):i.doScrollBy(e,t,n)},scrollTo:function(e,t,n){var i=this,r=i.scrollManager;r?r.scrollTo(e,t,n):i.doScrollTo(e,t,n)},setAutoScroll:function(e){var t=this;return t.autoScroll=!!e,t.rendered&&t.getOverflowEl().setStyle(t.getOverflowStyle()),t.updateLayout(),t},setBorder:function(e,t){var n=this,i=!!t;(n.rendered||i)&&(i||(t=n.el),e=e?e===!0?"1px":this.unitizeBox(e):0,t.setStyle("border-width",e),i||n.updateLayout()),n.border=e},setDock:function(e){var t=this,n=t.ownerCt;return e!==t.dock&&(n&&n.moveDocked?n.moveDocked(t,e):t.dock=e),t},setDisabled:function(e){return this[e?"disable":"enable"]()},setFlex:function(e){this.flex=e},setHeight:function(e){return this.setSize(void 0,e)},setLoading:function(e,t){var n=this,i={target:n};return n.rendered&&(e!==!1?(Ext.isString(e)?i.msg=e:Ext.apply(i,e),n.loadMask&&n.loadMask.isLoadMask?Ext.apply(n.loadMask,i):(t&&null==i.useTargetEl&&(i.useTargetEl=!0),n.loadMask=new Ext.LoadMask(i)),n.loadMask.isVisible()?n.loadMask.afterShow():n.loadMask.show()):n.loadMask&&n.loadMask.isLoadMask&&n.loadMask.hide()),n.loadMask},setMargin:function(e,t){var n=this;n.rendered?(e||0===e?(e===!0&&(e=5),e=this.unitizeBox(e)):e="",n.getTargetEl().setStyle("margin",e),t||n.updateLayout()):n.margin=e},setOverflowXY:function(e,t){var n=this,i=arguments.length,r=n.ownerCt;return i&&(n.overflowX=e||"",i>1&&(n.overflowY=t||"")),n.rendered&&n.getOverflowEl().setStyle(n.getOverflowStyle()),(r||n).updateLayout(),n},setPagePosition:function(e,t,n){var i,r,o=this;return Ext.isArray(e)&&(t=e[1],e=e[0]),o.pageX=e,o.pageY=t,o.floating?(o.isContainedFloater()?(r=o.floatParent.getTargetEl().getViewRegion(),Ext.isNumber(e)&&Ext.isNumber(r.left)&&(e-=r.left),Ext.isNumber(t)&&Ext.isNumber(r.top)&&(t-=r.top)):(i=o.el.translateXY(e,t),e=i.x,t=i.y),o.setPosition(e,t,n)):(i=o.el.translateXY(e,t),o.setPosition(i.x,i.y,n)),o},setPosition:function(e,t,n){var i=this,r=i.beforeSetPosition.apply(i,arguments);return r&&i.rendered&&(e=r.x,t=r.y,n?(e!==i.getLocalX()||t!==i.getLocalY())&&(i.stopAnimation(),i.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(i.afterSetPosition,i,[e,t])},to:{left:e,top:t}},n))):(i.setLocalXY(e,t),i.afterSetPosition(e,t))),i},setScrollX:function(e){var t=this,n=t.scrollManager;n?n.scrollTo(e,n.getPosition().y):t.setScrollLeft(e)},setScrollY:function(e){var t=this,n=t.scrollManager;n?n.scrollTo(n.getPosition().x,e):t.getOverflowEl().setScrollTop(e)},setSize:function(e,t){var n=this;return e&&"object"==typeof e&&(t=e.height,e=e.width),"number"==typeof e?n.width=Ext.Number.constrain(e,n.minWidth,n.maxWidth):null===e&&delete n.width,"number"==typeof t?n.height=Ext.Number.constrain(t,n.minHeight,n.maxHeight):null===t&&delete n.height,n.rendered&&n.isVisible()&&(n.liquidLayout&&n.el.setSize(n.width,n.height),n.updateLayout({isRoot:!1})),n},setStyle:function(e){var t=this.el||this.protoEl;t.setStyle(e)},setUI:function(e){var t,n=this,i=n.uiCls,r=n.activeUI;e!==r&&(r?(t=n.removeClsWithUI(i,!0),t.length&&n.removeCls(t),n.removeUIFromElement()):n.uiCls=[],n.ui=e,n.activeUI=e,n.addUIToElement(),t=n.addClsWithUI(i,!0),t.length&&n.addCls(t),n.rendered&&n.updateLayout())},setVisible:function(e){return this[e?"show":"hide"]()},setHidden:function(e){return this.setVisible(!e)},setWidth:function(e){return this.setSize(e)},show:function(e,t,n){var i=this,r=i.rendered;return i.hierarchicallyHidden||i.floating&&!r&&i.isHierarchicallyHidden()?(r||i.initHierarchyEvents(),arguments.length>1?(arguments[0]=null,i.pendingShow=arguments):i.pendingShow=!0):r&&i.isVisible()?i.floating&&i.onFloatShow():i.fireEvent("beforeshow",i)!==!1?(i.hidden=!1,delete this.getInherited().hidden,Ext.suspendLayouts(),r||!i.autoRender&&!i.floating||(i.doAutoRender(),r=i.rendered),r?(i.beforeShow(),Ext.resumeLayouts(),i.onShow.apply(i,arguments),i.afterShow.apply(i,arguments)):Ext.resumeLayouts(!0)):i.onShowVeto(),i},showAt:function(e,t,n){var i=this;return i.rendered||!i.autoRender&&!i.floating?(i.floating?i.setPosition(e,t,n):i.setPagePosition(e,t,n),void i.show()):(i.x=e,i.y=t,i.show())},showBy:function(e,t,n){var i=this;return i.floating||Ext.log.warn("Using showBy on a non-floating component"),i.floating&&e&&(i.alignTarget=e,t&&(i.defaultAlign=t),n&&(i.alignOffset=n),i.show(),i.hidden||i.alignTo(e,t||i.defaultAlign,n||i.alignOffset)),i},suspendLayouts:function(){var e=this;e.rendered&&1===++e.layoutSuspendCount&&(e.suspendLayout=!0)},unitizeBox:function(e){return Ext.Element.unitizeBox(e)},unmask:function(){(this.getMaskTarget()||this.el).unmask()},unregisterFloatingItem:function(e){var t=this;t.floatingDescendants&&t.floatingDescendants.unregister(e)},up:function(e,t){var n=this.getRefOwner(),i="string"==typeof t,r="number"==typeof t,o=t&&t.isComponent,a=0;if(e)for(;n;n=n.getRefOwner()){if(a++,e.isComponent){if(n===e)return n}else if(Ext.ComponentQuery.is(n,e))return n;if(i&&n.is(t))return;if(r&&a===t)return;if(o&&n===t)return}return n},update:function(e,t,n){var i,r,o,a=this,s=a.tpl&&!Ext.isString(e),l=a.scrollManager;s?a.data=e&&e.isEntity?e.getData(!0):e:a.html=Ext.isObject(e)?Ext.DomHelper.markup(e):e,a.rendered&&(i=a.getSizeModel(),r=i.width.shrinkWrap||i.height.shrinkWrap,a.isContainer?(o=a.layout.getRenderTarget(),r=r||a.items.items.length>0):o=a.touchScroll?a.getScrollerEl():a.getTargetEl(),s?a.tpl[a.tplWriteMode](o,a.data||{}):o.setHtml(a.html,t,n),r&&a.updateLayout(),l&&l.refresh())},setHtml:function(e){this.update(e)},applyData:function(e){this.update(e)},updateBox:function(e){return this.setSize(e.width,e.height),this.setPagePosition(e.x,e.y),this},_asLayoutRoot:{isRoot:!0},updateLayout:function(e){var t,n=this,i=n.lastBox,r=e&&e.isRoot;i&&(i.invalid=!0),!n.rendered||n.layoutSuspendCount||n.suspendLayout||(n.hidden?Ext.Component.cancelLayout(n):"boolean"!=typeof r&&(r=n.isLayoutRoot()),!r&&n.ownerLayout&&n.ownerLayout.onContentChange(n)||n.isLayoutSuspended()||(t=e&&e.hasOwnProperty("defer")?e.defer:n.deferLayouts,Ext.Component.updateLayout(n,t)))},getAnchorToXY:function(e,t,n,i){return e.getAnchorXY(t,n,i)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(e){this.el.setLocalX(e)},setLocalXY:function(e,t){this.el.setLocalXY(e,t)},setLocalY:function(e){this.el.setLocalY(e)},setX:function(e,t){this.el.setX(e,t)},setXY:function(e,t){this.el.setXY(e,t)},setY:function(e,t){this.el.setY(e,t)},privates:{statics:{findComponentByElement:function(e){for(var t,n=document.body,i=e;i&&1===i.nodeType&&i!==n;){if(t=Ext.getCmp(i.id))return t;i=i.parentNode}return null},getComponentByElement:function(e){var t,n=Ext.Component.componentIdAttribute;return(e=Ext.fly(e))?(t=e.getAttribute(n),t?Ext.getCmp(t):Ext.Component.findComponentByElement(e.dom)):null},getActiveComponent:function(){var e=Ext.dom.Element.getActiveElement();return Ext.Component.getComponentByElement(e)}},addFocusListener:function(){var e,t=this,n=t.getFocusEl();if(n){if(n.isComponent)return n.addFocusListener();e=n.needsTabIndex(),t.focusListenerAdded||e&&!Ext.enableFocusManager||(e&&(n.dom.tabIndex=-1),n.on({focus:t.onFocus,blur:t.onBlur,scope:t}),n.dom.setAttribute(Ext.Component.componentIdAttribute,t.id),t.focusListenerAdded=!0)}},addOverCls:function(){var e=this;e.disabled||e.el.addCls(e.overCls)},addUIToElement:function(){var e,t,n,i,r=this,o=r.baseCls+"-"+r.ui;if(r.addCls(o),r.rendered&&r.frame&&!Ext.supports.CSS3BorderRadius){o+="-",e=r.getChildEls();for(t in e)i=e[t].frame,i&&i!==!0&&(n=r[t],n&&n.addCls(o+i))}},blur:function(){var e,t=this;return t.rendered&&(e=t.getFocusEl())&&(t.blurring=!0,e.blur(),delete t.blurring),t},constructPlugin:function(e){var t=this;return e="string"==typeof e?Ext.PluginManager.create({},e,t):Ext.PluginManager.create(e,null,t)},constructPlugins:function(){var e,t,n,i=this,r=i.plugins;if(r)for(e=[],e.processed=!0,Ext.isArray(r)||(r=[r]),t=0,n=r.length;n>t;t++)e[t]=i.constructPlugin(r[t]);return i.pluginsInitialized=!0,e},doScrollBy:function(e,t,n){var i=this.getOverflowEl();i&&i.scrollBy(e,t,n)},doScrollTo:function(e,t,n){var i=this.getOverflowEl();i.scrollTo("left",e,n),i.scrollTo("top",t,n)},fireHierarchyEvent:function(e){var t=Ext.GlobalEvents;t.hasListeners[e]&&t.fireEvent(e,this)},getActionEl:function(){return this.el},getAutoId:function(){return this.autoGenId=!0,++Ext.Component.AUTO_ID},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},getFocusEl:Ext.privateFn,getFocusTask:function(){return this.focusTask||(Ext.Component.prototype.focusTask=new Ext.util.DelayedTask),this.focusTask},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var e,t,n,i=this,r=null,o=i.autoScroll;return"boolean"==typeof o?(r={overflow:n=o?"auto":""},i.scrollFlags={overflowX:n,overflowY:n,x:o,y:o,both:o}):(e=i.overflowX,t=i.overflowY,void 0!==e||void 0!==t?(e&&e===!0&&(e="auto"),t&&t===!0&&(t="auto"),r={overflowX:e=e||"",overflowY:t=t||""},i.scrollFlags={overflowX:e,overflowY:t,x:e="auto"===e||"scroll"===e,y:t="auto"===t||"scroll"===t,both:e&&t}):i.scrollFlags={overflowX:"",overflowY:"",x:!1,y:!1,both:!1}),r},getPlugins:function(){var e=this,t=e.plugins;return t&&t.processed?t:e.constructPlugins()},getProxy:function(){var e,t=this;return t.proxy||(e=Ext.getBody(),t.proxy=t.el.createProxy(Ext.baseCSSPrefix+"proxy-el",e,!0)),t.proxy},getScrollLeft:function(){return this.getOverflowEl().getScrollLeft()},getScrollerEl:function(){var e=this;return e.scrollerEl||(e.scrollerEl=e.componentLayout.getScrollerEl()||e.getOverflowEl().child(e.scrollerSelector))},getTargetEl:function(){return this.frameBody||this.el},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+"-"+this.ui+"-cell"},getTdType:function(){return this.xtype},getTpl:function(e){return Ext.XTemplate.getTpl(this,e)},initCls:function(){var e=this,t=[e.baseCls,e.getComponentLayout().targetCls];return Ext.isDefined(e.cmpCls)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls."),e.componentCls=e.cmpCls,delete e.cmpCls),e.componentCls?t.push(e.componentCls):e.componentCls=e.baseCls,t},initDraggable:function(){var e=this,t=e.resizer&&e.resizer.el!==e.el?e.resizerComponent=new Ext.Component({ariaRole:"presentation",el:e.resizer.el,rendered:!0,container:e.container}):e,n=Ext.applyIf({el:t.getDragEl(),constrainTo:e.constrain||e.draggable.constrain?e.constrainTo||(e.floatParent?e.floatParent.getTargetEl():e.container):void 0},e.draggable);(e.constrain||e.constrainDelegate)&&(n.constrain=e.constrain,n.constrainDelegate=e.constrainDelegate),e.dd=new Ext.util.ComponentDragger(t,n)},initPadding:function(e){var t=this,n=t.padding;null!=n&&(t.touchScroll||t.layout&&t.layout.managePadding&&"padding"===t.contentPaddingProperty?e.setStyle("padding",0):e.setStyle("padding",this.unitizeBox(n===!0?5:n)))},initPlugin:function(e){return e.init(this),e},initResizable:function(e){var t=this;e=Ext.apply({target:t,dynamic:!1,constrainTo:t.constrainTo||(t.floatParent?t.floatParent.getTargetEl():null),handles:t.resizeHandles},e),e.target=t,t.resizer=new Ext.resizer.Resizer(e)},initScrollManager:function(){var e=this,t=e.scrollFlags,n=e.getScrollerEl();return n&&!e.scrollManager?e.scrollManager=new Ext.scroll.Manager({owner:e,el:n,direction:t.both?"auto":t.y?"vertical":"horizontal"}):void 0},initStyles:function(e){var t,n,i=this,r=i.margin,o=i.border,a=i.cls,s=i.style,l=i.x,d=i.y,u=i.liquidLayout;i.initPadding(e),null!=r&&e.setStyle("margin",this.unitizeBox(r===!0?5:r)),null!=o&&i.setBorder(o,e),a&&a!=i.initialCls&&(e.addCls(a),i.cls=i.initialCls=null),s&&s!=i.initialStyle&&(e.setStyle(s),i.style=i.initialStyle=null),null!=l&&e.setStyle(i.horizontalPosProp,"number"==typeof l?l+"px":l),null!=d&&e.setStyle("top","number"==typeof d?d+"px":d),(!i.ownerCt||i.floating)&&(Ext.scopeCss&&e.addCls(i.rootCls),e.addCls(i.borderBoxCls)),(u||!i.getFrameInfo())&&(t=i.width,n=i.height,null!=t&&("number"==typeof t?e.setStyle("width",t+"px"):e.setStyle("width",t)),null!=n&&("number"==typeof n?e.setStyle("height",n+"px"):e.setStyle("height",n))),u&&(i.minWidth&&e.setStyle("min-width",i.minWidth+"px"),i.minHeight&&e.setStyle("min-height",i.minHeight+"px"),i.maxWidth&&e.setStyle("max-width",i.maxWidth+"px"),i.maxHeight&&e.setStyle("max-height",i.maxHeight+"px"))},isContainedFloater:function(){return this.floating&&this.floatParent},isDescendant:function(e){if(e.isContainer)for(var t=this.ownerCt;t;t=t.ownerCt)if(t===e)return!0;return!1},makeFloating:function(e){this.mixins.floating.constructor.call(this,e)},owns:function(e){var t=!1;return Ext.ComponentQuery.visitPreOrder("",this,function(n){return n.el&&n.el.contains(e)?(t=!0,!1):void 0}),t},parseBox:function(e){return Ext.Element.parseBox(e)},refreshScroll:function(){var e=this.scrollManager;e&&e.refresh()},removeManagedListenerItem:function(e,t,n,i,r,o){var a=this,s=t.options?t.options.element:null;return s?(s=a[s],void(s&&s.un&&(!e&&(t.item!==n||t.ename!==i||r&&t.fn!==r||o&&t.scope!==o)||(s.un(t.ename,t.fn,t.scope),e||Ext.Array.remove(a.managedListeners,t))))):a.mixins.observable.removeManagedListenerItem.apply(a,arguments)},removeOverCls:function(){this.el.removeCls(this.overCls)},removePlugin:function(e){Ext.Array.remove(this.plugins,e),e.destroy()},removeUIFromElement:function(){var e,t,n,i,r=this,o=r.baseCls+"-"+r.ui;if(r.removeCls(o),r.rendered&&r.frame&&!Ext.supports.CSS3BorderRadius){o+="-",e=r.getChildEls();for(t in e)i=e[t].frame,i&&i!==!0&&(n=r[t],n&&n.removeCls(o+i))}},setComponentLayout:function(e){var t=this.componentLayout;t&&t.isLayout&&t!=e&&t.setOwner(null),this.componentLayout=e,e.setOwner(this)},setHiddenState:function(e){var t=this.getInherited();this.hidden=e,e?t.hidden=!0:delete t.hidden},setupProtoEl:function(){var e=this.initCls();this.protoEl.addCls(e)},setScrollLeft:function(e){this.getOverflowEl().setScrollLeft(e)},wrapPrimaryEl:function(e){this.floating?this.makeFloating(e):this.el=Ext.get(e)}},deprecated:{5:{methods:{addClass:"addCls",doComponentLayout:function(){return this.updateLayout(),this},removeClass:"removeCls",forceComponentLayout:"updateLayout",setDocked:"setDock"}}}},function(e){e.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"}),Ext.resumeLayouts=function(t){e.resumeLayouts(t)},Ext.suspendLayouts=function(){e.suspendLayouts()},Ext.batchLayouts=function(t,n){e.suspendLayouts(),t.call(n),e.resumeLayouts(!0)},Ext.setGlyphFontFamily=function(e){Ext._glyphFontFamily=e},e.hierarchyEventSource=e.prototype.hierarchyEventSource=Ext.GlobalEvents}),Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var e=this;e._borderRegionInited||(e._borderRegionInited=!0,e.addStateEvents(["changeregion","changeweight"]),Ext.override(e,{getState:function(){var t=e.callParent();return t=e.addPropertyToState(t,"region"),t=e.addPropertyToState(t,"weight")}}))},getOwningBorderContainer:function(){var e=this.getOwningBorderLayout();return e&&e.owner},getOwningBorderLayout:function(){var e=this.ownerLayout;return e&&e.isBorderLayout?e:null},setRegion:function(e){var t,n=this,i=n.region;if("string"!=typeof e&&Ext.Error.raise("Use setBox to set the size or position of a component."),e!==i)if(t=n.getOwningBorderLayout()){var r,o,a,s=t.regionFlags[e],l=n.placeholder,d=n.splitter,u=t.owner,c=t.regionMeta,h=n.collapsed||n.floated;if(n.fireEventArgs("beforechangeregion",[n,e])===!1)return i;Ext.suspendLayouts(),n.region=e,Ext.apply(n,s),n.updateCollapseTool&&n.updateCollapseTool(),d&&(Ext.apply(d,s),d.updateOrientation(),o=u.items,a=o.indexOf(n),a>=0&&(r=c[e].splitterDelta,o.getAt(a+r)!==d&&(o.remove(d),a=o.indexOf(n),r>0&&++a,o.insert(a,d)))),l&&(h&&n.expand(!1),u.remove(l),n.placeholder=null,h&&n.collapse(null,!1)),u.updateLayout(),Ext.resumeLayouts(!0),n.fireEventArgs("changeregion",[n,i])}else n.region=e;return i},setWeight:function(e){var t=this,n=t.getOwningBorderContainer(),i=t.placeholder,r=t.weight;return e!==r&&t.fireEventArgs("beforechangeweight",[t,e])!==!1&&(t.weight=e,i&&(i.weight=e),n&&n.updateLayout(),t.fireEventArgs("changeweight",[t,r])),r}},function(e){var t=e.prototype;t.setBorderRegion=t.setRegion,t.setRegionWeight=t.setWeight}),Ext.define("Ext.ElementLoader",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.data.Connection","Ext.Ajax"],statics:{Renderer:{Html:function(e,t,n){return e.getTarget().setHtml(t.responseText,n.scripts===!0),!0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(e){var t,n=this;e=e||{},Ext.apply(n,e),n.setTarget(n.target),n.mixins.observable.constructor.call(n),n.autoLoad&&(t=n.autoLoad,t===!0&&(t={}),n.load(t))},setTarget:function(e){var t=this;e=Ext.get(e),t.target&&t.target!=e&&t.abort(),t.target=e},getTarget:function(){return this.target||null},abort:function(){var e=this.active;void 0!==e&&(Ext.Ajax.abort(e.request),e.mask&&this.removeMask(),delete this.active)},removeMask:function(){this.target.unmask()},addMask:function(e){this.target.mask(e===!0?null:e)},load:function(e){this.target||Ext.Error.raise("A valid target is required when loading content"),e=Ext.apply({},e);var t=this,n=Ext.isDefined(e.loadMask)?e.loadMask:t.loadMask,i=Ext.apply({},e.params),r=Ext.apply({},e.ajaxOptions),o=e.callback||t.callback,a=e.scope||t.scope||t,s=e.rendererScope||t.rendererScope||t;Ext.applyIf(r,t.ajaxOptions),Ext.applyIf(e,r),Ext.applyIf(i,t.params),Ext.apply(i,t.baseParams),Ext.applyIf(e,{url:t.url}),e.url||Ext.Error.raise("You must specify the URL from which content should be loaded"),Ext.apply(e,{scope:t,params:i,callback:t.onComplete}),t.fireEvent("beforeload",t,e)!==!1&&(n&&t.addMask(n),t.active={options:e,mask:n,scope:a,rendererScope:s,callback:o,success:e.success||t.success,failure:e.failure||t.failure,renderer:e.renderer||t.renderer,scripts:Ext.isDefined(e.scripts)?e.scripts:t.scripts},t.active.request=Ext.Ajax.request(e),t.setOptions(t.active,e))},setOptions:Ext.emptyFn,onComplete:function(e,t,n){var i,r,o=this,a=o.active;a&&(r=a.scope,i=a.rendererScope,t&&(t=o.getRenderer(a.renderer).call(i,o,n,a)!==!1),
t?(Ext.callback(a.success,r,[o,n,e]),o.fireEvent("load",o,n,e)):(Ext.callback(a.failure,r,[o,n,e]),o.fireEvent("exception",o,n,e)),Ext.callback(a.callback,r,[o,t,n,e]),a.mask&&o.removeMask()),delete o.active},getRenderer:function(e){return Ext.isFunction(e)?e:this.statics().Renderer.Html},startAutoRefresh:function(e,t){var n=this;n.stopAutoRefresh(),n.autoRefresh=setInterval(function(){n.load(t)},e)},stopAutoRefresh:function(){clearInterval(this.autoRefresh),delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var e=this;e.stopAutoRefresh(),delete e.target,e.abort(),e.clearListeners()}}),Ext.define("Ext.ComponentLoader",{extend:"Ext.ElementLoader",statics:{Renderer:{Data:function(e,t,n){var i=!0;try{e.getTarget().update(Ext.decode(t.responseText))}catch(r){i=!1}return i},Component:function(e,t,n){var i=!0,r=e.getTarget(),o=[];r.isContainer||Ext.Error.raise({target:r,msg:"Components can only be loaded into a container"});try{o=Ext.decode(t.responseText)}catch(a){i=!1}return i&&(r.suspendLayouts(),n.removeAll&&r.removeAll(),r.add(o),r.resumeLayouts(!0)),i}}},target:null,loadMask:!1,renderer:"html",setTarget:function(e){var t=this;Ext.isString(e)&&(e=Ext.getCmp(e)),t.target&&t.target!=e&&t.abort(),t.target=e},removeMask:function(){this.target.setLoading(!1)},addMask:function(e){this.target.setLoading(e)},setOptions:function(e,t){e.removeAll=Ext.isDefined(t.removeAll)?t.removeAll:this.removeAll},getRenderer:function(e){if(Ext.isFunction(e))return e;var t=this.statics().Renderer;switch(e){case"component":return t.Component;case"data":return t.Data;default:return Ext.ElementLoader.Renderer.Html}}}),Ext.define("Ext.layout.SizeModel",{constructor:function(e){var t,n=this,i=n.self,r=i.sizeModelsArray;Ext.apply(n,e),n[t=n.name]=!0,n.fixed=!(n.auto=n.natural||n.shrinkWrap),r[n.ordinal=r.length]=i[t]=i.sizeModels[t]=n},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},function(){var e,t,n,i,r,o=this,a=o.sizeModelsArray;for(new o({name:"calculated"}),new o({name:"configured",names:{width:"width",height:"height"}}),new o({name:"natural"}),new o({name:"shrinkWrap"}),new o({name:"calculatedFromConfigured",configured:!0,names:{width:"width",height:"height"}}),new o({name:"calculatedFromNatural",natural:!0}),new o({name:"calculatedFromShrinkWrap",shrinkWrap:!0}),new o({name:"constrainedMax",configured:!0,constrained:!0,names:{width:"maxWidth",height:"maxHeight"}}),new o({name:"constrainedMin",configured:!0,constrained:!0,names:{width:"minWidth",height:"minHeight"}}),new o({name:"constrainedDock",configured:!0,constrained:!0,constrainedByMin:!0,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}}),e=0,n=a.length;n>e;++e)for(r=a[e],r.pairsByHeightOrdinal=i=[],t=0;n>t;++t)i.push({width:r,height:a[t]})}),Ext.define("Ext.layout.Layout",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.XTemplate","Ext.layout.SizeModel"],uses:["Ext.layout.Context"],factoryConfig:{type:"layout"},isLayout:!0,initialized:!1,running:!1,needsItemSize:!0,setsItemSize:!0,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},$configPrefixed:!1,$configStrict:!1,constructor:function(e){var t=this;t.id=Ext.id(null,t.type+"-"),t.initConfig(e),delete t.type,t.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(e){var t,n=this,i=n.context;n.lastWidthModel!=e.widthModel&&(n.lastWidthModel&&(t=!0),n.lastWidthModel=e.widthModel),n.lastHeightModel!=e.heightModel&&(n.lastWidthModel&&(t=!0),n.lastHeightModel=e.heightModel),t&&((i=e.context).clearTriggers(n,!1),i.clearTriggers(n,!0),n.triggerCount=0)},finishedLayout:function(e){this.lastWidthModel=e.widthModel,this.lastHeightModel=e.heightModel,this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(e){return this.autoSizePolicy},getScrollerEl:Ext.emptyFn,isItemBoxParent:function(e){return!1},isItemLayoutRoot:function(e){var t=e.getSizeModel(),n=t.width,i=t.height;return e.componentLayout.lastComponentSize||!n.calculated&&!i.calculated?!n.shrinkWrap&&!i.shrinkWrap:!1},isItemShrinkWrap:function(e){return e.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(e,t){var n,i,r,o,a=e.length;if(a)for(o=[],n=0;a>n;++n)i=e[n],i.rendered||(t&&void 0!==t[i.id]?r=t[i.id]:(this.configureItem(i),r=i.getRenderTree(),t&&(t[i.id]=r)),r&&o.push(r));return o},finishRender:Ext.emptyFn,finishRenderItems:function(e,t){var n,i,r=t.length;for(n=0;r>n;n++)i=t[n],i.rendering&&i.finishRender(n)},renderChildren:function(){var e=this,t=e.getLayoutItems(),n=e.getRenderTarget();e.renderItems(t,n)},renderItems:function(e,t){var n,i=this,r=e.length,o=0;if(r){for(Ext.suspendLayouts();r>o;o++)n=e[o],n&&!n.rendered?i.renderItem(n,t,o):i.isValidParent(n,t,o)?i.configureItem(n):i.moveItem(n,t,o);Ext.resumeLayouts(!0)}},isValidParent:function(e,t,n){var i=t&&t.dom||t,r=this.getItemLayoutEl(e);return r&&i?"number"==typeof n?(n=this.getPositionOffset(n),r===i.childNodes[n]):r.parentNode===i:!1},getItemLayoutEl:function(e){var t,n=e.el?e.el.dom:Ext.getDom(e),i=n.parentNode;return i&&(t=i.className,t&&-1!==t.indexOf(Ext.baseCSSPrefix+"resizable-wrap")&&(n=n.parentNode)),n},getPositionOffset:function(e){return e},configureItem:function(e){e.ownerLayout=this},renderItem:function(e,t,n){var i=this;e.rendered||(i.configureItem(e),e.render(t,n))},moveItem:function(e,t,n){t=t.dom||t,"number"==typeof n&&(n=t.childNodes[n]),t.insertBefore(e.el.dom,n||null),e.container=Ext.get(t),this.configureItem(e)},onContentChange:function(){return this.owner.updateLayout(),!0},initLayout:function(){this.initialized=!0},setOwner:function(e){this.owner=e},getLayoutItems:function(){return[]},onAdd:function(e){e.ownerLayout=this},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(e){var t,n=this,i=e.el,r=n.owner;e.rendered&&(t=[].concat(n.itemCls||[]),r.itemCls&&(t=Ext.Array.push(t,r.itemCls)),t.length&&i.removeCls(t)),delete e.ownerLayout},destroy:function(){var e,t=this;t.targetCls&&(e=t.getTarget(),e&&e.removeCls(t.targetCls)),t.onDestroy()},sortWeightedItems:function(e,t){for(var n=0,i=e.length;i>n;++n)e[n].$i=n;for(Ext.Array.sort(e,function(e,n){var i=n.weight-e.weight;return i||(i=e.$i-n.$i,e[t]&&(i=-i)),i}),n=0;i>n;++n)delete e[n].$i}},function(){var e=this;e.prototype.sizeModels=e.sizeModels=Ext.layout.SizeModel.sizeModels}),Ext.define("Ext.layout.container.Container",{extend:"Ext.layout.Layout",alias:"layout.container",alternateClassName:"Ext.layout.ContainerLayout",mixins:["Ext.util.ElementContainer"],requires:["Ext.XTemplate"],type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){this.callParent(arguments),this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent(),this.mixins.elementCt.destroy.call(this)},beginLayout:function(e){this.callParent(arguments),e.targetContext=e.paddingContext=e.getEl("getTarget",this),this.cacheChildItems(e)},beginLayoutCycle:function(e,t){var n=this;n.callParent(arguments),t&&(n.usesContainerHeight&&++e.consumersContainerHeight,n.usesContainerWidth&&++e.consumersContainerWidth)},cacheChildItems:function(e){var t,n,i,r,o,a=this;if(a.needsItemSize||a.setsItemSize)for(t=e.context,n=e.childItems=[],i=e.visibleItems=a.getVisibleItems(),r=i.length,o=0;r>o;++o)n.push(t.getCmp(i[o]))},cacheElements:function(){var e=this.owner;this.attachChildEls(e.el,e)},calculate:function(e){var t=e.props,n=e.el;e.widthModel.shrinkWrap&&isNaN(t.width)&&e.setContentWidth(n.getWidth()),e.heightModel.shrinkWrap&&isNaN(t.height)&&e.setContentHeight(n.getHeight())},configureItem:function(e){var t,n,i=this,r=i.itemCls,o=i.owner.itemCls;e.ownerLayout=i,r&&("string"==typeof r?n=[r]:(n=r,t=!!n)),o&&(t&&(n=Ext.Array.clone(n)),n=Ext.Array.push(n||[],o)),n&&e.addCls(n)},doRenderBody:function(e,t){this.renderItems(e,t),this.renderContent(e,t)},doRenderContainer:function(e,t){var n=t.$comp.layout,i=n.getRenderTpl(),r=n.getRenderData();i.applyOut(r,e)},doRenderItems:function(e,t){var n=t.$layout,i=n.getRenderTree();i&&Ext.DomHelper.generateMarkup(i,e)},finishRender:function(){var e,t,n=this;n.callParent(),n.cacheElements(),e=n.getRenderTarget(),t=n.getLayoutItems(),n.targetCls&&!n.getTarget().hasCls(n.targetCls)&&Ext.log.warn("targetCls is missing. This may mean that getTargetEl() is being overridden but not applyTargetCls(). "+n.owner.id),n.finishRenderItems(e,t)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(e,t){var n,i,r,o,a=e.targetContext,s=a.getFrameInfo(),l=e.paddingContext.getPaddingInfo(),d=0,u=0;return e.widthModel.shrinkWrap||(++u,r=t?a.getDomProp("width"):a.getProp("width"),n="number"==typeof r,n&&(++d,r-=s.width+l.width,0>r&&(r=0))),e.heightModel.shrinkWrap||(++u,o=t?a.getDomProp("height"):a.getProp("height"),i="number"==typeof o,i&&(++d,o-=s.height+l.height,0>o&&(o=0))),{width:r,height:o,needed:u,got:d,gotAll:d==u,gotWidth:n,gotHeight:i}},getPositionOffset:function(e){if(!this.createsInnerCt){var t=this.owner.itemNodeOffset;t&&(e+=t)}return e},getLayoutItems:function(){var e=this.owner,t=e&&e.items;return t&&t.items||[]},getRenderData:function(){var e=this.owner;return{$comp:e,$layout:this,ownerId:e.id}},getRenderedItems:function(){var e,t,n=this,i=n.getRenderTarget(),r=n.getLayoutItems(),o=r.length,a=[];for(e=0;o>e;e++)t=r[e],t.rendered&&n.isValidParent(t,i,e)&&a.push(t);return a},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var e=this,t=Ext.XTemplate.getTpl(this,"renderTpl");return t.renderContent||e.owner.setupRenderTpl(t),t},getRenderTree:function(){var e,t,n=this.owner.items,i={};do t=n.generation,e=this.getItemsRenderTree(this.getLayoutItems(),i);while(n.generation!==t);return e},renderChildren:function(){var e,t,n=this,i=n.owner.items,r=n.getRenderTarget();do e=i.generation,t=n.getLayoutItems(),n.renderItems(t,r);while(i.generation!==e)},getScrollbarsNeeded:function(e,t,n,i){var r=Ext.getScrollbarSize(),o="number"==typeof e,a="number"==typeof t,s=0,l=0;return r.width?(a&&i>t&&(l=2,e-=r.width),o&&n>e&&(s=1,!l&&a&&(t-=r.height,i>t&&(l=2))),l+s):0},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var e,t,n=this.getRenderTarget(),i=this.getLayoutItems(),r=i.length,o=[];for(e=0;r>e;e++)t=i[e],t.rendered&&this.isValidParent(t,n,e)&&t.hidden!==!0&&!t.floated&&o.push(t);return o},getMoveAfterIndex:function(e){var t=this.owner,n=t.items;return n.indexOf(e)+1},moveItemBefore:function(e,t){var n,i=this.owner,r=e.ownerCt,o=i.items;e!==t&&(r&&r.remove(e,!1),n=t?o.indexOf(t):o.length,i.insert(n,e))},setupRenderTpl:function(e){var t=this;e.renderBody=t.doRenderBody,e.renderContainer=t.doRenderContainer,e.renderItems=t.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(e){e.liquidLayout||++this.activeItemCount,this.callParent([e])},onRemove:function(e){e.liquidLayout||--this.activeItemCount,this.callParent([e])}}),Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:"Ext.layout.container.Container",type:"autocontainer",childEls:["outerCt","innerCt"],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,needsItemSize:!1,setsItemSize:!1,lastOverflowAdjust:{width:0,height:0},outerCtCls:Ext.baseCSSPrefix+"autocontainer-outerCt",innerCtCls:Ext.baseCSSPrefix+"autocontainer-innerCt",renderTpl:['<div id="{ownerId}-outerCt" data-ref="outerCt" class="{outerCtCls}" role="presentation">','<div id="{ownerId}-innerCt" data-ref="innerCt" style="{%this.renderPadding(out, values)%}" ','class="{innerCtCls}" role="presentation">',"{%this.renderBody(out,values)%}","</div>","</div>"],beginLayout:function(e){this.callParent(arguments),this.initContextItems(e)},beforeLayoutCycle:function(e){var t=this.owner,n=t.inheritedState,i=t.inheritedStateInner;(!n||n.invalid)&&(n=t.getInherited(),i=t.inheritedStateInner),e.widthModel.shrinkWrap?i.inShrinkWrapTable=!0:delete i.inShrinkWrapTable},beginLayoutCycle:function(e){var t,n,i,r,o,a=this,s=a.outerCt,l=a.lastOuterCtWidth||"",d=a.lastOuterCtHeight||"",u=a.lastOuterCtTableLayout||"",c=e.state;a.callParent(arguments),n=i=r="",e.widthModel.shrinkWrap||(n="100%",o=a.owner.inheritedStateInner,t=a.getOverflowXStyle(e),r=o.inShrinkWrapTable||"auto"===t||"scroll"===t?"":"fixed"),e.heightModel.shrinkWrap||Ext.supports.PercentageHeightOverflowBug||(i="100%"),(n!==l||a.hasOuterCtPxWidth)&&(s.setStyle("width",n),a.lastOuterCtWidth=n,a.hasOuterCtPxWidth=!1),r!==u&&(s.setStyle("table-layout",r),a.lastOuterCtTableLayout=r),(i!==d||a.hasOuterCtPxHeight)&&(s.setStyle("height",i),a.lastOuterCtHeight=i,a.hasOuterCtPxHeight=!1),a.hasInnerCtPxHeight&&(a.innerCt.setStyle("height",""),a.hasInnerCtPxHeight=!1),c.overflowAdjust=c.overflowAdjust||a.lastOverflowAdjust},calculate:function(e){var t=this,n=e.state,i=t.getContainerSize(e,!0),r=n.calculatedItems||(n.calculatedItems=t.calculateItems?t.calculateItems(e,i):!0);return t.setCtSizeIfNeeded(e,i),r&&e.hasDomProp("containerChildrenSizeDone")&&(t.calculateContentSize(e),i.gotAll)?void(!t.manageOverflow||e.state.secondPass||t.reserveScrollbar||t.calculateOverflow(e,i)):void(t.done=!1)},calculateContentSize:function(e){var t=this,n=(e.widthModel.shrinkWrap?1:0)|(e.heightModel.shrinkWrap?2:0),i=1&n||void 0,r=2&n||void 0,o=0,a=e.props;i&&(isNaN(a.contentWidth)?++o:i=void 0),r&&(isNaN(a.contentHeight)?++o:r=void 0),o&&(i&&!e.setContentWidth(t.measureContentWidth(e))&&(t.done=!1),r&&!e.setContentHeight(t.measureContentHeight(e))&&(t.done=!1))},calculateOverflow:function(e){var t,n,i,r,o,a,s,l=this;o="auto"===l.getOverflowXStyle(e),a="auto"===l.getOverflowYStyle(e),(o||a)&&(i=Ext.getScrollbarSize(),s=e.overflowContext.el.dom,r=0,s.scrollWidth>s.clientWidth&&(r|=1),s.scrollHeight>s.clientHeight&&(r|=2),t=a&&2&r?i.width:0,n=o&&1&r?i.height:0,(t!==l.lastOverflowAdjust.width||n!==l.lastOverflowAdjust.height)&&(l.done=!1,e.invalidate({state:{overflowAdjust:{width:t,height:n},overflowState:r,secondPass:!0}})))},completeLayout:function(e){this.lastOverflowAdjust=e.state.overflowAdjust},doRenderBody:function(e,t){var n=t.$layout,i=Ext.XTemplate,r=n.beforeBodyTpl,o=n.afterBodyTpl;r&&i.getTpl(n,"beforeBodyTpl").applyOut(t,e),this.renderItems(e,t),this.renderContent(e,t),o&&i.getTpl(n,"afterBodyTpl").applyOut(t,e)},doRenderPadding:function(e,t){var n=t.$layout,i=t.$layout.owner,r=i[i.contentPaddingProperty];n.managePadding&&r&&e.push("padding:",i.unitizeBox(r))},finishedLayout:function(e){var t=this.innerCt;this.callParent(arguments),Ext.isIE8&&t.repaint(),Ext.isOpera&&(t.setStyle("position","relative"),t.dom.scrollWidth,t.setStyle("position",""))},getContainerSize:function(e,t){var n=this.callParent(arguments),i=e.state.overflowAdjust;return i&&(n.width-=i.width,n.height-=i.height),n},getRenderData:function(){var e=this,t=e.callParent();return t.innerCtCls=e.innerCtCls,t.outerCtCls=e.outerCtCls,t},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(e){return e.overflowXStyle||(e.overflowXStyle=this.owner.scrollFlags.overflowX||e.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(e){return e.overflowYStyle||(e.overflowYStyle=this.owner.scrollFlags.overflowY||e.overflowContext.getStyle("overflow-y"))},initContextItems:function(e){var t=this,n=e.target,i=t.owner.customOverflowEl;e.outerCtContext=e.getEl("outerCt",t),e.innerCtContext=e.getEl("innerCt",t),i?e.overflowContext=e.getEl(i):e.overflowContext=e.targetContext,void 0!==n[n.contentPaddingProperty]&&(e.paddingContext=e.innerCtContext)},initLayout:function(){var e=this,t=Ext.getScrollbarSize().width,n=e.owner;e.callParent(),t&&e.manageOverflow&&!e.hasOwnProperty("lastOverflowAdjust")&&(n.autoScroll||e.reserveScrollbar)&&(e.lastOverflowAdjust={width:t,height:0})},measureContentHeight:function(e){var t=this.outerCt.getHeight(),n=e.target;return this.managePadding&&void 0===n[n.contentPaddingProperty]&&(t+=e.targetContext.getPaddingInfo().height),t},measureContentWidth:function(e){var t,n,i,r,o;return this.chromeCellMeasureBug&&(t=this.innerCt.dom,n=t.style,i=n.display,"table-cell"==i&&(n.display="",t.offsetWidth,n.display=i)),r=this.outerCt.getWidth(),o=e.target,this.managePadding&&void 0===o[o.contentPaddingProperty]&&(r+=e.targetContext.getPaddingInfo().width),r},setCtSizeIfNeeded:function(e,t){var n,i,r=this,o=t.height,a=e.paddingContext.getPaddingInfo(),s=r.getTarget(),l=r.getOverflowXStyle(e),d="auto"===l||"scroll"===l,u=Ext.getScrollbarSize();o&&!e.heightModel.shrinkWrap&&(Ext.supports.PercentageHeightOverflowBug&&(n=!0),Ext.isIE8&&(i=!0),(n||i)&&d&&s.dom.scrollWidth>s.dom.clientWidth&&(o=Math.max(o-u.height,0)),n&&(e.outerCtContext.setProp("height",o+a.height),r.hasOuterCtPxHeight=!0),i&&(e.innerCtContext.setProp("height",o),r.hasInnerCtPxHeight=!0))},setupRenderTpl:function(e){this.callParent(arguments),e.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt},getScrollerEl:function(){return this.outerCt}},function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&Ext.chromeVersion>=26}),Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",requires:["Ext.GlobalEvents"],statics:{zBase:9e3},constructor:function(e){var t=this;t.map={},t.zIndexStack=[],t.front=null,e?e.isContainer?(e.on("resize",t._onContainerResize,t),t.zseed=Ext.Number.from(t.rendered?e.getEl().getStyle("zIndex"):void 0,t.getNextZSeed()),t.targetEl=e.getTargetEl(),t.container=e):(Ext.on("resize",t._onContainerResize,t),t.zseed=t.getNextZSeed(),t.targetEl=Ext.get(e)):(t.zseed=t.getNextZSeed(),Ext.onReady(function(){Ext.on("resize",t._onContainerResize,t),t.targetEl=Ext.getBody()}))},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(e){this.zseed=e;var t=this.assignZIndices();return this._activateLast(),t},assignZIndices:function(){for(var e,t,n=this.zIndexStack,i=n.length,r=0,o=this.zseed;i>r;r++)e=n[r],e&&!e.hidden&&(o=e.setZIndex(o),e.modal&&(t=e));return t&&this._showModalMask(t),o},_setActiveChild:function(e,t){var n=this.front,i=e.preventFocusOnActivate;e!==n&&(n&&!n.destroying&&n.setActive(!1,e),this.front=e,e&&e!=t&&(e.preventFocusOnActivate=e.preventFocusOnActivate||t&&(t.preventFocusOnActivate||!t.focusOnToFront),e.setActive(!0),e.modal&&this._showModalMask(e),e.preventFocusOnActivate=i))},onComponentHide:function(e){this._activateLast()},_activateLast:function(){for(var e,t=this,n=t.zIndexStack,i=n.length-1;i>=0&&n[i].hidden;--i);if(e=n[i]){if(t._setActiveChild(e,t.front),e.modal)return}else t.front&&!t.front.destroying&&t.front.setActive(!1),t.front=null;for(;i>=0;--i)if(e=n[i],e.isVisible()&&e.modal)return void t._showModalMask(e);t._hideModalMask()},_showModalMask:function(e){var t,n=this,i=e.el.getStyle("zIndex")-4,r=e.floatParent?e.floatParent.getTargetEl():e.container,o=n.mask,a=n.maskShim;o||(o=n.mask=Ext.getBody().createChild({"data-sticky":!0,role:"presentation",cls:Ext.baseCSSPrefix+"mask",style:"height:0;width:0"}),o.setVisibilityMode(Ext.Element.DISPLAY),o.on("click",n._onMaskClick,n)),o.maskTarget=r,t=n.getMaskBox(),a&&(a.setStyle("zIndex",i),a.show(),a.setBox(t)),o.setStyle("zIndex",i),o.show(),o.setBox(t)},_hideModalMask:function(){var e=this.mask,t=this.maskShim;e&&e.isVisible()&&(e.maskTarget=void 0,e.hide(),t&&t.hide())},_onMaskClick:function(){this.front&&this.front.focus()},getMaskBox:function(){var e=this.mask.maskTarget;return e.dom===document.body?{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}:e.getBox()},_onContainerResize:function(){var e,t=this,n=t.mask,i=t.maskShim;n&&n.isVisible()&&(n.hide(),i&&i.hide(),e=t.getMaskBox(),i&&(i.setSize(e),i.show()),n.setSize(e),n.show())},register:function(e){var t=this,n=e.afterHide;e.zIndexManager&&e.zIndexManager.unregister(e),e.zIndexManager=t,t.map[e.id]=e,t.zIndexStack.push(e),e.afterHide=function(){n.apply(e,arguments),t.onComponentHide(e)}},unregister:function(e){var t=this,n=t.map;delete e.zIndexManager,n&&n[e.id]&&(delete n[e.id],delete e.afterHide,Ext.Array.remove(t.zIndexStack,e),t._activateLast())},get:function(e){return e.isComponent?e:this.map[e]},bringToFront:function(e,t){var n=this,i=!1,r=n.zIndexStack;return e=n.get(e),e!==n.front&&(Ext.Array.remove(r,e),e.preventBringToFront?r.unshift(e):r.push(e),n.assignZIndices(),t||n._activateLast(),i=!0,n.front=e,e.modal&&n._showModalMask(e)),i},sendToBack:function(e){var t=this;return e=t.get(e),Ext.Array.remove(t.zIndexStack,e),t.zIndexStack.unshift(e),t.assignZIndices(),this._activateLast(),e},hideAll:function(){var e,t,n=this.map;for(t in n)n.hasOwnProperty(t)&&(e=n[t],e.isComponent&&e.isVisible()&&e.hide())},hide:function(){var e,t=0,n=this.zIndexStack,i=n.length;for(this.tempHidden=[];i>t;t++)e=n[t],e.isVisible()&&(this.tempHidden.push(e),e.el.hide(),e.hidden=!0)},show:function(){for(var e,t=0,n=this.tempHidden,i=n?n.length:0;i>t;t++)e=n[t],e.el.show(),e.hidden=!1,e.setPosition(e.x,e.y);delete this.tempHidden},getActive:function(){return this.front},getBy:function(e,t){for(var n,i=[],r=0,o=this.zIndexStack,a=o.length;a>r;r++)n=o[r],e.call(t||n,n)!==!1&&i.push(n);return i},each:function(e,t){var n,i,r=this.map;for(n in r)if(r.hasOwnProperty(n)&&(i=r[n],i.isComponent&&e.call(t||i,i)===!1))return},eachBottomUp:function(e,t){for(var n,i=this.zIndexStack,r=0,o=i.length;o>r;r++)if(n=i[r],n.isComponent&&e.call(t||n,n)===!1)return},eachTopDown:function(e,t){for(var n,i=this.zIndexStack,r=i.length;r-->0;)if(n=i[r],n.isComponent&&e.call(t||n,n)===!1)return},destroy:function(){var e,t,n=this,i=n.map;for(t in i)i.hasOwnProperty(t)&&(e=i[t],e.isComponent&&e.destroy());Ext.destroy(n.mask),Ext.destroy(n.maskShim),delete n.zIndexStack,delete n.map,delete n.container,delete n.targetEl}},function(){Ext.WindowManager=Ext.WindowMgr=new this}),Ext.define("Ext.container.Container",{extend:"Ext.Component",xtype:"container",alternateClassName:["Ext.Container","Ext.AbstractContainer"],requires:["Ext.util.MixedCollection","Ext.layout.container.Auto","Ext.ZIndexManager"],mixins:["Ext.mixin.Queryable"],renderTpl:"{%this.renderContainer(out,values)%}",isContainer:!0,autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,layout:"auto",suspendLayout:!1,ariaRole:"presentation",baseCls:Ext.baseCSSPrefix+"container",layoutCounter:0,add:function(){var e,t,n,i,r,o,a,s,l=this,d=Ext.Array.slice(arguments),u="number"==typeof d[0]?d.shift():-1,c=l.getLayout(),h=!1;for(1==d.length&&Ext.isArray(d[0])?(t=d[0],e=!0):t=d,l.rendered&&Ext.suspendLayouts(),a=t=l.prepareItems(t,!0),i=t.length,e||1!=i||(a=t[0]),n=0;i>n;n++)r=t[n],r||Ext.Error.raise("Cannot add null item to Container with itemId/id: "+l.getItemId()),r.isDestroyed&&Ext.Error.raise("Cannot add destroyed item '"+r.getId()+"' to Container '"+l.getId()+"'"),o=0>u?l.items.length:u+n,s=!!r.instancedCmp,delete r.instancedCmp,r.floating?(l.floatingItems.add(r),r.onAdded(l,o,s),delete r.initOwnerCt,l.hasListeners.add&&l.fireEvent("add",l,r,o)):l.hasListeners.beforeadd&&l.fireEvent("beforeadd",l,r,o)===!1||l.onBeforeAdd(r)===!1||(l.items.insert(o,r),r.onAdded(l,o,s),delete r.initOwnerCt,l.onAdd(r,o),c.onAdd(r,o),h=!0,l.hasListeners.add&&l.fireEvent("add",l,r,o));return h&&l.updateLayout(),l.rendered&&Ext.resumeLayouts(!0),a},onAdded:function(e,t,n){this.callParent(arguments),n&&Ext.ComponentManager.markReferencesDirty()},onRemoved:function(e){var t;e||(t=this.lookupReferenceHolder(),t&&(Ext.ComponentManager.markReferencesDirty(),t.clearReferences())),this.callParent(arguments)},afterComponentLayout:function(){var e,t,n=this.floatingItems.items,i=n.length;for(this.callParent(arguments),e=0;i>e;e++)t=n[e],!t.rendered&&t.autoShow&&t.show()},afterLayout:function(e){var t=this,n=t.scrollManager;++t.layoutCounter,n&&t.layoutCounter>1&&n.refresh(),t.hasListeners.afterlayout&&t.fireEvent("afterlayout",t,e)},onDestroy:function(){this.callParent(),this.refs=null},beforeDestroy:function(){var e,t=this,n=t.items,i=t.floatingItems;if(n)for(;e=n.first();)t.doRemove(e,!0);if(i)for(;e=i.first();)t.doRemove(e,!0);Ext.destroy(t.layout),t.callParent()},beforeRender:function(){var e,t=this,n=t.getLayout();t.callParent(),n.initialized||n.initLayout(),e=n.targetCls,e&&t.applyTargetCls(e)},cascade:function(e,t,n){var i,r=this,o=r.items?r.items.items:[],a=o.length,s=0,l=n?n.concat(r):[r],d=l.length-1;if(e.apply(t||r,l)!==!1)for(;a>s;s++)i=o[s],i.cascade?i.cascade(e,t,n):(l[d]=i,e.apply(t||i,l));return this},contains:function(e,t){var n=!1;return t?(this.cascade(function(t){return t.contains&&t.contains(e)?(n=!0,!1):void 0}),n):this.items.contains(e)||this.floatingItems.contains(e)},disable:function(){this.callParent(arguments);var e,t,n=this.getChildItemsToDisable(),i=n.length;for(t=0;i>t;t++)e=n[t],e.resetDisable===!1||e.disabled||(e.disable(),e.resetDisable=!0);return this},doLayout:function(){return this.updateLayout(),this},enable:function(){this.callParent(arguments);var e,t,n=this.getChildItemsToDisable(),i=n.length;for(t=0;i>t;t++)e=n[t],e.resetDisable&&e.enable();return this},getChildByElement:function(e,t){var n,i,r=0,o=this.getRefItems(),a=o.length;for(e=Ext.getDom(e);a>r;r++)if(n=o[r],i=n.getEl(),i&&(i.dom===e||i.contains(e)))return t&&n.getChildByElement?n.getChildByElement(e,t):n;return null},getComponent:function(e){Ext.isObject(e)&&(e=e.getItemId());var t=this.items.get(e);return t||"number"==typeof e||(t=this.floatingItems.get(e)),t},getLayout:function(){var e=this,t=e.layout;return t&&t.isLayout||e.setLayout(t),e.layout},getRefItems:function(e){for(var t,n=this,i=n.items.items,r=i.length,o=0,a=[];r>o;o++)t=i[o],a[a.length]=t,e&&t.getRefItems&&a.push.apply(a,t.getRefItems(!0));for(i=n.floatingItems.items,r=i.length,o=0;r>o;o++)t=i[o],a[a.length]=t,e&&t.getRefItems&&a.push.apply(a,t.getRefItems(!0));return a},initComponent:function(){var e=this;e.callParent(),e.getLayout(),e.constructing=!0,e.initItems(),delete e.constructing},getReferences:function(){var e=Ext.ComponentManager;return e.referencesDirty&&e.fixReferences(),this.refs||null},lookupReference:function(e){var t=this.getReferences();return t&&t[e]||null},initItems:function(){var e=this,t=e.items;t&&t.isMixedCollection||(e.items=new Ext.util.AbstractMixedCollection(!1,e.getComponentId),e.floatingItems=new Ext.util.MixedCollection(!1,e.getComponentId),t&&(Ext.isArray(t)||(t=[t]),e.add(t)))},initInheritedState:function(e,t){var n=this,i=n.controller,r=n.layout,o=n.session,a=n.viewModel,s=n.reference,l=n.referenceHolder;n.callParent([e,t]),n.collapsed&&(e.collapsed=!0),i?(e.referenceHolder=i,l=!0):l&&(e.referenceHolder=n),l?e.referencePath="":s&&n.isParentReference&&(e.referencePath=n.referenceKey+"."),o&&(e.session=o),a?e.viewModelPath="":s&&n.isParentReference&&(e.viewModelPath=n.viewModelKey+"."),r&&r.initInheritedState&&r.initInheritedState(e,t)},insert:function(e,t){var n;return t&&t.isComponent&&(n=this.items.indexOf(t),-1!==n)?this.move(n,e):this.add(e,t)},isAncestor:function(e){for(;e;){if(e.ownerCt===this)return!0;e=e.ownerCt}},lookupComponent:function(e){return e.isComponent||(e="string"==typeof e?Ext.ComponentManager.get(e):Ext.ComponentManager.create(e,this.defaultType)),e},move:function(e,t){var n,i=this,r=i.items;if(e.isComponent&&(e=r.indexOf(e)),n=r.getAt(e),e!==t){if(n=r.removeAt(e),n===!1)return!1;r.insert(t,n),i.onMove(n,e,t),i.hasListeners.move&&i.fireEvent("move",i,n,e,t),i.updateLayout()}return n},moveBefore:function(e,t){this.layout.moveItemBefore(e,t)},moveAfter:function(e,t){var n=this,i=n.items,r=n.layout,o=t?r.getMoveAfterIndex(t):0,a=i.getAt(o);r.moveItemBefore(e,a)},nextChild:function(e,t){var n,i=this,r=i.items,o=r.indexOf(e),a=0,s=r.length;if(-1!==o){if(t)for(;s>a&&(n=r.getAt(o+a),n&&!Ext.ComponentQuery.is(n,t));a++);else n=r.getAt(o+1);!n&&i.ownerCt&&(n=i.ownerCt.nextChild(i,t))}return n},onAdd:Ext.emptyFn,onBeforeAdd:function(e){var t=e.ownerCt;t&&t!==this&&t.remove(e,!1)},onMove:Ext.emptyFn,onRemove:Ext.emptyFn,onPosition:function(){this.callParent(arguments),this.repositionFloatingItems()},onResize:function(){this.callParent(arguments),this.repositionFloatingItems()},prevChild:function(e,t){var n,i=this,r=i.items,o=r.indexOf(e),a=0,s=r.length;if(-1!==o){if(t)for(;s>a&&(n=r.getAt(o-a),n&&!Ext.ComponentQuery.is(n,t));a++);else n=r.getAt(o-1);!n&&i.ownerCt&&(n=i.ownerCt.nextChild(i,t))}return n},remove:function(e,t){var n=this,i=n.getComponent(e);return Ext.isDefined(Ext.global.console)&&!i&&Ext.global.console.warn("Attempted to remove a component that does not exist. Ext.container.Container: remove takes an argument of the component to remove. cmp.remove() is incorrect usage."),!i||n.hasListeners.beforeremove&&n.fireEvent("beforeremove",n,i)===!1||(n.doRemove(i,t),n.hasListeners.remove&&n.fireEvent("remove",n,i),n.destroying||i.floating||n.updateLayout()),i},removeAll:function(e){var t,n=this,i=n.items.items.slice().concat(n.floatingItems.items),r=[],o=0,a=i.length;for(Ext.suspendLayouts(),n.removingAll=!0;a>o;o++)t=i[o],n.remove(t,e),t.ownerCt!==n&&r.push(t);return n.removingAll=!1,Ext.resumeLayouts(!!a),r},setLayout:function(e){var t,n,i=this,r=i.layout,o=r&&r.isLayout;"string"==typeof e&&(e={type:e}),n=e.type,!o||n&&n!==r.type?(o&&r.setOwner(null),t=i.self.prototype.layout,"string"==typeof t?e.type=n||t:Ext.merge(Ext.merge({},t),e),e=this.layout=Ext.Factory.layout(e),e.setOwner(this)):(delete e.type,r.setConfig(e)),i.rendered&&i.updateLayout()},setActiveItem:function(e){return this.getLayout().setActiveItem(e)},privates:{applyDefaults:function(e){var t=this.defaults;return t&&(Ext.isFunction(t)&&(t=t.call(this,e)),Ext.isString(e)&&(e=Ext.ComponentManager.get(e)),Ext.applyIf(e,t)),e},applyReference:function(e){var t;return e&&">"===e.charAt(t=e.length-1)&&(this.isParentReference=!0,e=e.substring(0,t)),e&&!this.validIdRe.test(e)&&Ext.Error.raise('Invalid reference "'+e+'" for '+this.getId()+" - not a valid identifier"),e},applyTargetCls:function(e){this.addCls(e)},attachReference:function(e){var t,n,i=this;i.destroying||i.isDestroyed||(n=i.refs||(i.refs={}),t=e.referenceKey,n[t]&&n[t]!==e&&Ext.log.warn('Duplicate reference: "'+t+'" on '+i.id),n[t]=e)},clearReference:function(e){var t=this.refs,n=e.referenceKey;t&&n&&(e.viewModelKey=e.referenceKey=t[n]=null)},clearReferences:function(){this.refs=null},detachComponent:function(e){Ext.getDetachedBody().appendChild(e.getEl())},doRemove:function(e,t){t=t===!0||t!==!1&&this.autoDestroy;var n=this,i=n.layout,r=i&&n.rendered,o=e.destroying||t,a=e.floating;a?n.floatingItems.remove(e):n.items.remove(e),r&&!a&&(i.running&&Ext.Component.cancelLayout(e,o),i.onRemove(e,o)),e.onRemoved(o),n.onRemove(e,o),t?e.destroy():(r&&!a&&i.afterRemove(e),n.detachOnRemove&&e.rendered&&n.detachComponent(e))},finishRenderChildren:function(){this.callParent();var e=this.getLayout();e&&e.finishRender()},getChildItemsToDisable:function(){return this.query("[isFormField],button")},getComponentId:function(e){return e.getItemId&&e.getItemId()},getContentTarget:function(){return this.getLayout().getContentTarget()},getDefaultContentTarget:function(){return this.el},getFocusEl:function(){return this.getTargetEl()},getScrollerEl:function(){return this.layout.getScrollerEl()||this.callParent()},prepareItems:function(e,t){e=Ext.isArray(e)?e.slice():[e];for(var n,i=this,r=0,o=e.length;o>r;r++)n=e[r],null==n?(Ext.Array.erase(e,r,1),--r,--o):(t&&(n=this.applyDefaults(n)),n.initOwnerCt=i,n.isComponent&&(n.instancedCmp=!0),e[r]=i.lookupComponent(n),delete n.initOwnerCt);return e},repositionFloatingItems:function(){var e,t,n=this.floatingItems.items,i=n.length;
for(e=0;i>e;e++)t=n[e],t.el&&!t.hidden&&t.setPosition(t.x,t.y)},_noMargin:{"margin-top":"","margin-right":"","margin-bottom":"","margin-left":""},resetItemMargins:function(){for(var e,t=this.items.items,n=t.length,i=this._noMargin;n--;)e=t[n],e.margin$=null,e.el.setStyle(i)},setupRenderTpl:function(e){this.callParent(arguments),this.getLayout().setupRenderTpl(e)}}}),Ext.define("Ext.layout.container.Editor",{alias:"layout.editor",extend:"Ext.layout.container.Container",autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var t=this,n=t.owner.autoSize,i=n&&n.width,r=t.sizePolicies;return r=r[i]||r.$,i=n&&n.height,r=r[i]||r.$},calculate:function(e){var t,n,i=this,r=i.owner,o=r.autoSize;o===!0&&(o=i.autoSizeDefault),o&&(t=i.getDimension(r,o.width,"getWidth",r.width),n=i.getDimension(r,o.height,"getHeight",r.height)),e.childItems[0].setSize(t,n),e.setWidth(t),e.setHeight(n),e.setContentSize(t||r.field.getWidth(),n||r.field.getHeight())},getDimension:function(e,t,n,i){switch(t){case"boundEl":return e.boundEl[n]();case"field":return void 0;default:return i}}}),Ext.define("Ext.Editor",{extend:"Ext.container.Container",xtype:"editor",requires:["Ext.layout.container.Editor"],layout:"editor",allowBlur:!0,revertInvalid:!0,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,focusOnToFront:!1,hidden:!0,baseCls:Ext.baseCSSPrefix+"editor",initComponent:function(){var e=this,t=e.field=Ext.ComponentManager.create(e.field,"textfield");t.inEditor=!0,t.msgTarget=t.msgTarget||"qtip",e.mon(t,{scope:e,blur:e.onFieldBlur,specialkey:e.onSpecialKey}),t.grow&&e.mon(t,"autosize",e.onFieldAutosize,e,{delay:1}),e.floating={constrain:e.constrain},e.items=t,e.callParent(arguments)},onFieldAutosize:function(){this.updateLayout()},afterRender:function(e,t){var n=this,i=n.field,r=i.inputEl;n.callParent(arguments),r&&(r.dom.name="",n.swallowKeys&&r.swallowEvent(["keypress","keydown"]))},onSpecialKey:function(e,t){var n=this,i=t.getKey(),r=n.completeOnEnter&&i==t.ENTER,o=n.cancelOnEsc&&i==t.ESC;(r||o)&&(t.stopEvent(),Ext.defer(function(){r?n.completeEdit():n.cancelEdit()},1)),n.fireEvent("specialkey",n,e,t)},startEdit:function(e,t){var n,i=this,r=i.field;i.completeEdit(),i.boundEl=Ext.get(e),n=i.boundEl.dom,t=Ext.isDefined(t)?t:Ext.String.trim(n.textContent||n.innerText||n.innerHTML),i.rendered||i.renderTo||!i.ownerCt||(i.renderTo=i.ownerCt.el).position(),i.fireEvent("beforestartedit",i,i.boundEl,t)!==!1&&(i.startValue=t,i.show(),r.suspendEvents(),r.reset(),r.setValue(t),r.resumeEvents(),i.realign(!0),r.focus([r.getRawValue().length]),r.autoSize&&r.autoSize(),i.editing=!0)},realign:function(e){var t=this;e===!0&&t.updateLayout(),t.alignTo(t.boundEl,t.alignment,t.offsets)},completeEdit:function(e){var t,n=this,i=n.field;if(n.editing)return i.assertValue&&i.assertValue(),t=n.getValue(),i.isValid()?String(t)===String(n.startValue)&&n.ignoreNoChange?void n.onEditComplete(e):void(n.fireEvent("beforecomplete",n,t,n.startValue)!==!1&&(t=n.getValue(),n.updateEl&&n.boundEl&&n.boundEl.setHtml(t),n.onEditComplete(e),n.fireEvent("complete",n,t,n.startValue))):void(n.revertInvalid!==!1&&n.cancelEdit(e))},onShow:function(){var e=this;e.callParent(arguments),e.hideEl!==!1&&e.boundEl.hide(),e.fireEvent("startedit",e,e.boundEl,e.startValue)},cancelEdit:function(e){var t,n=this,i=n.startValue,r=n.field;n.editing&&(r&&(t=n.editedValue=n.getValue(),r.suspendEvents(),n.setValue(i),r.resumeEvents()),n.onEditComplete(e),n.fireEvent("canceledit",n,t,i),delete n.editedValue)},onEditComplete:function(e){e!==!0&&(this.editing=!1,this.hide())},onFieldBlur:function(e,t){var n=this,i=Ext.Element.getActiveElement();n.allowBlur===!0&&n.editing&&n.selectSameEditor!==!0&&n.completeEdit(),(Ext.fly(i).isFocusable()||i.getAttribute("tabIndex"))&&i.focus()},onHide:function(){var e=this,t=e.field;return e.editing?void e.completeEdit():(t.hasFocus&&t.triggerBlur&&t.triggerBlur(),t.collapse&&t.collapse(),e.hideEl!==!1&&e.boundEl.show(),void e.callParent(arguments))},setValue:function(e){this.field.setValue(e)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){var e=this;Ext.destroy(e.field),delete e.field,delete e.boundEl,e.callParent(arguments)}}),Ext.define("Ext.EventManager",{singleton:!0,mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,addListener:function(e,t,n,i,r){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.dom.Element#addListener to attach an event listener."),Ext.get(e).addListener(t,n,i,r)},onWindowResize:function(e,t,n){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.on('resize', fn) to attach a window resize listener."),Ext.GlobalEvents.on("resize",e,t,n)},onWindowUnload:function(e,t,n){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.getWin().on('unload', fn) to attach a window unload listener."),Ext.getWin().on("unload",e,t,n)},purgeElement:function(e,t){Ext.log.warn("Ext.EventManager is deprecated. Call clearListeners() on a Ext.dom.Element to remove all listeners."),Ext.get(e).clearListeners()},removeAll:function(e){Ext.log.warn("Ext.EventManager is deprecated. Call clearListeners() on a Ext.dom.Element to remove all listeners."),Ext.get(e).clearListeners()},removeListener:function(e,t,n,i,r){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.dom.Element#removeListener to remove an event listener."),Ext.get(e).removeListener(t,n,i,r)},removeResizeListener:function(e,t){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.on('resize', fn) to detach a window resize listener."),Ext.GlobalEvents.un("resize",e,t)},removeUnloadListener:function(e,t){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.getWin().un('unload', fn) to detach a window unload listener."),Ext.getWin().un("unload",e,t)},stopEvent:function(e){Ext.log.warn("Ext.EventManager.stopEvent() is deprecated. Call stopEvent() directly on the Ext.event.Event instance instead."),this.stopPropagation(e),this.preventDefault(e)},stopPropagation:function(e){Ext.log.warn("Ext.EventManager.stopPropagation() is deprecated. Call stopPropagation() directly on the Ext.event.Event instance instead."),e=e.browserEvent||e,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},preventDefault:function(e){if(Ext.log.warn("Ext.EventManager.preventDefault() is deprecated. Call preventDefault() directly on the Ext.event.Event instance instead."),e=e.browserEvent||e,e.preventDefault)e.preventDefault();else{e.returnValue=!1;try{(e.ctrlKey||e.keyCode>111&&e.keyCode<124)&&(e.keyCode=-1)}catch(t){}}},getId:function(e){return Ext.log.warn("Ext.EventManager.getId() is deprecated. Call Ext.get() to assign ids to elements."),e=Ext.get(e),e.id},getRelatedTarget:function(e){Ext.log.warn("Ext.EventManager.getRelatedTarget() is deprecated. Call getRelatedTarget() directly on the Ext.event.Event instance instead."),e=e.browserEvent||e;var t=e.relatedTarget;return t||(this.mouseLeaveRe.test(e.type)?t=e.toElement:this.mouseEnterRe.test(e.type)&&(t=e.fromElement)),this.resolveTextNode(t)},getPageX:function(e){return Ext.log.warn("Ext.EventManager.getPageX() is deprecated. Call getX() directly on the Ext.event.Event instance instead."),this.getPageXY(e)[0]},getPageXY:function(e){Ext.log.warn("Ext.EventManager.getPageXY() is deprecated. Call getXY() directly on the Ext.event.Event instance instead."),e=e.browserEvent||e;var t=e.pageX,n=e.pageY,i=doc.documentElement,r=doc.body;return t||0===t||(t=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),n=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),[t,n]},getPageY:function(e){return Ext.log.warn("Ext.EventManager.getPageY() is deprecated. Call getY() directly on the Ext.event.Event instance instead."),this.getPageXY(e)[1]},getTarget:function(e){return Ext.log.warn("Ext.EventManager.getTarget() is deprecated. Call getTarget() directly on the Ext.event.Event instance instead."),e=e.browserEvent||e,EventManager.resolveTextNode(e.target||e.srcElement)},resolveTextNode:Ext.isGecko?function(e){if(e){var t=HTMLElement.prototype.toString.call(e);if("[xpconnect wrapped native prototype]"!==t&&"[object XULElement]"!==t)return 3==e.nodeType?e.parentNode:e}}:function(e){return e&&3==e.nodeType?e.parentNode:e}},function(e){e.on=e.addListener,e.un=e.removeListener}),Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(e){var t=this;return 1!==arguments.length||"string"==typeof e||e.dom||e.tagName||e===document||e.isComponent?void t.legacyConstructor.apply(t,arguments):(Ext.apply(t,e),t.bindings=[],t.target.isComponent||(t.target=Ext.get(t.target)),t.binding?t.addBinding(t.binding):e.key&&t.addBinding(e),void t.enable())},legacyConstructor:function(e,t,n){var i=this;Ext.apply(i,{target:Ext.get(e),eventName:n||i.eventName,bindings:[]}),t&&i.addBinding(t),i.enable()},addBinding:function(e){var t,n,i=this,r=e.key;if(i.processing&&(i.bindings=bindings.slice(0)),Ext.isArray(e))for(t=0,n=e.length;n>t;t++)i.addBinding(e[t]);else i.bindings.push(Ext.apply({keyCode:i.processKeys(r)},e))},removeBinding:function(e){var t,n,i,r=this,o=r.bindings,a=o.length;for(r.processing&&(r.bindings=o.slice(0)),i=r.processKeys(e.key),t=0;a>t;++t)if(n=o[t],(n.fn||n.handler)===(e.fn||e.handler)&&n.scope===e.scope&&e.alt===n.alt&&e.crtl===n.crtl&&e.shift===n.shift&&Ext.Array.equals(n.keyCode,i))return void Ext.Array.erase(r.bindings,t,1)},processKeys:function(e){var t,n,i,r,o,a=!1;if(Ext.isString(e)){for(n=[],i=e.toUpperCase(),o=0,r=i.length;r>o;++o)n.push(i.charCodeAt(o));e=n,a=!0}if(Ext.isArray(e)||(e=[e]),!a)for(o=0,r=e.length;r>o;++o)t=e[o],Ext.isString(t)&&(e[o]=t.toUpperCase().charCodeAt(0));return e},handleTargetEvent:function(){var e=/input|textarea/i;return function(t){var n,i,r,o,a,s=this;if(s.enabled){if(n=s.bindings,i=0,r=n.length,t=s.processEvent.apply(s||s.processEventScope,arguments),s.ignoreInputFields&&(o=t.target,a=o.contentEditable,e.test(o.tagName)||""===a||"true"===a))return;if(!t.getKey)return t;for(s.processing=!0;r>i;++i)s.processBinding(n[i],t);s.processing=!1}}}(),processEvent:Ext.identityFn,processBinding:function(e,t){if(this.checkModifiers(e,t)){var n,i,r=t.getKey(),o=e.fn||e.handler,a=e.scope||this,s=e.keyCode,l=e.defaultEventAction;for(n=0,i=s.length;i>n;++n)if(r===s[n]){o.call(a,r,t)!==!0&&l&&t[l]();break}}},checkModifiers:function(e,t){for(var n,i,r=["shift","ctrl","alt"],o=0,a=r.length;a>o;++o)if(i=r[o],n=e[i],void 0!==n&&n!==t[i+"Key"])return!1;return!0},on:function(e,t,n){var i,r,o,a;Ext.isObject(e)&&!Ext.isArray(e)?(i=e.key,r=e.shift,o=e.ctrl,a=e.alt):i=e,this.addBinding({key:i,shift:r,ctrl:o,alt:a,fn:t,scope:n})},un:function(e,t,n){var i,r,o,a;Ext.isObject(e)&&!Ext.isArray(e)?(i=e.key,r=e.shift,o=e.ctrl,a=e.alt):i=e,this.removeBinding({key:i,shift:r,ctrl:o,alt:a,fn:t,scope:n})},isEnabled:function(){return this.enabled},enable:function(){var e=this;e.enabled||(e.target.on(e.eventName,e.handleTargetEvent,e),e.enabled=!0)},disable:function(){var e=this;e.enabled&&(e.target.removeListener(e.eventName,e.handleTargetEvent,e),e.enabled=!1)},setDisabled:function(e){e?this.disable():this.enable()},destroy:function(e){var t=this,n=t.target;t.bindings=[],t.disable(),e&&n.destroy(),delete t.target}}),Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",requires:["Ext.util.KeyMap"],statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(e){var t=this;return 2===arguments.length?void t.legacyConstructor.apply(t,arguments):void t.setConfig(e)},legacyConstructor:function(e,t){this.setConfig(Ext.apply({target:e},t))},setConfig:function(e){var t,n,i,r,o,a=this,s={target:e.target,ignoreInputFields:e.ignoreInputFields,eventName:a.getKeyEvent("forceKeyDown"in e?e.forceKeyDown:a.forceKeyDown,e.eventName)};a.map&&a.map.destroy(),e.processEvent&&(s.processEvent=e.processEvent,s.processEventScope=e.processEventScope||a),e.keyMap?t=a.map=e.keyMap:(t=a.map=new Ext.util.KeyMap(s),a.destroyKeyMap=!0),n=Ext.util.KeyNav.keyOptions,i=e.scope||a;for(r in e)o=e[r],!o||1!==r.length&&!(r=n[r])&&isNaN(r=parseInt(r,10))||("function"==typeof o&&(o={handler:o,defaultEventAction:void 0!==e.defaultEventAction?e.defaultEventAction:a.defaultEventAction}),t.addBinding({key:r,ctrl:o.ctrl,shift:o.shift,alt:o.alt,handler:Ext.Function.bind(a.handleEvent,o.scope||i,o.handler||o.fn,!0),defaultEventAction:void 0!==o.defaultEventAction?o.defaultEventAction:a.defaultEventAction}));t.disable(),e.disabled||t.enable()},handleEvent:function(e,t,n){return n.call(this,t)},disabled:!1,defaultEventAction:"stopEvent",forceKeyDown:!1,eventName:"keypress",destroy:function(e){this.destroyKeyMap&&this.map.destroy(e),delete this.map},enable:function(){this.map&&(this.map.enable(),this.disabled=!1)},disable:function(){this.map&&this.map.disable(),this.disabled=!0},setDisabled:function(e){this.map.setDisabled(e),this.disabled=e},getKeyEvent:function(e,t){return e||Ext.supports.SpecialKeyDownRepeat&&!t?"keydown":t||this.eventName}}),Ext.define("Ext.FocusManager",{singleton:!0,alternateClassName:["Ext.FocusMgr"],mixins:{observable:"Ext.util.Observable"},requires:["Ext.Component","Ext.ComponentManager","Ext.ComponentQuery","Ext.util.HashMap","Ext.util.KeyNav"],enabled:!1,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(e){var t=this,n=Ext.ComponentQuery;t.mixins.observable.constructor.call(t,e),t.focusTask=new Ext.util.DelayedTask(t.handleComponentFocus,t),Ext.override(Ext.Component,{onBlur:function(){this.callParent(arguments),t.enabled&&!this.hasFocus&&(Array.prototype.unshift.call(arguments,this),t.onComponentBlur.apply(t,arguments))},onDestroy:function(){this.callParent(arguments),t.enabled&&(Array.prototype.unshift.call(arguments,this),t.onComponentDestroy.apply(t,arguments))},onFocus:function(){this.callParent(arguments),t.enabled&&this.hasFocus&&(Array.prototype.unshift.call(arguments,this),t.onComponentFocus.apply(t,arguments))}}),Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments),t.enabled&&(Array.prototype.unshift.call(arguments,this),t.onComponentHide.apply(t,arguments))}}),t.focusData={},t.subscribers=new Ext.util.HashMap,t.focusChain={},Ext.apply(n.pseudos,{nextFocus:function(e,t,n){n=n||1,t=parseInt(t,10);for(var i,r=e.length,o=t;;){if((o+=n)>=r?o=0:0>o&&(o=r-1),o===t)return[];if((i=e[o]).isFocusable())return[i]}return[]},prevFocus:function(e,t){return this.nextFocus(e,t,-1)},root:function(e){for(var t,n=e.length,i=[],r=0;n>r;r++)t=e[r],t.ownerCt||i.push(t);return i}})},getKeyNav:function(){var e=this;return e.keyNav=e.keyNav||new Ext.util.KeyNav(Ext.getDoc(),{disabled:!0,scope:e,backspace:e.focusLast,enter:e.navigateIn,esc:e.navigateOut,tab:e.navigateSiblings,space:e.navigateIn,del:e.focusLast,left:e.navigateSiblings,right:e.navigateSiblings,down:e.navigateSiblings,up:e.navigateSiblings}),e.keyNav},addXTypeToWhitelist:function(e){var t=this;return Ext.isArray(e)?void Ext.Array.forEach(e,t.addXTypeToWhitelist,t):void(Ext.Array.contains(t.whitelist,e)||t.whitelist.push(e))},clearComponent:function(e){clearTimeout(this.cmpFocusDelay),e.isDestroyed||e.blur()},disable:function(){var e=this;e.enabled&&(delete e.options,e.enabled=!1,e.removeDOM(),e.getKeyNav().disable(),e.fireEvent("disable",e))},enable:function(e){var t=this;e===!0&&(e={focusFrame:!0}),t.options=e=e||{},t.enabled||(t.enabled=Ext.enableFocusManager=!0,t.initDOM(e),t.getKeyNav().enable(),t.focusEl.focus(),delete t.focusedCmp,t.fireEvent("enable",t))},focusLast:function(e){var t=this;return t.isWhitelisted(t.focusedCmp)?!0:void(t.previousFocusedCmp&&t.previousFocusedCmp.focus())},getRootComponents:function(){var e=Ext.ComponentQuery,t=e.query(":focusable:root:not([floating])"),n=e.query(":focusable:root[floating]");return n.sort(function(e,t){return e.el.getZIndex()>t.el.getZIndex()}),n.concat(t)},initDOM:function(e){var t=this,n=t.focusFrameCls,i=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),r=0,o=i.length;if(!Ext.isReady)return Ext.onReady(t.initDOM,t);for(;o>r;r++)i[r].addFocusListener();t.focusEl||(t.focusEl=Ext.getBody(),t.focusEl.dom.tabIndex=-1),!t.focusFrame&&e.focusFrame&&(t.focusFrame=Ext.getBody().createChild({cls:n,children:[{cls:n+"-top"},{cls:n+"-bottom"},{cls:n+"-left"},{cls:n+"-right"}],style:"top: -100px; left: -100px;"}),t.focusFrame.setVisibilityMode(Ext.Element.DISPLAY),t.focusFrame.hide().setLocalXY(0,0))},isWhitelisted:function(e){return e&&Ext.Array.some(this.whitelist,function(t){return e.isXType(t)})},navigateIn:function(e){var t,n,i=this,r=i.focusedCmp;return i.isWhitelisted(r)?!0:void(r?(n=r.hasFocus?Ext.ComponentQuery.query(">:focusable",r)[0]:r,n?n.focus():Ext.isFunction(r.onClick)&&(e.button=0,r.onClick(e),r.isVisible(!0)?r.focus():i.navigateOut())):(t=i.getRootComponents()[0],t&&(t.getFocusEl()===i.focusEl&&i.focusEl.blur(),t.focus())))},navigateOut:function(e){var t,n=this;return n.focusedCmp&&(t=n.focusedCmp.up(":focusable"))?t.focus():n.focusEl.focus(),!0},navigateSiblings:function(e,t,n){var i,r,o,a,s=this,l=t||s,d=e.getKey(),u=e.shiftKey||d==e.LEFT||d==e.UP,c=d===e.LEFT||d===e.RIGHT||d===e.UP||d===e.DOWN,h=u?"prev":"next";return o=l.focusedCmp&&l.focusedCmp.comp||l.focusedCmp,o||n?c&&s.isWhitelisted(o)?!0:(!o||o.is(":root")?a=s.getRootComponents():(n=n||o.up(),n&&(a=n.getRefItems())),a&&(i=o?Ext.Array.indexOf(a,o):-1,r=Ext.ComponentQuery.query(":"+h+"Focus("+i+")",a)[0],r&&o!==r)?(r.focus(),r):void 0):!0},onComponentBlur:function(e,t){var n=this;n.focusedCmp===e&&(n.previousFocusedCmp=e,delete n.focusedCmp),n.focusFrame&&n.focusFrame.hide()},onComponentFocus:function(e,t){var n,i=this,r=i.focusChain;if(!e.isFocusable()){if(i.clearComponent(e),r[e.id])return;return n=e.up(),void(n&&(r[e.id]=!0,n.focus()))}i.focusChain={},i.focusTask.delay(10,null,null,[e,e.getFocusEl()])},handleComponentFocus:function(e,t){var n,i,r,o,a,s,l,d,u,c,h,f=this;return f.fireEvent("beforecomponentfocus",f,e,f.previousFocusedCmp)===!1?void f.clearComponent(e):(f.focusedCmp=e,f.shouldShowFocusFrame(e)&&(n="."+f.focusFrameCls+"-",i=f.focusFrame,r=(t.dom?t:t.el).getBox(),o=r.top,a=r.left,s=r.width,l=r.height,d=i.child(n+"top"),u=i.child(n+"bottom"),c=i.child(n+"left"),h=i.child(n+"right"),d.setWidth(s).setLocalXY(a,o),u.setWidth(s).setLocalXY(a,o+l-2),c.setHeight(l-2).setLocalXY(a,o+2),h.setHeight(l-2).setLocalXY(a+s-2,o+2),i.show()),void f.fireEvent("componentfocus",f,e,f.previousFocusedCmp))},onComponentHide:function(e){var t,n=this,i=!1,r=n.focusedCmp;r&&(i=e.hasFocus||e.isContainer&&e.isAncestor(n.focusedCmp)),n.clearComponent(e),i&&(t=e.up(":focusable"))?t.focus():n.focusEl.focus()},onComponentDestroy:function(){},removeDOM:function(){var e=this;e.enabled||e.subscribers.length||(Ext.destroy(e.focusFrame),delete e.focusEl,delete e.focusFrame)},removeXTypeFromWhitelist:function(e){var t=this;return Ext.isArray(e)?void Ext.Array.forEach(e,t.removeXTypeFromWhitelist,t):void Ext.Array.remove(t.whitelist,e)},setupSubscriberKeys:function(e,t){var n=this,i=e.getFocusEl(),r=t.scope,o={backspace:n.focusLast,enter:n.navigateIn,esc:n.navigateOut,scope:n},a=function(t){return n.focusedCmp===e?n.navigateSiblings(t,n,e):n.navigateSiblings(t)};return Ext.iterate(t,function(t,n){o[t]=function(t){var i=a(t);return Ext.isFunction(n)&&n.call(r||e,t,i)===!0?!0:i}},n),new Ext.util.KeyNav(i,o)},shouldShowFocusFrame:function(e){var t=this,n=t.options||{};return t.focusFrame&&e?n.focusFrame?!0:t.focusData[e.id].focusFrame?!0:!1:!1}}),Ext.define("Ext.Img",{extend:"Ext.Component",alias:["widget.image","widget.imagecomponent"],autoEl:"img",baseCls:Ext.baseCSSPrefix+"img",src:"",alt:"",title:"",imgCls:"",ariaRole:"img",maskOnDisable:!1,initComponent:function(){this.glyph&&(this.autoEl="div"),this.callParent()},getElConfig:function(){var e,t,n=this,i=n.autoEl,r=n.callParent(),o=Ext._glyphFontFamily,a=n.glyph;return"img"===i||Ext.isObject(i)&&"img"===i.tag?e=r:n.glyph?("string"==typeof a&&(t=a.split("@"),a=t[0],o=t[1]),r.html="&#"+a+";",o&&(r.style="font-family:"+o)):r.cn=[e={tag:"img",role:n.ariaRole,id:n.id+"-img"}],e&&(n.imgCls&&(e.cls=(e.cls?e.cls+" ":"")+n.imgCls),e.src=n.src||Ext.BLANK_IMAGE_URL),n.alt&&((e||r).alt=n.alt),n.title&&((e||r).title=n.title),r},onRender:function(){var e,t=this,n=t.autoEl;t.callParent(arguments),e=t.el,"img"===n||Ext.isObject(n)&&"img"===n.tag?t.imgEl=e:t.imgEl=e.getById(t.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl),this.imgEl=null,this.callParent()},setSrc:function(e){var t=this,n=t.imgEl;t.src=e,n&&(n.dom.src=e||Ext.BLANK_IMAGE_URL)},setGlyph:function(e){var t,n,i=this,r=Ext._glyphFontFamily;e!=i.glyph&&("string"==typeof e&&(t=e.split("@"),e=t[0],r=t[1]),n=i.el.dom,n.innerHTML="&#"+e+";",r&&(n.style="font-family:"+r))}}),Ext.define("Ext.util.StoreHolder",{mixinId:"storeholder",bindStore:function(e,t,n){n=n||"store";var i=this,r=i[n];return!t&&r&&(i.onUnbindStore(r,t,n),e!==r&&("store"===n&&r.autoDestroy?r.destroy():i.unbindStoreListeners(r))),e?(i[n]=e=Ext.data.StoreManager.lookup(e),i.bindStoreListeners(e),i.onBindStore(e,t,n)):i[n]=null,i},getStore:function(){return this.store},setStore:function(e){this.bindStore(e)},unbindStoreListeners:function(e){var t=this.storeListeners;t&&e.un(t)},bindStoreListeners:function(e){var t=this,n=Ext.apply({},t.getStoreListeners(e));n.scope||(n.scope=t),t.storeListeners=n,e.on(n)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn}),Ext.define("Ext.LoadMask",{extend:"Ext.Component",alias:"widget.loadmask",mixins:["Ext.util.StoreHolder"],uses:["Ext.data.StoreManager"],isLoadMask:!0,msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",cls:Ext.baseCSSPrefix+"mask-msg",useMsg:!0,useTargetEl:!1,ariaRole:"presentation",childEls:["msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgEl" data-ref="msgEl" role="{role}"','<tpl if="ariaAttr"> {ariaAttr}</tpl>',' class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner {childElCls}">','<div id="{id}-msgTextEl" data-ref="msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}">{msg}</div>',"</div>"],constructor:function(e){var t,n=this;2===arguments.length?(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.LoadMask: LoadMask now uses a standard 1 arg constructor: use the target config"),t=n.target=e,e=arguments[1]):t=e.target,n.callParent([e]),t.isComponent?(n.ownerCt=t,n.hidden=!0,n.renderTo=n.getMaskTarget(),n.external=n.renderTo===Ext.getBody(),n.bindComponent(t)):(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.LoadMask: LoadMask for elements has been deprecated, use Ext.dom.Element.mask & Ext.dom.Element.unmask"),t=Ext.get(t),n.isElement=!0,n.renderTo=n.target),n.render(n.renderTo),n.store&&n.bindStore(n.store,!0)},getRenderTree:function(){return[{cls:this.maskCls,style:"display:none"},this.callParent()]},onRender:function(){this.callParent(arguments),this.maskEl=this.el.prev()},initRenderData:function(){var e=this.callParent(arguments);return e.msg=this.msg||"",e},bindComponent:function(e){var t=this,n={scope:this,resize:t.sizeMask};t.external&&(n.added=t.onComponentAdded,n.removed=t.onComponentRemoved,e.floating?(n.move=t.sizeMask,t.activeOwner=e):e.ownerCt&&t.onComponentAdded(e.ownerCt)),t.mon(e,n),t.external&&t.mon(Ext.GlobalEvents,{show:t.onContainerShow,hide:t.onContainerHide,expand:t.onContainerExpand,collapse:t.onContainerCollapse,scope:t})},onComponentAdded:function(e){var t=this;delete t.activeOwner,t.floatParent=e,e.floating||(e=e.up("[floating]")),e?(t.activeOwner=e,t.mon(e,"move",t.sizeMask,t),t.mon(e,"tofront",t.onOwnerToFront,t)):t.preventBringToFront=!0,e=t.floatParent.ownerCt,t.rendered&&t.isVisible()&&e&&(t.floatOwner=e,t.mon(e,"afterlayout",t.sizeMask,t,{single:!0}))},onComponentRemoved:function(e){var t=this,n=t.activeOwner,i=t.floatOwner;n&&(t.mun(n,"move",t.sizeMask,t),t.mun(n,"tofront",t.onOwnerToFront,t)),i&&t.mun(i,"afterlayout",t.sizeMask,t),delete t.activeOwner,delete t.floatOwner},afterRender:function(){this.callParent(arguments),this.el.skipGarbageCollection=!0,this.maskEl.skipGarbageCollection=!0},onOwnerToFront:function(e,t){this.maskEl.setStyle("zIndex",t+1),this.el.setStyle("zIndex",t+2)},onContainerShow:function(e){this.onComponentShow()},onContainerHide:function(e){this.onComponentHide()},onContainerExpand:function(e){this.onComponentShow()},onContainerCollapse:function(e){this.onComponentHide()},onComponentHide:function(){var e=this;e.rendered&&e.isVisible()&&(e.hide(),e.showNext=!0)},onComponentShow:function(){this.showNext&&this.show(),delete this.showNext},sizeMask:function(){var e=this,t=e.target,n=e.external?e.getOwner().el:e.getMaskTarget();e.rendered&&e.isVisible()&&(e.external&&(!e.isElement&&t.floating&&e.onOwnerToFront(t,t.el.getZIndex()),e.maskEl.setSize(n.getSize()).alignTo(n,"tl-tl")),e.el.center(e.maskEl))},bindStore:function(e,t){var n=this;n.mixins.storeholder.bindStore.apply(n,arguments),e=n.store,e&&e.isLoading()&&n.onBeforeLoad()},getStoreListeners:function(e){var t=this.onLoad,n=this.onBeforeLoad,i={cachemiss:n,cachefilled:t};return e.proxy.isSynchronous||(i.beforeload=n,i.load=t),i},onDisable:function(){this.callParent(arguments),this.loading&&this.onLoad()},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var e=this.getOwner();return this.isElement?this.target:this.useTargetEl?e.getTargetEl():e.getMaskTarget()||Ext.getBody()},onBeforeLoad:function(){var e,t=this,n=t.getOwner();t.disabled||(t.loading=!0,n.componentLayoutCounter?t.maybeShow():(e=n.afterComponentLayout,n.afterComponentLayout=function(){n.afterComponentLayout=e,e.apply(n,arguments),t.maybeShow()}))},maybeShow:function(){var e=this,t=e.getOwner();t.isVisible(!0)?e.loading&&t.rendered&&e.show():e.showNext=!0},hide:function(){return this.isElement?(this.ownerCt.unmask(),void this.fireEvent("hide",this)):(delete this.showNext,this.maskEl.setDisplayed(!1),this.callParent(arguments))},show:function(){return this.isElement?(this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls),void this.fireEvent("show",this)):(this.maskEl.setDisplayed(!0),this.callParent(arguments))},afterShow:function(){var e=this;e.loading=!0,e.callParent(arguments),e.hasOwnProperty("maskCls")&&(e.maskEl.dom.className=e.maskCls),e.useMsg?e.msgTextEl.setHtml(e.msg):e.el.hide(),e.sizeMask()},onLoad:function(){this.loading=!1,this.hide()},onDestroy:function(){var e=this;e.isElement&&e.ownerCt.unmask(),Ext.destroy(e.maskEl),e.callParent()}}),Ext.define("Ext.layout.component.Component",{extend:"Ext.layout.Layout",type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,widthCache:{},heightCache:{},beginLayoutCycle:function(e,t){var n,i,r,o,a=this,s=a.owner,l=e.ownerCtContext,d=e.heightModel,u=e.widthModel,c=s.el.dom===document.body,h=s.lastBox||a.nullBox,f=s.el.lastBox||a.nullBox,g=!c;a.callParent(arguments),t&&(a.usesContentWidth&&++e.consumersContentWidth,a.usesContentHeight&&++e.consumersContentHeight,a.usesWidth&&++e.consumersWidth,a.usesHeight&&++e.consumersHeight,l&&!l.hasRawContent&&(n=s.ownerLayout,n&&(n.usesWidth&&++e.consumersWidth,n.usesHeight&&++e.consumersHeight))),u.configured?(r=u.names.width,c||(g=a.setWidthInDom||(t?s[r]!==f.width:u.constrained)),e.setWidth(s[r],g)):e.isTopLevel&&(u.calculated&&(i=h.width,e.setWidth(i,i!=f.width)),i=h.x,e.setProp("x",i,i!=f.x)),d.configured?(o=d.names.height,c||(g=t?s[o]!==f.height:d.constrained),e.setHeight(s[o],g)):e.isTopLevel&&(d.calculated&&(i=h.height,e.setHeight(i,i!=f.height)),i=h.y,e.setProp("y",i,i!=f.y))},finishedLayout:function(e){var t,n,i,r,o,a=this,s=e.children,l=a.owner;if(s)for(t=s.length,n=0;t>n;n++)i=s[n],i.el.lastBox=i.props;e.previousSize=a.lastComponentSize,a.lastComponentSize=l.el.lastBox=o=e.props,r=l.lastBox||(l.lastBox={}),r.x=o.x,r.y=o.y,r.width=o.width,r.height=o.height,r.invalid=!1,a.callParent(arguments)},notifyOwner:function(e){var t=this,n=t.lastComponentSize,i=e.previousSize,r=[n.width,n.height];i&&r.push(i.width,i.height),t.owner.afterComponentLayout.apply(t.owner,r)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(e){var t,n=this,i=n.targetInfo;return i||(t=e.getEl("getTarget",n),n.targetInfo=i={padding:t.getPaddingInfo(),border:t.getBorderInfo()}),i},measureAutoDimensions:function(e,t){var n,i,r,o,a,s,l,d,u=this,c=u.owner,h=c.layout,f=e.heightModel,g=e.widthModel,p=e.boxParent,m=e.isBoxParent,x=e.target,E=e.props,v={gotWidth:!1,gotHeight:!1,isContainer:n=!e.hasRawContent},y=t||3,b=0,C=0;return g.shrinkWrap&&e.consumersContentWidth?(++b,i=!(1&y),n?i?(v.contentWidth=0,v.gotWidth=!0,++C):void 0!==(v.contentWidth=e.getProp("contentWidth"))&&(v.gotWidth=!0,++C):(a=E.contentWidth,"number"==typeof a?(v.contentWidth=a,v.gotWidth=!0,++C):(o=i?!0:e.hasDomProp("containerChildrenSizeDone")?m||!p||p.widthModel.shrinkWrap?!0:p.hasDomProp("width"):!1,o&&(i?s=0:h&&h.measureContentWidth?s=h.measureContentWidth(e):x.cacheWidth?(l=x.xtype+"-"+x.ui,d=u.widthCache,s=d[l]||(d[l]=u.measureContentWidth(e))):s=u.measureContentWidth(e),isNaN(v.contentWidth=s)||(e.setContentWidth(s,!0),v.gotWidth=!0,++C))))):g.natural&&e.consumersWidth&&(++b,a=E.width,"number"==typeof a?(v.width=a,v.gotWidth=!0,++C):(o=m||!p?!0:p.hasDomProp("width"),o&&(isNaN(v.width=u.measureOwnerWidth(e))||(e.setWidth(v.width,!1),v.gotWidth=!0,++C)))),f.shrinkWrap&&e.consumersContentHeight?(++b,r=!(2&y),n?r?(v.contentHeight=0,v.gotHeight=!0,++C):void 0!==(v.contentHeight=e.getProp("contentHeight"))&&(v.gotHeight=!0,++C):(a=E.contentHeight,"number"==typeof a?(v.contentHeight=a,v.gotHeight=!0,++C):(o=r?!0:e.hasDomProp("containerChildrenSizeDone")?c.noWrap?!0:g.shrinkWrap?m||!p||p.widthModel.shrinkWrap?!0:p.hasDomProp("width"):(e.bodyContext||e).hasDomProp("width"):!1,o&&(r?s=0:h&&h.measureContentHeight?s=h.measureContentHeight(e):x.cacheHeight?(l=x.xtype+"-"+x.ui,d=u.heightCache,s=d[l]||(d[l]=u.measureContentHeight(e))):s=u.measureContentHeight(e),isNaN(v.contentHeight=s)||(e.setContentHeight(s,!0),v.gotHeight=!0,++C))))):f.natural&&e.consumersHeight&&(++b,a=E.height,"number"==typeof a?(v.height=a,v.gotHeight=!0,++C):(o=m||!p?!0:p.hasDomProp("width"),o&&(isNaN(v.height=u.measureOwnerHeight(e))||(e.setHeight(v.height,!1),v.gotHeight=!0,++C)))),p&&e.onBoxMeasured(),v.gotAll=C==b,v},measureContentWidth:function(e){return e.el.getWidth()-e.getFrameInfo().width},measureContentHeight:function(e){return e.el.getHeight()-e.getFrameInfo().height},measureOwnerHeight:function(e){return e.el.getHeight()},measureOwnerWidth:function(e){return e.el.getWidth()}}),Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:"Ext.layout.component.Component",type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(e,t){var n=this,i=n.lastWidthModel,r=n.lastHeightModel,o=n.owner.el;n.callParent(arguments),i&&i.fixed&&e.widthModel.shrinkWrap&&o.setWidth(null),r&&r.fixed&&e.heightModel.shrinkWrap&&o.setHeight(null)},calculate:function(e){var t,n,i=this,r=i.measureAutoDimensions(e),o=e.heightModel,a=e.widthModel;r.gotWidth?a.shrinkWrap?i.publishOwnerWidth(e,r.contentWidth):i.publishInnerWidth&&i.publishInnerWidth(e,r.width):!a.auto&&i.publishInnerWidth&&(t=i.waitForOuterWidthInDom?e.getDomProp("width"):e.getProp("width"),void 0===t?i.done=!1:i.publishInnerWidth(e,t)),r.gotHeight?o.shrinkWrap?i.publishOwnerHeight(e,r.contentHeight):i.publishInnerHeight&&i.publishInnerHeight(e,r.height):!o.auto&&i.publishInnerHeight&&(n=i.waitForOuterHeightInDom?e.getDomProp("height"):e.getProp("height"),
void 0===n?i.done=!1:i.publishInnerHeight(e,n)),r.gotAll||(i.done=!1)},calculateOwnerHeightFromContentHeight:function(e,t){return t+e.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(e,t){return t+e.getFrameInfo().width},publishOwnerHeight:function(e,t){var n,i,r,o=this,a=o.owner,s=o.calculateOwnerHeightFromContentHeight(e,t);isNaN(s)?o.done=!1:(n=Ext.Number.constrain(s,a.minHeight,a.maxHeight),n==s?i=o.setHeightInDom:(r=o.sizeModels[s>n?"constrainedMax":"constrainedMin"],s=n,e.heightModel.calculatedFromShrinkWrap?e.heightModel=r:e.invalidate({heightModel:r})),e.setHeight(s,i))},publishOwnerWidth:function(e,t){var n,i,r,o=this,a=o.owner,s=o.calculateOwnerWidthFromContentWidth(e,t);isNaN(s)?o.done=!1:(n=Ext.Number.constrain(s,a.minWidth,a.maxWidth),n==s?i=o.setWidthInDom:(r=o.sizeModels[s>n?"constrainedMax":"constrainedMin"],s=n,e.widthModel.calculatedFromShrinkWrap?e.widthModel=r:e.invalidate({widthModel:r})),e.setWidth(s,i))}}),Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:"Ext.layout.component.Auto",type:"progressbar",beginLayout:function(e){var t,n,i=this;if(i.callParent(arguments),!e.textEls)if(n=i.owner.textEl,n.isComposite)for(e.textEls=[],n=n.elements,t=n.length;t--;)e.textEls[t]=e.getEl(Ext.get(n[t]));else e.textEls=[e.getEl("textEl")]},calculate:function(e){var t,n,i,r=this;if(r.callParent(arguments),Ext.isNumber(i=e.getProp("width")))for(i-=e.getBorderInfo().width,n=e.textEls,t=n.length;t--;)n[t].setWidth(i);else r.done=!1}}),Ext.define("Ext.ProgressBar",{extend:"Ext.Component",alias:"widget.progressbar",requires:["Ext.Template","Ext.CompositeElement","Ext.TaskManager","Ext.layout.component.ProgressBar"],uses:["Ext.fx.Anim"],config:{value:0,textTpl:null},baseCls:Ext.baseCSSPrefix+"progress",animate:!1,text:"",waitTimer:null,childEls:["bar"],defaultBindProperty:"value",renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" data-ref="bar" class="{baseCls}-bar {baseCls}-bar-{ui}" role="presentation" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",ariaRole:"progressbar",initRenderData:function(){var e=this;return Ext.apply(e.callParent(),{internalText:!e.hasOwnProperty("textEl"),text:e.text||"&#160;",percentage:e.value?100*e.value:0})},onRender:function(){var e=this;e.callParent(arguments),e.textEl?(e.textEl=Ext.get(e.textEl),e.updateText(e.text)):e.textEl=e.el.select("."+e.baseCls+"-text")},updateValue:function(e){this.updateProgress(e,Math.round(100*e)+"%")},updateProgress:function(e,t,n){var i=this,r=i.value,o=i.getTextTpl();return i.value=e||(e=0),null!=t?i.updateText(t):o&&i.updateText(o.apply({value:e,percent:100*e})),i.rendered&&!i.isDestroyed&&(n===!0||n!==!1&&i.animate?(i.bar.stopAnimation(),i.bar.animate(Ext.apply({from:{width:100*r+"%"},to:{width:100*e+"%"}},i.animate))):i.bar.setStyle("width",100*e+"%")),i.fireEvent("update",i,e,t),i},updateText:function(e){var t=this;return t.text=e,t.rendered&&t.textEl.setHtml(t.text),t},applyTextTpl:function(e){return e.isTemplate||(e=new Ext.XTemplate(e)),e},applyText:function(e){this.updateText(e)},getText:function(){return this.text},wait:function(e){var t,n=this;return n.waitTimer||(t=n,e=e||{},n.updateText(e.text),n.waitTimer=Ext.TaskManager.start({run:function(t){var i=e.increment||10;t-=1,n.updateProgress(((t+i)%i+1)*(100/i)*.01,null,e.animate)},interval:e.interval||1e3,duration:e.duration,onStop:function(){e.fn&&e.fn.apply(e.scope||n),n.reset()},scope:t})),n},isWaiting:function(){return null!==this.waitTimer},reset:function(e){var t=this;return t.updateProgress(0),t.clearTimer(),e===!0&&t.hide(),t},clearTimer:function(){var e=this;e.waitTimer&&(e.waitTimer.onStop=null,Ext.TaskManager.stop(e.waitTimer),e.waitTimer=null)},onDestroy:function(){var e=this,t=e.bar;e.clearTimer(),e.rendered&&(e.textEl.isComposite&&e.textEl.clear(),Ext.destroyMembers(e,"textEl","progressBar"),t&&e.animate&&t.stopAnimation()),e.callParent()}}),Ext.define("Ext.ProgressBarWidget",{extend:"Ext.Widget",alias:"widget.progressbarwidget",requires:["Ext.ProgressBar"],config:{text:null,value:0,animate:!1,textTpl:null},cachedConfig:{baseCls:Ext.baseCSSPrefix+"progress",textCls:Ext.baseCSSPrefix+"progress-text",ui:"default"},template:[{reference:"backgroundEl"},{reference:"barEl",children:[{reference:"textEl"}]}],defaultBindProperty:"value",updateUi:function(e,t){var n=this.getBaseCls()+"-";t&&(this.element.removeCls(n+t),this.barEl.removeCls(n+"bar-"+t)),this.element.addCls(n+e),this.barEl.addCls(n+"bar-"+e)},updateBaseCls:function(e,t){t&&Ext.Error.raise("You cannot configure baseCls - use a subclass"),this.element.addCls(e),this.barEl.addCls(e+"-bar")},updateTextCls:function(e){this.backgroundEl.addCls(e+" "+e+"-back"),this.textEl.addCls(e)},updateValue:function(e,t){var n=this,i=n.getTextTpl();i&&n.setText(i.apply({value:e,percent:100*e})),n.getAnimate()?(n.barEl.stopAnimation(),n.barEl.animate(Ext.apply({from:{width:100*t+"%"},to:{width:100*e+"%"}},n.animate))):n.barEl.setStyle("width",100*e+"%")},updateText:function(e){var t=this;t.backgroundEl.setHtml(e),t.textEl.setHtml(e)},applyTextTpl:function(e){return e.isTemplate||(e=new Ext.XTemplate(e)),e}}),Ext.define("Ext.ShadowPool",{singleton:!0,requires:["Ext.DomHelper"],markup:function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css")}(),shadows:[],pull:function(){var e=this.shadows.shift();return e||(e=Ext.get(Ext.DomHelper.insertHtml("afterBegin",document.body,this.markup)),e.autoBoxAdjust=!1,e.dom.setAttribute("data-sticky",!0)),e},push:function(e){this.shadows.push(e)},reset:function(){var e,t=[].concat(this.shadows),n=t.length;for(e=0;n>e;e++)t[e].destroy();this.shadows=[]}}),Ext.define("Ext.Shadow",{requires:["Ext.ShadowPool"],localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(e){var t,n,i,r=this;switch(Ext.apply(r,e),Ext.isString(r.mode)||(r.mode=r.defaultMode),n=r.offset,i=Math.floor(n/2),r.opacity=50,r.mode.toLowerCase()){case"drop":t=Ext.supports.CSS3BoxShadow?{t:n,l:n,h:-n,w:-n}:{t:-i,l:-i,h:-i,w:-i};break;case"sides":t=Ext.supports.CSS3BoxShadow?{t:n,l:0,h:-n,w:0}:{t:-(1+i),l:1+i-2*n,h:-1,w:i-1};break;case"frame":t=Ext.supports.CSS3BoxShadow?{t:0,l:0,h:0,w:0}:{t:1+i-2*n,l:1+i-2*n,h:n-i-1,w:n-i-1};break;case"bottom":t=Ext.supports.CSS3BoxShadow?{t:n,l:0,h:-n,w:0}:{t:n,l:0,h:0,w:0}}r.adjusts=t},getShadowSize:function(){var e=this,t=e.el?e.offset:0,n=[t,t,t,t],i=e.mode.toLowerCase();return e.el&&"frame"!==i&&(n[0]=0,"drop"==i&&(n[3]=0)),n},offset:4,defaultMode:"drop",boxShadowProperty:function(){var e="boxShadow",t=document.documentElement.style;return"boxShadow"in t||("WebkitBoxShadow"in t?e="WebkitBoxShadow":"MozBoxShadow"in t&&(e="MozBoxShadow")),e}(),show:function(e){var t,n,i=this;e=Ext.get(e),t=parseInt(e.getStyle("z-index"),10)-1||0,n=e[i.localXYNames.get](),i.el||(i.el=Ext.ShadowPool.pull(),i.fixed?i.el.dom.style.position="fixed":i.el.dom.style.position="",i.el.dom.nextSibling!=e.dom&&i.el.insertBefore(e)),i.el.setStyle("z-index",i.zIndex||t),Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(i.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+i.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+i.offset+")"),i.realign(n[0],n[1],e.dom.offsetWidth,e.dom.offsetHeight),i.el.dom.style.display="block"},isVisible:function(){return this.el?!0:!1},realign:function(e,t,n,i){if(this.el){var r,o,a,s,l=this.adjusts,d=this.el,u=d.dom.style;d[this.localXYNames.set](e+l.l,t+l.t),r=Math.max(n+l.w,0),o=Math.max(i+l.h,0),a=r+"px",s=o+"px",(u.width!=a||u.height!=s)&&(u.width=a,u.height=s,Ext.supports.CSS3BoxShadow&&(u[this.boxShadowProperty]="0 0 "+(this.offset+2)+"px #888"))}},hide:function(){var e=this;e.el&&(e.el.dom.style.display="none",Ext.ShadowPool.push(e.el),delete e.el)},setZIndex:function(e){this.zIndex=e,this.el&&this.el.setStyle("z-index",e)},setOpacity:function(e){this.el&&(Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(e=Math.floor(100*e/2)/100),this.opacity=e,this.el.setOpacity(e))}}),Ext.define("Ext.app.EventDomain",{requires:["Ext.util.Event"],statics:{instances:{}},isEventDomain:!0,isInstance:!1,constructor:function(){var e=this;e.isInstance||(Ext.app.EventDomain.instances[e.type]=e),e.bus={},e.monitoredClasses=[]},dispatch:function(e,t,n){var i,r,o,a,s,l,d,u,c=this,h=c.bus,f=h[t];if(!f)return!0;for(i in f)if(f.hasOwnProperty(i)&&c.match(e,i,c.controller)){r=f[i];for(o in r)if(r.hasOwnProperty(o)&&(a=r[o],a.controller.isActive()))for(s=a.list,l=s.length,d=0;l>d;d++)if(u=s[d],u.fire.apply(u,n)===!1)return!1}return!0},listen:function(e,t){var n,i,r,o,a,s,l,d,u,c,h,f=this,g=f.bus,p=f.idProperty,m=f.monitoredClasses,x=m.length,E=t.getId(),v=Ext.$eventNameMap;for(o in e)if(u=e[o]){p&&(/^[*#]/.test(o)||Ext.Error.raise("Selectors containing id should begin with #"),o="*"===o?o:o.substring(1));for(c in u){for(a=null,s=u[c],l=t,c=v[c]||(v[c]=c.toLowerCase()),d=new Ext.util.Event(t,c),Ext.isObject(s)&&(a=s,s=a.fn,l=a.scope||t,delete a.fn,delete a.scope),a&&a.scope||"string"!=typeof s?"string"==typeof s&&(s=l[s]):l=null,d.addListener(s,l,a),n=0;x>n;++n)h=m[n].hasListeners,h&&h._incr_(c);i=g[c]||(g[c]={}),i=i[o]||(i[o]={}),r=i[E]||(i[E]={controller:t,list:[]}),r.list.push(d)}}},match:function(e,t){var n=this.idProperty;return n?"*"===t||e[n]===t:!1},monitor:function(e){var t=this,n=e.isInstance?e:e.prototype,i=n.doFireEvent;t.monitoredClasses.push(e),n.doFireEvent=function(e,n){var r=i.apply(this,arguments);return r===!1||this.isSuspended(e)||(r=t.dispatch(this,e,n)),r}},unlisten:function(e){var t,n,i,r,o,a,s,l,d,u,c,h=this.bus,f=e,g=this.monitoredClasses,p=g.length,m=Ext.$eventNameMap;e.isController&&(f=e.getId());for(n in h)if(n=m[n]||(m[n]=n.toLowerCase()),h.hasOwnProperty(n)&&(s=h[n]))for(a in s)if(t=s[a],u=t[f],u&&(i=u.list)){for(l=0,r=i.length;r>l;++l)for(o=i[l],o.clearListeners(),d=0;p>d;++d)c=g[d].hasListeners,c&&c._decr_(o.name);delete t[f]}},destroy:function(){this.monitoredClasses=this.bus=null}}),Ext.define("Ext.app.domain.Component",{extend:"Ext.app.EventDomain",singleton:!0,requires:["Ext.Widget","Ext.Component"],type:"component",constructor:function(){var e=this,t=Ext.Component;e.callParent(),e.monitor(Ext.Widget),t.prototype.isWidget||e.monitor(t)},dispatch:function(e,t,n){for(var i,r=e.lookupReferenceHolder(!1);r;){if(r.isViewController&&(i=r.compDomain,i&&i.dispatch(e,t,n)===!1))return!1;r=r.lookupReferenceHolder()}return this.callParent(arguments)},match:function(e,t){return e.is(t)}}),Ext.define("Ext.app.EventBus",{singleton:!0,requires:["Ext.app.domain.Component"],constructor:function(){var e=this,t=Ext.app.EventDomain.instances;e.callParent(),e.domains=t,e.bus=t.component.bus},control:function(e,t){return this.domains.component.listen(e,t)},listen:function(e,t){var n,i=this.domains;for(n in e)e.hasOwnProperty(n)&&i[n].listen(e[n],t)},unlisten:function(e){var t,n=Ext.app.EventDomain.instances;for(t in n)n[t].unlisten(e)}}),Ext.define("Ext.app.domain.Global",{extend:"Ext.app.EventDomain",singleton:!0,type:"global",listen:function(e,t){e.scope=e.scope||t,Ext.on(e)},match:Ext.returnTrue}),Ext.define("Ext.app.BaseController",{requires:["Ext.app.EventBus","Ext.app.domain.Global"],uses:["Ext.app.domain.Controller"],mixins:{observable:"Ext.util.Observable"},isController:!0,config:{id:null,control:null,listen:null,routes:null,before:null},constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e),delete t.control,delete t.listen,t.eventbus=Ext.app.EventBus,t.initConfig(e)},applyListen:function(e){return Ext.isObject(e)&&(e=Ext.clone(e)),e},applyControl:function(e){return Ext.isObject(e)&&(e=Ext.clone(e)),e},updateControl:function(e){e&&(this.ensureId&&this.ensureId(),this.control(e))},updateListen:function(e){e&&(this.ensureId&&this.ensureId(),this.listen(e))},updateRoutes:function(e){if(e){var t,n,i,r=this,o=r.getBefore()||{},a=Ext.app.route.Router;for(t in e)n=e[t],Ext.isString(n)&&(n={action:n}),i=n.action,n.before?o[i]&&Ext.log.warn('You have a before method configured on a route ("'+t+'") and in the before object property also in the "'+r.self.getName()+'" controller. Will use the before method in the route and disregard the one in the before property.'):n.before=o[i],a.connect(t,n,r)}},isActive:function(){return!0},control:function(e,t,n){var i,r=this,o=n;Ext.isString(e)?(i={},i[e]=t):(i=e,o=t),r.eventbus.control(i,o||r)},listen:function(e,t){this.eventbus.listen(e,t||this)},destroy:function(){var e=this.eventbus;Ext.app.route.Router.disconnectAll(this),e&&(e.unlisten(this),this.eventbus=null)},redirectTo:function(e,t){if(t)Ext.app.route.Router.onStateChange(e);else{var n=Ext.util.History.getToken();if(n===e)return!1}return Ext.util.History.add(e),!0}}),Ext.define("Ext.app.Util",{},function(){Ext.apply(Ext.app,{namespaces:{Ext:{}},addNamespaces:function(e){var t,n,i=Ext.app.namespaces;for(Ext.isArray(e)||(e=[e]),t=0,n=e.length;n>t;t++)i[e[t]]=!0},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(e){var t,n=Ext.apply({},Ext.ClassManager.paths,Ext.app.namespaces),i="";for(t in n)n.hasOwnProperty(t)&&t.length>i.length&&t+"."===e.substring(0,t.length+1)&&(i=t);return""===i?void 0:i}})}),Ext.define("Ext.app.domain.Store",{extend:"Ext.app.EventDomain",singleton:!0,requires:["Ext.data.AbstractStore"],type:"store",idProperty:"storeId",constructor:function(){var e=this;e.callParent(),e.monitor(Ext.data.AbstractStore)}}),Ext.define("Ext.app.route.Queue",{queue:null,token:null,constructor:function(e){Ext.apply(this,e),this.queue=new Ext.util.MixedCollection},queueAction:function(e,t){this.queue.add({route:e,args:t})},clearQueue:function(){this.queue.removeAll()},runQueue:function(){var e,t=this.queue,n=t.removeAt(0);n&&(e=n&&n.route,e.execute(this.token,n.args,this.onActionExecute,this))},onActionExecute:function(e){e?this.clearQueue():this.runQueue()}}),Ext.define("Ext.app.route.Route",{action:null,conditions:null,controller:null,allowInactive:!1,url:null,before:null,caseInsensitive:!1,matcherRegex:null,paramMatchingRegex:null,paramsInMatchString:null,constructor:function(e){var t,n=this;Ext.apply(n,e,{conditions:{}}),t=n.url,n.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g),n.paramsInMatchString=t.match(n.paramMatchingRegex)||[],n.matcherRegex=n.createMatcherRegex(t)},recognize:function(e){var t,n,i=this,r=i.controller;return(i.allowInactive||r.isActive())&&i.recognizes(e)?(t=i.matchesFor(e),n=e.match(i.matcherRegex),n.shift(),Ext.applyIf(t,{controller:r,action:i.action,historyUrl:e,args:n})):!1},recognizes:function(e){return this.matcherRegex.test(e)},execute:function(e,t,n,i){var r=t.args||[],o=this.before,a=this.controller,s=this.createCallback(t,n,i);o?(r.push(s),Ext.isString(o)&&(o=this.before=a[o]),o?o.apply(a,r):Ext.log.warn("The before action: "+this.before+" was not found on the controller. The action method will not be executed.")):s.resume()},matchesFor:function(e){var t={},n=this.paramsInMatchString,i=e.match(this.matcherRegex),r=0,o=n.length;for(i.shift();o>r;r++)t[n[r].replace(":","")]=i[r];return t},createMatcherRegex:function(e){for(var t,n,i,r=this.paramsInMatchString,o=this.conditions,a=0,s=r.length,l=Ext.util.Format.format,d=this.caseInsensitive?"i":"";s>a;a++)t=r[a],n=o[t],i=l("{0}",n||"([%a-zA-Z0-9\\-\\_\\s,]+)"),e=e.replace(new RegExp(t),i);return new RegExp("^"+e+"$",d)},createCallback:function(e,t,n){var i=this;return n=n||i,{resume:function(){var r,o=i.controller,a=i.action;Ext.isString(a)&&(a=o[a]),e=e&&e.args?e.args:[],r=e.pop(),r&&!Ext.isObject(r)&&e.push(r),a?(i.action=a,a.apply(o,e)):Ext.log.warn("The action: "+i.action+" was not found on the controller."),t&&t.call(n)},stop:function(e){t&&t.call(n,e)}}}}),Ext.define("Ext.util.History",{singleton:!0,alternateClassName:"Ext.History",mixins:{observable:"Ext.util.Observable"},useTopWindow:!1,constructor:function(){var e,t,n=this;n.hiddenField=null,n.ready=!1,n.currentToken=null,n.mixins.observable.constructor.call(n),n.onHashChange=function(){t=n.getHash(),t!==e&&(e=t,n.handleStateChange(e))}},getHash:function(){return this.win.location.hash.substr(1)},setHash:function(e){try{this.win.location.hash=e,this.currentToken=e}catch(t){}},handleStateChange:function(e){this.currentToken=e,this.fireEvent("change",e)},startUp:function(){var e=this;e.currentToken=e.getHash(),Ext.supports.Hashchange?Ext.Element.on(e.win,"hashchange",e.onHashChange):Ext.TaskManager.start({fireIdleEvent:!1,run:e.onHashChange,interval:50}),e.ready=!0,e.fireEvent("ready",e)},init:function(e,t){var n=this;return n.ready?void Ext.callback(e,t,[n]):Ext.isReady?(n.win=n.useTopWindow?window.top:window,e&&n.on("ready",e,t,{single:!0}),void n.startUp()):void Ext.onReady(function(){n.init(e,t)})},add:function(e,t){var n=this,i=!1;return(t===!1||n.getToken()!==e)&&(n.setHash(e),i=!0),i},back:function(){var e=this.useTopWindow?window.top:window;e.history.go(-1)},forward:function(){var e=this.useTopWindow?window.top:window;e.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}}),Ext.define("Ext.app.route.Router",{singleton:!0,requires:["Ext.app.route.Queue","Ext.app.route.Route","Ext.util.History"],multipleToken:"|",queueRoutes:!0,constructor:function(){var e=Ext.util.History;e.ready||e.init(),e.on("change",this.onStateChange,this),this.clear()},onStateChange:function(e){for(var t,n,i,r,o,a=this,s=a.application,l=a.routes,d=l.length,u=a.queueRoutes,c=e.split(a.multipleToken),h=0,f=c.length;f>h;h++){for(e=c[h],o=!1,u&&(n=new Ext.app.route.Queue({token:e})),t=0;d>t;t++)i=l[t],r=i.recognize(e),r&&(o=!0,u?n.queueAction(i,r):i.execute(e,r));u&&n.runQueue(),!o&&s&&s.fireEvent("unmatchedroute",e)}},connect:function(e,t,n){var i={url:e,action:t,controller:n};Ext.isObject(t)&&Ext.merge(i,t),this.routes.push(new Ext.app.route.Route(i))},disconnectAll:function(e){var t,n,i=this.routes,r=i.length,o=[];for(t=0;r>t;++t)n=i[t],n.controller!==e&&o.push(n);this.routes=o},recognize:function(e){for(var t,n,i=this.routes||[],r=0,o=i.length;o>r;r++)if(t=i[r],n=t.recognize(e))return{route:t,args:n};return!1},draw:function(e){e.call(this,this)},clear:function(){this.routes=[]}}),Ext.define("Ext.app.Controller",{extend:"Ext.app.BaseController",requires:["Ext.app.Util","Ext.data.StoreManager","Ext.ComponentManager","Ext.app.domain.Component","Ext.app.domain.Store","Ext.app.route.Router"],statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"}},controllerRegex:/^(.*)\.controller\./,createGetter:function(e,t){return function(){return this[e](t)}},getGetterName:function(e,t){var n,i="get",r=e.split("."),o=r.length;for(n=0;o>n;n++)i+=Ext.String.capitalize(r[n]);return i+=t},processDependencies:function(e,t,n,i,r){if(r&&r.length){var o,a,s,l,d,u,c,h,f=this,g=f.strings[i];for(Ext.isArray(r)||(r=[r]),d=0,u=r.length;u>d;d++)l=r[d],o=f.getFullName(l,i,n),a=o.absoluteName,s=o.shortName,t.push(a),c=f.getGetterName(s,g.upper),e[c]=h=f.createGetter(g.getter,l),"controller"!==i&&(h["Ext.app.getter"]=!0)}},getFullName:function(e,t,n){var i,r,o=e;return(i=e.indexOf("@"))>0?(o=e.substring(0,i),r=e.substring(i+1)+"."+o):e.indexOf(".")>0&&(Ext.ClassManager.isCreated(e)||this.hasRegisteredPrefix(e))?r=e:(n||Ext.log.warn("Cannot find namespace for "+t+" "+e+", assuming it is fully qualified class name"),n?(r=n+"."+t+"."+e,o=e):r=e),{absoluteName:r,shortName:o}},hasRegisteredPrefix:function(e){var t=Ext.ClassManager,n=t.getPrefix(e);return n&&n!==e}},config:{application:null,refs:null,active:!0,moduleClassName:null},onClassExtended:function(e,t,n){var i=n.onBeforeCreated;n.onBeforeCreated=function(e,t){var n,r,o,a,s,l=Ext.app.Controller,d=l.controllerRegex,o=[];a=e.prototype,n=Ext.getClassName(e),r=t.$namespace||t.namespace||Ext.app.getNamespace(n)||(s=d.exec(n))&&s[1],r?a.$namespace=r:Ext.log.warn("Missing namespace for "+n+", please define it in namespaces property of your Application class."),l.processDependencies(a,o,r,"model",t.models),l.processDependencies(a,o,r,"view",t.views),l.processDependencies(a,o,r,"store",t.stores),l.processDependencies(a,o,r,"controller",t.controllers),Ext.require(o,Ext.Function.pass(i,arguments,this))}},constructor:function(e){this.callParent(arguments),this.initAutoGetters()},normalizeRefs:function(e){var t=this,n=[];return e&&(Ext.isObject(e)?Ext.Object.each(e,function(e,t){Ext.isString(t)&&(t={selector:t}),t.ref=e,n.push(t)}):Ext.isArray(e)&&(n=Ext.Array.merge(n,e))),e=t.refs,e&&(t.refs=null,e=t.normalizeRefs(e),e&&(n=Ext.Array.merge(n,e))),n},applyRefs:function(e){return this.normalizeRefs(Ext.clone(e))},updateRefs:function(e){e&&this.ref(e)},initAutoGetters:function(){var e,t,n=this.self.prototype;for(e in n)t=n[e],t&&t["Ext.app.getter"]&&t.call(this)},doInit:function(e){var t=this;t._initialized||(t.init(e),t._initialized=!0)},finishInit:function(e){var t,n,i,r=this,o=r.controllers;if(r._initialized&&o&&o.length)for(n=0,i=o.length;i>n;n++)t=r.getController(o[n]),t.finishInit(e)},init:Ext.emptyFn,onLaunch:Ext.emptyFn,activate:function(){this.setActive(!0)},deactivate:function(){this.setActive(!1)},isActive:function(){return this.getActive()},ref:function(e){var t,n,i,r=this,o=0,a=e.length;for(e=Ext.Array.from(e),r.references=r.references||[];a>o;o++)t=e[o],n=t.ref,i="get"+Ext.String.capitalize(n),r[i]||(r[i]=Ext.Function.pass(r.getRef,[n,t],r)),r.references.push(n.toLowerCase())},addRef:function(e){this.ref(e)},getRef:function(e,t,n){var i=this,r=i.refCache||(i.refCache={}),o=r[e];return t=t||{},n=n||{},Ext.apply(t,n),t.forceCreate?Ext.ComponentManager.create(t,"component"):(o||(t.selector&&(r[e]=o=Ext.ComponentQuery.query(t.selector)[0]),!o&&t.autoCreate&&(r[e]=o=Ext.ComponentManager.create(t,"component")),o&&o.on("beforedestroy",function(){r[e]=null})),o)},hasRef:function(e){var t=this.references;return t&&-1!==Ext.Array.indexOf(t,e.toLowerCase())},getController:function(e){var t=this.application;return e===this.getId()?this:t&&t.getController(e)},getStore:function(e){var t,n;return t=-1===e.indexOf("@")?e:e.split("@")[0],n=Ext.StoreManager.get(t),n||(e=Ext.app.Controller.getFullName(e,"store",this.$namespace),e&&(n=Ext.create(e.absoluteName,{storeId:t}))),n},getModel:function(e){var t=Ext.app.Controller.getFullName(e,"model",this.$namespace),n=Ext.ClassManager.get(t.absoluteName);return n||(n=Ext.data.schema.Schema.lookupEntity(e)),n},getView:function(e){var t=Ext.app.Controller.getFullName(e,"view",this.$namespace);return t&&Ext.ClassManager.get(t.absoluteName)},ensureId:function(){var e=this.getId();e||this.setId(this.getModuleClassName(this.$className,"controller"))},destroy:function(e,t){var n,i,r=this,o=r.application;if(!t&&o&&o.unregister(r),r.application=null,e){n=r.refCache;for(i in n)n.hasOwnProperty(i)&&Ext.destroy(n[i])}r.callParent()}}),Ext.define("Ext.panel.Bar",{extend:"Ext.container.Container",vertical:!1,_verticalSides:{left:1,right:1},initComponent:function(){var e=this,t=e.vertical;e.dock=e.dock||(t?"left":"top"),e.layout=Ext.apply(t?{type:"vbox",align:"middle",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},e.layout),this.callParent()},onAdded:function(e,t,n){this.initOrientation(),this.callParent([e,t,n])},onRemoved:function(e){this.removeClsWithUI(this.uiCls),this.callParent([e])},setDock:function(e){var t,n,i=this;e!==i.dock&&(Ext.suspendLayouts(),i.clearOrientation(),i.callParent([e]),i.initOrientation(),n=i.vertical,t=i.layout,t.setVertical(n),t.setAlignRoundingMethod(n?"ceil":"floor"),Ext.resumeLayouts(!0))},privates:{clearOrientation:function(){this.removeClsWithUI([this.vertical?"vertical":"horizontal",this.getDockName()])},getDockName:function(){return this.dock},initOrientation:function(){var e=this,t=e.dock;e.ownerCt,e.vertical=t?t in e._verticalSides:e.vertical;e.addClsWithUI([this.vertical?"vertical":"horizontal",e.getDockName()])}}}),Ext.define("Ext.panel.Title",{extend:"Ext.Component",xtype:"title",isTitle:!0,noWrap:!0,textAlign:"left",iconAlign:"left",rotation:0,text:"&#160;",beforeRenderConfig:{textAlign:null,text:null,glyph:null,icon:null,iconAlign:null,iconCls:null,rotation:null},autoEl:{unselectable:"on"},childEls:["textEl","iconEl","iconWrapEl"],renderTpl:'<tpl if="iconMarkup && iconBeforeTitle">{iconMarkup}</tpl><div id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {itemCls}" unselectable="on"<tpl if="headerRole"> role="{headerRole}"</tpl>>{text}</div><tpl if="iconMarkup && !iconBeforeTitle">{iconMarkup}</tpl>',iconTpl:'<div id="{id}-iconWrapEl" data-ref="iconWrapEl" role="presentation" class="{iconWrapCls} {iconWrapCls}-{ui} {iconAlignCls} {itemCls}{childElCls}"<tpl if="iconWrapStyle"> style="{iconWrapStyle}"</tpl>><div id="{id}-iconEl" data-ref="iconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl></div></div>',_textAlignClasses:{left:Ext.baseCSSPrefix+"title-align-left",center:Ext.baseCSSPrefix+"title-align-center",right:Ext.baseCSSPrefix+"title-align-right"},_iconAlignClasses:{top:Ext.baseCSSPrefix+"title-icon-top",right:Ext.baseCSSPrefix+"title-icon-right",bottom:Ext.baseCSSPrefix+"title-icon-bottom",left:Ext.baseCSSPrefix+"title-icon-left"},_rotationClasses:{0:Ext.baseCSSPrefix+"title-rotate-none",1:Ext.baseCSSPrefix+"title-rotate-right",2:Ext.baseCSSPrefix+"title-rotate-left"},_rotationAngles:{1:90,2:270},baseCls:Ext.baseCSSPrefix+"title",_titleSuffix:"-title",_glyphCls:Ext.baseCSSPrefix+"title-glyph",_iconWrapCls:Ext.baseCSSPrefix+"title-icon-wrap",_baseIconCls:Ext.baseCSSPrefix+"title-icon",_itemCls:Ext.baseCSSPrefix+"title-item",_textCls:Ext.baseCSSPrefix+"title-text",afterComponentLayout:function(){var e,t,n,i=this,r=i.getRotation();r&&!Ext.isIE8&&(n=i.el,e=i.lastBox,t=e.x,n.setStyle(i._getVerticalAdjustDirection(),t+(1===r?e.width:-e.height)+"px")),this.callParent()},onRender:function(){var e=this,t=e.getRotation(),n=e.el;e.callParent(),t&&n.setVertical(e._rotationAngles[t]),Ext.supports.FixedTableWidthBug&&(n._needsTableWidthFix=!0)},applyText:function(e){return e||(e="&#160;"),e},beforeRender:function(){var e=this;e.callParent(),e.addCls(e._rotationClasses[e.getRotation()]),e.addCls(e._textAlignClasses[e.getTextAlign()])},getIconMarkup:function(){return this.getTpl("iconTpl").apply(this.getIconRenderData())},getIconRenderData:function(){var e,t=this,n=t.getIcon(),i=t.getIconCls(),r=t.getGlyph(),o=Ext._glyphFontFamily,a=t.getIconAlign();return"string"==typeof r&&(e=r.split("@"),r=e[0],o=e[1]),{id:t.id,ui:t.ui,itemCls:t._itemCls,iconUrl:n,iconCls:i,iconWrapCls:t._iconWrapCls,baseIconCls:t._baseIconCls,iconAlignCls:t._iconAlignClasses[a],glyph:r,glyphCls:r?t._glyphCls:"",glyphFontFamily:o}},initRenderData:function(){var e,t,n=this;return t={text:n.getText(),headerRole:n.headerRole,id:n.id,ui:n.ui,itemCls:n._itemCls,textCls:n._textCls,iconMarkup:null,iconBeforeTitle:null},n._hasIcon()&&(e=n.getIconAlign(),t.iconMarkup=n.getIconMarkup(),t.iconBeforeTitle="top"===e||"left"===e),t},onAdded:function(e,t,n){var i=this,r=(i.cls||"",i._titleSuffix),o=e.baseCls;i.addCls([o+r,o+r+"-"+e.ui]),i.callParent([e,t,n])},updateGlyph:function(e,t){e=e||0;var n,i,r,o=this,a=o._glyphCls;o.glyph=e,o.rendered&&(o._syncIconVisibility(),n=o.iconEl,"string"==typeof e&&(r=e.split("@"),e=r[0],i=r[1]||Ext._glyphFontFamily),e?t!=e&&(n.dom.innerHTML="&#"+e+";",n.addCls(a)):(n.dom.innerHTML="",n.removeCls(a)),i&&n.setStyle("font-family",i),o._didIconStateChange(t,e)&&o.updateLayout())},updateIcon:function(e,t){e=e||"";var n,i=this;i.rendered&&e!=t&&(i._syncIconVisibility(),n=i.iconEl,n.setStyle("background-image",e?"url("+e+")":""),i._didIconStateChange(t,e)&&i.updateLayout())},updateIconAlign:function(e,t){var n,i,r,o=this,i=o.iconWrapEl;o.iconWrapEl&&(n=o.el,r=o._iconAlignClasses,t&&i.removeCls(r[t]),i.addCls(r[e]),"top"===e||"left"===e?n.insertFirst(i):n.appendChild(i),o.updateLayout())},updateIconCls:function(e,t){e=e||"";var n,i=this;i.rendered&&t!=e&&(i._syncIconVisibility(),n=i.iconEl,t&&n.removeCls(t),n.addCls(e),i._didIconStateChange(t,e)&&i.updateLayout())},updateRotation:function(e,t){var n,i,r=this;r.rendered&&(n=r.el,i=r._rotationClasses,r.removeCls(i[t]),r.addCls(i[e]),n.setHorizontal(),e&&n.setVertical(r._rotationAngles[e]),n.setStyle({right:"",left:"",top:"",height:"",width:""}),r.lastBox=null,r.updateLayout())},updateText:function(e){this.rendered&&this.textEl.setHtml(e)},updateTextAlign:function(e,t){var n=this,i=n._textAlignClasses;n.rendered&&(t&&n.removeCls(i[t]),n.addCls(i[e]),n.updateLayout())},privates:{_getVerticalAdjustDirection:function(){return"left"},_didIconStateChange:function(e,t){var n=Ext.isEmpty(t);return Ext.isEmpty(e)?!n:n},_hasIcon:function(){return!!(this.getIcon()||this.getIconCls()||this.getGlyph())},_syncIconVisibility:function(){var e,t,n=this,i=n.el,r=n._hasIcon(),o=n.iconWrapEl;r&&!o&&(t=n.iconAlign,e="left"===t||"top"===t,i.dom.insertAdjacentHTML(e?"afterbegin":"beforeend",n.getIconMarkup()),o=n.iconWrapEl=i[e?"first":"last"](),n.iconEl=o.first()),o&&o.setDisplayed(r)}}}),Ext.define("Ext.panel.Tool",{extend:"Ext.Component",uses:["Ext.tip.QuickTipManager"],xtype:"tool",isTool:!0,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img id="{id}-toolEl" data-ref="toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"/>'],toolOwner:null,tooltipType:"qtip",stopEvent:!0,cacheHeight:!0,cacheWidth:!0,_toolTypes:{close:1,collapse:1,down:1,expand:1,gear:1,help:1,left:1,maximize:1,minimize:1,minus:1,next:1,pin:1,plus:1,prev:1,print:1,refresh:1,restore:1,right:1,save:1,search:1,toggle:1,unpin:1,up:1},initComponent:function(){var e=this;e.id&&e._toolTypes[e.id]&&Ext.Error.raise("When specifying a tool you should use the type option, the id can conflict now that tool is a Component"),e.type=e.type||e.id,Ext.applyIf(e.renderData,{baseCls:e.baseCls,blank:Ext.BLANK_IMAGE_URL,type:e.type}),e.tooltip=e.tooltip||e.qtip,e.callParent()},afterRender:function(){var e,t=this;t.callParent(arguments),t.el.on({click:t.onClick,mousedown:t.onMouseDown,mouseover:t.onMouseOver,mouseout:t.onMouseOut,scope:t}),e=t.tooltip,e&&t.setTooltip(e)},tipAttrs:{qtip:"data-qtip"},setTooltip:function(e,t){var n,i=this,r=i.tooltip,o=i.tooltipType,a=i.id,s=i.el;r&&Ext.quickTipsActive&&Ext.isObject(r)&&Ext.tip.QuickTipManager.unregister(a),i.tooltip=e,t&&(i.tooltipType=t),e&&(Ext.quickTipsActive&&Ext.isObject(e)?Ext.tip.QuickTipManager.register(Ext.apply({target:a},e)):s&&(t&&o&&t!==o&&(n=i.tipAttrs[o]||"title",s.dom.removeAttribute(n)),n=i.tipAttrs[t||o]||"title",s.dom.setAttribute(n,e)))},setType:function(e){var t=this,n=t.type;return t.type=e,t.rendered?(n&&t.toolEl.removeCls(t.baseCls+"-"+n),t.toolEl.addCls(t.baseCls+"-"+e)):t.renderData.type=e,t},onDestroy:function(){var e=this,t=e.keyMap;e.setTooltip(null),t&&(t.destroy(),e.keyMap=null),delete e.toolOwner,e.callParent()},privates:{getFocusEl:function(){return this.el},onClick:function(e,t){var n=this;return n.disabled?!1:(n.el.removeCls(n.toolPressedCls+" "+n.toolOverCls),n.stopEvent!==!1&&e.stopEvent(),n.handler?Ext.callback(n.handler,n.scope,[e,t,n.ownerCt,n],0,n):n.callback&&Ext.callback(n.callback,n.scope,[n.toolOwner||n.ownerCt,n,e],0,n),n.fireEvent("click",n,e,n.toolOwner||n.ownerCt),!0)},onMouseDown:function(){return this.disabled?!1:void this.el.addCls(this.toolPressedCls)},onMouseOver:function(){return this.disabled?!1:void this.el.addCls(this.toolOverCls)},onMouseOut:function(){
this.el.removeCls(this.toolOverCls)}}}),Ext.define("Ext.panel.Header",{extend:"Ext.panel.Bar",requires:["Ext.panel.Title","Ext.panel.Tool"],xtype:"header",isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,shrinkWrap:3,iconAlign:"left",titleAlign:"left",titlePosition:0,titleRotation:"default",beforeRenderConfig:{glyph:null,icon:null,iconCls:null,iconAlign:null,title:{$value:{ariaRole:"presentation",focusable:!1,xtype:"title",flex:1},merge:function(e,t){return"string"==typeof e&&(e={text:e}),Ext.merge(t?Ext.Object.chain(t):{},e)}},titleAlign:null,titlePosition:null,titleRotation:null},headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var e=this,t=e.items,n=e.itemPosition,i=[e.headerCls];e.tools=e.tools||[],e.items=t=t?t.slice():[],void 0!==n&&(e._userItems=t.slice(),e.items=t=[]),e.indicateDragCls=e.headerCls+"-draggable",e.indicateDrag&&i.push(e.indicateDragCls),e.addCls(i),e.syncNoBorderCls(),Ext.Array.push(t,e.tools),e.tools.length=0,e.callParent(),e.on({dblclick:e.onDblClick,click:e.onClick,element:"el",scope:e})},addTool:function(e){this.add(Ext.ComponentManager.create(e,"tool"))},afterLayout:function(){var e,t,n,i,r=this;r.vertical&&(t=r.frameTR,t&&(e=r.frameBR,n=r.frameTL,i=r.getWidth()-t.getPadding("r")-(n?n.getPadding("l"):r.el.getBorderWidth("l"))+"px",e.setStyle("background-position-x",i),t.setStyle("background-position-x",i))),this.callParent()},applyTitle:function(e,t){var n,i=this;return e=e||"","string"==typeof e&&(e={text:e}),t?(Ext.suspendLayouts(),t.setConfig(e),Ext.resumeLayouts(!0),e=t):(e.ui=i.ui,e.headerRole=i.headerRole,n="rotation"in e,e=new Ext.panel.Title(e),!n&&i.vertical&&"default"===i.titleRotation&&(e.rotation=1)),e},applyTitlePosition:function(e){var t=this.items.getCount();return this._titleInItems&&--t,Math.max(Math.min(e,t),0)},beforeLayout:function(){this.callParent(),this.syncBeforeAfterTitleClasses()},beforeRender:function(){var e=this,t=e.itemPosition;e.protoEl.unselectable(),e.callParent(),void 0!==t&&e.insert(t,e._userItems)},getTools:function(){return this.tools.slice()},onAdd:function(e,t){var n=this.tools;this.callParent([e,t]),e.isTool&&(n.push(e),n[e.type]=e)},onAdded:function(e,t,n){this.syncNoBorderCls(),this.callParent([e,t,n])},onRemoved:function(e,t,n){this.syncNoBorderCls(),this.callParent([e,t,n])},setDock:function(e){var t=this,n=t.getTitle(),i=t.getTitleRotation(),r=n.getRotation();Ext.suspendLayouts(),t.callParent([e]),"default"===i&&(i=t.vertical?1:0,i!==r&&n.setRotation(i),t.rendered&&t.resetItemMargins()),Ext.resumeLayouts(!0)},updateGlyph:function(e){this.getTitle().setGlyph(e)},updateIcon:function(e){this.getTitle().setIcon(e)},updateIconAlign:function(e,t){this.getTitle().setIconAlign(e)},updateIconCls:function(e){this.getTitle().setIconCls(e)},updateTitle:function(e,t){t||(this.insert(this.getTitlePosition(),e),this._titleInItems=!0),this.titleCmp=e},updateTitleAlign:function(e,t){this.getTitle().setTextAlign(e)},updateTitlePosition:function(e){this.insert(e,this.getTitle())},updateTitleRotation:function(e){"default"===e&&(e=this.vertical?1:0),this.getTitle().setRotation(e)},privates:{fireClickEvent:function(e,t){var n="."+Ext.panel.Tool.prototype.baseCls;t.getTarget(n)||this.fireEvent(e,this,t)},getFocusEl:function(){return this.el},getFramingInfoCls:function(){var e=this,t=e.callParent(),n=e.ownerCt;return!e.expanding&&n&&(n.collapsed||e.isCollapsedExpander)&&(t+="-"+n.collapsedCls),t+"-"+e.dock},onClick:function(e){this.fireClickEvent("click",e)},onDblClick:function(e){this.fireClickEvent("dblclick",e)},syncBeforeAfterTitleClasses:function(e){var t,n,i,r,o=this,a=o.items,s=a.items,l=o.getTitlePosition(),d=s.length,u=a.generation,c=o.syncBeforeAfterGen;if(e||c!==u)for(o.syncBeforeAfterGen=u,i=0;d>i;++i)r=s[i],t=r.afterTitleCls||(r.afterTitleCls=r.baseCls+"-after-title"),n=r.beforeTitleCls||(r.beforeTitleCls=r.baseCls+"-before-title"),!o.title||l>i?(c&&r.removeCls(t),r.addCls(n)):i>l&&(c&&r.removeCls(n),r.addCls(t))},syncNoBorderCls:function(){var e=this,t=this.ownerCt,n=e.headerCls+"-noborder";(t?t.border!==!1||t.frame:e.border!==!1)?e.removeCls(n):e.addCls(n)}}}),Ext.define("Ext.toolbar.Fill",{extend:"Ext.Component",alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",ariaRole:"presentation",isFill:!0,flex:1}),Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",alias:["box.overflow.none","box.overflow.None"],mixins:["Ext.mixin.Factoryable"],factoryConfig:{defaultType:"none"},isBoxOverflowHandler:!0,$configPrefixed:!1,$configStrict:!1,constructor:function(e){this.initConfig(e)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(e){var t,n=this,i=e.state.boxPlan;i&&i.tooNarrow?(t=n.handleOverflow(e),t&&t.reservedSpace&&n.layout.publishInnerCtSize(e,t.reservedSpace)):n.clearOverflow()},completeLayout:Ext.emptyFn,finishedLayout:function(e){var t,n,i=this,r=i.layout.owner;r.hasListeners.overflowchange&&(t=r.query(">[hidden]"),n=t.length,n!==i.lastHiddenCount&&(r.fireEvent("overflowchange",i.lastHiddenCount,n,t),i.lastHiddenCount=n))},onRemove:Ext.emptyFn,getItem:function(e){return this.layout.owner.getComponent(e)},getOwnerType:function(e){var t;return t=e.isToolbar?"toolbar":e.isTabBar?"tab-bar":e.isMenu?"menu":e.isBreadcrumb?"breadcrumb":e.getXType()},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""},setVertical:function(){var e=this,t=e.layout,n=t.innerCt;n.removeCls(e.getOverflowCls(t.oppositeDirection)),n.addCls(e.getOverflowCls(t.direction))}}),Ext.define("Ext.toolbar.Item",{extend:"Ext.Component",alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn}),Ext.define("Ext.toolbar.Separator",{extend:"Ext.toolbar.Item",alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:!1,ariaRole:"separator"}),Ext.define("Ext.dom.ButtonElement",{extend:"Ext.dom.Element",setSize:function(e,t,n){var i=this,r=i.component;return i.callParent([e,t,n]),r.btnWrap.setStyle("table-layout",e&&"auto"!==e?"fixed":""),r.btnEl.setStyle("height",t&&"auto"!==t?"auto":""),i},setStyle:function(e,t){var n,i,r=this,o=r.component;return r.callParent([e,t]),e&&(("width"===e||"string"!=typeof e&&"width"in e)&&(n=t||e.width,o.btnWrap.setStyle("table-layout",n&&"auto"!==n?"fixed":"")),("height"===e||"string"!=typeof e&&"height"in e)&&(i=t||e.height,o.btnEl.setStyle("height",i&&"auto"!==i?"auto":""))),r},setHeight:function(e,t){return this.callParent([e,t]),this.component.btnEl.setStyle("height",e&&"auto"!==e?"auto":""),this},setWidth:function(e,t){return this.callParent([e,t]),this.component.btnWrap.setStyle("table-layout",e&&"auto"!==e?"fixed":""),this}}),Ext.define("Ext.button.Manager",{singleton:!0,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,buttonSelector:"."+Ext.baseCSSPrefix+"btn",init:function(){var e=this;e.initialized||(Ext.getDoc().on({keydown:e.onDocumentKeyDown,mouseup:e.onDocumentMouseUp,scope:e}),e.initialized=!0)},onDocumentKeyDown:function(e){var t,n=e.getKey();(n===e.SPACE||n===e.ENTER)&&(t=e.getTarget(this.buttonSelector),t&&Ext.getCmp(t.id).onClick(e))},onButtonMousedown:function(e,t){var n=this.pressedButton;n&&n.onMouseUp(t),this.pressedButton=e},onDocumentMouseUp:function(e){var t=this.pressedButton;t&&(t.onMouseUp(e),this.pressedButton=null)},toggleGroup:function(e,t){if(t){var n,i=this.groups[e.toggleGroup],r=i.length;for(n=0;r>n;n++)i[n]!==e&&i[n].toggle(!1)}},register:function(e){var t=this,n=this.groups,i=n[e.toggleGroup];t.init(),e.toggleGroup&&(i||(i=n[e.toggleGroup]=[]),i.push(e),e.on("toggle",t.toggleGroup,t))},unregister:function(e){if(e.toggleGroup){var t=this,n=t.groups[e.toggleGroup];n&&(Ext.Array.remove(n,e),e.un("toggle",t.toggleGroup,t))}},getPressed:function(e){var t,n=this.groups[e],i=0;if(n)for(t=n.length;t>i;i++)if(n[i].pressed===!0)return n[i];return null}}),Ext.define("Ext.menu.Manager",{singleton:!0,requires:["Ext.util.MixedCollection","Ext.util.KeyMap"],alternateClassName:"Ext.menu.MenuMgr",uses:["Ext.menu.Menu"],menuSelector:"."+Ext.baseCSSPrefix+"menu",menus:{},groups:{},attached:!1,lastShow:new Date,init:function(){var e=this;e.active=new Ext.util.MixedCollection,Ext.getDoc().addKeyListener(27,function(){e.active.length>0&&e.hideAll()},e)},hideAll:function(){var e,t,n,i=this.active;if(i&&i.length>0){for(e=Ext.Array.slice(i.items),n=e.length,t=0;n>t;t++)e[t].hide();return!0}return!1},onHide:function(e){var t=this,n=t.active;n.remove(e),n.length<1&&(Ext.un("mousedown",t.onMouseDown,t),t.attached=!1)},onShow:function(e){var t=this,n=t.active,i=t.attached;t.lastShow=new Date,n.add(e),i||(Ext.on("mousedown",t.onMouseDown,t,{buffer:Ext.isIE9m?10:void 0}),t.attached=!0),e.toFront()},onBeforeHide:function(e){e.activeChild&&e.activeChild.hide(),e.autoHideTimer&&(clearTimeout(e.autoHideTimer),delete e.autoHideTimer)},onBeforeShow:function(e){var t=this.active,n=e.parentMenu;t.remove(e),n||e.allowOtherMenus?n&&n.activeChild&&e!=n.activeChild&&n.activeChild.hide():this.hideAll()},onMouseDown:function(e){var t,n=this,i=n.active,r=i.length,o=n.lastShow;if(Ext.Date.getElapsed(o)>50&&r){if(Ext.isIE9m&&!Ext.getDoc().contains(e.target))return;for(t=0;r>t;t++)if(i.items[t].owns(e.target))return;n.hideAll()}},register:function(e){var t=this;t.active||t.init(),e.floating&&(t.menus[e.id]=e,e.on({beforehide:t.onBeforeHide,hide:t.onHide,beforeshow:t.onBeforeShow,show:t.onShow,scope:t}))},get:function(e){var t=this.menus;return"string"==typeof e?t?t[e]:null:e.isMenu?e:Ext.isArray(e)?new Ext.menu.Menu({items:e}):Ext.ComponentManager.create(e,"menu")},unregister:function(e){var t=this,n=t.menus,i=t.active;delete n[e.id],i.remove(e),e.un({beforehide:t.onBeforeHide,hide:t.onHide,beforeshow:t.onBeforeShow,show:t.onShow,scope:t})},registerCheckable:function(e){var t=this.groups,n=e.group;n&&(t[n]||(t[n]=[]),t[n].push(e))},unregisterCheckable:function(e){var t=this.groups,n=e.group;n&&Ext.Array.remove(t[n],e)},onCheckChange:function(e,t){var n,i,r,o=this.groups,a=e.group,s=0;if(a&&t)for(n=o[a],i=n.length;i>s;s++)r=n[s],r!=e&&r.setChecked(!1)}}),Ext.define("Ext.util.ClickRepeater",{extend:"Ext.util.Observable",constructor:function(e,t){var n=this;n.el=Ext.get(e),n.el.unselectable(),Ext.apply(n,t),n.callParent(),n.disabled||(n.disabled=!0,n.enable()),n.handler&&n.on("click",n.handler,n.scope||n)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){this.disabled&&(this.el.on("mousedown",this.handleMouseDown,this),Ext.isIE8&&this.el.on("dblclick",this.handleDblClick,this),(this.preventDefault||this.stopDefault)&&this.el.on("click",this.eventOptions,this)),this.disabled=!1},disable:function(e){(e||!this.disabled)&&(clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.clearListeners()),this.disabled=!0},setDisabled:function(e){this[e?"disable":"enable"]()},eventOptions:function(e){this.preventDefault&&e.preventDefault(),this.stopDefault&&e.stopEvent()},destroy:function(){this.disable(!0),this.clearListeners()},handleDblClick:function(e){clearTimeout(this.timer),this.el.blur(),this.fireEvent("mousedown",this,e),this.fireEvent("click",this,e)},handleMouseDown:function(e){clearTimeout(this.timer),this.el.blur(),this.pressedCls&&this.el.addCls(this.pressedCls),this.mousedownTime=new Date,Ext.getDoc().on("mouseup",this.handleMouseUp,this),this.el.on("mouseout",this.handleMouseOut,this),this.fireEvent("mousedown",this,e),this.fireEvent("click",this,e),this.accelerate&&(this.delay=400),this.timer=Ext.defer(this.click,this.delay||this.interval,this,[e])},click:function(e){this.fireEvent("click",this,e),this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[e])},easeOutExpo:function(e,t,n,i){return e==i?t+n:n*(-Math.pow(2,-10*e/i)+1)+t},handleMouseOut:function(){clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this),this.pressedCls&&this.el.addCls(this.pressedCls),this.click()},handleMouseUp:function(e){clearTimeout(this.timer),this.el.un("mouseover",this.handleMouseReturn,this),this.el.un("mouseout",this.handleMouseOut,this),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.pressedCls&&this.el.removeCls(this.pressedCls),this.fireEvent("mouseup",this,e)}}),Ext.define("Ext.button.Button",{alias:"widget.button",extend:"Ext.Component",requires:["Ext.dom.ButtonElement","Ext.button.Manager","Ext.menu.Manager","Ext.util.ClickRepeater","Ext.util.TextMetrics","Ext.util.KeyMap"],mixins:["Ext.mixin.Queryable"],alternateClassName:"Ext.Button",config:{iconAlign:"left",text:null,textAlign:"center",arrowVisible:!0},isButton:!0,_syncFrameHeight:!0,liquidLayout:!0,hidden:!1,disabled:!1,pressed:!1,tabIndex:0,enableToggle:!1,menuAlign:"tl-bl?",showEmptyMenu:!1,clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",hrefTarget:"_blank",destroyMenu:!0,ariaRole:"button",defaultBindProperty:"text",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],publishes:{pressed:1},menuClickBuffer:250,focusCls:"focus",_btnWrapCls:Ext.baseCSSPrefix+"btn-wrap",_btnCls:Ext.baseCSSPrefix+"btn-button",_baseIconCls:Ext.baseCSSPrefix+"btn-icon-el",_glyphCls:Ext.baseCSSPrefix+"btn-glyph",_innerCls:Ext.baseCSSPrefix+"btn-inner",_textCls:Ext.baseCSSPrefix+"btn-text",_noTextCls:Ext.baseCSSPrefix+"btn-no-text",_hasIconCls:Ext.baseCSSPrefix+"btn-icon",_pressedCls:Ext.baseCSSPrefix+"btn-pressed",overCls:Ext.baseCSSPrefix+"btn-over",_disabledCls:Ext.baseCSSPrefix+"btn-disabled",_menuActiveCls:Ext.baseCSSPrefix+"btn-menu-active",_operaArrowCls:Ext.baseCSSPrefix+"opera12m-btn-arrow",renderTpl:'<span id="{id}-btnWrap" data-ref="btnWrap" role="presentation" unselectable="on" style="{btnWrapStyle}" class="{btnWrapCls} {btnWrapCls}-{ui} {splitCls}{childElCls}"><span id="{id}-btnEl" data-ref="btnEl" role="presentation" unselectable="on" style="{btnElStyle}" class="{btnCls} {btnCls}-{ui} {textCls} {noTextCls} {hasIconCls} {iconAlignCls} {textAlignCls} {btnElAutoHeightCls}{childElCls}"><tpl if="iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl><span id="{id}-btnInnerEl" data-ref="btnInnerEl" role="presentation" unselectable="on" class="{innerCls} {innerCls}-{ui}{childElCls}">{text}</span><tpl if="!iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl></span></span>{[values.$comp.getAfterMarkup ? values.$comp.getAfterMarkup(values) : ""]}<tpl if="closable"><span id="{id}-closeEl" data-ref="closeEl" role="presentation" class="{baseCls}-close-btn"<tpl if="closeText"> title="{closeText}" aria-label="{closeText}"</tpl>></span></tpl>',iconTpl:'<span id="{id}-btnIconEl" data-ref="btnIconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}{childElCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl></span>',scale:"small",allowedScales:["small","medium","large"],arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,shrinkWrap:3,frame:!0,autoEl:{tag:"a",hidefocus:"on",unselectable:"on"},hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){this.disabled||this.doNavigate()},doNavigate:function(){"_blank"===this.hrefTarget?window.open(this.getHref(),this.hrefTarget):location.href=this.getHref()},_triggerRegion:{},initComponent:function(){var e=this;e.addCls(Ext.baseCSSPrefix+"unselectable"),Ext.isOpera12m&&(e.split||e.menu)&&e.getArrowVisible()&&e.addCls(e._operaArrowCls+"-"+e.arrowAlign),e.callParent(arguments),e.menu&&(e.split=!0,e.setMenu(e.menu,!1)),e.url&&(e.href=e.url),e.href&&!e.hasOwnProperty("preventDefault")&&(e.preventDefault=!1),Ext.isString(e.toggleGroup)&&""!==e.toggleGroup&&(e.enableToggle=!0),e.html&&!e.text&&(e.text=e.html,delete e.html)},getElConfig:function(){var e=this,t=e.callParent(),n=e.getHref(),i=e.hrefTarget;return"a"===t.tag&&(e.disabled||(t.tabIndex=e.tabIndex),n&&(t.href=e.disabled&&Ext.os.is.ios?null:n,i&&(t.target=i))),t},beforeRender:function(){this.callParent(),this.pressed&&this.addCls(this._pressedCls)},initRenderData:function(){return Ext.apply(this.callParent(),this.getTemplateArgs())},getMenu:function(){return this.menu||null},setMenu:function(e,t){var n=this,i=n.menu;i&&t!==!1&&n.destroyMenu&&i.destroy(),i&&delete i.ownerButton,e?(e=Ext.menu.Manager.get(e),e.ownerButton=n,n.mon(e,{scope:n,show:n.onMenuShow,hide:n.onMenuHide}),!i&&n.getArrowVisible()&&(n.split=!0,n.rendered&&(n._addSplitCls(),n.updateLayout())),n.menu=e):(n.rendered&&(n._removeSplitCls(),n.updateLayout()),n.split=!1,n.menu=null)},onRender:function(){var e,t,n,i=this;i.doc=Ext.getDoc(),i.callParent(arguments),t=i.el,i.tooltip&&i.setTooltip(i.tooltip,!0),i.handleMouseEvents?(n={scope:i,mouseover:i.onMouseOver,mouseout:i.onMouseOut,mousedown:i.onMouseDown},i.split&&(n.mousemove=i.onMouseMove)):n={scope:i},Ext.supports.Touch&&(n.touchstart=i.onTouchStart),i.menu&&(i.keyMap=new Ext.util.KeyMap({target:i.el,key:Ext.event.Event.prototype.DOWN,handler:i.onDownKey,scope:i})),i.repeat?i.mon(new Ext.util.ClickRepeater(t,Ext.isObject(i.repeat)?i.repeat:{}),"click",i.onRepeatClick,i):n[i.clickEvent]?e=!0:n[i.clickEvent]=i.onClick,i.mon(t,n),i.hasFrameTable()&&i.mon(i.frameTable,"click",i.frameTableListener,i),e&&i.mon(t,i.clickEvent,i.onClick,i),Ext.button.Manager.register(i)},getTemplateArgs:function(){var e,t=this,n=t._btnCls,i=t._baseIconCls,r=t.getIconAlign(),o=t.glyph,a=Ext._glyphFontFamily,s=t.text,l=t._hasIcon(),d=t._hasIconCls;return"string"==typeof o&&(e=o.split("@"),o=e[0],a=e[1]),{innerCls:t._innerCls,splitCls:t.getArrowVisible()?t.getSplitCls():"",iconUrl:t.icon,iconCls:t.iconCls,glyph:o,glyphCls:o?t._glyphCls:"",glyphFontFamily:a,text:s||"&#160;",closeText:t.closeText,textCls:s?t._textCls:"",noTextCls:s?"":t._noTextCls,hasIconCls:l?d:"",btnWrapCls:t._btnWrapCls,btnWrapStyle:t.width?"table-layout:fixed;":"",btnElStyle:t.height?"height:auto;":"",btnCls:n,baseIconCls:i,iconBeforeText:"left"===r||"top"===r,iconAlignCls:l?d+"-"+r:"",textAlignCls:n+"-"+t.getTextAlign()}},renderIcon:function(e){return this.getTpl("iconTpl").apply(e)},setHref:function(e){var t=this;t.href=e,t.el.dom.href=t.disabled&&Ext.os.is.ios?null:t.getHref()},getHref:function(){var e=this,t=e.href;return t?Ext.urlAppend(t,Ext.Object.toQueryString(Ext.apply({},e.params,e.baseParams))):!1},setParams:function(e){var t=this;t.params=e,t.el.dom.href=t.disabled&&Ext.os.is.ios?null:t.getHref()},getSplitCls:function(){var e=this;return e.split?e.baseCls+"-"+e.arrowCls+" "+(e.baseCls+"-"+e.arrowCls+"-"+e.arrowAlign):""},setIcon:function(e){e=e||"";var t=this,n=t.btnIconEl,i=t.icon||"";return t.icon=e,e!=i&&(n&&(n.setStyle("background-image",e?"url("+e+")":""),t._syncHasIconCls(),t.didIconStateChange(i,e)&&t.updateLayout()),t.fireEvent("iconchange",t,i,e)),t},setIconCls:function(e){e=e||"";var t=this,n=t.btnIconEl,i=t.iconCls||"";return t.iconCls=e,i!=e&&(n&&(n.removeCls(i),n.addCls(e),t._syncHasIconCls(),t.didIconStateChange(i,e)&&t.updateLayout()),t.fireEvent("iconchange",t,i,e)),t},setGlyph:function(e){e=e||0;var t,n,i=this,r=i.btnIconEl,o=i.glyph,a=i._glyphCls;return i.glyph=e,r&&("string"==typeof e&&(n=e.split("@"),e=n[0],t=n[1]||Ext._glyphFontFamily),e?o!=e&&(r.dom.innerHTML="&#"+e+";",r.addCls(a)):(r.dom.innerHTML="",r.removeCls(a)),t&&r.setStyle("font-family",t),i._syncHasIconCls(),i.didIconStateChange(o,e)&&i.updateLayout()),i.fireEvent("glyphchange",i,i.glyph,o),i},setTooltip:function(e,t){var n=this;return n.rendered?(t&&e||n.clearTip(),e&&(Ext.quickTipsActive&&Ext.isObject(e)?(Ext.tip.QuickTipManager.register(Ext.apply({target:n.el.id},e)),n.tooltip=e):n.el.dom.setAttribute(n.getTipAttr(),e))):n.tooltip=e,n},updateIconAlign:function(e,t){var n,i,r,o=this;o.rendered&&(n=o.btnEl,i=o.btnIconEl,r=o._hasIconCls,t&&n.removeCls(r+"-"+t),n.addCls(r+"-"+e),"top"===e||"left"===e?n.insertFirst(i):n.appendChild(i),o.updateLayout())},updateTextAlign:function(e,t){var n=this,i=n.btnEl,r=n._btnCls;n.rendered&&(i.removeCls(r+"-"+t),i.addCls(r+"-"+e))},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},getRefItems:function(e){var t,n=this.menu;return n&&(t=n.getRefItems(e),t.unshift(n)),t||[]},clearTip:function(){var e=this,t=e.el;Ext.quickTipsActive&&Ext.isObject(e.tooltip)?Ext.tip.QuickTipManager.unregister(t):t.dom.removeAttribute(e.getTipAttr())},beforeDestroy:function(){var e=this;e.rendered&&e.clearTip(),e.menu&&e.destroyMenu&&e.menu.destroy(),Ext.destroy(e.repeater),e.callParent()},onDestroy:function(){var e=this;e.rendered&&(e.doc.un("mouseover",e.monitorMouseOver,e),delete e.doc,Ext.destroy(e.keyMap),delete e.keyMap),Ext.button.Manager.unregister(e),e.callParent()},setHandler:function(e,t){return this.handler=e,arguments.length>1&&(this.scope=t),this},applyText:function(e){e=null==e?"":String(e);var t=this,n=t.btnInnerEl,i=t.btnEl,r=t.text||"";e!=r&&(t.text=e,t.rendered&&(n.setHtml(e||"&#160;"),i[e?"addCls":"removeCls"](t._textCls),i[e?"removeCls":"addCls"](t._noTextCls),t.updateLayout()),t.fireEvent("textchange",t,r,e))},didIconStateChange:function(e,t){var n=Ext.isEmpty(t);return Ext.isEmpty(e)?!n:n},setPressed:function(e){return this.toggle(e!==!1)},toggle:function(e,t){var n=this;return e=void 0===e?!n.pressed:!!e,e!==n.pressed&&(n[e?"addCls":"removeCls"](n._pressedCls),n.pressed=e,t||(n.fireEvent("toggle",n,e),Ext.callback(n.toggleHandler,n.scope,[n,e],0,n),n.reference&&n.publishState&&n.publishState("pressed",e))),n},maybeShowMenu:function(){var e=this;!e.menu||e.hasVisibleMenu()||e.ignoreNextClick||e.showMenu(!0)},showMenu:function(e){var t=this,n=t.menu;return t.rendered&&(t.tooltip&&Ext.quickTipsActive&&"title"!=t.getTipAttr()&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(t.el),n.isVisible()&&n.hide(),(!e||t.showEmptyMenu||n.items.getCount()>0)&&n.showBy(t.el,t.menuAlign)),t},hideMenu:function(){return this.hasVisibleMenu()&&this.menu.hide(),this},hasVisibleMenu:function(){var e=this.menu;return e&&e.rendered&&e.isVisible()},onRepeatClick:function(e,t){this.onClick(t)},onTouchStart:function(e){this.doPreventDefault(e)},onClick:function(e){var t=this;t.doPreventDefault(e),"keydown"!==e.type&&e.button||t.disabled||(t.doToggle(),t.maybeShowMenu(),t.fireHandler(e))},doPreventDefault:function(e){e&&(this.preventDefault||this.disabled&&this.getHref())&&e.preventDefault()},fireHandler:function(e){var t=this;t.fireEvent("click",t,e)!==!1&&Ext.callback(t.handler,t.scope,[t,e],0,t)},doToggle:function(){var e=this;!e.enableToggle||e.allowDepress===!1&&e.pressed||e.toggle()},onMouseOver:function(e){var t=this;t.disabled||e.within(t.el,!0,!0)||t.onMouseEnter(e)},onMouseOut:function(e){var t=this;e.within(t.el,!0,!0)||(t.overMenuTrigger&&t.onMenuTriggerOut(e),t.onMouseLeave(e))},onMouseMove:function(e){var t=this,n=t.overMenuTrigger;t.split&&(t.isWithinTrigger(e)?n||t.onMenuTriggerOver(e):n&&t.onMenuTriggerOut(e))},isWithinTrigger:function(e){var t,n,i=this,r=i.el;return t="right"===i.arrowAlign?e.getX()-i.getX():e.getY()-r.getY(),n=i.getTriggerRegion(),t>n.begin&&t<n.end},getTriggerRegion:function(){var e=this,t=e._triggerRegion,n="right"===e.arrowAlign,i=n?"getRight":"getBottom",r=n?e.getWidth():e.getHeight();return t.begin=r-(e.el[i]()-e.btnEl[i]()),t.end=r,t},onMouseEnter:function(e){this.fireEvent("mouseover",this,e)},onMouseLeave:function(e){this.fireEvent("mouseout",this,e)},onMenuTriggerOver:function(e){var t=this,n=t.arrowTooltip;t.overMenuTrigger=!0,t.split&&n&&t.btnWrap.dom.setAttribute(t.getTipAttr(),n),t.fireEvent("menutriggerover",t,t.menu,e)},onMenuTriggerOut:function(e){var t=this;delete t.overMenuTrigger,t.split&&t.arrowTooltip&&t.btnWrap.dom.setAttribute(t.getTipAttr(),""),t.fireEvent("menutriggerout",t,t.menu,e)},enable:function(e){var t=this;return t.callParent(arguments),t.removeCls(t._disabledCls),t.rendered&&(t.el.dom.setAttribute("tabIndex",t.tabIndex),Ext.os.is.ios&&t.href&&(t.el.dom.href=t.href)),t},disable:function(e){var t=this;return t.callParent(arguments),t.addCls(t._disabledCls),t.removeCls(t.overCls),t.rendered&&(t.el.dom.removeAttribute("tabIndex"),Ext.os.is.ios&&t.href&&(t.el.dom.href=null)),t},setScale:function(e){var t=this,n=t.ui.replace("-"+t.scale,"");if(!Ext.Array.contains(t.allowedScales,e))throw"#setScale: scale must be an allowed scale ("+t.allowedScales.join(", ")+")";t.scale=e,t.setUI(n)},setUI:function(e){var t=this;t.scale&&!e.match(t.scale)&&(e=e+"-"+t.scale),t.callParent([e])},onMouseDown:function(e){var t=this;Ext.isIE&&t.getFocusEl().focus(),t.disabled||0!==e.button||(Ext.button.Manager.onButtonMousedown(t,e),t.addCls(t._pressedCls))},onMouseUp:function(e){var t=this;t.isDestroyed||0!==e.button||t.pressed||t.removeCls(t._pressedCls)},onMenuShow:function(){var e=this;e.ignoreNextClick=0,e.addCls(e._menuActiveCls),e.fireEvent("menushow",e,e.menu)},onMenuHide:function(e){var t=this,n=t.menuClickBuffer;t.removeCls(t._menuActiveCls),n&&(t.ignoreNextClick=Ext.defer(t.restoreClick,n,t)),t.fireEvent("menuhide",t,t.menu),t.focus()},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(e,t){var n=this;return n.menu&&!n.disabled?(n.showMenu(),t.stopEvent(),!1):void 0},updateArrowVisible:function(e){var t=this;return t.rendered&&(e?(t.menu||t.isSplitButton)&&(t.split=!0,t._addSplitCls()):(t._removeSplitCls(),t.split=!1)),e},privates:{addOverCls:function(){this.disabled||this.addCls(this.overCls)},_addSplitCls:function(){var e=this;e.btnWrap.addCls(e.getSplitCls()),Ext.isOpera12m&&e.addCls(e._operaArrowCls+"-"+e.arrowAlign)},getFocusEl:function(){return this.el},getTdCls:function(){return Ext.baseCSSPrefix+"button-"+this.ui+"-"+this.scale+"-cell"},removeOverCls:function(){this.removeCls(this.overCls)},_removeSplitCls:function(){var e=this;e.btnWrap.removeCls(e.getSplitCls()),Ext.isOpera12m&&e.removeCls(e._operaArrowCls+"-"+e.arrowAlign)},_syncHasIconCls:function(){var e=this,t=e.btnEl,n=e._hasIconCls;t&&t[e._hasIcon()?"addCls":"removeCls"]([n,n+"-"+e.iconAlign])},_hasIcon:function(){return!!(this.icon||this.iconCls||this.glyph)},wrapPrimaryEl:function(e){this.el=new Ext.dom.ButtonElement(e)}}}),Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.toolbar.Separator","Ext.button.Button"],alternateClassName:"Ext.layout.boxOverflow.Menu",alias:["box.overflow.menu","box.overflow.Menu"],noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items" role="menuitem">(None)</div>',menuCls:Ext.baseCSSPrefix+"box-menu",constructor:function(e){var t=this;t.callParent(arguments),t.menuItems=[]},beginLayout:function(e){this.callParent(arguments),this.clearOverflow(e)},beginLayoutCycle:function(e,t){this.callParent(arguments),t||(this.clearOverflow(e),this.layout.cacheChildItems(e))},onRemove:function(e){Ext.Array.remove(this.menuItems,e)},getSuffixConfig:function(){var e=this,t=e.layout,n=t.owner,i=n.id;return e.menu=new Ext.menu.Menu({listeners:{scope:e,beforeshow:e.beforeMenuShow}}),e.menuTrigger=new Ext.button.Button({id:i+"-menu-trigger",cls:e.menuCls+"-after "+Ext.baseCSSPrefix+"toolbar-item",plain:n.usePlainButtons,ownerCt:n,ownerLayout:t,iconCls:Ext.baseCSSPrefix+e.getOwnerType(n)+"-more-icon",ui:n.defaultButtonUI||"default",menu:e.menu,showEmptyMenu:!0,getSplitCls:function(){return""}}),e.menuTrigger.getRenderTree()},getOverflowCls:function(e){return this.menuCls+"-body-"+e},handleOverflow:function(e){var t=this,n=t.layout;return t.showTrigger(e),"vertical"!==n.direction&&t.menuTrigger.setLocalY((e.state.boxPlan.maxSize-t.menuTrigger[n.names.getHeight]())/2),{reservedSpace:t.triggerTotalWidth}},captureChildElements:function(){var e=this,t=e.menuTrigger,n=e.layout.names;t.rendering&&(t.finishRender(),e.triggerTotalWidth=t[n.getWidth]()+t.el.getMargin(n.parallelMargins))},clearOverflow:function(e){var t,n=this,i=n.menuItems,r=0,o=i.length,a=n.layout.owner,s=a._asLayoutRoot;for(a.suspendLayouts(),n.captureChildElements(),n.hideTrigger(),a.resumeLayouts();o>r;r++)t=i[r],t.suspendLayouts(),t.show(),t.resumeLayouts(s);i.length=0},showTrigger:function(e){var t,n,i,r,o=this,a=o.layout,s=a.owner,l=a.names,d=l.x,u=l.width,c=e.state.boxPlan,h=c.targetSize[u],f=e.childItems,g=f.length,p=o.menuTrigger;for(p.suspendLayouts(),p.show(),p.resumeLayouts(o._asLayoutRoot),h-=o.triggerTotalWidth,s.suspendLayouts(),o.menuItems.length=0,i=0;g>i;i++)t=f[i],r=t.props,r[d]+r[u]>h&&(n=t.target,o.menuItems.push(n),n.hide());s.resumeLayouts()},hideTrigger:function(){var e=this.menuTrigger;e&&e.hide()},beforeMenuShow:function(e){var t,n,i=this,r=i.menuItems,o=0,a=r.length,s=function(e,t){return e.isXType("buttongroup")&&!(t instanceof Ext.toolbar.Separator)};for(e.suspendLayouts(),i.clearMenu(),e.removeAll();a>o;o++)t=r[o],!o&&t instanceof Ext.toolbar.Separator||(n&&(s(t,n)||s(n,t))&&e.add("-"),i.addComponentToMenu(e,t),n=t);e.items.length<1&&e.add(i.noItemsMenuText),e.resumeLayouts()},createMenuConfig:function(e,t){var n=Ext.apply({},e.initialConfig),i=e.toggleGroup;return Ext.copyTo(n,e,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]),Ext.applyIf(n,{text:e.overflowText||e.text,hideOnClick:t,destroyMenu:!1,listeners:{}}),e.isFormField?(n.value=e.getValue(),n.listeners.change=function(t,n,i){e.setValue(n)}):(i||e.enableToggle)&&Ext.apply(n,{hideOnClick:!1,group:i,checked:e.pressed,handler:function(t,n){e.onClick(n)}}),e.isButton&&!e.changeListenersAdded&&(e.on({textchange:this.onButtonAttrChange,iconchange:this.onButtonAttrChange,toggle:this.onButtonToggle}),e.changeListenersAdded=!0),delete n.margin,delete n.ownerCt,delete n.xtype,delete n.id,delete n.itemId,n},onButtonAttrChange:function(e){var t=e.overflowClone;t.suspendLayouts(),t.setText(e.text),t.setIcon(e.icon),t.setIconCls(e.iconCls),t.resumeLayouts(!0)},onButtonToggle:function(e,t){e.overflowClone.checked!==t&&e.overflowClone.setChecked(t)},addComponentToMenu:function(e,t){var n,i,r,o=this;if(!(t instanceof Ext.toolbar.Fill))if(t instanceof Ext.toolbar.Separator)e.add("-");else if(t.isComponent)if(t.isXType("splitbutton"))t.overflowClone=e.add(o.createMenuConfig(t,!0));else if(t.isXType("button"))t.overflowClone=e.add(o.createMenuConfig(t,!t.menu));else if(t.isXType("buttongroup"))for(i=t.items.items,r=i.length,n=0;r>n;n++)o.addComponentToMenu(e,i[n]);else t.overflowClone=e.add(Ext.create(Ext.getClassName(t),o.createMenuConfig(t)))},clearMenu:function(){var e,t,n,i,r=this.menu;if(r&&r.items)for(e=r.items.items,n=e.length,t=0;n>t;t++)i=e[t],i.setMenu&&i.setMenu(null)},destroy:function(){var e=this.menuTrigger;e&&!this.layout.owner.items.contains(e)&&delete e.ownerCt,Ext.destroy(this.menu,e)}}),Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.util.ClickRepeater","Ext.Element"],alternateClassName:"Ext.layout.boxOverflow.Scroller",alias:["box.overflow.scroller","box.overflow.Scroller"],mixins:{observable:"Ext.mixin.Observable"},animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",beforeSuffix:"-before-scroller",afterSuffix:"-after-scroller",constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e),t.scrollPosition=0,t.scrollSize=0},getPrefixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.beforeSuffix,cls:this.createScrollerCls("beforeX"),style:"display:none"}},getSuffixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.afterSuffix,cls:this.createScrollerCls("afterX"),style:"display:none"}},createScrollerCls:function(e){var t=this,n=t.layout,i=n.owner,r=(Ext.baseCSSPrefix,
t.getOwnerType(i)),o=t.scrollerCls,a=o+" "+o+"-"+n.names[e]+" "+o+"-"+r+" "+o+"-"+r+"-"+i.ui;return i.plain&&(a+=" "+o+"-plain"),a},getOverflowCls:function(e){return this.scrollerCls+"-body-"+e},beginLayout:function(e){this.layout;e.innerCtScrollPos=this.getScrollPosition(),this.callParent(arguments)},finishedLayout:function(e){var t,n=this,i=e.state.boxPlan,r=n.layout,o=r.names,a=Math.min(n.getMaxScrollPosition(),e.innerCtScrollPos);i&&i.tooNarrow&&(t=e.childItems[e.childItems.length-1].props,n.scrollSize=t[o.x]+t[o.width],n.updateScrollButtons()),r.innerCt[o.setScrollLeft](a),this.callParent([e])},handleOverflow:function(e){var t,n,i,r,o=this,a=o.layout.names,s=a.getWidth,l=a.parallelMargins;return o.showScrollers(),i=o.getBeforeScroller(),r=o.getAfterScroller(),t=i[s]()+r[s]()+i.getMargin(l)+r.getMargin(l),n=e.targetContext.getPaddingInfo()[a.width],{reservedSpace:Math.max(t-n,0)}},getBeforeScroller:function(){var e=this;return e._beforeScroller||(e._beforeScroller=e.createScroller(e.beforeSuffix,"beforeRepeater","scrollLeft"))},getAfterScroller:function(){var e=this;return e._afterScroller||(e._afterScroller=e.createScroller(e.afterSuffix,"afterRepeater","scrollRight"))},createScroller:function(e,t,n){var i,r=this,o=r.layout.owner,a=r.scrollerCls;return i=o.el.getById(o.id+e),i.addClsOnOver(a+"-hover"),i.addClsOnClick(a+"-pressed"),i.setVisibilityMode(Ext.Element.DISPLAY),r[t]=new Ext.util.ClickRepeater(i,{interval:r.scrollRepeatInterval,handler:n,scope:r}),i},createWheelListener:function(){var e=this;e.layout.innerCt.on({mousewheel:function(t){e.scrollBy(e.getWheelDelta(t)*e.wheelIncrement*-1,!1)},stopEvent:!0})},getWheelDelta:function(e){return e.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var e=this;e.createWheelListener(),e.getBeforeScroller().show(),e.getAfterScroller().show(),e.layout.owner.addClsWithUI("vertical"===e.layout.direction?"vertical-scroller":"scroller")},hideScrollers:function(){var e=this,t=e.getBeforeScroller(),n=e.getAfterScroller();t&&(t.hide(),n.hide(),e.layout.owner.removeClsWithUI("vertical"===e.layout.direction?"vertical-scroller":"scroller"))},destroy:function(){var e=this;Ext.destroy(e.beforeRepeater,e.afterRepeater,e._beforeScroller,e._afterScroller)},scrollBy:function(e,t){this.scrollTo(this.getScrollPosition()+e,t)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var e,t=this,n=t.getBeforeScroller(),i=t.getAfterScroller();n&&i&&(e=t.scrollerCls+"-disabled",n[t.atExtremeBefore()?"addCls":"removeCls"](e),i[t.atExtremeAfter()?"addCls":"removeCls"](e),t.scrolling=!1)},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var e,t=this,n=t.layout;return e=isNaN(t.scrollPosition)?n.innerCt[n.names.getScrollLeft]():t.scrollPosition},getMaxScrollPosition:function(){var e=this,t=e.layout,n=e.scrollSize-t.innerCt[t.names.getWidth]();return 0>n?0:n},atExtremeBefore:function(){return!this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},setVertical:function(){var e=this,t=e.getBeforeScroller(),n=e.getAfterScroller(),i=e.layout.names,r=e.scrollerCls;t.removeCls(r+"-"+i.beforeY),n.removeCls(r+"-"+i.afterY),t.addCls(r+"-"+i.beforeX),n.addCls(r+"-"+i.afterX),this.callParent()},scrollTo:function(e,t){var n=this,i=n.layout,r=i.names,o=n.getScrollPosition(),a=Ext.Number.constrain(e,0,n.getMaxScrollPosition());a==o||n.scrolling||(n.scrollPosition=NaN,void 0===t&&(t=n.animateScroll),i.innerCt[r.scrollTo](r.beforeScrollX,a,t?n.getScrollAnim():!1),t?n.scrolling=!0:n.updateScrollButtons(),n.fireEvent("scroll",n,a,t?n.getScrollAnim():!1))},scrollToItem:function(e,t){var n,i,r,o=this,a=o.layout,s=a.owner,l=a.names,d=a.innerCt;e=o.getItem(e),void 0!==e&&(e==s.items.first()?r=0:e===s.items.last()?r=o.getMaxScrollPosition():(n=o.getItemVisibility(e),n.fullyVisible||(i=e.getBox(!1,!0),r=i[l.x],n.hiddenEnd&&(r-=d[l.getWidth]()-i[l.width]))),void 0!==r&&o.scrollTo(r,t))},getItemVisibility:function(e){var t=this,n=t.getItem(e).getBox(!0,!0),i=t.layout,r=i.names,o=n[r.x],a=o+n[r.width],s=t.getScrollPosition(),l=s+i.innerCt[r.getWidth]();return{hiddenStart:s>o,hiddenEnd:a>l,fullyVisible:o>s&&l>a}}}),Ext.define("Ext.dd.DragDropManager",{singleton:!0,requires:["Ext.util.Region"],uses:["Ext.tip.QuickTipManager"],alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:Ext.baseCSSPrefix+"dd-drag-current",_execOnAll:function(e,t){var n,i,r,o,a=this.ids;for(n in a)if(a.hasOwnProperty(n)){o=a[n];for(i in o)if(o.hasOwnProperty(i)){if(r=o[i],!this.isTypeOfDD(r))continue;r[e].apply(r,t)}}},addListeners:function(){var e=this;e.init(),Ext.getDoc().on({mouseup:e.handleMouseUp,mousemove:e.handleMouseMove,dragstart:e.preventDrag,drag:e.preventDrag,dragend:e.preventDrag,capture:!0,scope:e}),Ext.getWin().on({unload:e._onUnload,resize:e._onResize,scope:e})},preventDrag:function(e){this.isMouseDown&&e.stopPropagation()},_onResize:function(e){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:8,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(e,t){this.initialized||this.init(),this.ids[t]||(this.ids[t]={}),this.ids[t][e.id]=e},removeDDFromGroup:function(e,t){this.ids[t]||(this.ids[t]={});var n=this.ids[t];n&&n[e.id]&&delete n[e.id]},_remove:function(e,t){var n,i=this,r=i.ids,o=e.groups;if(!i.clearingAll){i.dragCurrent===e&&(i.dragCurrent=null);for(n in o)o.hasOwnProperty(n)&&(t?delete r[n]:r[n]&&delete r[n][e.id]);delete i.handleIds[e.id]}},regHandle:function(e,t){this.handleIds[e]||(this.handleIds[e]={}),this.handleIds[e][t]=t},isDragDrop:function(e){return this.getDDById(e)?!0:!1},getRelated:function(e,t){var n,i,r,o=[];for(n in e.groups)for(i in this.ids[n])r=this.ids[n][i],this.isTypeOfDD(r)&&(!t||r.isTarget)&&(o[o.length]=r);return o},isLegalTarget:function(e,t){var n,i,r=this.getRelated(e,!0);for(n=0,i=r.length;i>n;++n)if(r[n].id==t.id)return!0;return!1},isTypeOfDD:function(e){return e&&e.__ygDragDrop},isHandle:function(e,t){return this.handleIds[e]&&this.handleIds[e][t]},getDDById:function(e,t){var n,i;for(n in this.ids)if(i=this.ids[n][e],i instanceof Ext.dd.DDTarget||t)return i;return null},handleMouseDown:function(e,t){var n,i,r=this;r.isMouseDown=!0,Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddDisable(),r.currentPoint=e.getPoint(),r.dragCurrent&&r.handleMouseUp(e),r.mousedownEvent=e,r.currentTarget=e.getTarget(),r.dragCurrent=t,i=t.getEl(),Ext.fly(i).setCapture(),n=e.getXY(),r.startX=n[0],r.startY=n[1],r.offsetX=r.offsetY=0,r.deltaX=r.startX-i.offsetLeft,r.deltaY=r.startY-i.offsetTop,r.dragThreshMet=!1},startDrag:function(e,t){var n,i=this,r=i.dragCurrent;clearTimeout(i.clickTimeout),r&&(r.b4StartDrag(e,t),r.startDrag(e,t),n=r.getDragEl(),n&&Ext.fly(n).addCls(i.dragCls)),i.dragThreshMet=!0},handleMouseUp:function(e){var t=this;t.isMouseDown=!1,Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddEnable(),t.dragCurrent&&(Ext.isIE&&document.releaseCapture&&document.releaseCapture(),clearTimeout(t.clickTimeout),t.dragThreshMet&&t.fireEvents(e,!0),t.stopDrag(e),t.stopEvent(e))},stopEvent:function(e){this.stopPropagation&&e.stopPropagation(),this.preventDefault&&e.preventDefault()},stopDrag:function(e){var t,n=this,i=n.dragCurrent;i&&(n.dragThreshMet&&(t=i.getDragEl(),t&&Ext.fly(t).removeCls(n.dragCls),i.b4EndDrag(e),i.endDrag(e)),n.dragCurrent.onMouseUp(e)),n.dragCurrent=null,n.dragOvers={}},handleMouseMove:function(e){var t,n,i=this,r=i.dragCurrent,o=i.currentPoint=e.getPoint(),a=o.x,s=o.y;return i.offsetX=a-i.startX,i.offsetY=s-i.startY,r?(i.dragThreshMet||(t=Math.abs(i.offsetX),n=Math.abs(i.offsetY),(t>i.clickPixelThresh||n>i.clickPixelThresh)&&i.startDrag(i.startX,i.startY)),i.dragThreshMet&&(r.b4Drag(e),r.onDrag(e),r.moveOnly||i.fireEvents(e,!1)),i.stopEvent(e),!0):!0},fireEvents:function(e,t){var n,i,r,o,a,s,l,d,u=this,c=Ext.supports.Touch,h=u.dragCurrent,f=u.currentPoint,g=f.x,p=f.y,m=[],x=[],E=[],v=[],y=[],b=[],C=c?document.documentElement.clientWidth/window.innerWidth:1;if(h&&!h.isLocked()){d=!(h.deltaX<0||h.deltaY<0),(c||!u.notifyOccluded&&(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera)&&d)&&(n=h.getDragEl(),d&&(n.style.visibility="hidden"),e.target=document.elementFromPoint(g/C,p/C),d&&(n.style.visibility="visible"));for(a in u.dragOvers)i=u.dragOvers[a],delete u.dragOvers[a],u.isTypeOfDD(i)&&!i.isDestroyed&&(u.notifyOccluded?this.isOverTarget(f,i,u.mode)||E.push(i):e.within(i.getEl())||E.push(i),x[a]=!0);for(l in h.groups)if("string"==typeof l)for(a in u.ids[l])if(i=u.ids[l][a],u.isTypeOfDD(i)&&(r=i.getEl())&&i.isTarget&&!i.isLocked()&&Ext.fly(r).isVisible(!0)&&(i!=h||h.ignoreSelf===!1))if(u.notifyOccluded)-1!==(i.zIndex=u.getZIndex(r))&&(o=!0),m.push(i);else if(e.within(i.getEl())){m.push(i);break}for(o&&Ext.Array.sort(m,u.byZIndex),a=0,s=m.length;s>a&&(i=m[a],!u.isOverTarget(f,i,u.mode)||(t?y.push(i):(x[i.id]?v.push(i):b.push(i),u.dragOvers[i.id]=i),u.notifyOccluded));a++);if(u.mode)E.length&&(h.b4DragOut(e,E),h.onDragOut(e,E)),b.length&&h.onDragEnter(e,b),v.length&&(h.b4DragOver(e,v),h.onDragOver(e,v)),y.length&&(h.b4DragDrop(e,y),h.onDragDrop(e,y));else{for(a=0,s=E.length;s>a;++a)h.b4DragOut(e,E[a].id),h.onDragOut(e,E[a].id);for(a=0,s=b.length;s>a;++a)h.onDragEnter(e,b[a].id);for(a=0,s=v.length;s>a;++a)h.b4DragOver(e,v[a].id),h.onDragOver(e,v[a].id);for(a=0,s=y.length;s>a;++a)h.b4DragDrop(e,y[a].id),h.onDragDrop(e,y[a].id)}t&&!y.length&&h.onInvalidDrop(e)}},getZIndex:function(e){var t,n=document.body,i=-1;for(e=Ext.getDom(e);e!==n;)isNaN(t=Number(Ext.fly(e).getStyle("zIndex")))||(i=t),e=e.parentNode;return i},byZIndex:function(e,t){return e.zIndex<t.zIndex},getBestMatch:function(e){var t,n,i=null,r=e.length;if(1==r)i=e[0];else for(t=0;r>t;++t){if(n=e[t],n.cursorIsOver){i=n;break}(!i||i.overlap.getArea()<n.overlap.getArea())&&(i=n)}return i},refreshCache:function(e){var t,n,i,r;for(t in e)if("string"==typeof t)for(n in this.ids[t])i=this.ids[t][n],this.isTypeOfDD(i)&&(r=this.getLocation(i),r?this.locationCache[i.id]=r:delete this.locationCache[i.id])},verifyEl:function(e){if(e){var t;if(Ext.isIE)try{t=e.offsetParent}catch(n){}else t=e.offsetParent;if(t)return!0}return!1},getLocation:function(e){if(!this.isTypeOfDD(e))return null;if(e.getRegion)return e.getRegion();var t,n,i,r,o,a,s,l,d,u=e.getEl();try{t=Ext.fly(u).getXY()}catch(c){}return t?(n=t[0],i=n+u.offsetWidth,r=t[1],o=r+u.offsetHeight,a=r-e.padding[0],s=i+e.padding[1],l=o+e.padding[2],d=n-e.padding[3],new Ext.util.Region(a,s,l,d)):null},isOverTarget:function(e,t,n){var i,r,o,a,s,l=this.locationCache[t.id];return l&&this.useCache||(l=this.getLocation(t),this.locationCache[t.id]=l),l?(t.cursorIsOver=l.contains(e),i=this.dragCurrent,i&&i.getTargetCoord&&(n||i.constrainX||i.constrainY)?(t.overlap=null,r=i.getTargetCoord(e.x,e.y),o=i.getDragEl(),a=new Ext.util.Region(r.y,r.x+o.offsetWidth,r.y+o.offsetHeight,r.x),s=a.intersect(l),s?(t.overlap=s,n?!0:t.cursorIsOver):!1):t.cursorIsOver):!1},_onUnload:function(e,t){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var e,t=this,n=t.elementCache;t.dragCurrent&&(t.stopDrag(),t.dragCurrent=null),t.clearingAll=!0,t._execOnAll("unreg",[]),delete t.clearingAll;for(e in n)delete n[e];t.elementCache={},t.ids={},t.handleIds={}},elementCache:{},getElWrapper:function(e){var t=this.elementCache[e];return t&&t.el||(t=this.elementCache[e]=new this.ElementWrapper(Ext.getDom(e))),t},getElement:function(e){return Ext.getDom(e)},getCss:function(e){var t=Ext.getDom(e);return t?t.style:null},ElementWrapper:function(e){this.el=e||null,this.id=this.el&&e.id,this.css=this.el&&e.style},getPosX:function(e){return Ext.fly(e).getX()},getPosY:function(e){return Ext.fly(e).getY()},swapNode:function(e,t){if(e.swapNode)e.swapNode(t);else{var n=t.parentNode,i=t.nextSibling;i==e?n.insertBefore(e,t):t==e.nextSibling?n.insertBefore(t,e):(e.parentNode.replaceChild(t,e),n.insertBefore(e,i))}},getScroll:function(){var e=window.document,t=e.documentElement,n=e.body,i=0,r=0;return t&&(t.scrollTop||t.scrollLeft)?(i=t.scrollTop,r=t.scrollLeft):n&&(i=n.scrollTop,r=n.scrollLeft),{top:i,left:r}},getStyle:function(e,t){return Ext.fly(e).getStyle(t)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(e,t){var n=Ext.fly(t).getXY();Ext.fly(e).setXY(n)},numericSort:function(e,t){return e-t},handleWasClicked:function(e,t){if(this.isHandle(t,e.id))return!0;for(var n=e.parentNode;n;){if(this.isHandle(t,n.id))return!0;n=n.parentNode}return!1}},function(e){Ext.onReady(function(){e.addListeners()})}),Ext.define("Ext.layout.container.Box",{extend:"Ext.layout.container.Container",alias:"layout.box",alternateClassName:"Ext.layout.BoxLayout",requires:["Ext.layout.container.boxOverflow.None","Ext.layout.container.boxOverflow.Menu","Ext.layout.container.boxOverflow.Scroller","Ext.util.Format","Ext.dd.DragDropManager"],type:"box",config:{align:"begin",constrainAlign:!1,enableSplitters:!0,overflowHandler:{$value:null,merge:function(e,t){return"string"==typeof e&&(e={type:e}),Ext.merge(t?Ext.Object.chain(t):{},e)}},padding:0,pack:"start",stretchMaxPartner:void 0,vertical:!1,alignRoundingMethod:"round"},scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:!0,manageMargins:!0,createsInnerCt:!0,childEls:["innerCt","targetEl"],renderTpl:['{%var oc,l=values.$comp.layout,oh=l.overflowHandler;if (oh && oh.getPrefixConfig!==Ext.emptyFn) {if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)}%}<div id="{ownerId}-innerCt" data-ref="innerCt" role="presentation" class="{[l.innerCls]}{[oh ? (" " + oh.getOverflowCls(l.direction)) : ""]}"><div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div></div>{%if (oh && oh.getSuffixConfig!==Ext.emptyFn) {if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)}%}',{disableFormats:!0,definitions:"var dh=Ext.DomHelper;"}],constructor:function(e){var t,n=this;n.callParent(arguments),n.setVertical(n.vertical),n.flexSortFn=n.flexSort.bind(n),t=typeof n.padding,("string"===t||"number"===t)&&(n.padding=Ext.util.Format.parseBox(n.padding),n.padding.height=n.padding.top+n.padding.bottom,n.padding.width=n.padding.left+n.padding.right)},_beginRe:/^(?:begin|left|top)$/,_centerRe:/^(?:center|middle)$/,_endRe:/^(?:end|right|bottom)$/,_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(e,t){var n=this,i=n.sizePolicy,r=n.align,o=e.flex,a=r,s=n.names,l=e[s.width],d=e[s.height],u=n._percentageRe,c=u.test(l),h="stretch"===r,f="stretchmax"===r,g=n.constrainAlign;return!t&&(h||o||c||g&&!f)&&(t=n.owner.getSizeModel()),h?!u.test(d)&&t[s.height].shrinkWrap&&(a="stretchmax"):f||(a=u.test(d)?"stretch":g&&!t[s.height].shrinkWrap?"stretchmax":""),(o||c)&&(t[s.width].shrinkWrap||(i=i.flex)),i[a]},flexSort:function(e,t){var n,i,r,o,a,s,l=this.names.maxWidth,d=this.names.minWidth,u=1/0,c=e.target,h=t.target,f=c.flex,g=h.flex,p=0;return r=c[l]||u,o=h[l]||u,n=c[d]||0,i=h[d]||0,a=isFinite(n)||isFinite(i),s=isFinite(r)||isFinite(o),(a||s)&&(s&&(p=r-o),0===p&&a&&(p=i-n),0===p&&(p=s?g-f:f-g)),p},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},roundFlex:function(e){return Math.ceil(e)},beginCollapse:function(e){var t=this;"vertical"===t.direction&&e.collapsedVertical()?(e.collapseMemento.capture(["flex"]),delete e.flex):"horizontal"===t.direction&&e.collapsedHorizontal()&&(e.collapseMemento.capture(["flex"]),delete e.flex)},beginExpand:function(e){e.collapseMemento.restore(["flex"])},beginLayout:function(e){var t=this,n=t.owner,i=n.stretchMaxPartner,r=t.innerCt.dom.style,o=t.names,a=t.overflowHandler;e.boxNames=o,a&&a.beginLayout(e),"string"==typeof i&&(i=Ext.getCmp(i)||n.query(i)[0]),e.stretchMaxPartner=i&&e.context.getCmp(i),t.callParent(arguments),e.innerCtContext=e.getEl("innerCt",t),e.targetElContext=e.getEl("targetEl",t),t.scrollParallel=n.scrollFlags[o.x],t.scrollPerpendicular=n.scrollFlags[o.y],t.scrollParallel&&(t.scrollPos=n.getTargetEl().dom[o.scrollLeft]),r.width="",r.height=""},beginLayoutCycle:function(e,t){var n=this,i=n.align,r=e.boxNames,o=n.pack,a=n._centerRe,s=r.heightModel,l=n.overflowHandler;l&&l.beginLayoutCycle(e,t),n.callParent(arguments),e.parallelSizeModel=e[r.widthModel],e.perpendicularSizeModel=e[s],e.boxOptions={align:i={stretch:"stretch"===i,stretchmax:"stretchmax"===i,center:a.test(i),bottom:n._endRe.test(i)},pack:o={center:a.test(o),end:"end"===o}},i.stretch&&e.perpendicularSizeModel.shrinkWrap&&(i.stretchmax=!0,i.stretch=!1),i.nostretch=!(i.stretch||i.stretchmax),e.parallelSizeModel.shrinkWrap&&(o.center=o.end=!1),n.cacheFlexes(e),n.targetEl.setWidth(2e4)},cacheFlexes:function(e){for(var t,n,i,r,o=this,a=e.boxNames,s=a.widthModel,l=a.heightModel,d=e.boxOptions.align.nostretch,u=0,c=e.childItems,h=c.length,f=[],g=0,p=a.minWidth,m=o._percentageRe,x=0,E=0;h--;)n=c[h],t=n.target,n[s].calculated&&(n.flex=i=t.flex,i?(u+=i,f.push(n),g+=t[p]||0):(r=m.exec(t[a.width]),n.percentageParallel=parseFloat(r[1])/100,++x)),d&&n[l].calculated&&(r=m.exec(t[a.height]),n.percentagePerpendicular=parseFloat(r[1])/100,++E);e.flexedItems=f,e.flexedMinSize=g,e.totalFlex=u,e.percentageWidths=x,e.percentageHeights=E,Ext.Array.sort(f,o.flexSortFn)},calculate:function(e){var t=this,n=t.getContainerSize(e),i=e.boxNames,r=e.state,o=r.boxPlan||(r.boxPlan={}),a=(e.targetContext,t.overflowHandler);o.targetSize=n,r.parallelDone||(r.parallelDone=t.calculateParallel(e,i,o)),r.perpendicularDone||(r.perpendicularDone=t.calculatePerpendicular(e,i,o)),r.parallelDone&&r.perpendicularDone?(t.publishInnerCtSize(e,t.reserveOffset?t.availableSpaceOffset:0),t.done&&e.boxOptions.align.stretchmax&&!r.stretchMaxDone&&(t.calculateStretchMax(e,i,o),r.stretchMaxDone=!0),a&&a.calculate(e)):t.done=!1},calculateParallel:function(e,t,n){var i,r,o,a,s,l,d,u,c,h,f,g=this,p=t.width,m=e.childItems,x=t.beforeX,E=t.afterX,v=t.setWidth,y=m.length,b=e.flexedItems,C=b.length,S=e.boxOptions.pack,w=g.padding,T=n.targetSize,P=T[p],I=0,k=w[x],M=k+w[E]+g.scrollOffset+(g.reserveOffset?g.availableSpaceOffset:0),R=Ext.getScrollbarSize()[t.width];if(!e.parallelSizeModel.shrinkWrap&&!T[t.gotWidth])return!1;if(R&&g.scrollPerpendicular&&e.parallelSizeModel.shrinkWrap&&!e.boxOptions.align.stretch&&!e.perpendicularSizeModel.shrinkWrap){if(!e.state.perpendicularDone)return!1;c=!0}for(i=0;y>i;++i)if(s=m[i],r=s.marginInfo||s.getMarginInfo(),I+=r[p],!s[t.widthModel].calculated&&(h=s.getProp(p),M+=h,isNaN(M)))return!1;if(M+=I,e.percentageWidths){if(f=P-I,isNaN(f))return!1;for(i=0;y>i;++i)s=m[i],s.percentageParallel&&(h=Math.ceil(f*s.percentageParallel),h=s.setWidth(h),M+=h)}if(e.parallelSizeModel.shrinkWrap)n.availableSpace=0,n.tooNarrow=!1;else if(n.availableSpace=P-M,n.tooNarrow=n.availableSpace<e.flexedMinSize,n.tooNarrow&&Ext.getScrollbarSize()[t.height]&&g.scrollParallel&&e.state.perpendicularDone)for(e.state.perpendicularDone=!1,i=0;y>i;++i)m[i].invalidate();for(u=M,o=n.availableSpace,a=e.totalFlex,i=0;C>i;i++)s=b[i],l=s.flex,d=g.roundFlex(l/a*o),d=s[v](d),u+=d,o=Math.max(0,o-d),a-=l;for(S.center?(k+=o/2,0>k&&(k=0)):S.end&&(k+=o),i=0;y>i;++i)s=m[i],r=s.marginInfo,k+=r[x],s.setProp(t.x,k),k+=r[E]+s.props[p];return u+=e.targetContext.getPaddingInfo()[p],e.state.contentWidth=u,c&&e.peek(t.contentHeight)>n.targetSize[t.height]&&(u+=R,e[t.hasOverflowY]=!0,e.target.componentLayout[t.setWidthInDom]=!0,e[t.invalidateScrollY]=Ext.isIE8),e[t.setContentWidth](u),!0},calculatePerpendicular:function(e,t,n){var i,r,o,a,s,l,d,u,c,h,f,g=this,p=e.perpendicularSizeModel.shrinkWrap,m=n.targetSize,x=e.childItems,E=x.length,v=Math.max,y=t.height,b=t.setHeight,C=t.beforeY,S=t.y,w=g.padding,T=w[C],P=m[y]-T-w[t.afterY],I=e.boxOptions.align,k=I.stretch,M=I.stretchmax,R=I.center,D=I.bottom,A=g.constrainAlign,F=0,L=0,O=g.onBeforeConstrainInvalidateChild,B=g.onAfterConstrainInvalidateChild,N=Ext.getScrollbarSize().height;if((k||(R||D)&&!p)&&isNaN(P))return!1;if(!k&&!e.parallelSizeModel.shrinkWrap&&!e.state.parallelDone&&g.scrollParallel)return!1;if(g.scrollParallel&&n.tooNarrow&&(p?h=!0:(P-=N,n.targetSize[y]-=N)),k)l=P;else{for(r=0;E>r;r++){if(d=x[r],a=(d.marginInfo||d.getMarginInfo())[y],f=d.percentagePerpendicular){if(++L,p)continue;o=f*P-a,o=d[t.setHeight](o)}else o=d.getProp(y);if(!p&&A&&d[t.heightModel].shrinkWrap&&o>P&&(d.invalidate({before:O,after:B,layout:g,childHeight:P,names:t}),e.state.parallelDone=!1),isNaN(F=v(F,o+a,d.target[t.minHeight]||0)))return!1}if(h&&(F+=N,e[t.hasOverflowX]=!0,e.target.componentLayout[t.setHeightInDom]=!0,e[t.invalidateScrollX]=Ext.isIE8),u=e.stretchMaxPartner,u&&(e.setProp("maxChildHeight",F),c=u.childItems,c&&c.length&&(F=v(F,u.getProp("maxChildHeight")),isNaN(F))))return!1;e[t.setContentHeight](F+g.padding[y]+e.targetContext.getPaddingInfo()[y]),h&&(F-=N),n.maxSize=F,M?l=F:(R||D||L)&&(l=A?p?F:P:p?F:v(P,F),l-=e.innerCtContext.getBorderInfo()[y])}for(r=0;E>r;r++)d=x[r],a=d.marginInfo||d.getMarginInfo(),i=T+a[C],k?d[b](l-a[y]):(f=d.percentagePerpendicular,p&&f&&(a=d.marginInfo||d.getMarginInfo(),o=f*l-a[y],o=d.setHeight(o)),R?(s=l-d.props[y],s>0&&(i=T+Math[g.alignRoundingMethod](s/2))):D&&(i=v(0,l-i-d.props[y]))),d.setProp(S,i);return!0},onBeforeConstrainInvalidateChild:function(e,t){var n=t.names.heightModel;e[n].constrainedMin||(e[n]=Ext.layout.SizeModel.calculated)},onAfterConstrainInvalidateChild:function(e,t){var n=t.names;e.setProp(n.beforeY,0),e[n.heightModel].calculated&&e[n.setHeight](t.childHeight)},calculateStretchMax:function(e,t,n){var i,r,o,a,s=this,l=t.height,d=t.width,u=e.childItems,c=u.length,h=n.maxSize,f=s.onBeforeStretchMaxInvalidateChild,g=s.onAfterStretchMaxInvalidateChild;for(o=0;c>o;++o)i=u[o],r=i.props,a=h-i.getMarginInfo()[l],(a!==r[l]||i[t.heightModel].constrained)&&i.invalidate({before:f,after:g,layout:s,childWidth:r[d],childHeight:a,childX:r.x,childY:r.y,names:t})},onBeforeStretchMaxInvalidateChild:function(e,t){var n=t.names.heightModel;e[n].constrainedMax||(e[n]=Ext.layout.SizeModel.calculated)},onAfterStretchMaxInvalidateChild:function(e,t){var n=t.names,i=t.childHeight,r=t.childWidth;e.setProp("x",t.childX),e.setProp("y",t.childY),e[n.heightModel].calculated&&e[n.setHeight](i),e[n.widthModel].calculated&&e[n.setWidth](r)},completeLayout:function(e){var t,n,i,r,o,a=this,s=e.boxNames,l=e.invalidateScrollX,d=e.invalidateScrollY,u=a.overflowHandler;u&&u.completeLayout(e),(l||d)&&(n=a.getTarget(),t=n.dom,o=t.style,l&&(i=n.getStyle("overflowX"),"auto"===i?(i=o.overflowX,o.overflowX="scroll"):l=!1),d&&(r=n.getStyle("overflowY"),"auto"===r?(r=o.overflowY,o.overflowY="scroll"):d=!1),(l||d)&&(t.scrollWidth,l&&(o.overflowX=i),d&&(o.overflowY=r))),a.scrollParallel&&(a.owner.getTargetEl().dom[s.scrollLeft]=a.scrollPos)},finishedLayout:function(e){var t=this.overflowHandler;t&&t.finishedLayout(e),this.callParent(arguments)},getLayoutItems:function(){var e,t,n,i,r,o,a,s=this.callParent(),l=s.length;for(n=0;l>n;++n)(i=s[n]).isSplitter||(a=i.splitter,i.hidden?a&&(a.hidden||(a.hidden=!0,a.el&&a.el.hide())):(o=a?"next"===a.collapseTarget:!1,t=null,e&&r?(r.hidden&&(r.hidden=!1,r.el&&r.el.show()),o&&(t=!0)):o&&(t=!e),null!==t&&a.hidden!==t&&(a.hidden=t,a.el&&a.el.setVisible(!t)),r=!o&&a,e=i));return e&&r&&!r.hidden&&(r.hidden=!0,r.el&&r.el.hide()),s},getScrollerEl:function(){return this.innerCt},insertSplitter:function(e,t,n,i){var r={xtype:"splitter",id:e.id+"-splitter",hidden:n,splitterFor:e,synthetic:!0},o=t+("prev"===i.collapseTarget?1:0);r[this.names.height]="100%",i&&Ext.apply(r,i),e.splitter=this.owner.add(o,r)},publishInnerCtSize:function(e,t){var n,i=this,r=e.boxNames,o=r.height,a=r.width,s=e.boxOptions.align,l=i.owner.dock,d=i.padding,u=e.state.boxPlan,c=u.targetSize,h=c[o],f=e.innerCtContext,g=(e.parallelSizeModel.shrinkWrap||u.tooNarrow&&i.scrollParallel?e.state.contentWidth-e.targetContext.getPaddingInfo()[a]:c[a])-(t||0);i.owner.tooNarrow=u.tooNarrow,s.stretch?n=h:(n=u.maxSize+d[r.beforeY]+d[r.afterY]+f.getBorderInfo()[o],e.perpendicularSizeModel.shrinkWrap||!s.center&&!s.bottom||(n=Math.max(h,n))),f[r.setWidth](g),f[r.setHeight](n),e.targetElContext.setWidth(e.innerCtContext.props.width-(this.vertical?0:t||0)),isNaN(g+n)&&(i.done=!1),!u.calculatedWidth||"left"!==l&&"right"!==l||e.setWidth(u.calculatedWidth,!0,!0)},onAdd:function(e,t){var n=this,i=n.enableSplitters&&e.split&&!e.isButton;n.callParent(arguments),i&&(i=i===!0?{collapseTarget:"next"}:Ext.isString(i)?{collapseTarget:"before"===i?"next":"prev"}:Ext.apply({collapseTarget:"before"===i.side?"next":"prev"},i),n.insertSplitter(e,t,!!e.hidden,i))},onRemove:function(e,t){var n,i=this,r=i.names,o=i.owner,a=e.splitter,s=i.overflowHandler;i.callParent(arguments),a&&o.contains(a)&&(o.doRemove(a,!0),e.splitter=null),s&&s.onRemove(e),e.layoutMarginCap===i.id&&delete e.layoutMarginCap,o.destroying||t||!e.rendered||(n=e.getEl(),n&&(n.setStyle(r.beforeY,""),n.setStyle(r.beforeX,""),n.setStyle("margin","")))},applyOverflowHandler:function(e,t){var n;return"string"==typeof e&&(e={type:e}),n=e.type,t&&t.type===e.type?(delete e.type,t.setConfig(e),t):(e.layout=this,Ext.Factory.boxOverflow(e))},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},calculateChildBox:Ext.deprecated(),calculateChildBoxes:Ext.deprecated(),updateChildBoxes:Ext.deprecated(),destroy:function(){var e=this;Ext.destroy(e.innerCt,e.overflowHandler),e.flexSortFn=e.innerCt=null,e.callParent(arguments)},getRenderData:function(){var e=this.callParent();return e.targetElCls=this.targetElCls,e},updateVertical:function(e){var t=e&&"vbox"||"hbox",n=this.overflowHandler,i=this.owner;Ext.apply(this,this._props[t]),n&&i&&i.rendered&&n.setVertical(e)},_props:{hbox:{direction:"horizontal",oppositeDirection:"vertical",horizontal:!0,vertical:!1,names:{beforeX:"left",beforeScrollX:"left",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},vbox:{direction:"vertical",oppositeDirection:"horizontal",horizontal:!1,vertical:!0,names:{beforeX:"top",beforeScrollX:"top",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}}}),Ext.define("Ext.layout.container.HBox",{extend:"Ext.layout.container.Box",alias:"layout.hbox",alternateClassName:"Ext.layout.HBoxLayout",type:"hbox",vertical:!1}),Ext.define("Ext.layout.container.VBox",{extend:"Ext.layout.container.Box",alias:"layout.vbox",alternateClassName:"Ext.layout.VBoxLayout",type:"vbox",vertical:!0}),Ext.define("Ext.toolbar.Toolbar",{extend:"Ext.container.Container",requires:["Ext.toolbar.Fill","Ext.layout.container.HBox","Ext.layout.container.VBox"],uses:["Ext.toolbar.Separator"],alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:!0,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",layout:void 0,vertical:!1,enableOverflow:!1,overflowHandler:null,defaultButtonUI:"default-toolbar",defaultFieldUI:"default",defaultFooterButtonUI:"default",defaultFooterFieldUI:"default",trackMenus:!0,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var e=this,t=e.layout;("right"===e.dock||"left"===e.dock)&&(e.vertical=!0),e.layout=t=Ext.applyIf(Ext.isString(t)?{type:t}:t||{},{type:e.vertical?"vbox":"hbox",align:e.vertical?"stretchmax":"middle"}),e.overflowHandler?t.overflowHandler=e.overflowHandler:e.enableOverflow&&(t.overflowHandler="menu"),e.vertical&&e.addClsWithUI("vertical"),"footer"===e.ui&&(e.ignoreBorderManagement=!0),e.callParent()},getRefItems:function(e){var t,n=this,i=n.callParent(arguments),r=n.layout;return e&&(n.enableOverflow||"menu"===n.overflowHandler)&&(t=r.overflowHandler,t&&t.menu&&(i=i.concat(t.menu.getRefItems(e)))),i},lookupComponent:function(e){var t=arguments;if("string"==typeof e){var n=Ext.toolbar.Toolbar,i=n.shortcutsHV[this.vertical?1:0][e]||n.shortcuts[e];e="string"==typeof i?{xtype:i}:i?Ext.apply({},i):{xtype:"tbtext",text:e},this.applyDefaults(e),t=[e]}return this.callParent(t)},onBeforeAdd:function(e){var t=this,n="footer"===t.ui,i=n?t.defaultFooterButtonUI:t.defaultButtonUI;e.isSegmentedButton?"default"!==e.getDefaultUI()||e.config.hasOwnProperty("defaultUI")||e.setDefaultUI(i):"default"!==e.ui||e.hasOwnProperty("ui")||(e.isButton?e.ui=i:e.isFormField&&(e.ui=n?t.defaultFooterFieldUI:t.defaultFieldUI)),e instanceof Ext.toolbar.Separator&&e.setUI(t.vertical?"vertical":"horizontal"),t.callParent(arguments)},onAdd:function(e){this.callParent(arguments),this.trackMenu(e)},onRemove:function(e){this.callParent(arguments),this.trackMenu(e,!0)},privates:{applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e},trackMenu:function(e,t){if(this.trackMenus&&e.menu){var n=t?"mun":"mon",i=this;i[n](e,"mouseover",i.onButtonOver,i),i[n](e,"menushow",i.onButtonMenuShow,i),i[n](e,"menuhide",i.onButtonMenuHide,i);
}},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(e){this.activeMenuBtn&&this.activeMenuBtn!==e&&(this.activeMenuBtn.hideMenu(),e.showMenu(),this.activeMenuBtn=e)},onButtonMenuShow:function(e){this.activeMenuBtn=e},onButtonMenuHide:function(e){delete this.activeMenuBtn}}}),Ext.define("Ext.dd.DragDrop",{requires:["Ext.dd.DragDropManager"],constructor:function(e,t,n){e&&this.init(e,t,n)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,triggerEvent:"mousedown",b4StartDrag:function(e,t){},startDrag:function(e,t){},b4Drag:function(e){},onDrag:function(e){},onDragEnter:function(e,t){},b4DragOver:function(e){},onDragOver:function(e,t){},b4DragOut:function(e){},onDragOut:function(e,t){},b4DragDrop:function(e){},onDragDrop:function(e,t){},onInvalidDrop:function(e){},b4EndDrag:function(e){},endDrag:function(e){},b4MouseDown:function(e){},onMouseDown:function(e){},onMouseUp:function(e){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(e,t,n){Ext.isNumber(t)&&(t={left:t,right:t,top:t,bottom:t}),t=t||this.defaultPadding;var i,r,o,a,s=Ext.get(this.getEl()).getBox(),l=Ext.get(e),d=l.getScroll(),u=l.dom;u==document.body?i={x:d.left,y:d.top,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()}:(r=l.getXY(),i={x:r[0],y:r[1],width:u.clientWidth,height:u.clientHeight}),o=s.y-i.y,a=s.x-i.x,this.resetConstraints(),this.setXConstraint(a-(t.left||0),i.width-a-s.width-(t.right||0),this.xTickSize),this.setYConstraint(o-(t.top||0),i.height-o-s.height-(t.bottom||0),this.yTickSize)},getEl:function(){return this._domRef||(this._domRef=Ext.getDom(this.id)),this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(e,t,n){var i=this;i.el=i.el||Ext.get(e),i.initTarget(e,t,n),Ext.get(i.id).on(i.triggerEvent,i.handleMouseDown,i)},initTarget:function(e,t,n){this.config=n||{},this.DDMInstance=Ext.dd.DragDropManager,this.groups={},"string"!=typeof e&&(e=Ext.id(e)),this.id=e,this.addToGroup(t?t:"default"),this.handleElId=e,this.setDragElId(e),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig(),this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0],this.isTarget=this.config.isTarget!==!1,this.maintainOffset=this.config.maintainOffset,this.primaryButtonOnly=this.config.primaryButtonOnly!==!1},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(e,t,n,i){t||0===t?n||0===n?this.padding=[e,t,n,i]:this.padding=[e,t,e,t]:this.padding=[e,e,e,e]},setInitPosition:function(e,t){var n,i,r,o=this.getEl();this.DDMInstance.verifyEl(o)&&(n=e||0,i=t||0,r=Ext.fly(o).getXY(),this.initPageX=r[0]-n,this.initPageY=r[1]-i,this.lastPageX=r[0],this.lastPageY=r[1],this.setStartPosition(r))},setStartPosition:function(e){var t=e||Ext.fly(this.getEl()).getXY();this.deltaSetXY=null,this.startPageX=t[0],this.startPageY=t[1]},addToGroup:function(e){this.groups[e]=!0,this.DDMInstance.regDragDrop(this,e)},removeFromGroup:function(e){this.groups[e]&&delete this.groups[e],this.DDMInstance.removeDDFromGroup(this,e)},setDragElId:function(e){this.dragElId=e},setHandleElId:function(e){"string"!=typeof e&&(e=Ext.id(e)),this.handleElId=e,this.DDMInstance.regHandle(this.id,e)},setOuterHandleElId:function(e){"string"!=typeof e&&(e=Ext.id(e)),Ext.get(e).on(this.triggerEvent,this.handleMouseDown,this),this.setHandleElId(e),this.hasOuterHandles=!0},unreg:function(){var e,t=this;t._domRef&&(e=Ext.fly(t.id),e&&e.un(t.triggerEvent,t.handleMouseDown,t)),t._domRef=null,t.DDMInstance._remove(t,t.autoGroup)},destroy:function(){this.unreg(),this.isDestroyed=!0},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(e,t){var n=this;n.primaryButtonOnly&&0!=e.button||n.isLocked()||(n.DDMInstance.refreshCache(n.groups),(n.hasOuterHandles||n.DDMInstance.isOverTarget(e.getPoint(),n))&&n.clickValidator(e)&&(n.setStartPosition(),n.b4MouseDown(e),n.onMouseDown(e),n.DDMInstance.handleMouseDown(e,n),n.DDMInstance.stopEvent(e)))},clickValidator:function(e){var t=e.getTarget();return this.isValidHandleChild(t)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(t,this.id))},addInvalidHandleType:function(e){var t=e.toUpperCase();this.invalidHandleTypes[t]=t},addInvalidHandleId:function(e){"string"!=typeof e&&(e=Ext.id(e)),this.invalidHandleIds[e]=e},addInvalidHandleClass:function(e){this.invalidHandleClasses.push(e)},removeInvalidHandleType:function(e){var t=e.toUpperCase();delete this.invalidHandleTypes[t]},removeInvalidHandleId:function(e){"string"!=typeof e&&(e=Ext.id(e)),delete this.invalidHandleIds[e]},removeInvalidHandleClass:function(e){for(var t=0,n=this.invalidHandleClasses.length;n>t;++t)this.invalidHandleClasses[t]==e&&delete this.invalidHandleClasses[t]},isValidHandleChild:function(e){var t,n,i,r=!0;try{t=e.nodeName.toUpperCase()}catch(o){t=e.nodeName}for(r=r&&!this.invalidHandleTypes[t],r=r&&!this.invalidHandleIds[e.id],n=0,i=this.invalidHandleClasses.length;r&&i>n;++n)r=!Ext.fly(e).hasCls(this.invalidHandleClasses[n]);return r},setXTicks:function(e,t){this.xTicks=[],this.xTickSize=t;var n,i={};for(n=this.initPageX;n>=this.minX;n-=t)i[n]||(this.xTicks[this.xTicks.length]=n,i[n]=!0);for(n=this.initPageX;n<=this.maxX;n+=t)i[n]||(this.xTicks[this.xTicks.length]=n,i[n]=!0);Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(e,t){this.yTicks=[],this.yTickSize=t;var n,i={};for(n=this.initPageY;n>=this.minY;n-=t)i[n]||(this.yTicks[this.yTicks.length]=n,i[n]=!0);for(n=this.initPageY;n<=this.maxY;n+=t)i[n]||(this.yTicks[this.yTicks.length]=n,i[n]=!0);Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(e,t,n){this.leftConstraint=e,this.rightConstraint=t,this.minX=this.initPageX-e,this.maxX=this.initPageX+t,n&&this.setXTicks(this.initPageX,n),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(e,t,n){this.topConstraint=e,this.bottomConstraint=t,this.minY=this.initPageY-e,this.maxY=this.initPageY+t,n&&this.setYTicks(this.initPageY,n),this.constrainY=!0},resetConstraints:function(){if(this.initPageX||0===this.initPageX){var e=this.maintainOffset?this.lastPageX-this.initPageX:0,t=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(e,t)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(e,t){if(t){if(t[0]>=e)return t[0];var n,i,r,o,a;for(n=0,i=t.length;i>n;++n)if(r=n+1,t[r]&&t[r]>=e)return o=e-t[n],a=t[r]-e,a>o?t[n]:t[r];return t[t.length-1]}return e},toString:function(){return"DragDrop "+this.id}}),Ext.define("Ext.dd.DD",{extend:"Ext.dd.DragDrop",requires:["Ext.dd.DragDropManager"],constructor:function(e,t,n){e&&this.init(e,t,n)},scroll:!0,autoOffset:function(e,t){var n=e-this.startPageX,i=t-this.startPageY;this.setDelta(n,i)},setDelta:function(e,t){this.deltaX=e,this.deltaY=t},setDragElPos:function(e,t){var n=this.getDragEl();this.alignElWithMouse(n,e,t)},alignElWithMouse:function(e,t,n){var i,r,o,a,s=this.getTargetCoord(t,n),l=e.dom?e:Ext.fly(e,"_dd"),d=l.getSize(),u=Ext.Element;return this.deltaSetXY?(i=this.cachedViewportSize,this.setLocalXY(l,Math.max(0,Math.min(s.x+this.deltaSetXY[0],i.width-d.width)),Math.max(0,Math.min(s.y+this.deltaSetXY[1],i.height-d.height)))):(i=this.cachedViewportSize={width:u.getDocumentWidth(),height:u.getDocumentHeight()},r=[Math.max(0,Math.min(s.x,i.width-d.width)),Math.max(0,Math.min(s.y,i.height-d.height))],l.setXY(r),o=this.getLocalX(l),a=l.getLocalY(),this.deltaSetXY=[o-s.x,a-s.y]),this.cachePosition(s.x,s.y),this.autoScroll(s.x,s.y,e.offsetHeight,e.offsetWidth),s},cachePosition:function(e,t){if(e)this.lastPageX=e,this.lastPageY=t;else{var n=Ext.fly(this.getEl()).getXY();this.lastPageX=n[0],this.lastPageY=n[1]}},autoScroll:function(e,t,n,i){if(this.scroll){var r=Ext.Element.getViewportHeight(),o=Ext.Element.getViewportWidth(),a=this.DDMInstance.getScrollTop(),s=this.DDMInstance.getScrollLeft(),l=n+t,d=i+e,u=r+a-t-this.deltaY,c=o+s-e-this.deltaX,h=40,f=document.all?80:30;l>r&&h>u&&window.scrollTo(s,a+f),a>t&&a>0&&h>t-a&&window.scrollTo(s,a-f),d>o&&h>c&&window.scrollTo(s+f,a),s>e&&s>0&&h>e-s&&window.scrollTo(s-f,a)}},getTargetCoord:function(e,t){var n=e-this.deltaX,i=t-this.deltaY;return this.constrainX&&(n<this.minX&&(n=this.minX),n>this.maxX&&(n=this.maxX)),this.constrainY&&(i<this.minY&&(i=this.minY),i>this.maxY&&(i=this.maxY)),n=this.getTick(n,this.xTicks),i=this.getTick(i,this.yTicks),{x:n,y:i}},applyConfig:function(){this.callParent(),this.scroll=this.config.scroll!==!1},b4MouseDown:function(e){var t=e.getXY();this.autoOffset(t[0],t[1])},b4Drag:function(e){var t=e.getXY();this.setDragElPos(t[0],t[1])},toString:function(){return"DD "+this.id},getLocalX:function(e){return e.getLocalX()},setLocalXY:function(e,t,n){e.setLocalXY(t,n)}}),Ext.define("Ext.dd.DDProxy",{extend:"Ext.dd.DD",statics:{dragElId:"ygddfdiv"},constructor:function(e,t,n){e&&(this.init(e,t,n),this.initFrame())},resizeFrame:!0,centerFrame:!1,createFrame:function(){var e,t,n=this,i=document.body;return i&&i.firstChild?(e=this.getDragEl(),void(e||(e=document.createElement("div"),e.id=this.dragElId,e.setAttribute("role","presentation"),t=e.style,t.position="absolute",t.visibility="hidden",t.cursor="move",t.border="2px solid #aaa",t.zIndex=999,i.insertBefore(e,i.firstChild)))):void setTimeout(function(){n.createFrame()},50)},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent(),this.resizeFrame=this.config.resizeFrame!==!1,this.centerFrame=this.config.centerFrame,this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(e,t){var n=(this.getEl(),this.getDragEl()),i=n.style;this._resizeProxy(),this.centerFrame&&this.setDelta(Math.round(parseInt(i.width,10)/2),Math.round(parseInt(i.height,10)/2)),this.setDragElPos(e,t),Ext.fly(n).show()},_resizeProxy:function(){if(this.resizeFrame){var e=this.getEl();Ext.fly(this.getDragEl()).setSize(e.offsetWidth,e.offsetHeight)}},b4MouseDown:function(e){var t=e.getXY(),n=t[0],i=t[1];this.autoOffset(n,i),this.setDragElPos(n,i)},b4StartDrag:function(e,t){this.showFrame(e,t)},b4EndDrag:function(e){Ext.fly(this.getDragEl()).hide()},endDrag:function(e){var t=this.getEl(),n=this.getDragEl();n.style.visibility="",this.beforeMove(),t.style.visibility="hidden",Ext.dd.DDM.moveToEl(t,n),n.style.visibility="hidden",t.style.visibility="",this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}}),Ext.define("Ext.dd.StatusProxy",{extend:"Ext.Component",animRepair:!1,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon" role="presentation"></div><div id="{id}-ghost" data-ref="ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost" role="presentation"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",ariaRole:"presentation",constructor:function(e){var t=this;e=e||{},Ext.apply(t,{hideMode:"visibility",hidden:!0,floating:!0,id:t.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:e.shadow||!1,renderTo:Ext.getDetachedBody()}),t.callParent(arguments),this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(e){e=e||this.dropNotAllowed,this.dropStatus!=e&&(this.el.replaceCls(this.dropStatus,e),this.dropStatus=e)},reset:function(e){var t=this,n=Ext.baseCSSPrefix+"dd-drag-proxy ";t.el.replaceCls(n+t.dropAllowed,n+t.dropNotAllowed),t.dropStatus=t.dropNotAllowed,e&&t.ghost.setHtml("")},update:function(e){"string"==typeof e?this.ghost.setHtml(e):(this.ghost.setHtml(""),e.style.margin="0",this.ghost.dom.appendChild(e));var t=this.ghost.dom.firstChild;t&&Ext.fly(t).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(e){this.callParent(),e&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},sync:function(){this.el.sync()},repair:function(e,t,n){var i=this;i.callback=t,i.scope=n,e&&i.animRepair!==!1?(i.el.addCls(i.repairCls),i.el.hideUnders(!0),i.anim=i.el.animate({duration:i.repairDuration||500,easing:"ease-out",to:{x:e[0],y:e[1]},stopAnimation:!0,callback:i.afterRepair,scope:i})):i.afterRepair()},afterRepair:function(){var e=this;e.hide(!0),e.el.removeCls(e.repairCls),"function"==typeof e.callback&&e.callback.call(e.scope||e),delete e.callback,delete e.scope}}),Ext.define("Ext.dd.DragSource",{extend:"Ext.dd.DDProxy",requires:["Ext.dd.StatusProxy","Ext.dd.DragDropManager"],dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(e,t){this.el=Ext.get(e),this.dragData||(this.dragData={}),Ext.apply(this,t),this.proxy||(this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})),this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:this.scroll===!0}]),this.dragging=!1},getDragData:function(e){return this.dragData},onDragEnter:function(e,t){var n,i=Ext.dd.DragDropManager.getDDById(t);this.cachedTarget=i,this.beforeDragEnter(i,e,t)!==!1&&(i.isNotifyTarget?(n=i.notifyEnter(this,e,this.dragData),this.proxy.setStatus(n)):this.proxy.setStatus(this.dropAllowed),this.afterDragEnter&&this.afterDragEnter(i,e,t))},beforeDragEnter:function(e,t,n){return!0},onDragOver:function(e,t){var n,i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);this.beforeDragOver(i,e,t)!==!1&&(i.isNotifyTarget&&(n=i.notifyOver(this,e,this.dragData),this.proxy.setStatus(n)),this.afterDragOver&&this.afterDragOver(i,e,t))},beforeDragOver:function(e,t,n){return!0},onDragOut:function(e,t){var n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);this.beforeDragOut(n,e,t)!==!1&&(n.isNotifyTarget&&n.notifyOut(this,e,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(n,e,t)),this.cachedTarget=null},beforeDragOut:function(e,t,n){return!0},onDragDrop:function(e,t){var n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);this.beforeDragDrop(n,e,t)!==!1&&(n.isNotifyTarget?n.notifyDrop(this,e,this.dragData)!==!1?this.onValidDrop(n,e,t):this.onInvalidDrop(n,e,t):this.onValidDrop(n,e,t),this.afterDragDrop&&this.afterDragDrop(n,e,t)),delete this.cachedTarget},beforeDragDrop:function(e,t,n){return!0},onValidDrop:function(e,t,n){this.hideProxy(),this.afterValidDrop&&this.afterValidDrop(e,t,n)},getRepairXY:function(e,t){return this.el.getXY()},onInvalidDrop:function(e,t,n){var i=this;t||(t=e,e=null,n=t.getTarget().id),i.beforeInvalidDrop(e,t,n)!==!1&&(i.cachedTarget&&(i.cachedTarget.isNotifyTarget&&i.cachedTarget.notifyOut(i,t,i.dragData),i.cacheTarget=null),i.proxy.repair(i.getRepairXY(t,i.dragData),i.afterRepair,i),i.afterInvalidDrop&&i.afterInvalidDrop(t,n))},afterRepair:function(){var e=this;Ext.enableFx&&e.el.highlight(e.repairHighlightColor),e.dragging=!1},beforeInvalidDrop:function(e,t,n){return!0},handleMouseDown:function(e){if(!this.dragging){var t=this.getDragData(e);t&&this.onBeforeDrag(t,e)!==!1&&(this.dragData=t,this.proxy.stop(),this.callParent(arguments))}},onBeforeDrag:function(e,t){return!0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){return this.proxy.ensureAttachedToBody(!0),this.callParent(arguments)},startDrag:function(e,t){this.proxy.reset(),this.proxy.hidden=!1,this.dragging=!0,this.proxy.update(""),this.onInitDrag(e,t),this.proxy.show()},onInitDrag:function(e,t){var n=this.el.dom.cloneNode(!0);return n.id=Ext.id(),this.proxy.update(n),this.onStartDrag(e,t),!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide(),this.proxy.reset(!0),this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(e){},endDrag:function(e){this.onEndDrag(this.dragData,e)},onEndDrag:function(e,t){},autoOffset:function(e,t){this.setDelta(-12,-20)},destroy:function(){this.callParent(),Ext.destroy(this.proxy)}}),Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(e,t){var n=this;n.panel=e,n.id=n.panel.id+"-ddproxy",Ext.apply(n,t)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var e=this;e.ghost&&(e.proxy&&(e.proxy.destroy(),delete e.proxy),e.panel.unghost(null,e.moveOnDrag),delete e.ghost)},show:function(){var e,t=this;t.ghost||(e=t.panel.getSize(),t.panel.el.setVisibilityMode(Ext.Element.DISPLAY),t.ghost=t.panel.ghost(),t.insertProxy&&(t.proxy=t.panel.el.insertSibling({role:"presentation",cls:Ext.baseCSSPrefix+"panel-dd-spacer"}),t.proxy.setSize(e)))},repair:function(e,t,n){this.hide(),Ext.callback(t,n||this)},moveProxy:function(e,t){this.proxy&&e.insertBefore(this.proxy.dom,t)}}),Ext.define("Ext.panel.DD",{extend:"Ext.dd.DragSource",requires:["Ext.panel.Proxy"],constructor:function(e,t){var n=this;n.panel=e,n.dragData={panel:e},n.panelProxy=new Ext.panel.Proxy(e,t),n.proxy=n.panelProxy.proxy,n.callParent([e.el,t]),n.setupEl(e)},setupEl:function(e){var t=this,n=e.header,i=e.body;n&&(t.setHandleElId(n.id),i=n.el),i?(i.setStyle("cursor","move"),t.scroll=!1):e.on("boxready",t.setupEl,t,{single:!0})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(e,t){this.panelProxy.show()},b4MouseDown:function(e){var t=e.getXY(),n=t[0],i=t[1];this.autoOffset(n,i)},onInitDrag:function(e,t){return this.onStartDrag(e,t),!0},createFrame:Ext.emptyFn,getDragEl:function(e){var t=this.panelProxy.ghost;return t?t.el.dom:void 0},endDrag:function(e){this.panelProxy.hide(),this.panel.saveState()},autoOffset:function(e,t){e-=this.startPageX,t-=this.startPageY,this.setDelta(e,t)},onInvalidDrop:function(e,t,n){var i=this;i.beforeInvalidDrop(e,t,n)!==!1&&(i.cachedTarget&&(i.cachedTarget.isNotifyTarget&&i.cachedTarget.notifyOut(i,t,i.dragData),i.cacheTarget=null),i.afterInvalidDrop&&i.afterInvalidDrop(t,n))}}),Ext.define("Ext.layout.component.Dock",{extend:"Ext.layout.component.Component",alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:!0,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:!1,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var e,t,n=this;n.callParent(),e=n.getRenderTarget(),t=n.getDockedItems(),n.finishRenderItems(e,t)},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},noBorderClasses:[Ext.baseCSSPrefix+"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},_itemCls:Ext.baseCSSPrefix+"docked",handleItemBorders:function(){var e,t,n,i,r,o,a,s=this,l=s.owner,d=s.lastDockedItems,u=s.borders,c=l.dockedItems.generation,h=s.noBorderClassesSides,f=s.borderWidthProps,g=s.collapsed;if(s.initializedBorders!=c&&(!l.border||l.manageBodyBorders)){for(s.initializedBorders=c,s.collapsed=!1,s.lastDockedItems=t=s.getLayoutItems(),s.collapsed=g,e={top:[],right:[],bottom:[],left:[]},n=0,i=t.length;i>n;n++)r=t[n],o=r.dock,r.ignoreBorderManagement||(e[o].satisfied||(e[o].push(r),e[o].satisfied=!0),e.top.satisfied||"bottom"===o||e.top.push(r),e.right.satisfied||"left"===o||e.right.push(r),e.bottom.satisfied||"top"===o||e.bottom.push(r),e.left.satisfied||"right"===o||e.left.push(r));if(d)for(n=0,i=d.length;i>n;n++)r=d[n],r.isDestroyed||r.ignoreBorderManagement||l.manageBodyBorders||r.removeCls(s.noBorderClasses);if(u)for(a in u)l.manageBodyBorders&&u[a].satisfied&&l.setBodyStyle(f[a],"");for(a in e)if(i=e[a].length,l.manageBodyBorders)e[a].satisfied&&l.setBodyStyle(f[a],"1px");else{for(n=0;i>n;n++)e[a][n].addCls(h[a]);!e[a].satisfied&&!l.bodyBorder||l.bodyBorder===!1?l.addBodyCls(h[a]):l.removeBodyCls(h[a])}s.borders=e}},beforeLayoutCycle:function(e){var t,n,i=this,r=i.owner,o=i.sizeModels.shrinkWrap,a=r.shrinkWrapDock;r.collapsed&&(r.collapsedVertical()?(n=!0,e.measureDimensions=1):(t=!0,e.measureDimensions=2)),e.collapsedVert=n,e.collapsedHorz=t,n?e.heightModel=o:t&&(e.widthModel=o),a=a===!0?3:a||0,e.shrinkWrapDockHeight=1&a&&e.heightModel.shrinkWrap,e.shrinkWrapDockWidth=2&a&&e.widthModel.shrinkWrap},beginLayout:function(e){var t,n,i,r,o,a,s,l=this,d=l.owner,u=l.getLayoutItems(),c=e.context,h=u.length,f=l.lastCollapsedState;for(l.callParent(arguments),a=d.getCollapsed(),a!==f&&void 0!==f&&(l.owner.collapsed?(e.isCollapsingOrExpanding=1,d.addClsWithUI(d.collapsedCls)):(e.isCollapsingOrExpanding=2,d.removeClsWithUI(d.collapsedCls),e.lastCollapsedState=l.lastCollapsedState)),l.lastCollapsedState=a,e.dockedItems=t=[],n=0;h>n;n++)i=u[n],i.rendered&&(s=i.dock,r=c.getCmp(i),r.dockedAt={x:0,y:0},r.offsets=o=Ext.Element.parseBox(i.offsets||0),r.horizontal="top"==s||"bottom"==s,o.width=o.left+o.right,o.height=o.top+o.bottom,t.push(r));e.bodyContext=e.getEl("body")},beginLayoutCycle:function(e){var t,n,i,r=this,o=e.dockedItems,a=o.length,s=r.owner,l=s.frameBody,d=r.lastHeightModel;for(r.callParent(arguments),r.owner.manageHeight?r.lastBodyDisplay&&(s.body.dom.style.display=r.lastBodyDisplay=""):("inline-block"!==r.lastBodyDisplay&&(s.body.dom.style.display=r.lastBodyDisplay="inline-block"),d&&d.shrinkWrap&&!e.heightModel.shrinkWrap&&(s.body.dom.style.marginBottom="")),e.widthModel.auto&&(e.widthModel.shrinkWrap&&s.el.setWidth(null),s.body.setWidth(null),l&&l.setWidth(null)),e.heightModel.auto&&(s.body.setHeight(null),l&&l.setHeight(null)),e.collapsedVert?e.setContentHeight(0):e.collapsedHorz&&e.setContentWidth(0),t=0;a>t;t++)if(n=o[t].target,i=n.dock,"right"==i)n.setLocalX(0);else if("left"!=i)continue},calculate:function(e){var t,n,i,r,o,a=this,s=a.measureAutoDimensions(e,e.measureDimensions),l=e.state,d=l.horzDone,u=l.vertDone,c=e.bodyContext;for(e.borderInfo||e.getBorderInfo(),e.paddingInfo||e.getPaddingInfo(),e.frameInfo||e.getFrameInfo(),c.borderInfo||c.getBorderInfo(),c.paddingInfo||c.getPaddingInfo(),e.frameBorder||((t=e.framing)?(e.frameBorder=t.border,e.framePadding=t.padding):(e.frameBorder=e.borderInfo,e.framePadding=e.paddingInfo)),n=!d&&a.createAxis(e,s.contentWidth,e.widthModel,a.horzAxisProps,e.collapsedHorz),i=!u&&a.createAxis(e,s.contentHeight,e.heightModel,a.vertAxisProps,e.collapsedVert),r=0,o=e.dockedItems.length;o--;++r)n&&a.dockChild(e,n,o,r),i&&a.dockChild(e,i,o,r);n&&a.finishAxis(e,n)&&(l.horzDone=d=n),i&&a.finishAxis(e,i)&&(l.vertDone=u=i),d&&u&&a.finishConstraints(e,d,u)?a.finishPositions(e,d,u):a.done=!1},createAxis:function(e,t,n,i,r){var o,a,s,l,d=this,u=0,c=d.owner,h=c[i.maxSize],f=c[i.minSize]||0,g=i.dockBegin,p=i.dockEnd,m=i.pos,x=i.size,E=null!=h,v=n.shrinkWrap;return v?r?l=0:(o=e.bodyContext,l=t+o.borderInfo[x]):(a=e.frameBorder,s=e.framePadding,u=a[g]+s[g],l=e.getProp(x)-(a[p]+s[p])),{shrinkWrap:n.shrinkWrap,sizeModel:n,initialBegin:u,begin:u,end:l,collapsed:r,horizontal:i.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:l-u,maxChildSize:0,hasMinMaxConstraints:(f||E)&&n.shrinkWrap,minSize:f,maxSize:E?h:1e9,bodyPosProp:d.owner.manageHeight?m:i.marginBegin,dockBegin:g,dockEnd:p,posProp:m,sizeProp:x,setSize:i.setSize,shrinkWrapDock:e[i.shrinkWrapDock],sizeModelName:i.sizeModel,dockedPixelsEnd:0}},dockChild:function(e,t,n,i){var r,o,a=this,s=e.dockedItems[t.shrinkWrap?n:i],l=s.target,d=l.dock,u=t.sizeProp;l.ignoreParentFrame&&e.isCollapsingOrExpanding&&s.clearMarginCache(),s.marginInfo||s.getMarginInfo(),d==t.dockBegin?r=t.shrinkWrap?a.dockOutwardBegin(e,s,l,t):a.dockInwardBegin(e,s,l,t):d==t.dockEnd?r=t.shrinkWrap?a.dockOutwardEnd(e,s,l,t):a.dockInwardEnd(e,s,l,t):t.shrinkWrapDock?(o=s.getProp(u)+s.marginInfo[u],t.maxChildSize=Math.max(t.maxChildSize,o),r=0):r=a.dockStretch(e,s,l,t),s.dockedAt[t.posProp]=r},dockInwardBegin:function(e,t,n,i){var r,o,a,s=i.begin,l=i.sizeProp,d=n.ignoreParentFrame;return d&&(i.ignoreFrameBegin=t,a=n.dock,r=e.frameBorder[a],s-=r+e.framePadding[a]),n.overlay||(o=t.getProp(l)+t.marginInfo[l],i.begin+=o,d&&(i.begin-=r)),s},dockInwardEnd:function(e,t,n,i){var r,o=i.sizeProp,a=t.getProp(o)+t.marginInfo[o],s=i.end-a;return n.overlay||(i.end=s),n.ignoreParentFrame&&(i.ignoreFrameEnd=t,r=e.frameBorder[n.dock],s+=r+e.framePadding[n.dock],i.end+=r),s},dockOutwardBegin:function(e,t,n,i){var r,o=i.begin,a=i.sizeProp;return i.collapsed?i.ignoreFrameBegin=i.ignoreFrameEnd=t:n.ignoreParentFrame&&(i.ignoreFrameBegin=t),n.overlay||(r=t.getProp(a)+t.marginInfo[a],o-=r,i.begin=o),o},dockOutwardEnd:function(e,t,n,i){var r,o=i.end,a=i.sizeProp;return r=t.getProp(a)+t.marginInfo[a],i.collapsed?i.ignoreFrameBegin=i.ignoreFrameEnd=t:n.ignoreParentFrame&&(i.ignoreFrameEnd=t),n.overlay||(i.end=o+r,i.dockedPixelsEnd+=r),o},dockStretch:function(e,t,n,i){var r,o,a=n.dock,s=i.sizeProp,l="top"==a||"bottom"==a,d=e.frameBorder,u=t.offsets,c=e.framePadding,h=l?"right":"bottom",f=l?"left":"top",g=i.begin+u[f];return n.stretch!==!1&&(o=i.end-g-u[h],n.ignoreParentFrame&&(g-=c[f]+d[f],o+=c[s]+d[s]),r=t.marginInfo,o-=r[s],t[i.setSize](o)),g},finishAxis:function(e,t){if(isNaN(t.maxChildSize))return!1;var n,i,r,o,a=t.begin,s=t.end-a,l=t.collapsed,d=t.setSize,u=t.dockBegin,c=t.dockEnd,h=e.framePadding,f=e.frameBorder,g=f[u],p=e.framing,m=p&&p[u],x=l?0:h[u],E=t.sizeProp,v=t.ignoreFrameBegin,y=t.ignoreFrameEnd,b=e.bodyContext,C=Math.max(g+x-m,0);return t.shrinkWrap?(i=t.initialSize,p?(r=-a+g+x,n=r-m-C):(n=-a,r=n+x),l||(s+=h[E]),v?(r-=g,n-=g,v.dockedAt[t.posProp]-=x):s+=g,l||(y?y.dockedAt[t.posProp]+=h[c]:s+=f[c]),t.size=s,t.horizontal||this.owner.manageHeight||(o=!1)):(p?(r=0,n=a-m-C):(r=-g,n=a-x-g),i=s),t.delta=r,b[d](i,o),b.setProp(t.bodyPosProp,n),!isNaN(s)},beforeInvalidateShrinkWrapDock:function(e,t){var n=t.axis.sizeModelName;e[n].constrainedMin||(e[n]=Ext.layout.SizeModel.calculated)},afterInvalidateShrinkWrapDock:function(e,t){var n,i=t.axis,r=t.layout;e[i.sizeModelName].calculated&&(n=r.dockStretch(t.ownerContext,e,e.target,i),e.setProp(i.posProp,i.delta+n))},finishConstraints:function(e,t,n){var i,r,o,a,s,l,d,u,c,h,f=this,g=f.sizeModels,p=t.shrinkWrap,m=n.shrinkWrap,x=f.owner;if(p&&(l=t.size,d=t.collapsed?0:t.minSize,u=t.maxSize,c=t.maxChildSize,h=Math.max(l,c),h>u?(s=g.constrainedMax,o=u):d>h?(s=g.constrainedMin,o=d):c>l?(s=g.constrainedDock,x.dockConstrainedWidth=o=c):o=l),m&&(l=n.size,d=n.collapsed?0:n.minSize,u=n.maxSize,c=n.maxChildSize,h=Math.max(l,c+l-n.initialSize),h>u?(a=g.constrainedMax,r=u):d>h?(a=g.constrainedMin,r=d):c>l?(a=g.constrainedDock,x.dockConstrainedHeight=r=c):(e.collapsedVert||x.manageHeight||(i=!1,e.bodyContext.setProp("margin-bottom",n.dockedPixelsEnd)),r=l)),s||a){if(s&&a&&s.constrainedMax&&a.constrainedByMin)return e.invalidate({widthModel:s}),!1;if(!e.widthModel.calculatedFromShrinkWrap&&!e.heightModel.calculatedFromShrinkWrap)return e.invalidate({widthModel:s,heightModel:a}),!1}else f.invalidateAxes(e,t,n);return p&&(e.setWidth(o),s&&(e.widthModel=s)),m&&(e.setHeight(r,i),a&&(e.heightModel=a)),!0},invalidateAxes:function(e,t,n){var i,r,o,a,s,l,d,u,c=this.beforeInvalidateShrinkWrapDock,h=this.afterInvalidateShrinkWrapDock,f=t.end-t.begin,g=n.initialSize,p=t.shrinkWrapDock&&t.maxChildSize<=f,m=n.shrinkWrapDock&&n.maxChildSize<=g;if(p||m)for(m&&(n.begin=n.initialBegin,n.end=n.begin+n.initialSize),i=e.dockedItems,o=0,r=i.length;r>o;++o)a=i[o],l=a.horizontal,d=null,p&&l?(u=t.sizeProp,s=f,d=t):m&&!l&&(u=n.sizeProp,s=g,d=n),d&&(s-=a.getMarginInfo()[u],s!==a.props[u]&&a.invalidate({before:c,after:h,axis:d,ownerContext:e,layout:this}))},finishPositions:function(e,t,n){var i,r,o=e.dockedItems,a=o.length,s=t.delta,l=n.delta;for(i=0;a>i;++i)r=o[i],r.setProp("x",s+r.dockedAt.x),r.setProp("y",l+r.dockedAt.y)},finishedLayout:function(e){var t=this,n=e.target;t.callParent(arguments),e.animatePolicy||(1===e.isCollapsingOrExpanding?n.afterCollapse(!1):2===e.isCollapsingOrExpanding&&n.afterExpand(!1))},getAnimatePolicy:function(e){var t,n,i=this;return 1==e.isCollapsingOrExpanding?t=i.lastCollapsedState:2==e.isCollapsingOrExpanding&&(t=e.lastCollapsedState),"left"==t||"right"==t?n=i.horizontalCollapsePolicy:("top"==t||"bottom"==t)&&(n=i.verticalCollapsePolicy),n},getDockedItems:function(e,t){var n,i,r,o,a,s,l=this,d="visual"===e,u=d?Ext.ComponentQuery.query("[rendered]",l.owner.dockedItems.items):l.owner.dockedItems.items,c=u&&u.length&&e!==!1;if(null==t)r=c&&!d?u.slice():u;else{for(r=[],o=0,s=u.length;s>o;++o)i=u[o].dock,a="top"==i||"left"==i,(t?a:!a)&&r.push(u[o]);c=c&&r.length}return c&&(n="render"==(e=e||"render"),Ext.Array.sort(r,function(t,i){var r,o;return!n||(r=l.owner.dockOrder[t.dock])===(o=l.owner.dockOrder[i.dock])||r+o?(r=l.getItemWeight(t,e),o=l.getItemWeight(i,e),void 0!==r&&void 0!==o?r-o:0):r-o})),r||[]},getItemWeight:function(e,t){var n=e.weight||this.owner.defaultDockWeights[e.dock];return n[t]||n},getLayoutItems:function(){var e,t,n,i,r,o=this;if(o.owner.collapsed)r=o.owner.getCollapsedDockedItems();else for(e=o.getDockedItems("visual"),t=e.length,r=[],i=0;t>i;i++)n=e[i],n.hidden||r.push(n);return r},measureContentWidth:function(e){var t=e.bodyContext;return t.el.getWidth()-t.getBorderInfo().width},measureContentHeight:function(e){var t=e.bodyContext;return t.el.getHeight()-t.getBorderInfo().height},redoLayout:function(e){var t=this,n=t.owner;1==e.isCollapsingOrExpanding?(n.reExpander&&n.reExpander.el.show(),n.addClsWithUI(n.collapsedCls),e.redo(!0)):2==e.isCollapsingOrExpanding&&(n.removeClsWithUI(n.collapsedCls),e.bodyContext.redo())},renderChildren:function(){var e=this,t=e.getDockedItems(),n=e.getRenderTarget();e.handleItemBorders(),e.renderItems(t,n)},renderItems:function(e,t){var n,i,r,o,a=this,s=e.length,l=0,d=0,u=0,c=a.getRenderTarget().dom.childNodes,h=c.length;for(n=0,i=0;h>n&&(r=c[n],1!==r.nodeType||!Ext.fly(r).hasCls(Ext.baseCSSPrefix+"resizable-handle"));n++){for(i=0;s>i&&(o=e[i],!o.rendered||o.el.dom!==r);i++);i===s&&u++}for(;s>l;l++,d++)o=e[l],l!==d||"right"!==o.dock&&"bottom"!==o.dock||(d+=u),o&&!o.rendered?a.renderItem(o,t,d):a.isValidParent(o,t,d)||a.moveItem(o,t,d)},undoLayout:function(e){var t=this,n=t.owner;1==e.isCollapsingOrExpanding?(n.reExpander&&n.reExpander.el.hide(),n.removeClsWithUI(n.collapsedCls),e.undo(!0)):2==e.isCollapsingOrExpanding&&(n.addClsWithUI(n.collapsedCls),e.bodyContext.undo())},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{
setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(e,t){var n,i,r=this,o=r.sizePolicy,a=r.owner.shrinkWrapDock;return e.stretch===!1?o.nostretch:(n=e.dock,i="left"==n||"right"==n,a=a===!0?3:a||0,i?(o=o.vert,a=1&a):(o=o.horz,a=2&a),a&&(t||(t=r.owner.getSizeModel()),t[i?"height":"width"].shrinkWrap)?o.shrinkWrap:o.stretch)},configureItem:function(e,t){this.callParent(arguments),e.addCls(this._itemCls),e.ignoreBorderManagement||e.addClsWithUI(this.getDockCls(e.dock))},getDockCls:function(e){return"docked-"+e},afterRemove:function(e){var t;this.callParent(arguments),e.removeCls(this._itemCls),e.ignoreBorderManagement||e.removeClsWithUI(this.getDockCls(e.dock)),t=e.el.dom,!e.destroying&&t&&t.parentNode.removeChild(t),this.childrenChanged=!0},borderCollapseMap:{},getBorderCollapseTable:function(){var e,t=this,n=t.borderCollapseMap,i=t.owner,r=i.baseCls,o=i.ui;return n=n[r]||(n[r]={}),e=n[o],e||(r+="-"+o+"-outer-border-",n[o]=e=[0,r+"l",r+"b",r+"bl",r+"r",r+"rl",r+"rb",r+"rbl",r+"t",r+"tl",r+"tb",r+"tbl",r+"tr",r+"trl",r+"trb",r+"trbl"]),e}}),Ext.define("Ext.util.Memento",function(){function e(e,t,n,i){e[i?i+n:n]=t[n]}function t(e,t,n){delete e[n]}function n(e,t,n,r){var o=r?r+n:n,a=e[o];(a||e.hasOwnProperty(o))&&i(t,n,a)}function i(e,t,n){Ext.isDefined(n)?e[t]=n:delete e[t]}function r(e,t,n,i,r){if(t)if(Ext.isArray(i)){var o,a=i.length;for(o=0;a>o;o++)e(t,n,i[o],r)}else e(t,n,i,r)}return{data:null,target:null,constructor:function(e,t){this.data={},e&&(this.target=e,t&&this.capture(t))},capture:function(t,n,i){var o=this;r(e,o.data||(o.data={}),n||o.target,t,i)},remove:function(e){r(t,this.data,null,e)},restore:function(e,t,i,o){r(n,this.data,i||this.target,e,o),t!==!1&&this.remove(e)},restoreAll:function(e,t){var n,r=this,o=t||this.target,a=r.data;e=e!==!1;for(n in a)a.hasOwnProperty(n)&&(i(o,n,a[n]),e&&delete a[n])}}}()),Ext.define("Ext.container.DockingContainer",{requires:["Ext.util.MixedCollection","Ext.Element"],isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(e,t){var n,i,r,o=this,a=0;for(e=o.prepareItems(e),r=e.length;r>a;a++)i=e[a],i.dock=i.dock||"top",("left"===i.dock||"right"===i.dock)&&o.horizontalDocks++,void 0!==t?(a+=t,o.dockedItems.insert(a,i)):o.dockedItems.add(i),n=!!i.instancedCmp,delete i.instancedCmp,i.onAdded(o,a,n),delete i.initOwnerCt,o.hasListeners.dockedadd&&o.fireEvent("dockedadd",o,i,a),o.onDockedAdd!==Ext.emptyFn&&o.onDockedAdd(i);return o.rendered&&!o.suspendLayout&&o.updateLayout(),e},destroyDockedItems:function(){var e,t=this.dockedItems;if(t)for(;e=t.first();)this.removeDocked(e,!0)},doRenderDockedItems:function(e,t,n){var i,r,o=t.$comp,a=o.componentLayout;a.getDockedItems&&!t.$skipDockedItems&&(i=a.getDockedItems("render",!n),r=i&&a.getItemsRenderTree(i),r&&Ext.DomHelper.generateMarkup(r,e))},getDockedComponent:function(e){return Ext.isObject(e)&&(e=e.getItemId()),this.dockedItems.get(e)},getDockedItems:function(e,t){var n=this.getComponentLayout().getDockedItems("render",t);return e&&n.length&&(n=Ext.ComponentQuery.query(e,n)),n},getDockingRefItems:function(e,t){var n,i=e&&"*,* *",r=this.getDockedItems(i,!0);return r.push.apply(r,t),n=this.getDockedItems(i,!1),r.push.apply(r,n),r},initDockingItems:function(){var e=this,t=e.dockedItems;t&&t.isMixedCollection||(e.dockedItems=new Ext.util.AbstractMixedCollection(!1,e.getComponentId),t&&e.addDocked(t))},insertDocked:function(e,t){this.addDocked(t,e)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(e,t){var n,i,r=this;return t=t===!0||t!==!1&&r.autoDestroy,r.dockedItems.contains(e)?(("left"===e.dock||"right"===e.dock)&&r.horizontalDocks--,n=r.componentLayout,i=n&&r.rendered,i&&n.onRemove(e),r.dockedItems.remove(e),e.onRemoved(e.destroying||t),r.onDockedRemove(e),t?e.destroy():i&&n.afterRemove(e),r.hasListeners.dockedremove&&r.fireEvent("dockedremove",r,e),r.destroying||r.suspendLayout||r.updateLayout(),e):e},moveDocked:function(e,t){this.rendered&&Ext.suspendLayouts(),this.removeDocked(e,!1),e.dock=t,this.addDocked(e),this.rendered&&(e.frame&&(Ext.getDetachedBody().appendChild(e.el),e.updateFrame()),Ext.resumeLayouts(!0))},setupDockingRenderTpl:function(e){e.renderDockedItems=this.doRenderDockedItems}}),Ext.define("Ext.panel.Panel",{extend:"Ext.container.Container",alias:"widget.panel",alternateClassName:"Ext.Panel",requires:["Ext.panel.Header","Ext.util.MixedCollection","Ext.toolbar.Toolbar","Ext.fx.Anim","Ext.util.KeyMap","Ext.panel.DD","Ext.XTemplate","Ext.layout.component.Dock","Ext.util.Memento"],mixins:{docking:"Ext.container.DockingContainer"},childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyRole"> role="{bodyRole}"<tpl else> role="presentation"</tpl>','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],headerPosition:"top",iconAlign:"left",titleAlign:"left",titleRotation:"default",beforeRenderConfig:{glyph:null,headerPosition:null,icon:null,iconAlign:null,iconCls:null,title:null,titleAlign:null,titleRotation:null},animCollapse:Ext.enableFx,border:!0,closable:!1,closeAction:"destroy",collapsed:!1,collapsedCls:"collapsed",collapseFirst:!0,collapsible:void 0,constrain:!1,constrainHeader:!1,floatable:!0,frame:!1,frameHeader:!0,hideCollapseTool:!1,manageHeight:!0,maskElement:"el",minButtonWidth:75,preventHeader:!1,shrinkWrapDock:!1,titleCollapse:void 0,baseCls:Ext.baseCSSPrefix+"panel",bodyPosProps:{x:"x",y:"y"},componentLayout:"dock",contentPaddingProperty:"bodyPadding",emptyArray:[],isPanel:!0,defaultBindProperty:"title",addBodyCls:function(e){var t=this,n=t.rendered?t.body:t.getProtoBody();return n.addCls(e),t},addTool:function(e){Ext.isArray(e)||(e=[e]);var t,n,i=this,r=i.header,o=e.length,a=i.tools;for(r&&r.isHeader||(r=null,a||(i.tools=a=[])),t=0;o>t;t++)n=e[t],n.toolOwner=i,r?r.addTool(n):a.push(n);i.updateHeader()},addTools:Ext.emptyFn,setCollapsible:function(e){var t=this,n=t.collapsible,i=t.collapseTool;t.collapsible=e,e&&!n?(t.updateCollapseTool(),i=t.collapseTool,i&&i.show()):!e&&n&&i&&i.hide()},addUIClsToElement:function(e){var t=this,n=t.callParent(arguments);return t.addBodyCls([Ext.baseCSSPrefix+e,t.baseCls+"-body-"+e,t.baseCls+"-body-"+t.ui+"-"+e]),n},afterCollapse:function(e){var t=this;t.ownerLayout;t.isCollapsingOrExpanding=0,t.updateCollapseTool(),e&&t.removeCls(Ext.baseCSSPrefix+"animating-size"),t.setHiddenDocked(),t.fireEvent("collapse",t)},afterExpand:function(e){var t=this;t.ownerLayout;t.isCollapsingOrExpanding=0,t.updateCollapseTool(),e&&t.removeCls(Ext.baseCSSPrefix+"animating-size"),t.fireEvent("expand",t),t.fireHierarchyEvent("expand")},beforeDestroy:function(){var e=this;Ext.destroy(e.placeholder,e.ghostPanel,e.dd),this.destroyDockedItems(),e.callParent()},beforeRender:function(){var e,t=this;t.callParent(),t.initTools(),t.preventHeader||t.header===!1||t.updateHeader(),t.collapsed&&(t.isPlaceHolderCollapse()?t.hidden||(t.setHiddenState(!0),t.preventCollapseFire=!0,t.placeholderCollapse(),delete t.preventCollapseFire,e=t.collapsed,t.collapsed=!1):(t.beginCollapse(),t.addClsWithUI(t.collapsedCls))),e&&(t.collapsed=e)},getMemento:function(e){var t=this;return e&&"string"==typeof e?(e+="Memento",t[e]||(t[e]=new Ext.util.Memento(t))):void 0},beginCollapse:function(){var e,t=this,n=t.lastBox,i=t.rendered,r=t.getMemento("collapse"),o=t.getSizeModel(),a=t.header;r.capture(["height","minHeight","width","minWidth"]),n&&r.capture(t.restoreDimension(),n,"last."),t.collapsedVertical()?(o.width.shrinkWrap&&(t.width=i?t.getWidth():t.width||t.minWidth||100),delete t.height,t.minHeight=0):t.collapsedHorizontal()&&(o.height.shrinkWrap&&(t.height=i?t.getHeight():t.height||t.minHeight||100),delete t.width,t.minWidth=0),t.ownerCt&&t.ownerCt.getLayout().beginCollapse(t),t.isPlaceHolderCollapse()||a===!1||(a===(e=t.getReExpander())?(a.collapseImmune=!0,a.getInherited().collapseImmune=!0,a.addClsWithUI(t.getHeaderCollapsedClasses(a)),a.rendered&&a.updateFrame()):e.el&&(e.el.show(),e.hidden=!1)),t.resizer&&t.resizer.disable()},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},beginExpand:function(){var e,t=this,n=t.lastBox,i=t.getMemento("collapse"),r=t.restoreDimension(),o=t.header;i&&(i.restore(["minHeight","minWidth",r]),n&&i.restore(r,!0,n,"last.")),t.ownerCt&&t.ownerCt.getLayout().beginExpand(t),t.isPlaceHolderCollapse()||o===!1||(o===(e=t.getReExpander())?(delete o.collapseImmune,delete o.getInherited().collapseImmune,o.removeClsWithUI(t.getHeaderCollapsedClasses(o)),o.rendered&&(o.expanding=!0,o.updateFrame(),delete o.expanding)):(e.hidden=!0,e.el.hide())),t.resizer&&t.resizer.enable()},bridgeToolbars:function(){function e(e,t,n){return Ext.isArray(e)?e={xtype:"toolbar",items:e}:e.xtype||(e.xtype="toolbar"),e.dock=t,("left"==t||"right"==t)&&(e.vertical=!0),n&&(e.layout=Ext.applyIf(e.layout||{},{pack:{left:"start",center:"center"}[i.buttonAlign]||"end"})),e}var t,n,i=this,r=[],o=i.minButtonWidth;i.tbar&&(r.push(e(i.tbar,"top")),i.tbar=null),i.bbar&&(r.push(e(i.bbar,"bottom")),i.bbar=null),i.buttons&&(i.fbar=i.buttons,i.buttons=null),i.fbar&&(t=e(i.fbar,"bottom",!0),t.ui="footer",o&&(n=t.defaults,t.defaults=function(e){var t,i=n||{},r=!e.xtype||e.isButton;return r||(t=Ext.ClassManager.getByAlias("widget."+e.xtype),t&&(r=t.prototype.isButton)),!r||"minWidth"in i||(i=Ext.apply({minWidth:o},i)),i}),r.push(t),i.fbar=null),i.lbar&&(r.push(e(i.lbar,"left")),i.lbar=null),i.rbar&&(r.push(e(i.rbar,"right")),i.rbar=null),i.dockedItems?i.dockedItems.isMixedCollection?i.addDocked(r):(Ext.isArray(i.dockedItems)||(i.dockedItems=[i.dockedItems]),i.dockedItems=i.dockedItems.concat(r)):i.dockedItems=r},close:function(){this.fireEvent("beforeclose",this)!==!1&&this.doClose()},collapse:function(e,t){var n=this,i=e||n.collapseDirection,r=n.ownerCt,o=n.ownerLayout,a=n.rendered;return n.isCollapsingOrExpanding?n:(arguments.length<2&&(t=n.animCollapse),n.collapsed||n.fireEvent("beforecollapse",n,e,t)===!1?n:o&&o.onBeforeComponentCollapse&&o.onBeforeComponentCollapse(n)===!1?n:a&&r&&n.isPlaceHolderCollapse()?n.placeholderCollapse(e,t):(n.collapsed=i,a&&n.beginCollapse(),n.getInherited().collapsed=!0,n.fireHierarchyEvent("collapse"),a&&n.doCollapseExpand(1,t),n))},collapsedHorizontal:function(){var e=this.getCollapsed();return"left"===e||"right"===e},collapsedVertical:function(){var e=this.getCollapsed();return"top"===e||"bottom"===e},convertCollapseDir:function(e){return e.substr(0,1)},createGhost:function(e){var t=this,n=t.header,i=t.frame&&!t.alwaysFramed;return{xtype:"panel",hidden:!1,header:n?{titleAlign:n.getTitleAlign()}:null,ui:i?t.ui.replace(/-framed$/,""):t.ui,id:t.id+"-ghost",renderTo:Ext.getBody(),resizable:!1,draggable:!1,closable:!1,floating:{shadow:!1},frame:i,alwaysFramed:t.alwaysFramed,overlapHeader:t.overlapHeader,headerPosition:t.getHeaderPosition(),titleRotation:t.getTitleRotation(),baseCls:t.baseCls,cls:t.baseCls+"-ghost "+(e||"")}},createReExpander:function(e,t){var n=this,i="left"===e,r="right"===e,o=i||r,a=n.ownerCt,s=Ext.apply({hideMode:"offsets",title:n.getTitle(),titleAlign:n.getTitleAlign(),vertical:o,textCls:n.headerTextCls,icon:n.getIcon(),iconCls:n.getIconCls(),iconAlign:n.getIconAlign(),glyph:n.getGlyph(),baseCls:n.self.prototype.baseCls+"-header",ui:n.ui,frame:n.frame&&n.frameHeader,ignoreParentFrame:n.frame||n.overlapHeader,ignoreBorderManagement:n.frame||n.ignoreHeaderBorderManagement,indicateDrag:n.draggable,collapseImmune:!0,headerRole:n.headerRole,ownerCt:a&&"placeholder"===n.collapseMode?a:n,ownerLayout:n.componentLayout,margin:n.margin},t);return"mini"===n.collapseMode&&(o?s.width=1:s.height=1),n.hideCollapseTool||((i||r&&n.isPlaceHolderCollapse())&&(s.titlePosition=1),s.tools=[{xtype:"tool",type:"expand-"+n.getOppositeDirection(e),uiCls:["top"],handler:n.toggleCollapse,scope:n}]),s=new Ext.panel.Header(s),s.addClsWithUI(n.getHeaderCollapsedClasses(s)),s},doClose:function(){this.fireEvent("close",this),this[this.closeAction]()},doCollapseExpand:function(e,t){var n=this,i=n.animCollapse,r=n.ownerLayout;return n.animCollapse=t,n.isCollapsingOrExpanding=e,t&&n.addCls(Ext.baseCSSPrefix+"animating-size"),r&&!t?r.onContentChange(n):n.updateLayout({isRoot:!0}),n.animCollapse=i,n},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},expand:function(e){var t=this,n=t.ownerLayout,i=t.rendered;return t.isCollapsingOrExpanding?t:(arguments.length||(e=t.animCollapse),t.collapsed||t.floatedFromCollapse?t.fireEvent("beforeexpand",t,e)===!1?t:n&&n.onBeforeComponentExpand&&n.onBeforeComponentExpand(t)===!1?t:(delete t.getInherited().collapsed,i&&t.isPlaceHolderCollapse()?t.placeholderExpand(e):(t.restoreHiddenDocked(),i&&t.beginExpand(),t.collapsed=!1,t.rendered&&t.doCollapseExpand(2,e),t)):t)},findReExpander:function(e){var t,n,i=this,r=Ext.Component,o=i.dockedItems.items,a=o.length;if("mini"!==i.collapseMode)switch(e){case r.DIRECTION_TOP:case r.DIRECTION_BOTTOM:for(n=0;a>n;n++)if(t=o[n],!t.hidden&&t.isHeader&&(!t.dock||"top"===t.dock||"bottom"===t.dock))return t;break;case r.DIRECTION_LEFT:case r.DIRECTION_RIGHT:for(n=0;a>n;n++)if(t=o[n],!t.hidden&&t.isHeader&&("left"===t.dock||"right"===t.dock))return t;break;default:throw"Panel#findReExpander must be passed a valid collapseDirection"}},floatCollapsedPanel:function(){var e,t,n,i=this,r=i.placeholder,o=r.getSize(),a=Ext.baseCSSPrefix+"border-region-slide-in",s=i.collapsed,l=i.ownerCt||i;if(!i.isSliding){if(i.el.hasCls(a))return void i.slideOutFloatedPanel();switch(i.isSliding=!0,r.el.hide(),r.hidden=!0,i.el.show(),i.setHiddenState(!1),i.collapsed=!1,l.updateLayout(),e=i.getBox(!1,!0),r.el.show(),r.hidden=!1,i.el.hide(),i.setHiddenState(!0),i.collapsed=s,l.updateLayout(),i.slideOutTask=i.slideOutTask||new Ext.util.DelayedTask(i.slideOutFloatedPanel,i),Ext.supports.Touch&&(Ext.on("mousedown",n=function(e){e.within(i.el)||(Ext.un("mousedown",n),i.slideOutFloatedPanel())}),i.placeholderListener||(i.placeholderListener=r.on({resize:i.onPlaceholderResize,scope:i,destroyable:!0}))),r.el.on("mouseleave",i.onMouseLeaveFloated,i),i.el.on("mouseleave",i.onMouseLeaveFloated,i),r.el.on("mouseenter",i.onMouseEnterFloated,i),i.el.on("mouseenter",i.onMouseEnterFloated,i),i.el.addCls(a),i.floated=s,i.collapseTool&&i.collapseTool.el.hide(),i.collapsed){case"top":i.setLocalXY(e.x,e.y+o.height-1);break;case"right":i.setLocalXY(e.x-o.width+1,e.y);break;case"bottom":i.setLocalXY(e.x,e.y-o.height+1);break;case"left":i.setLocalXY(e.x+o.width-1,e.y)}t=i.convertCollapseDir(i.collapsed),i.floatedFromCollapse=i.collapsed,i.collapsed=!1,i.setHiddenState(!1),i.el.slideIn(t,{preserveScroll:!0,duration:Ext.Number.from(i.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){i.isSliding=!1,i.fireEvent("float",i)}}})}},onPlaceholderResize:function(e,t,n){var i=this,r=i.getBox(!1,!0),o=i.placeholder.getBox(!1,!0);switch(i.floated){case"top":this.width=t,i.setLocalY(o.y+o.height);break;case"right":this.height=n,i.setLocalX(o.x-r.width);break;case"bottom":this.width=t,i.setLocalY(o.y-r.height);break;case"left":this.height=n,i.setLocalX(o.x+o.width)}this.updateLayout({isRoot:!0})},getAnimationProps:function(){var e,t=this,n=t.animCollapse;return e=t.callParent(),"number"==typeof n&&(e.duration=n),e},getCollapsed:function(){var e=this;return e.collapsed===!0?e.collapseDirection:e.collapsed},getCollapsedDockedItems:function(){var e=this;return e.header===!1||"placeholder"==e.collapseMode?e.emptyArray:[e.getReExpander()]},getComponent:function(e){var t=this.callParent(arguments);return void 0!==t||Ext.isNumber(e)||(t=this.getDockedComponent(e)),t},getHeader:function(){return this.header},getHeaderCollapsedClasses:function(e){var t,n=this,i=n.collapsedCls;return t=[i,i+"-"+e.getDockName()],n.border&&(!n.frame||n.frame&&Ext.supports.CSS3BorderRadius)&&t.push(i+"-border-"+e.getDockName()),t},getHeightAuthority:function(){return this.collapsed&&this.collapsedVertical()?1:this.callParent()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},getOppositeDirection:function(e){var t=Ext.Component;switch(e){case t.DIRECTION_TOP:return t.DIRECTION_BOTTOM;case t.DIRECTION_RIGHT:return t.DIRECTION_LEFT;case t.DIRECTION_BOTTOM:return t.DIRECTION_TOP;case t.DIRECTION_LEFT:return t.DIRECTION_RIGHT}},getPlaceholder:function(e){var t=this,n=e||t.collapseDirection,i=null,r=t.placeholder,o=t.floatable,a=t.titleCollapse;return r||((o||t.collapsible&&a)&&(i={click:{fn:!a&&o?t.floatCollapsedPanel:t.toggleCollapse,element:"el",scope:t}}),t.placeholder=r=Ext.widget(t.createReExpander(n,{id:t.id+"-placeholder",listeners:i}))),r.placeholderFor||(r.isComponent||(t.placeholder=r=t.lookupComponent(r)),Ext.applyIf(r,{margin:t.margin,placeholderFor:t,synthetic:!0}),r.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+n+"-placeholder",t.collapsedCls])),r},getProtoBody:function(){var e=this,t=e.protoBody;return t||(e.protoBody=t=new Ext.util.ProtoElement({cls:e.bodyCls,style:e.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:!0})),t},getReExpander:function(e){var t=this,n=e||t.collapseDirection,i=t.reExpander||t.findReExpander(n);return t.expandDirection=t.getOppositeDirection(n),i||(t.reExpander=i=t.createReExpander(n,{dock:n,cls:Ext.baseCSSPrefix+"docked "+t.baseCls+"-"+t.ui+"-collapsed",isCollapsedExpander:!0}),t.dockedItems.insert(0,i)),i},getRefItems:function(e){var t=this.callParent(arguments);return this.getDockingRefItems(e,t)},getState:function(){var e,t=this,n=t.callParent()||{},i=t.collapsed,r=t.floated;return r&&(t.collapsed=r),n=t.addPropertyToState(n,"collapsed"),r&&(t.collapsed=i),t.getCollapsed()&&(e=t.getMemento("collapse").data,n=t.addPropertyToState(n,"collapsed",e),t.collapsedVertical()?(delete n.height,e&&(n=t.addPropertyToState(n,"height",e.height))):(delete n.width,e&&(n=t.addPropertyToState(n,"width",e.width)))),n},applyState:function(e){var t,n=this,i={};e&&(t=e.collapsed,t&&(i=n.getMemento("collapse"),Ext.Object.merge(i.data,t),e.collapsed=!0),n.callParent(arguments))},ghost:function(e){var t,n,i,r,o,a,s=this,l=s.ghostPanel,d=s.getBox(),u=s.header;if(l?l.el.show():s.ghostPanel=l=Ext.widget(s.createGhost(e)),l.setHiddenState(!1),l.floatParent=s.floatParent,l.toFront(),u&&!s.preventHeader){for(t=l.header,t.suspendLayouts(),n=t.query("tool"),a=n.length;a--;)t.remove(n[a]);l.addTool(s.ghostTools()),l.setTitle(s.getTitle()),t.setTitlePosition(u.titlePosition),r=s.getIconCls(),r?l.setIconCls(r):(i=s.getIcon(),i?l.setIcon(i):(o=s.getGlyph(),o&&l.setGlyph(o))),t.addCls(Ext.baseCSSPrefix+"header-ghost"),t.resumeLayouts()}return l.setPagePosition(d.x,d.y),l.setSize(d.width,d.height),s.el.hide(),l},ghostTools:function(){var e,t,n,i=[],r=this.header,o=r?r.query("tool[hidden=false]"):[];if(o.length)for(e=0,t=o.length;t>e;e++)n=o[e],i.push({type:n.type});else i=[{type:"placeholder"}];return i},initBodyBorder:function(){var e=this;e.frame&&e.bodyBorder&&(Ext.isNumber(e.bodyBorder)||(e.bodyBorder=1),e.getProtoBody().setStyle("border-width",this.unitizeBox(e.bodyBorder)))},initBodyStyles:function(){var e=this,t=e.getProtoBody();void 0!==e.bodyPadding&&(e.layout.managePadding?t.setStyle("padding",0):t.setStyle("padding",this.unitizeBox(e.bodyPadding===!0?5:e.bodyPadding))),e.initBodyBorder()},initBorderProps:function(){var e=this;e.frame&&e.border&&void 0===e.bodyBorder&&(e.bodyBorder=!1),e.frame&&e.border&&(e.bodyBorder===!1||0===e.bodyBorder)&&(e.manageBodyBorders=!0)},initComponent:function(){var e=this;e.collapsible&&e.addStateEvents(["expand","collapse"]),e.unstyled&&e.setUI("plain"),e.frame&&e.setUI(e.ui+"-framed"),e.bridgeToolbars(),this.initBorderProps(),e.callParent(),e.collapseDirection=e.collapseDirection||e.getHeaderPosition()||Ext.Component.DIRECTION_TOP,e.hiddenOnCollapse=new Ext.dom.CompositeElement},initItems:function(){this.callParent(),this.initDockingItems()},initRenderData:function(){var e=this,t=e.callParent();return e.initBodyStyles(),e.protoBody.writeTo(t),delete e.protoBody,t},calculateConstrainedPosition:function(e,t,n,i){var r,o=this;return o.constrainHeader&&(i=i?o.header.vertical?[o.header.lastBox.width,i[1]]:[i[0],o.header.lastBox.height]:[o.header.lastBox.width,o.header.lastBox.height],r=o.floatParent,e=e||o.constrainTo||(r?r.getTargetEl():null)||o.container||o.el.parent()),o.callParent([e,t,n,i])},initTools:function(){var e,t,n=this,i=n.tools;for(n.tools=[],e=i&&i.length;e;)--e,n.tools[e]=t=i[e],t.toolOwner=n;!n.collapsible||n.hideCollapseTool||n.header===!1||n.preventHeader||(n.updateCollapseTool(),n.collapseFirst&&n.tools.unshift(n.collapseTool)),n.addTools(),n.pinnable&&n.initPinnable(),n.closable&&(n.addClsWithUI("closable"),n.addTool({xtype:"tool",type:"close",scope:n,handler:n.close})),n.collapseTool&&!n.collapseFirst&&n.addTool(n.collapseTool)},isLayoutRoot:function(){return this.floatedFromCollapse?!0:this.callParent()},isPlaceHolderCollapse:function(){return"placeholder"==this.collapseMode},isVisible:function(e){var t=this;return t.collapsed&&t.placeholder?t.placeholder.isVisible(e):t.callParent(arguments)},onBoxReady:function(){this.callParent(),this.collapsed&&this.setHiddenDocked()},onHide:function(){var e=this,t=e.dd;e.floatedFromCollapse&&e.slideOutFloatedPanel(!0),e.draggable&&t&&t.endDrag(),e.collapsed&&e.placeholder?e.placeholder.hide():e.callParent(arguments)},onMouseEnterFloated:function(e){this.slideOutTask.cancel()},onMouseLeaveFloated:function(e){this.slideOutTask.delay(500)},onRemoved:function(e){var t=this;t.placeholder&&!e&&t.ownerCt.remove(t.placeholder,!1),t.callParent(arguments)},onShow:function(){var e=this;e.collapsed&&e.isPlaceHolderCollapse()?(e.setHiddenState(!0),e.placeholderCollapse()):e.callParent(arguments)},placeholderCollapse:function(e,t){var n,i=this,r=i.ownerCt,o=e||i.collapseDirection,a=Ext.baseCSSPrefix+"border-region-slide-in",s=i.getPlaceholder(o);return i.isCollapsingOrExpanding=1,i.setHiddenState(!0),i.collapsed=o,s.rendered?(s.el.dom.parentNode!==i.el.dom.parentNode&&i.el.dom.parentNode.insertBefore(s.el.dom,i.el.dom),s.hidden=!1,s.setHiddenState(!1),s.el.show(),r.updateLayout()):r.insert(r.items.indexOf(i),s),i.rendered?(i.el.setVisibilityMode(i.placeholderCollapseHideMode),t?(i.el.addCls(a),s.el.hide(),n=i.convertCollapseDir(o),i.el.slideOut(n,{preserveScroll:!0,duration:Ext.Number.from(t,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){i.el.removeCls(a),s.el.show().setStyle("display","none").slideIn(n,{easing:"linear",duration:100,listeners:{afteranimate:function(){s.focus(),s.setHiddenState(!1),i.isCollapsingOrExpanding=0,i.fireEvent("collapse",i)}}})}}})):(i.el.hide(),s.setHiddenState(!1),i.isCollapsingOrExpanding=0,i.fireEvent("collapse",i))):(i.isCollapsingOrExpanding=0,i.preventCollapseFire||i.fireEvent("collapse",i)),i},placeholderExpand:function(e){var t,n,i=this,r=i.collapsed,o=Ext.baseCSSPrefix+"border-region-slide-in",a=i.ownerLayout?i.ownerLayout.centerRegion:null;return Ext.Component.layoutSuspendCount&&(e=!1),i.floatedFromCollapse&&(n=i.getPosition(!0),i.slideOutFloatedPanelBegin(),i.slideOutFloatedPanelEnd(),i.floated=!1),e?(Ext.suspendLayouts(),i.placeholder.hide(),i.el.show(),i.collapsed=!1,i.setHiddenState(!1),a&&!n&&(a.hidden=!0),Ext.resumeLayouts(!0),a.hidden=!1,i.el.addCls(o),i.isCollapsingOrExpanding=2,n?(t=i.getXY(),i.setLocalXY(n[0],n[1]),i.setXY([t[0],t[1]],{duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){i.el.removeCls(o),i.isCollapsingOrExpanding=0,i.fireEvent("expand",i)}}})):(i.el.hide(),i.placeholder.el.show(),i.placeholder.hidden=!1,i.setHiddenState(!1),i.el.slideIn(i.convertCollapseDir(r),{preserveScroll:!0,duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){i.el.removeCls(o),i.placeholder.hide(),i.updateLayout(),i.isCollapsingOrExpanding=0,i.fireEvent("expand",i)}}}))):(i.floated=i.collapsed=!1,i.el.removeCls(o),Ext.suspendLayouts(),i.placeholder.hide(),i.show(),Ext.resumeLayouts(!0),i.fireEvent("expand",i)),i},removeBodyCls:function(e){var t=this,n=t.rendered?t.body:t.getProtoBody();return n.removeCls(e),t},removeUIClsFromElement:function(e){var t=this,n=t.callParent(arguments);return t.removeBodyCls([Ext.baseCSSPrefix+e,t.baseCls+"-body-"+e,t.baseCls+"-body-"+t.ui+"-"+e]),n},restoreDimension:function(){var e=this.collapseDirection;return"top"===e||"bottom"===e?"height":"width"},restoreHiddenDocked:function(){var e=this.hiddenOnCollapse;e.setStyle("visibility",""),e.clear()},setBodyStyle:function(e,t){var n=this,i=n.rendered?n.body:n.getProtoBody();return Ext.isFunction(e)&&(e=e()),1==arguments.length?(Ext.isString(e)&&(e=Ext.Element.parseStyles(e)),i.setStyle(e)):i.setStyle(e,t),n},setBorder:function(e,t){if(!t){var n=this,i=n.header;e=e?e===!0?"1px":n.unitizeBox(e):0,i&&(i.isHeader?i.setBorder(e):i.border=e),n.rendered&&n.bodyBorder!==!1&&n.body.setStyle("border-width",e),n.updateLayout(),n.border=e}},setHiddenDocked:function(){var e,t,n=this,i=n.hiddenOnCollapse,r=n.getDockedItems(),o=r.length,a=0;for(n.header!==!1&&(t=n.getReExpander()),i.add(n.body);o>a;a++)e=r[a],e&&e!==t&&e.el&&i.add(e.el);i.setStyle("visibility","hidden")},setUI:function(e){var t=this;t.callParent(arguments),t.header&&t.header.rendered&&t.header.setUI(e)},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},updateCollapseTool:function(){var e=this,t=e.collapseTool;!t&&e.collapsible&&(e.collapseDirection=e.collapseDirection||e.getHeaderPosition()||"top",e.collapseTool=e.expandTool=t=Ext.widget({xtype:"tool",handler:e.toggleCollapse,scope:e})),t&&(e.collapsed&&!e.isPlaceHolderCollapse()?t.setType("expand-"+e.getOppositeDirection(e.collapseDirection)):t.setType("collapse-"+e.collapseDirection))},updateGlyph:function(e,t){var n=this,i=n.header,r=n.placeholder;i?i.isHeader?i.setGlyph(e):i.glyph=e:n._updatingHeader||n.updateHeader(),r&&r.setGlyph&&r.setIcon(e),n.fireEvent("glyphchange",n,e,t)},updateHeaderPosition:function(e){var t=this.header;t&&t.isHeader&&t.setDock(e)},updateIcon:function(e,t){var n=this,i=n.header,r=n.placeholder;i?i.isHeader?i.setIcon(e):i.icon=e:n._updatingHeader||n.updateHeader(),r&&r.setIcon&&r.setIcon(e),n.fireEvent("iconchange",n,e,t)},updateIconAlign:function(e){var t=this.header;t&&t.isHeader&&t.setIconAlign(e)},updateIconCls:function(e,t){var n=this,i=n.header,r=n.placeholder;i?i.isHeader?i.setIconCls(e):i.iconCls=e:n._updatingHeader||n.updateHeader(),r&&r.setIconCls&&r.setIconCls(e),n.fireEvent("iconclschange",n,e,t)},updateTitle:function(e,t){var n=this,i=n.header,r=n.reExpander,o=n.placeholder;i?i.isHeader?i.setTitle(e):i.title=e:n.rendered&&n.updateHeader(),r&&r.setTitle(e),o&&o.setTitle&&o.setTitle(e),n.fireEvent("titlechange",n,e,t)},updateTitleAlign:function(e){var t=this.header;t&&t.isHeader&&t.setTitleAlign(e)},updateTitleRotation:function(e){var t=this.header;t&&t.isHeader&&t.setTitleRotation(e)},unghost:function(e,t,n){var i=this,r=i.ghostPanel;r&&(e!==!1&&(i.el.show(),t!==!1&&(i.setPagePosition(r.getXY()),"offsets"===i.hideMode&&delete i.el.hideModeStyles),n&&i.focus(!1,10)),r.el.hide(),r.setHiddenState(!0))},updateHeader:function(e){this._updatingHeader=!0;var t=this,n=t.header,i=t.getTitle(),r=t.tools,o=t.getIcon(),a=t.getGlyph(),s=t.getIconCls(),l=a||o||s,d=t.getHeaderPosition(),u="left"===d||"right"===d;Ext.isObject(n)||n!==!1&&(e||i||l||r&&r.length||t.collapsible&&!t.titleCollapse)?n&&n.isHeader?n.show():(n=t.header=Ext.widget(Ext.merge({xtype:"header",title:i,titleAlign:t.getTitleAlign(),vertical:u,dock:t.getHeaderPosition()||"top",titleRotation:t.getTitleRotation(),textCls:t.headerTextCls,iconCls:s,iconAlign:t.getIconAlign(),icon:o,glyph:a,baseCls:t.baseCls+"-header",tools:r,ui:t.ui,id:t.id+"_header",overCls:t.headerOverCls,indicateDrag:t.draggable,frame:(t.frame||t.alwaysFramed)&&t.frameHeader,ignoreParentFrame:t.frame||t.overlapHeader,ignoreBorderManagement:t.frame||t.ignoreHeaderBorderManagement,headerRole:t.headerRole,ownerCt:t,synthetic:!0,listeners:t.collapsible&&t.titleCollapse?{click:t.toggleCollapse,scope:t}:null},t.header)),t.addDocked(n,0)):n&&n.hide(),t._updatingHeader=!1},privates:{addUIToElement:function(){var e=this;e.callParent(arguments),e.addBodyCls(e.baseCls+"-body-"+e.ui)},applyTargetCls:function(e){this.getProtoBody().addCls(e)},getDefaultContentTarget:function(){return this.body},getFocusEl:function(){return this.el},getTargetEl:function(){var e=this;return e.body||e.protoBody||e.frameBody||e.el},getWidthAuthority:function(){return this.collapsed&&this.collapsedHorizontal()?1:this.callParent()},initDraggable:function(){var e=this;e.simpleDrag?e.initSimpleDraggable():e.dd=new Ext.panel.DD(e,Ext.isBoolean(e.draggable)?null:e.draggable)},initResizable:function(){this.callParent(arguments),this.collapsed&&this.resizer.disable()},initSimpleDraggable:function(){var e,t,n=this;n.header||n.updateHeader(!0),n.header&&(e=Ext.applyIf({el:n.el,delegate:"#"+n.header.id},n.draggable),(n.constrain||n.constrainHeader)&&(e.constrain=n.constrain,e.constrainDelegate=n.constrainHeader,e.constrainTo=n.constrainTo||n.container),t=n.dd=new Ext.util.ComponentDragger(n,e),n.relayEvents(t,["dragstart","drag","dragend"]),n.maximized&&t.disable())},removeUIFromElement:function(){var e=this;e.callParent(arguments),e.removeBodyCls(e.baseCls+"-body-"+e.ui)},setupRenderTpl:function(e){this.callParent(arguments),this.setupDockingRenderTpl(e)},slideOutFloatedPanel:function(e){var t,n=this,i=n.el;n.isSliding||n.isDestroyed||(n.isSliding=!0,n.floated=!1,n.slideOutFloatedPanelBegin(),"string"==typeof n.collapsed&&(t=n.convertCollapseDir(n.collapsed)),i.slideOut(t,{preserveScroll:!0,duration:Ext.Number.from(n.animCollapse,Ext.fx.Anim.prototype.duration),autoEnd:e===!0,listeners:{afteranimate:function(){n.slideOutFloatedPanelEnd(),n.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")}}}))},slideOutFloatedPanelBegin:function(){var e=this,t=e.placeholder.el,n=e.el;e.collapsed=e.floatedFromCollapse,e.setHiddenState(!0),e.floatedFromCollapse=null,t.un("mouseleave",e.onMouseLeaveFloated,e),n.un("mouseleave",e.onMouseLeaveFloated,e),t.un("mouseenter",e.onMouseEnterFloated,e),n.un("mouseenter",e.onMouseEnterFloated,e)},slideOutFloatedPanelEnd:function(e){var t=this;t.collapseTool&&t.collapseTool.el.show(),t.slideOutTask.cancel(),t.isSliding=!1,e||t.fireEvent("unfloat",t)}}},function(){var e=this.prototype;e.animCollapse=Ext.enableFx,e.placeholderCollapseHideMode=Ext.Element.VISIBILITY}),Ext.define("Ext.tip.Tip",{extend:"Ext.panel.Panel",alias:"widget.tip",alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:!0,shim:!0},focusOnToFront:!1,closeAction:"hide",alwaysFramed:!0,frameHeader:!1,initComponent:function(){var e=this;e.floating=Ext.apply({},{shadow:e.shadow,constrain:e.constrainPosition},e.self.prototype.floating),e.callParent(arguments),e.constrain=e.constrain||e.constrainPosition},showAt:function(e){var t=this;this.callParent(arguments),t.isVisible()&&(t.setPagePosition(e[0],e[1]),(t.constrainPosition||t.constrain)&&t.doConstrain(),t.toFront(!0))},privates:{initDraggable:function(){var e=this;e.draggable={el:e.getDragEl(),delegate:e.header.el,constrain:e,constrainTo:e.el.dom.parentNode},Ext.Component.prototype.initDraggable.call(e)}},ghost:void 0,unghost:void 0}),Ext.define("Ext.tip.ToolTip",{
extend:"Ext.tip.Tip",alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5e3,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,quickShowInterval:250,hideAction:"hide",fadeOutDuration:1e3,ariaRole:"tooltip",initComponent:function(){var e=this;e.callParent(arguments),e.lastActive=new Date,e.setTarget(e.target),e.origAnchor=e.anchor},onRender:function(e,t){var n=this;n.callParent(arguments),n.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+n.getAnchorPosition(),n.sticky&&n.el.dom.setAttribute("data-sticky",!0),n.anchorEl=n.el.createChild({role:"presentation",cls:Ext.baseCSSPrefix+"tip-anchor "+n.anchorCls})},setTarget:function(e){var t,n=this,i=Ext.get(e);n.target&&(t=Ext.get(n.target),Ext.supports.Touch?n.mun(t,"tap",n.onTargetOver,n):n.mun(t,{mouseover:n.onTargetOver,mouseout:n.onTargetOut,mousemove:n.onMouseMove,scope:n})),n.target=i,i&&(Ext.supports.Touch?n.mon(i,{tap:n.onTargetOver,scope:n}):n.mon(i,{mouseover:n.onTargetOver,mouseout:n.onTargetOut,mousemove:n.onMouseMove,scope:n})),n.anchor&&(n.anchorTarget=n.target)},onMouseMove:function(e){var t,n,i=this;(!i.target||i.target.contains(e.target))&&(t=i.delegate?e.getTarget(i.delegate):i.triggerElement=!0,t?(i.targetXY=e.getXY(),t===i.triggerElement?!i.hidden&&i.trackMouse&&(n=i.getTargetXY(),i.constrainPosition&&(n=i.el.adjustForConstraints(n,i.el.parent())),i.setPagePosition(n)):(i.hide(),i.lastActive=new Date(0),i.onTargetOver(e))):!i.closable&&i.isVisible()&&i.autoHide!==!1&&i.delayHide())},getTargetXY:function(){var e,t,n,i,r,o,a,s,l,d,u,c,h=this;if(h.delegate&&(h.anchorTarget=h.triggerElement),h.anchor){if(h.targetCounter++,t=h.getOffsets(),n=h.anchorToTarget&&!h.trackMouse?h.getAlignToXY(h.anchorTarget,h.getAnchorAlign()):h.targetXY,i=Ext.Element.getViewportWidth()-5,r=Ext.Element.getViewportHeight()-5,o=document.documentElement,a=document.body,s=(o.scrollLeft||a.scrollLeft||0)+5,l=(o.scrollTop||a.scrollTop||0)+5,d=[n[0]+t[0],n[1]+t[1]],u=h.getSize(),c=h.constrainPosition,h.anchorEl.removeCls(h.anchorCls),h.targetCounter<2&&c){if(d[0]<s)return h.anchorToTarget&&(h.defaultAlign="l-r",h.mouseOffset&&(h.mouseOffset[0]*=-1)),h.anchor="left",h.getTargetXY();if(d[0]+u.width>i)return h.anchorToTarget&&(h.defaultAlign="r-l",h.mouseOffset&&(h.mouseOffset[0]*=-1)),h.anchor="right",h.getTargetXY();if(d[1]<l)return h.anchorToTarget&&(h.defaultAlign="t-b",h.mouseOffset&&(h.mouseOffset[1]*=-1)),h.anchor="top",h.getTargetXY();if(d[1]+u.height>r)return h.anchorToTarget&&(h.defaultAlign="b-t",h.mouseOffset&&(h.mouseOffset[1]*=-1)),h.anchor="bottom",h.getTargetXY()}return h.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+h.getAnchorPosition(),h.anchorEl.addCls(h.anchorCls),h.targetCounter=0,d}return e=h.getMouseOffset(),h.targetXY?[h.targetXY[0]+e[0],h.targetXY[1]+e[1]]:e},getMouseOffset:function(){var e=this,t=e.anchor?[0,0]:[15,18];return e.mouseOffset&&(t[0]+=e.mouseOffset[0],t[1]+=e.mouseOffset[1]),t},fadeOut:function(){var e=this;e.el.fadeOut({duration:e.fadeOutDuration,callback:function(){e.hide(),e.el.setOpacity("")}})},getAnchorPosition:function(){var e,t=this;switch(t.anchor?t.tipAnchor=t.anchor.charAt(0):(e=t.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/),e||Ext.Error.raise('The AnchorTip.defaultAlign value "'+t.defaultAlign+'" is invalid.'),t.tipAnchor=e[1].charAt(0)),t.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var e,t,n=this,i=n.getAnchorPosition().charAt(0);if(n.anchorToTarget&&!n.trackMouse)switch(i){case"t":t=[0,9];break;case"b":t=[0,-13];break;case"r":t=[-13,0];break;default:t=[9,0]}else switch(i){case"t":t=[-15-n.anchorOffset,30];break;case"b":t=[-19-n.anchorOffset,-13-n.el.dom.offsetHeight];break;case"r":t=[-15-n.el.dom.offsetWidth,-13-n.anchorOffset];break;default:t=[25,-13-n.anchorOffset]}return e=n.getMouseOffset(),t[0]+=e[0],t[1]+=e[1],t},onTargetOver:function(e){var t,n=this,i=n.delegate;n.disabled||e.within(n.target.dom,!0)||(t=i?e.getTarget(i):!0,t&&(n.triggerElement=t,n.triggerEvent=e,n.clearTimer("hide"),n.targetXY=e.getXY(),n.delayShow()))},delayShow:function(e){var t=this,n=t.el&&(e===!1||!t.trackMouse)&&t.getTargetXY();t.hidden&&!t.showTimer?Ext.Date.getElapsed(t.lastActive)<t.quickShowInterval?t.show():t.showTimer=Ext.defer(t.showFromDelay,t.showDelay,t,[n]):t.hidden||t.autoHide===!1||t.show(n)},showFromDelay:function(e){this.fromDelayShow=!0,this.show(e),delete this.fromDelayShow},onShowVeto:function(){this.callParent(),delete this.triggerElement,this.clearTimer("show")},onTargetOut:function(e){var t=this,n=t.triggerElement,i=n===!0?t.target:n;t.disabled||!n||e.within(i,!0)||(t.showTimer&&(t.clearTimer("show"),t.triggerElement=null),t.autoHide!==!1&&t.delayHide())},delayHide:function(){var e=this;e.hidden||e.hideTimer||(e.hideTimer=Ext.defer(e[e.hideAction],e.hideDelay,e))},hide:function(){var e=this;e.clearTimer("dismiss"),e.lastActive=new Date,e.anchorEl&&e.anchorEl.hide(),e.callParent(arguments),delete e.triggerElement},show:function(e){var t=this;this.callParent(),this.hidden===!1&&(t.anchor&&(t.anchor=t.origAnchor),t.calledFromShowAt||t.showAt(e||t.getTargetXY()),t.anchor?(t.syncAnchor(),t.anchorEl.show()):t.anchorEl.hide())},showAt:function(e){var t=this;t.lastActive=new Date,t.clearTimers(),t.calledFromShowAt=!0,t.isVisible()||this.callParent(arguments),t.isVisible()&&(t.setPagePosition(e[0],e[1]),(t.constrainPosition||t.constrain)&&t.doConstrain(),t.toFront(!0),t.el.sync(!0),t.dismissDelay&&t.autoHide!==!1&&(t.dismissTimer=Ext.defer(t.hide,t.dismissDelay,t)),t.anchor?(t.syncAnchor(),t.anchorEl.isVisible()||t.anchorEl.show()):t.anchorEl.hide()),delete t.calledFromShowAt},syncAnchor:function(){var e,t,n,i=this;switch(i.tipAnchor.charAt(0)){case"t":e="b",t="tl",n=[20+i.anchorOffset,1];break;case"r":e="l",t="tr",n=[-1,12+i.anchorOffset];break;case"b":e="t",t="bl",n=[20+i.anchorOffset,-1];break;default:e="r",t="tl",n=[1,12+i.anchorOffset]}i.anchorEl.alignTo(i.el,e+"-"+t,n),i.anchorEl.setStyle("z-index",parseInt(i.el.getZIndex(),10)||1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(e,t){var n=this;n.callParent(arguments),n.anchor&&n.syncAnchor()},_timerNames:{},clearTimer:function(e){var t=this,n=t._timerNames,i=n[e]||(n[e]=e+"Timer"),r=t[i];r&&(clearTimeout(r),t[i]=null)},clearTimers:function(){var e=this;e.clearTimer("show"),e.clearTimer("dismiss"),e.clearTimer("hide")},onShow:function(){var e=this;e.callParent(),e.mon(Ext.getDoc(),"mousedown",e.onDocMouseDown,e)},onHide:function(){var e=this;e.callParent(),e.mun(Ext.getDoc(),"mousedown",e.onDocMouseDown,e)},onDocMouseDown:function(e){var t=this;t.closable||e.within(t.el.dom)||(t.disable(),Ext.defer(t.doEnable,100,t))},doEnable:function(){this.isDestroyed||this.enable()},onDisable:function(){this.callParent(),this.clearTimers(),this.hide()},beforeDestroy:function(){var e=this;e.clearTimers(),Ext.destroy(e.anchorEl),delete e.anchorEl,delete e.target,delete e.anchorTarget,delete e.triggerElement,e.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this),this.callParent()}}),Ext.define("Ext.tip.QuickTip",{extend:"Ext.tip.ToolTip",alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay",hideAction:"hideAction",anchorTarget:"anchorTarget"},shrinkWrapDock:!0,initComponent:function(){var e=this;e.target=e.target||Ext.getDoc(),e.targets=e.targets||{},e.callParent()},register:function(e){for(var t,n,i,r=Ext.isArray(e)?e:arguments,o=0,a=r.length;a>o;o++)if(e=r[o],t=e.target)if(Ext.isArray(t))for(n=0,i=t.length;i>n;n++)this.targets[Ext.id(t[n])]=e;else this.targets[Ext.id(t)]=e},unregister:function(e){delete this.targets[Ext.id(e)]},cancelShow:function(e){var t=this,n=t.activeTarget;e=Ext.get(e).dom,t.isVisible()?n&&n.el===e&&t.hide():n&&n.el===e&&t.clearTimer("show")},getTipCfg:function(e,t){var n,i,r,o=e.title;return this.interceptTitles&&o&&Ext.isString(o)?(e.qtip=o,e.removeAttribute("title"),t&&t.preventDefault(),{text:o}):(n=this.tagConfig,i=n.attr||(n.attr=n.namespace+n.attribute),(e=Ext.fly(e).findParent(function(e){return r=e.getAttribute(i)}))?{target:e,text:r}:void 0)},onTargetOver:function(e){this.doTargetOver(e.getTarget(this.delegate),null,e)},doTargetOver:function(e,t,n){var i,r,o,a,s,l,d,u,c,h,f,g,p=this;if(!p.disabled&&("string"==typeof e&&(e=Ext.getDom(e)),p.targetXY=t||(n?n.getXY():Ext.fly(e).getXY()),e&&1===e.nodeType&&e!=document.documentElement&&e!=document.body)){if(p.activeTarget&&(e===p.activeTarget.el||Ext.fly(p.activeTarget.el).contains(e)))return void(p.targetTextEmpty()?(p.onShowVeto(),delete p.activeTarget):(p.clearTimer("hide"),p.show()));if(e){c=p.targets;for(g in c)if(c.hasOwnProperty(g)&&(f=c[g],h=Ext.fly(f.target),h&&(h.dom===e||h.contains(e)))){a=h.dom;break}if(a)return p.activeTarget=p.targets[a.id],p.activeTarget.el=e,p.anchor=p.activeTarget.anchor,p.anchor&&(p.anchorTarget=e),i=parseInt(p.activeTarget.showDelay,10),i&&(o=p.showDelay,p.showDelay=i),p.delayShow(),i&&(p.showDelay=o),void((r=p.activeTarget.hideAction)?p.hideAction=r:delete p.hideAction)}a=Ext.fly(e,"_quicktip-target"),s=p.tagConfig,l=s.namespace,d=p.getTipCfg(e,n),d&&(d.target&&(e=d.target,a=Ext.fly(e,"_quicktip-target")),u=a.getAttribute(l+s.hide),p.activeTarget={el:e,text:d.text,width:+a.getAttribute(l+s.width)||null,autoHide:"user"!=u&&"false"!==u,title:a.getAttribute(l+s.title),cls:a.getAttribute(l+s.cls),align:a.getAttribute(l+s.align),showDelay:parseInt(a.getAttribute(l+s.showDelay)||0,10),hideAction:a.getAttribute(l+s.hideAction),anchorTarget:a.getAttribute(l+s.anchorTarget)},p.initialConfig.hasOwnProperty("anchor")||(p.anchor=a.getAttribute(l+s.anchor)),p.anchor&&!p.initialConfig.hasOwnProperty("anchorTarget")&&(p.anchorTarget=p.activeTarget.anchorTarget||e),i=parseInt(p.activeTarget.showDelay,10),i&&(o=p.showDelay,p.showDelay=i),p.delayShow(),i&&(p.showDelay=o))}},onTargetOut:function(e){var t,n,i=this,r=i.activeTarget;r&&e.within(i.activeTarget.el)&&!i.getTipCfg(e.getTarget(),e)||(i.clearTimer("show"),delete i.activeTarget,i.autoHide!==!1&&(t=r&&parseInt(r.hideDelay,10),t&&(n=i.hideDelay,i.hideDelay=t),i.delayHide(),t&&(i.hideDelay=n)))},targetTextEmpty:function(){var e,t,n=this,i=n.activeTarget,r=n.tagConfig;return i&&(e=i.el,e&&(t=e.getAttribute(r.namespace+r.attribute),!t&&!n.targets[Ext.id(i.target)]))?!0:!1},show:function(){var e=this,t=e.fromDelayShow;return t&&e.targetTextEmpty()?(e.onShowVeto(),void delete e.activeTarget):void e.callParent(arguments)},showAt:function(e){var t,n,i=this,r=i.activeTarget,o=i.header;r&&(i.rendered||(i.render(Ext.getBody()),i.activeTarget=r),i.suspendLayouts(),r.title?(i.setTitle(r.title),o.show()):o&&o.hide(),i.update(r.text),i.autoHide=r.autoHide,t=r.dismissDelay,i.dismissDelay=Ext.isNumber(t)?t:i.dismissDelay,r.mouseOffset&&(e[0]+=r.mouseOffset[0],e[1]+=r.mouseOffset[1]),n=i.lastCls,n&&(i.removeCls(n),delete i.lastCls),n=r.cls,n&&(i.addCls(n),i.lastCls=n),i.setWidth(r.width),i.anchor?i.constrainPosition=!1:r.align?(e=i.getAlignToXY(r.el,r.align),i.constrainPosition=!1):i.constrainPosition=!0,i.resumeLayouts(!0)),i.callParent([e])},hide:function(){delete this.activeTarget,this.callParent()}}),Ext.define("Ext.tip.QuickTipManager",{requires:["Ext.tip.QuickTip"],singleton:!0,alternateClassName:"Ext.QuickTips",disabled:!1,init:function(e,t){var n=this;if(!n.tip){if(!Ext.isReady)return Ext.onReady(function(){Ext.tip.QuickTipManager.init(e,t)}),!1;var i=Ext.apply({sticky:!0,disabled:n.disabled,id:"ext-quicktips-tip"},t),r=i.className,o=i.xtype;r?delete i.className:o&&(r="widget."+o,delete i.xtype),e!==!1&&(i.renderTo=document.body,"BODY"!=i.renderTo.tagName.toUpperCase()&&Ext.Error.raise({sourceClass:"Ext.tip.QuickTipManager",sourceMethod:"init",msg:"Cannot init QuickTipManager: no document body"})),n.tip=Ext.create(r||"Ext.tip.QuickTip",i),Ext.quickTipsActive=!0}},destroy:function(){Ext.destroy(this.tip),this.tip=void 0},ddDisable:function(){var e=this,t=e.tip;t&&!e.disabled&&t.disable()},ddEnable:function(){var e=this,t=e.tip;t&&!e.disabled&&t.enable()},enable:function(){var e=this,t=e.tip;t&&t.enable(),e.disabled=!1},disable:function(){var e=this,t=e.tip;t&&t.disable(),e.disabled=!0},isEnabled:function(){var e=this.tip;return void 0!==e&&!e.disabled},getQuickTip:function(){return this.tip},register:function(){var e=this.tip;e.register.apply(e,arguments)},unregister:function(){var e=this.tip;e.unregister.apply(e,arguments)},tips:function(){var e=this.tip;e.register.apply(e,arguments)}}),Ext.define("Ext.app.Application",{extend:"Ext.app.Controller",requires:["Ext.tip.QuickTipManager","Ext.util.History","Ext.util.MixedCollection"],isApplication:!0,scope:void 0,namespaces:[],paths:null,appFolder:"app",config:{name:"",enableQuickTips:!0,appProperty:"app",autoCreateViewport:!1,defaultToken:null,glyphFontFamily:null},onClassExtended:function(e,t,n){var i,r,o,a,s,l=Ext.app.Controller,d=e.prototype,u=[],c=t.autoCreateViewport;if(o=t.name||e.superclass.name,s=t.appFolder||e.superclass.appFolder,o&&(t.$namespace=o,Ext.app.addNamespaces(o)),t.namespaces&&Ext.app.addNamespaces(t.namespaces),t["paths processed"])delete t["paths processed"];else if(o&&s&&Ext.Loader.setPath(o,s),r=t.paths)for(a in r)r.hasOwnProperty(a)&&Ext.Loader.setPath(a,r[a]);c&&(o||Ext.Error.raise("[Ext.app.Application] Can't resolve namespace for "+t.$className+", did you forget to specify 'name' property?"),c===!0?c="Viewport":u.push("Ext.plugin.Viewport"),l.processDependencies(d,u,o,"view",c)),u.length&&(i=n.onBeforeCreated,n.onBeforeCreated=function(e,t){var n=Ext.Array.clone(arguments);Ext.require(u,function(){return i.apply(this,n)})})},constructor:function(e){var t=this;Ext.app.route.Router.application=t,t.callParent(arguments),Ext.isEmpty(t.getName())&&Ext.Error.raise("[Ext.app.Application] Name property is required"),t.doInit(t),t.initNamespace(),t.initControllers(),t.onBeforeLaunch(),t.finishInitControllers()},initNamespace:function(){var e,t=this,n=t.getAppProperty();e=Ext.namespace(t.getName()),e&&(e.getApplication=function(){return t},n&&(e[n]?e[n]!==t&&Ext.log.warn("An existing reference is being overwritten for "+name+"."+n+". See the appProperty config."):e[n]=t))},initControllers:function(){var e=this,t=Ext.Array.from(e.controllers);e.controllers=new Ext.util.MixedCollection;for(var n=0,i=t.length;i>n;n++)e.getController(t[n])},finishInitControllers:function(){var e,t,n,i=this;for(e=i.controllers.getRange(),t=0,n=e.length;n>t;t++)e[t].finishInit(i)},launch:Ext.emptyFn,onBeforeLaunch:function(){var e,t,n,i,r,o=this,a=Ext.util.History,s=o.getDefaultToken();for(o.getEnableQuickTips()&&o.initQuickTips(),o.getAutoCreateViewport()&&o.initViewport(),o.launch.call(o.scope||o),o.launched=!0,o.fireEvent("launch",o),e=o.controllers.items,n=e.length,t=0;n>t;t++)i=e[t],i.onLaunch(o);a.ready||a.init(),r=a.getToken(),r?o.redirectTo(r,!0):s&&a.add(s)},getModuleClassName:function(e,t){return Ext.app.Controller.getFullName(e,t,this.getName()).absoluteName},getViewportName:function(){var e=null,t=this.getAutoCreateViewport();return t&&(e=t===!0?"Viewport":t),e},initQuickTips:function(){Ext.tip.QuickTipManager.init()},initViewport:function(){var e,t=this.getView(this.getViewportName());t&&(t.prototype.isViewport||(e={plugins:"viewport"}),this.viewport=t.create(e))},createController:function(e){return this.getController(e)},destroyController:function(e){"string"==typeof e&&(e=this.getController(e,!0)),Ext.destroy(e)},getController:function(e,t){var n,i,r,o,a,s,l=this,d=l.controllers;if(i=d.get(e),!i)for(s=d.items,o=0,r=s.length;r>o;++o)if(a=s[o],n=a.getModuleClassName(),n&&n===e){i=a;break}return i||t||(n=l.getModuleClassName(e,"controller"),i=Ext.create(n,{application:l,moduleClassName:e}),d.add(i),l._initialized&&i.doInit(l)),i},unregister:function(e){this.controllers.remove(e)},getApplication:function(){return this},destroy:function(e){var t=this,n=t.controllers,i=Ext.namespace(t.getName()),r=t.getAppProperty();Ext.destroy(t.viewport),n&&n.each(function(t){t.destroy(e,!0)}),t.controllers=null,t.callParent([e,!0]),i&&i[r]===t&&delete i[r]},updateGlyphFontFamily:function(e){Ext.setGlyphFontFamily(e)}}),Ext.define("Ext.overrides.app.Application",{override:"Ext.app.Application"}),Ext.application=function(e){var t,n=function(e){Ext.onReady(function(){Ext.app.Application.instance=new e})},i=e.paths;if("string"==typeof e)Ext.require(e,function(){n(Ext.ClassManager.get(e))});else{if(e=Ext.apply({extend:"Ext.app.Application"},e),Ext.Loader.setPath(e.name,e.appFolder||"app"),i)for(t in i)i.hasOwnProperty(t)&&Ext.Loader.setPath(t,i[t]);e["paths processed"]=!0,Ext.define(e.name+".$application",e,function(){n(this)})}},Ext.define("Ext.app.domain.View",{extend:"Ext.app.EventDomain",isInstance:!0,constructor:function(e){this.callParent(arguments),this.controller=e,this.monitoredClasses=[Ext.Component]},match:function(e,t,n){var i=!1;return i="#"===t?n===e.getController():e.is(t)},destroy:function(){this.controller=null,this.callParent()}}),Ext.define("Ext.app.ViewController",{extend:"Ext.app.BaseController",requires:["Ext.app.domain.View"],mixins:["Ext.mixin.Factoryable"],isViewController:!0,factoryConfig:{type:"controller"},config:{closeViewAction:"destroy"},constructor:function(){this.compDomain=new Ext.app.domain.View(this),this.callParent(arguments)},beforeInit:Ext.emptyFn,init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var e=this,t=e.compDomain;t&&(t.unlisten(e),t.destroy()),e.compDomain=e.view=null,e.callParent()},closeView:function(){var e,t=this.getView();t&&(e=this.getCloseViewAction(),t[e]())},control:function(e,t){var n=e;Ext.isString(e)&&(n={},n[e]=t),this.compDomain.listen(n,this)},listen:function(e,t){var n=e.component;n&&(e=Ext.apply({},e),delete e.component,this.control(n)),this.callParent([e,t])},getReferences:function(){return this.view.getReferences()},getView:function(){return this.view},lookupReferenceHolder:function(){var e=this.view;return e&&e.lookupReferenceHolder()},lookupReference:function(e){var t=this.view;return t&&t.lookupReference(e)},getSession:function(){var e=this.view;return e&&e.lookupSession()},getViewModel:function(){var e=this.view;return e&&e.lookupViewModel()},getStore:function(e){var t=this.getViewModel();return t?t.getStore(e):null},fireViewEvent:function(e){var t=this.view,n=!1;return t&&(n=t.fireEvent.apply(t,arguments)),n},privates:{view:null,ensureId:function(){var e=this.getId();e||this.setId(Ext.id(null,"controller-"))},attachReference:function(e){var t=this.view;t&&t.attachReference(e)},clearReference:function(e){var t=this.view;t&&t.clearReference(e)},clearReferences:function(){var e=this.view;e&&e.clearReferences()},setView:function(e){this.view=e,this.beforeInit.$nullFn||this.beforeInit()}}}),Ext.define("Ext.form.Labelable",{extend:"Ext.Mixin",requires:["Ext.XTemplate","Ext.overrides.dom.Element"],isLabelable:!0,mixinConfig:{id:"labelable",on:{beforeRender:"beforeLabelRender",onRender:"onLabelRender"}},config:{childEls:["labelEl","bodyEl","errorEl","errorWrapEl"]},labelableRenderTpl:["{beforeLabelTpl}",'<label id="{id}-labelEl" data-ref="labelEl" class="{labelCls} {labelCls}-{ui} {labelClsExtra} ','{unselectableCls}" style="{labelStyle}"<tpl if="inputId">',' for="{inputId}"</tpl> {labelAttrTpl}>','<span class="{labelInnerCls} {labelInnerCls}-{ui}" style="{labelInnerStyle}">',"{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}','<tpl if="labelSeparator">','<span role="separator">{labelSeparator}</span>',"</tpl>","</tpl>","{afterLabelTextTpl}","</span>","</label>","{afterLabelTpl}",'<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseBodyCls} {baseBodyCls}-{ui}<tpl if="fieldBodyCls">',' {fieldBodyCls} {fieldBodyCls}-{ui}</tpl> {growCls} {extraFieldBodyCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{beforeBodyEl}","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","{afterBodyEl}","</div>",'<tpl if="renderError">','<div id="{id}-errorWrapEl" data-ref="errorWrapEl" class="{errorWrapCls} {errorWrapCls}-{ui}',' {errorWrapExtraCls}" style="{errorWrapStyle}">','<div role="alert" aria-live="polite" id="{id}-errorEl" data-ref="errorEl" ','class="{errorMsgCls} {invalidMsgCls} {invalidMsgCls}-{ui}" ','data-anchorTarget="{id}-inputEl">',"</div>","</div>","</tpl>",{disableFormats:!0}],activeErrorsTpl:void 0,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}">','<tpl if="Ext.enableAria">','<tpl if="fieldLabel"><div>{fieldLabel}</div></tpl>',"</tpl>",'<tpl for="errors"><li>{.}</li></tpl>',"</ul>","</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl if="Ext.enableAria">','<tpl if="fieldLabel">{fieldLabel}\n</tpl>',"</tpl>",'<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],isFieldLabelable:!0,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",topLabelCls:Ext.baseCSSPrefix+"form-item-label-top",rightLabelCls:Ext.baseCSSPrefix+"form-item-label-right",labelInnerCls:Ext.baseCSSPrefix+"form-item-label-inner",topLabelSideErrorCls:Ext.baseCSSPrefix+"form-item-label-top-side-error",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",errorWrapCls:Ext.baseCSSPrefix+"form-error-wrap",errorWrapSideCls:Ext.baseCSSPrefix+"form-error-wrap-side",errorWrapUnderCls:Ext.baseCSSPrefix+"form-error-wrap-under",errorWrapUnderSideLabelCls:Ext.baseCSSPrefix+"form-error-wrap-under-side-label",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",invalidIconCls:Ext.baseCSSPrefix+"form-invalid-icon",invalidUnderCls:Ext.baseCSSPrefix+"form-invalid-under",fieldBodyCls:"",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:void 0,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:"qtip",msgTargets:{qtip:1,title:1,under:1,side:1,none:1},noWrap:!0,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],statics:{initTip:function(){var e,t=this.tip;t||(e={id:"ext-form-error-tip",sticky:!0,ui:"form-invalid"},Ext.supports.Touch&&(e.dismissDelay=0,e.anchor="top",e.showDelay=0,e.listeners={beforeshow:function(){this.minWidth=Ext.fly(this.anchorTarget).getWidth()}}),t=this.tip=Ext.create("Ext.tip.QuickTip",e),t.tagConfig=Ext.apply({},{attribute:"errorqtip"},t.tagConfig))}},initLabelable:function(){var e=this,t=e.padding;t&&(e.padding=void 0,e.extraMargins=Ext.Element.parseBox(t)),e.activeErrorsTpl||("title"==e.msgTarget?e.activeErrorsTpl=e.plaintextActiveErrorsTpl:e.activeErrorsTpl=e.htmlActiveErrorsTpl),e.addCls([e.formItemCls,e.formItemCls+"-"+e.ui]),e.lastActiveError="",e.enableBubble("errorchange")},trimLabelSeparator:function(){var e=this,t=e.labelSeparator,n=e.fieldLabel||"",i=n.substr(n.length-1);return i===t?n.slice(0,-1):n},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(e){e=e||"";var t=this,n=t.labelSeparator,i=t.labelEl,r=t.errorWrapEl,o=t.errorWrapUnderSideLabelCls;t.fieldLabel=e,t.rendered&&(Ext.isEmpty(e)&&t.hideEmptyLabel?(i.setDisplayed("none"),r&&r.removeCls(o)):(n&&(e=t.trimLabelSeparator()+'<span role="separator">'+n+"</span>"),i.first().setHtml(e),i.setDisplayed(""),r&&r.addCls(o)),t.updateLayout())},getInsertionRenderData:function(e,t){for(var n,i,r=t.length;r--;)n=t[r],i=this[n],i&&"string"!=typeof i&&(i.isTemplate||(i=Ext.XTemplate.getTpl(this,n)),i=i.apply(e)),e[n]=i||"";return e},getLabelableRenderData:function(){var e,t,n=this,i=n.labelAlign,r="top"===i,o="right"===i,a="side"===n.msgTarget,s="under"===n.msgTarget,l=n.errorMsgCls,d=n.labelPad,u=n.labelWidth,c=n.labelClsExtra||"",h=a?n.errorWrapSideCls:n.errorWrapUnderCls,f="",g="",p=n.hasVisibleLabel(),m=n.autoFitErrors,x=n.defaultBodyWidth;return r?(c+=" "+n.topLabelCls,d&&(g="padding-bottom:"+d+"px;"),a&&!m&&(c+=" "+n.topLabelSideErrorCls)):(o&&(c+=" "+n.rightLabelCls),d&&(f+=n.getHorizontalPaddingStyle()+d+"px;"),f+="width:"+(u+(d?d:0))+"px;",g="width:"+u+"px"),p?!r&&s&&(h+=" "+n.errorWrapUnderSideLabelCls):f+="display:none",x&&(e="min-width:"+x+"px;max-width:"+x+"px;"),t={id:n.id,inputId:n.getInputId(),labelCls:n.labelCls,labelClsExtra:c,labelStyle:f,labelInnerStyle:g,labelInnerCls:n.labelInnerCls,unselectableCls:Ext.Element.unselectableCls,bodyStyle:e,baseBodyCls:n.baseBodyCls,fieldBodyCls:n.fieldBodyCls,extraFieldBodyCls:n.extraFieldBodyCls,errorWrapCls:n.errorWrapCls,errorWrapExtraCls:h,renderError:a||s,invalidMsgCls:a?n.invalidIconCls:s?n.invalidUnderCls:"",errorMsgCls:l,growCls:n.grow?n.growCls:"",errorWrapStyle:a&&!m?"visibility:hidden":"display:none",fieldLabel:n.getFieldLabel(),labelSeparator:n.labelSeparator},n.getInsertionRenderData(t,n.labelableInsertions),t},getHorizontalPaddingStyle:function(){return"padding-right:"},beforeLabelRender:function(){var e=this;e.setFieldDefaults(e.getInherited().fieldDefaults),e.ownerLayout&&e.addCls(Ext.baseCSSPrefix+e.ownerLayout.type+"-form-item")},onLabelRender:function(){var e,t,n=this,i={},r=Ext.Element,o=n.errorWrapEl;if(o&&o.setVisibilityMode("side"!==n.msgTarget||n.autoFitErrors?r.DISPLAY:r.VISIBILITY),n.extraMargins){e=n.el.getMargin();for(t in e)e.hasOwnProperty(t)&&(i["margin-"+t]=e[t]+n.extraMargins[t]+"px");n.el.setStyle(i)}},hasVisibleLabel:function(){return this.hideLabel?!1:!(this.hideEmptyLabel&&!this.getFieldLabel())},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(e){this.setActiveErrors(e)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(e){var t,n,i,r=this,o=r.errorWrapEl,a=r.msgTarget,s="side"===a,l="qtip"===a;e=Ext.Array.from(e),n=r.getTpl("activeErrorsTpl"),r.activeErrors=e,t=r.activeError=n.apply({fieldLabel:r.fieldLabel,errors:e,listCls:Ext.plainListCls}),r.renderActiveError(),r.rendered&&(s?r.errorEl.dom.setAttribute("data-errorqtip",t):l?r.getActionEl().dom.setAttribute("data-errorqtip",t):"title"===a&&r.getActionEl().dom.setAttribute("title",t),(s||l)&&Ext.form.Labelable.initTip(),r.msgTargets[a]||(i=Ext.get(a),i&&(i.dom.innerHTML=t))),o&&(o.setVisible(e.length>0),s&&r.autoFitErrors&&r.labelEl.addCls(r.topLabelSideErrorCls),r.updateLayout())},unsetActiveError:function(){var e,t=this,n=t.errorWrapEl,i=t.msgTarget;delete t.activeError,delete t.activeErrors,t.renderActiveError(),t.rendered&&("qtip"===i?t.getActionEl().dom.removeAttribute("data-errorqtip"):"title"===i&&t.getActionEl().dom.removeAttribute("title"),t.msgTargets[i]||(e=Ext.get(i),e&&(e.dom.innerHTML="")),n&&(n.hide(),"side"===i&&t.autoFitErrors&&t.labelEl.removeCls(t.topLabelSideErrorCls),t.updateLayout()))},renderActiveError:function(){var e=this,t=e.getActiveError(),n=!!t;t!==e.lastActiveError&&(e.fireEvent("errorchange",e,t),e.lastActiveError=t),!e.rendered||e.isDestroyed||e.preventMark||(e.toggleInvalidCls(n),e.errorEl&&(e.errorEl.dom.innerHTML=t))},toggleInvalidCls:function(e){this.el[e?"addCls":"removeCls"](this.invalidCls)},setFieldDefaults:function(e){var t;for(t in e)this.hasOwnProperty(t)||(this[t]=e[t])}},function(){Ext.supports.Touch&&(this.prototype.msgTarget="side")}),Ext.define("Ext.form.field.Field",{mixinId:"field",isFormField:!0,config:{validation:null},disabled:!1,submitValue:!0,validateOnChange:!0,suspendCheckChange:0,dirty:!1,initField:function(){this.initValue();var e=["tagName","nodeName","children","childNodes"],t=this.name;t&&Ext.Array.indexOf(e,t)>-1&&Ext.log.warn(['It is recommended to not use "',t,'" as a field name, because it ',"can cause naming collisions during form submission."].join(""))},initValue:function(){var e=this;e.suspendCheckChange++,e.setValue(e.value),e.suspendCheckChange--,e.originalValue=e.lastValue=e.getValue()},getFieldIdentifier:function(){return this.isEditorComponent?this.dataIndex:this.name},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(e){var t=this;return t.value=e,t.checkChange(),t},isEqual:function(e,t){return String(e)===String(t)},isEqualAsString:function(e,t){return String(Ext.valueFrom(e,""))===String(Ext.valueFrom(t,""))},getSubmitData:function(){var e=this,t=null;return!e.disabled&&e.submitValue&&(t={},t[e.getName()]=""+e.getValue()),t},getModelData:function(e,t){var n=this,i=null;return n.disabled||!n.submitValue&&t||(i={},i[n.getFieldIdentifier()]=n.getValue()),i},reset:function(){var e=this;e.beforeReset(),e.setValue(e.originalValue),e.clearInvalid(),delete e.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue(),this.checkDirty()},checkChange:function(){var e,t,n=this;n.suspendCheckChange||(e=n.getValue(),t=n.lastValue,!n.isDestroyed&&n.didValueChange(e,t)&&(n.lastValue=e,n.fireEvent("change",n,e,t),n.onChange(e,t)))},didValueChange:function(e,t){return!this.isEqual(e,t)},onChange:function(e){var t=this;t.validateOnChange&&t.validate(),t.checkDirty(),t.publishValue(e)},publishValue:function(e){this.rendered&&this.publishState("value",e)},isDirty:function(){var e=this;return!e.disabled&&!e.isEqual(e.getValue(),e.originalValue)},checkDirty:function(){var e=this,t=e.isDirty();t!==e.wasDirty&&(e.dirty=t,e.fireEvent("dirtychange",e,t),e.onDirtyChange(t),e.wasDirty=t)},onDirtyChange:Ext.emptyFn,getErrors:function(e){var t=[],n=this.getValidation();return n&&n!==!0&&t.push(n),t},isValid:function(){var e=this;return e.disabled||Ext.isEmpty(e.getErrors())},validate:function(){var e=this,t=e.isValid();return t!==e.wasValid&&(e.wasValid=t,e.fireEvent("validitychange",e,t)),t},batchChanges:function(e){try{this.suspendCheckChange++,e()}catch(t){throw t}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return!1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,updateValidation:function(){this.validate()}}),Ext.define("Ext.form.field.Base",{extend:"Ext.Component",mixins:["Ext.form.Labelable","Ext.form.field.Field"],xtype:"field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],requires:["Ext.util.DelayedTask","Ext.XTemplate"],shrinkWrap:!0,fieldSubTpl:['<input id="{id}" data-ref="inputEl" type="{type}" role="{role}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:!0}],defaultBindProperty:"value",subTplInsertions:["inputAttrTpl"],childEls:["inputEl"],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<=9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],ignoreChangeRe:/data\-errorqtip|style\.|className/,checkChangeBuffer:50,liquidLayout:!0,readOnly:!1,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:!0,hasFocus:!1,baseCls:Ext.baseCSSPrefix+"field",fieldBodyCls:Ext.baseCSSPrefix+"field-body",maskOnDisable:!1,stretchInputElFixed:!0,statics:{initTip:function(){var e=this.tip;e||(e=this.tip=Ext.create("Ext.tip.QuickTip",{sticky:!0,ui:"form-invalid"}),e.tagConfig=Ext.apply({},{attribute:"errorqtip"},e.tagConfig))},
destroyTip:function(){var e=this.tip;e&&(e.destroy(),delete this.tip)}},initComponent:function(){var e=this;e.callParent(),e.subTplData=e.subTplData||{},e.initLabelable(),e.initField(),e.name||(e.name=e.getInputId()),e.readOnly&&e.addCls(e.readOnlyCls),e.addCls(Ext.baseCSSPrefix+"form-type-"+e.inputType)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(){var e,t=this,n=t.inputType,i=t.getInputId();return e=Ext.apply({ui:t.ui,id:i,cmpId:t.id,name:t.name||i,disabled:t.disabled,readOnly:t.readOnly,value:t.getRawValue(),type:n,fieldCls:t.fieldCls,fieldStyle:t.getFieldStyle(),tabIdx:t.tabIndex,inputCls:t.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+("password"===n?"text":n),role:t.ariaRole},t.subTplData),t.getInsertionRenderData(e,t.subTplInsertions),e},getSubTplMarkup:function(){var e=this,t=e.getSubTplData(),n=e.getTpl("preSubTpl"),i=e.getTpl("postSubTpl"),r="";return n&&(r+=n.apply(t)),r+=e.getTpl("fieldSubTpl").apply(t),i&&(r+=i.apply(t)),r},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(e){var t=this,n=t.inputEl;n&&n.applyStyles(e),t.fieldStyle=e},getFieldStyle:function(){var e=this.fieldStyle;return Ext.isObject(e)?Ext.DomHelper.generateStyles(e,null,!0):e||""},onRender:function(){this.callParent(arguments),Ext.form.field.Base.initTip(),this.renderActiveError()},isFileUpload:function(){return"file"===this.inputType},getSubmitData:function(){var e,t=this,n=null;return!t.disabled&&t.submitValue&&(e=t.getSubmitValue(),null!==e&&(n={},n[t.getName()]=e)),n},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var e=this,t=e.inputEl?e.inputEl.getValue():Ext.valueFrom(e.rawValue,"");return e.rawValue=t,t},setRawValue:function(e){var t=this,n=t.rawValue;return t.transformRawValue.$nullFn||(e=t.transformRawValue(e)),e=Ext.valueFrom(e,""),(void 0===n||n!==e)&&(t.rawValue=e,t.inputEl&&(t.bindPropertyChange(!1),t.inputEl.dom.value=e,t.bindPropertyChange(!0)),t.rendered&&t.reference&&t.publishState("rawValue",e)),e},transformRawValue:Ext.identityFn,valueToRaw:function(e){return""+Ext.valueFrom(e,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var e=this,t=e.rawToValue(e.processRawValue(e.getRawValue()));return e.value=t,t},setValue:function(e){var t=this;return t.setRawValue(t.valueToRaw(e)),t.mixins.field.setValue.call(t,e)},onBoxReady:function(){var e=this;e.callParent(),e.setReadOnlyOnBoxReady&&e.setReadOnly(e.readOnly)},onDisable:function(){var e=this,t=e.inputEl;e.callParent(),t&&(t.dom.disabled=!0,e.hasActiveError()&&(e.clearInvalid(),e.needsValidateOnEnable=!0))},onEnable:function(){var e=this,t=e.inputEl;e.callParent(),t&&(t.dom.disabled=!1,e.needsValidateOnEnable&&(delete e.needsValidateOnEnable,e.forceValidation=!0,e.isValid(),delete e.forceValidation))},setReadOnly:function(e){var t=this,n=t.inputEl;e=!!e,t[e?"addCls":"removeCls"](t.readOnlyCls),t.readOnly=e,n?n.dom.readOnly=e:t.rendering&&(t.setReadOnlyOnBoxReady=!0),t.fireEvent("writeablechange",t,e)},fireKey:function(e){e.isSpecialKey()&&this.fireEvent("specialkey",this,e)},initEvents:function(){var e,t,n,i,r=this,o=r.inputEl,a=r.checkChangeEvents,s=r.ignoreChangeRe,l=a.length;if(o)for(r.mon(o,Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress",r.fireKey,r),e=new Ext.util.DelayedTask(r.checkChange,r),r.onChangeEvent=t=function(t){"propertychange"==t.type&&s.test(t.browserEvent.propertyName)||e.delay(r.checkChangeBuffer)},n=0;l>n;n++)i=a[n],"propertychange"===i&&(r.usesPropertychange=!0),r.mon(o,i,t);r.callParent()},doComponentLayout:function(){this.bindPropertyChange(!1),this.callParent(arguments),this.bindPropertyChange(!0)},bindPropertyChange:function(e){var t=this,n=t.usesPropertychange;n&&t[e?"mon":"mun"](t.inputEl,"propertychange",t.onChangeEvent)},onDirtyChange:function(e){var t=this;t[e?"addCls":"removeCls"](t.dirtyCls),t.rendered&&t.reference&&t.publishState("dirty",e)},isValid:function(){var e=this,t=e.disabled,n=e.forceValidation||!t;return n?e.validateValue(e.processRawValue(e.getRawValue())):t},validateValue:function(e){var t=this,n=t.getErrors(e),i=Ext.isEmpty(n);return t.preventMark||(i?t.clearInvalid():t.markInvalid(n)),i},markInvalid:function(e){var t,n=this,i=n.getActiveError();n.setActiveErrors(Ext.Array.from(e)),t=n.getActiveError(),i!==t&&n.setError(t)},clearInvalid:function(){var e=this,t=e.hasActiveError();delete e.needsValidateOnEnable,e.unsetActiveError(),t&&e.setError("")},setError:function(e){var t,n=this,i=n.msgTarget;n.rendered&&("title"==i||"qtip"==i?(t="qtip"==i?"data-errorqtip":"title",n.getActionEl().dom.setAttribute(t,e||"")):n.updateLayout())},renderActiveError:function(){var e=this,t=e.hasActiveError(),n=e.invalidCls+"-field";e.inputEl&&e.inputEl[t?"addCls":"removeCls"]([n,n+"-"+e.ui]),e.mixins.labelable.renderActiveError.call(e)},privates:{applyBind:function(e,t){var n,i=this,r=t&&t.value;return n=i.callParent([e,t]),n.value!==r&&i.getInherited().modelValidation&&i.updateValueBinding(n),n},applyRenderSelectors:function(){var e=this;e.callParent(),e.inputEl||(e.inputEl=e.el.getById(e.getInputId()))},getActionEl:function(){return this.inputEl||this.el},getFocusEl:function(){return this.inputEl},initRenderTpl:function(){var e=this;return e.hasOwnProperty("renderTpl")||(e.renderTpl=e.getTpl("labelableRenderTpl")),e.callParent()},updateValueBinding:function(e){var t=this,n=e.value,i=e.validation;i&&i.autoVal&&(i.destroy(),e.validation=null),n&&n.bindValidation&&!e.validation&&(i=n.bindValidation("setValidation",t),i&&(e.validation=i,i.autoVal=!0))}}}),Ext.define("Ext.form.field.Display",{extend:"Ext.form.field.Base",alias:"widget.displayfield",requires:["Ext.util.Format","Ext.XTemplate"],alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],ariaRole:"textbox",fieldSubTpl:['<div id="{id}" role="{role}" {inputAttrTpl}','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {fieldCls}-{ui}">{value}</div>',{compiled:!0,disableFormats:!0}],readOnly:!0,fieldCls:Ext.baseCSSPrefix+"form-display-field",fieldBodyCls:Ext.baseCSSPrefix+"form-display-field-body",htmlEncode:!1,noWrap:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,valueToRaw:function(e){return e||0===e?e:""},isDirty:function(){return!1},isValid:Ext.returnTrue,validate:Ext.returnTrue,getRawValue:function(){return this.rawValue},setRawValue:function(e){var t=this;return e=Ext.valueFrom(e,""),t.rawValue=e,t.rendered&&(t.inputEl.dom.innerHTML=t.getDisplayValue(),t.updateLayout()),e},getDisplayValue:function(){var e,t=this,n=this.getRawValue();return e=t.renderer?t.renderer.call(t.scope||t,n,t):t.htmlEncode?Ext.util.Format.htmlEncode(n):n},getSubTplData:function(){var e=this.callParent(arguments);return e.value=this.getDisplayValue(),e}}),Ext.define("Ext.layout.container.Fit",{extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",manageMargins:!0,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e,t){var n=t||this.owner.getSizeModel(),i=(n.width.shrinkWrap?0:1)|(n.height.shrinkWrap?0:2);return this.sizePolicies[i]},beginLayoutCycle:function(e,t){var n,i,r,o,a,s,l,d,u,c,h=this,f=h.lastHeightModel&&h.lastHeightModel.calculated,g=h.lastWidthModel&&h.lastWidthModel.calculated,p=g||f,m=0,x=0;for(h.callParent(arguments),p&&"TD"!=e.targetContext.el.dom.tagName.toUpperCase()&&(p=g=f=!1),i=e.childItems,a=i.length,r=0;a>r;++r)o=i[r],t&&(n=o.target,l=n.minHeight,d=n.minWidth,(d||l)&&(s=o.marginInfo||o.getMarginInfo(),l+=s.height,d+=s.height,l>m&&(m=l),d>x&&(x=d))),p&&(u=o.el.dom.style,f&&(u.height=""),g&&(u.width=""));t&&(e.maxChildMinHeight=m,e.maxChildMinWidth=x),n=e.target,e.overflowX=!e.widthModel.shrinkWrap&&e.maxChildMinWidth&&n.scrollFlags.x||c,e.overflowY=!e.heightModel.shrinkWrap&&e.maxChildMinHeight&&n.scrollFlags.y||c},calculate:function(e){var t,n,i,r,o,a,s=this,l=e.childItems,d=l.length,u=s.getContainerSize(e),c={length:d,ownerContext:e,targetSize:u},h=e.widthModel.shrinkWrap,f=e.heightModel.shrinkWrap,g=e.overflowX,p=e.overflowY;if((g||p)&&(t=s.getScrollbarsNeeded(g&&u.width,p&&u.height,e.maxChildMinWidth,e.maxChildMinHeight),t&&(n=Ext.getScrollbarSize(),1&t&&(u.height-=n.height),2&t&&(u.width-=n.width))),d>0)for(r=0;d>r;++r)c.index=r,s.fitItem(l[r],c);else c.contentWidth=c.contentHeight=0;(f||h)&&(i=e.targetContext.getPaddingInfo(),h&&(p&&!u.gotHeight?s.done=!1:(o=c.contentWidth+i.width,2&t&&(o+=n.width),e.setContentWidth(o)||(s.done=!1))),f&&(g&&!u.gotWidth?s.done=!1:(a=c.contentHeight+i.height,1&t&&(a+=n.height),e.setContentHeight(a)||(s.done=!1))))},fitItem:function(e,t){var n=this;return e.invalid?void(n.done=!1):(t.margins=e.getMarginInfo(),t.needed=t.got=0,n.fitItemWidth(e,t),n.fitItemHeight(e,t),void(t.got!=t.needed&&(n.done=!1)))},fitItemWidth:function(e,t){var n,i;if(t.ownerContext.widthModel.shrinkWrap)i=e.getProp("width")+t.margins.width,n=t.contentWidth,void 0===n?t.contentWidth=i:t.contentWidth=Math.max(n,i);else if(e.widthModel.calculated){if(++t.needed,!t.targetSize.gotWidth)return;++t.got,this.setItemWidth(e,t)}this.positionItemX(e,t)},fitItemHeight:function(e,t){var n,i;if(t.ownerContext.heightModel.shrinkWrap)i=e.getProp("height")+t.margins.height,n=t.contentHeight,void 0===n?t.contentHeight=i:t.contentHeight=Math.max(n,i);else if(e.heightModel.calculated){if(++t.needed,!t.targetSize.gotHeight)return;++t.got,this.setItemHeight(e,t)}this.positionItemY(e,t)},positionItemX:function(e,t){var n=t.margins;(t.index||n.left)&&e.setProp("x",n.left),n.width&&e.setProp("margin-right",n.width)},positionItemY:function(e,t){var n=t.margins;(t.index||n.top)&&e.setProp("y",n.top),n.height&&e.setProp("margin-bottom",n.height)},setItemHeight:function(e,t){e.setHeight(t.targetSize.height-t.margins.height)},setItemWidth:function(e,t){e.setWidth(t.targetSize.width-t.margins.width)}}),Ext.define("Ext.panel.Table",{extend:"Ext.panel.Panel",alias:"widget.tablepanel",requires:["Ext.layout.container.Fit"],uses:["Ext.selection.RowModel","Ext.selection.CellModel","Ext.selection.CheckboxModel","Ext.grid.plugin.BufferedRenderer","Ext.grid.header.Container","Ext.grid.locking.Lockable"],extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",defaultBindProperty:"store",layout:"fit",autoLoad:!1,variableRowHeight:!1,numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,hasView:!1,viewType:null,selType:"rowmodel",scroll:!0,deferRowRender:!1,sortableColumns:!0,multiColumnSort:!1,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,rowLines:!0,bufferedRenderer:!0,ownerGrid:null,colLinesCls:Ext.baseCSSPrefix+"grid-with-col-lines",rowLinesCls:Ext.baseCSSPrefix+"grid-with-row-lines",noRowLinesCls:Ext.baseCSSPrefix+"grid-no-row-lines",hiddenHeaderCtCls:Ext.baseCSSPrefix+"grid-header-ct-hidden",hiddenHeaderCls:Ext.baseCSSPrefix+"grid-header-hidden",resizeMarkerCls:Ext.baseCSSPrefix+"grid-resize-marker",emptyCls:Ext.baseCSSPrefix+"grid-empty",constructor:function(){var e;this.callParent(arguments),e=this.store,e.trackStateChanges=!0,this.autoLoad&&(e.unblockLoad(),e.load())},initComponent:function(){this.verticalScroller&&Ext.Error.raise("The verticalScroller config is not supported."),this.viewType||Ext.Error.raise("You must specify a viewType config."),this.headers&&Ext.Error.raise("The headers config is not supported. Please specify columns instead.");var e,t,n,i,r,o=this,a=o.columns||o.colModel||[],s=o.store=Ext.data.StoreManager.lookup(o.store||"ext-empty-store");if(o.enableLocking=o.enableLocking||o.hasLockedColumns(a),o.autoLoad&&o.store.blockLoad(),o.plugins&&(o.plugins=o.constructPlugins()),o.columnLines&&o.addBodyCls(o.colLinesCls),o.addBodyCls(o.rowLines?o.rowLinesCls:o.noRowLinesCls),o.addBodyCls(o.extraBodyCls),o.enableLocking?(o.self.mixin("lockable",Ext.grid.locking.Lockable),o.injectLockable()):a.isRootHeader?(o.headerCt=a,o.headerCt.forceFit=!!o.forceFit,o.columnManager=a.columnManager,o.visibleColumnManager=a.visibleColumnManager):(Ext.isArray(a)&&(a={items:a}),Ext.apply(a,{grid:o,forceFit:o.forceFit,sortable:o.sortableColumns,enableColumnMove:o.enableColumnMove,enableColumnResize:o.enableColumnResize,columnLines:o.columnLines,sealed:o.sealedColumns}),Ext.isDefined(o.enableColumnHide)&&(a.enableColumnHide=o.enableColumnHide),o.headerCt=new Ext.grid.header.Container(a)),o.columns=r=o.headerCt.getGridColumns(),o.scrollTask=new Ext.util.DelayedTask(o.syncHorizontalScroll,o),o.cls=(o.cls||"")+(" "+o.extraBaseCls),delete o.autoScroll,i=o.plugins&&Ext.Array.findBy(o.plugins,function(e){return e.isBufferedRenderer}),i&&(o.bufferedRenderer=i),!o.hasView){if(s.isBufferedStore&&!s.remoteSort)for(t=0,n=r.length;n>t;t++)r[t].sortable=!1;o.hideHeaders&&(o.headerCt.height=0,o.headerCt.hiddenHeaders=!0,o.headerCt.addCls(o.hiddenHeaderCtCls),o.addCls(o.hiddenHeaderCls)),o.relayHeaderCtEvents(o.headerCt),o.features=o.features||[],Ext.isArray(o.features)||(o.features=[o.features]),o.dockedItems=[].concat(o.dockedItems||[]),o.dockedItems.unshift(o.headerCt),o.viewConfig=o.viewConfig||{},e=o.getView(),o.items=[e],o.hasView=!0,o.hideHeaders||e.on({scroll:o.onHorizontalScroll,scope:o,onFrame:!!Ext.global.requestAnimationFrame}),o.bindStore(s,!0),o.mon(e,{viewready:o.onViewReady,refresh:o.onRestoreHorzScroll,scope:o})}o.relayEvents(o.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","rowclick","rowdblclick","rowcontextmenu","rowmousedown","rowmouseup","rowkeydown","beforeitemkeydown","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermousedown","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","select","beforedeselect","deselect"]),o.callParent(arguments),o.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange","groupchange"])},hasLockedColumns:function(e){var t,n,i;for(e.isRootHeader?e=e.items.items:Ext.isObject(e)&&(e=e.items),t=0,n=e.length;n>t;t++)if(i=e[t],!i.processed&&i.locked)return!0},relayHeaderCtEvents:function(e){this.relayEvents(e,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var e=this,t=e.callParent(),n=e.store.getState();return t=e.addPropertyToState(t,"columns",e.headerCt.getColumnsState()),n&&(t.storeState=n),t},applyState:function(e){var t=this,n=e.sort,i=e.storeState,r=t.store,o=e.columns;delete e.columns,t.callParent(arguments),o&&t.headerCt.applyColumnsState(o),n?r.remoteSort?r.sort({property:n.property,direction:n.direction,root:n.root},null,!1):r.sort(n.property,n.direction):i&&r.applyState(i)},getStore:function(){return this.store},getView:function(){var e,t,n=this;return n.view||(e=n.getSelectionModel(),t=Ext.apply({grid:n,ownerGrid:n.ownerGrid||n,deferInitialRefresh:n.deferRowRender,variableRowHeight:n.variableRowHeight,preserveScrollOnRefresh:!0,trackOver:n.trackMouseOver!==!1,throttledUpdate:n.throttledUpdate===!0,scroll:n.scroll,xtype:n.viewType,store:n.store,headerCt:n.headerCt,columnLines:n.columnLines,rowLines:n.rowLines,selModel:e,features:n.features,panel:n,emptyText:n.emptyText||""},n.viewConfig),n.scroll&&n.viewConfig.scroll&&n.scroll!==n.viewConfig.scroll&&(t.scroll="both"),Ext.widget(t),n.view.emptyText&&(n.view.emptyText='<div class="'+n.emptyCls+'">'+n.view.emptyText+"</div>"),n.view.getComponentLayout().headerCt=n.headerCt,n.mon(n.view,{uievent:n.processEvent,scope:n}),e.view=n.view,n.headerCt.view=n.view,n.hasListeners.viewcreated&&n.fireEvent("viewcreated",n,n.view)),n.view},getColumnManager:function(){return this.columnManager},getVisibleColumnManager:function(){return this.visibleColumnManager},getTopLevelColumnManager:function(){var e=this.ownerLockable;return e?e.getColumnManager():this.getColumnManager()},getTopLevelVisibleColumnManager:function(){var e=this.ownerLockable;return e?e.getVisibleColumnManager():this.getVisibleColumnManager()},setAutoScroll:Ext.emptyFn,processEvent:function(e,t,n,i,r,o,a,s){var l,d=this;return-1!==r?(l=d.getColumnManager().getHeaderAtIndex(r),l.processEvent.apply(l,arguments)):void 0},scrollByDeltaY:function(e,t){this.getView().scrollBy(0,e,t)},scrollByDeltaX:function(e,t){this.getView().scrollBy(e,0,t)},afterCollapse:function(){this.saveScrollPos(),this.callParent(arguments)},afterExpand:function(){this.callParent(arguments),this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.view.scrollManager&&this.view.scrollManager.refresh()},onHeaderMove:function(e,t,n,i,r){var o=this;o.optimizedColumnMove===!1?o.view.refreshView():o.view.moveColumn(i,r,n),o.delayScroll()},onHeaderHide:function(e,t){this.view.refreshCounter&&this.view.refreshView()},onHeaderShow:function(e,t){this.view.refreshCounter&&this.view.refreshView()},onHeadersChanged:function(e,t){var n=this;n.rendered&&!n.reconfiguring&&(n.view.refreshView(),n.delayScroll())},delayScroll:function(){var e=this.view;e&&this.scrollTask.delay(10,null,null,[e])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var e=this,t=e.scrollXPos;t&&e.syncHorizontalScroll(e,!0)},getScrollerOwner:function(){var e=this;return this.scrollerOwner||(e=this.up("[scrollerOwner]")),e},getLhsMarker:function(){var e=this;return e.lhsMarker||(e.lhsMarker=Ext.DomHelper.append(e.el,{role:"presentation",cls:e.resizeMarkerCls},!0))},getRhsMarker:function(){var e=this;return e.rhsMarker||(e.rhsMarker=Ext.DomHelper.append(e.el,{role:"presentation",cls:e.resizeMarkerCls},!0))},getSelection:function(){return this.getSelectionModel().getSelection()},setSelection:function(e){var t=this.getSelectionModel();t.select(e)},getSelectionModel:function(){var e,t,n,i=this,r=i.selModel;return r||(r={},e=!0),r.events||(n=r.selType||i.selType,e=!r.mode,r=i.selModel=Ext.create("selection."+n,r)),i.simpleSelect?t="SIMPLE":i.multiSelect&&(t="MULTI"),Ext.applyIf(r,{allowDeselect:i.allowDeselect}),t&&e&&r.setSelectionMode(t),r.hasRelaySetup||(i.relayEvents(r,["selectionchange","beforeselect","beforedeselect","select","deselect"]),r.hasRelaySetup=!0),i.disableSelection&&(r.locked=!0),r},getScrollTarget:function(){var e=this.getScrollerOwner(),t=e.query("tableview");return t[1]||t[0]},onHorizontalScroll:function(e){this.syncHorizontalScroll(e)},syncHorizontalScroll:function(e,t){var n,i=this,r=i.view.getScrollX();t=t===!0,i.rendered&&(t||r!==i.scrollXPos)&&(t&&(n=i.getScrollTarget(),n.setScrollX(r)),i.headerCt.setScrollX(r),i.scrollXPos=r)},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(e,t){var n=this,i=n.getView(),r=n.bufferedRenderer;n.store=e,r&&(r.isBufferedRenderer?r.store&&r.bindStore(e):n.bufferedRenderer&&(r={xclass:"Ext.grid.plugin.BufferedRenderer"},Ext.copyTo(r,n,"variableRowHeight,numFromEdge,trailingBufferZone,leadingBufferZone,scrollToLoadBuffer"),n.bufferedRenderer=n.addPlugin(r))),i.store!==e&&i.bindStore(e,!1),n.mon(e,{load:n.onStoreLoad,scope:n}),n.storeRelayers=n.relayEvents(e,["filterchange","groupchange"])},unbindStore:function(){var e=this,t=e.store;t&&(e.store=null,e.mun(t,{load:e.onStoreLoad,scope:e}),Ext.destroy(e.storeRelayers))},setColumns:function(e){(e.length||this.getColumnManager().getColumns().length)&&this.reconfigure(void 0,e)},setStore:function(e){this.reconfigure(e)},reconfigure:function(e,t){var n=this,i=n.store,r=n.headerCt,o=r?r.items.getRange():n.columns;1===arguments.length&&Ext.isArray(e)&&(t=e,e=null),t&&(t=Ext.Array.slice(t)),n.reconfiguring=!0,n.fireEvent("beforereconfigure",n,e,t,i,o),n.lockable?n.reconfigureLockable(e,t):(Ext.suspendLayouts(),t&&(delete n.scrollXPos,r.removeAll(),r.add(t)),e&&(e=Ext.StoreManager.lookup(e))!==i?(n.store&&n.unbindStore(),n.bindStore(e)):n.getView().refreshView(),r.setSortState(),Ext.resumeLayouts(!0)),n.fireEvent("reconfigure",n,e,t,i,o),delete n.reconfiguring},beforeDestroy:function(){var e=this.scrollTask;e&&(e.cancel(),this.scrollTask=null),this.callParent()},onDestroy:function(){var e=this;e.lockable&&e.destroyLockable(),e.callParent(),e.columns=e.storeRelayers=e.columnManager=e.visibleColumnManager=null},destroy:function(){var e=this;e.callParent(),e.isDestroyed&&(e.view=e.selModel=e.headerCt=null)}}),Ext.define("Ext.selection.Model",{extend:"Ext.util.Observable",alternateClassName:"Ext.AbstractSelectionModel",requires:["Ext.data.StoreManager"],mixins:["Ext.util.StoreHolder"],allowDeselect:void 0,toggleOnClick:!0,selected:null,pruneRemoved:!0,suspendChange:0,constructor:function(e){var t=this;e=e||{},Ext.apply(t,e),t.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0},t.setSelectionMode(e.mode||t.mode),t.selected=new Ext.util.MixedCollection,t.callParent(arguments)},bindStore:function(e,t){var n=this;n.mixins.storeholder.bindStore.apply(n,arguments),n.store&&!t&&n.refresh()},getStoreListeners:function(){var e=this;return{add:e.onStoreAdd,clear:e.onStoreClear,remove:e.onStoreRemove,update:e.onStoreUpdate,load:e.onStoreLoad,refresh:e.onStoreRefresh}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){this.suspendChange&&--this.suspendChange},selectAll:function(e){var t=this,n=t.store.getRange(),i=0,r=n.length,o=t.getSelection().length;for(t.suspendChanges();r>i;i++)t.doSelect(n[i],!0,e);t.resumeChanges(),e||t.maybeFireSelectionChange(t.getSelection().length!==o)},deselectAll:function(e){var t,n,i,r=this,o=r.getSelection(),a={},s=r.store,l=o.length;for(t=0,n=o.length;n>t;t++)i=o[t],a[i.id]=s.indexOf(i);o=Ext.Array.sort(o,function(e,t){var n=a[e.id],i=a[t.id];return i>n?-1:1}),r.suspendChanges(),r.doDeselect(o,e),r.resumeChanges(),e||r.maybeFireSelectionChange(r.getSelection().length!==l)},getSelectionStart:function(){return this.selectionStart||this.setSelectionStart(this.lastFocused),this.selectionStart},setSelectionStart:function(e){this.selectionStart=e},selectWithEvent:function(e,t){var n,i,r,o=this,a=o.isSelected(e),s=t.shiftKey,l=t.ctrlKey,d=s&&o.getSelectionStart(),u=o.getSelection(),c=u.length,h=o.allowDeselect;switch(o.selectionMode){case"MULTI":if(s&&d)o.selectRange(d,e,l);else if(l&&a)o.doDeselect(e,!1);else if(l)o.doSelect(e,!0,!1);else if(a&&!s&&!l&&c>1){for(n=[],i=0;c>i;++i)r=u[i],r!==e&&n.push(r);o.doDeselect(n)}else a||o.doSelect(e,!1);break;case"SIMPLE":a?o.doDeselect(e):o.doSelect(e,!0);break;case"SINGLE":h&&!l&&(h=o.toggleOnClick),h&&a?o.doDeselect(e):o.doSelect(e,!1)}s||(o.isSelected(e)?o.selectionStart=e:o.selectionStart=null)},afterKeyNavigate:function(e,t){var n,i,r=this,o=r.isSelected(t),a=r.selectionStart&&r.isSelected(r.lastFocused)?r.selectionStart:r.selectionStart=r.lastFocused,s=e.getCharCode(),l=s===e.SPACE,d=s===e.UP||s===e.PAGE_UP?"up":s===e.DOWN||s===e.DOWN?"down":null;switch(r.selectionMode){case"MULTI":l?e.shiftKey?r.selectRange(a,t,e.ctrlKey):o?(r.doDeselect(t,e.ctrlKey),r.setLastFocused(null),r.setLastFocused(t)):r.doSelect(t,e.ctrlKey):e.shiftKey&&a?(i=r.store.indexOf(a),n=r.store.indexOf(t),"up"===d&&n>=i?r.deselectRange(r.lastFocused,n+1):"down"===d&&i>=n?r.deselectRange(r.lastFocused,n-1):a!==t&&r.selectRange(a,t,e.ctrlKey),r.lastSelected=t,r.setLastFocused(t)):e.ctrlKey&&o?r.setLastFocused(t):e.ctrlKey?r.setLastFocused(t):r.doSelect(t,!1);break;case"SIMPLE":o?r.allowDeselect&&r.doDeselect(t):r.doSelect(t,!0);break;case"SINGLE":l?o?r.allowDeselect&&(r.doDeselect(t),r.setLastFocused(t)):r.doSelect(t):e.ctrlKey?r.setLastFocused(t):l&&r.allowDeselect&&o?r.doDeselect(t):(r.doSelect(t,!1),r.setLastFocused(t))}e.shiftKey||r.isSelected(t)&&(r.selectionStart=t)},selectRange:function(e,t,n){var i,r,o,a,s,l,d,u=this,c=u.store,h=u.selected.items;if(!u.isLocked()){for(i=u.normalizeRowRange(e,t),e=i[0],t=i[1],a=[],r=e;t>=r;r++)u.isSelected(c.getAt(r))||a.push(c.getAt(r));if(!n){for(s=[],u.suspendChanges(),r=0,o=h.length;o>r;++r)d=h[r],l=c.indexOf(d),(e>l||l>t)&&s.push(d);for(r=0,o=s.length;o>r;++r)u.doDeselect(s[r]);u.resumeChanges()}a.length?u.doMultiSelect(a,!0):u.maybeFireSelectionChange(s.length>0)}},deselectRange:function(e,t){var n,i,r,o,a=this,s=a.store;if(!a.isLocked()){for(n=a.normalizeRowRange(e,t),e=n[0],t=n[1],r=[],i=e;t>=i;i++)o=s.getAt(i),a.isSelected(o)&&r.push(o);r.length&&a.doDeselect(r)}},normalizeRowRange:function(e,t){var n,i=this.store;return Ext.isNumber(e)||(e=i.indexOf(e)),e=Math.max(0,e),Ext.isNumber(t)||(t=i.indexOf(t)),t=Math.min(t,i.getCount()-1),e>t&&(n=t,t=e,e=n),[e,t]},select:function(e,t,n){!Ext.isDefined(e)||Ext.isArray(e)&&!e.length||this.doSelect(e,t,n)},deselect:function(e,t){this.doDeselect(e,t)},doSelect:function(e,t,n){var i,r=this;if(!r.locked&&r.store){if("number"==typeof e){if(i=r.store.getAt(e),!i)return;e=[i]}"SINGLE"===r.selectionMode&&e?(i=e.length?e[0]:e,r.doSingleSelect(i,n)):r.doMultiSelect(e,t,n)}},doMultiSelect:function(e,t,n){var i,r,o,a,s,l=this,d=l.selected,u=!1;if(!l.locked){if(e=Ext.isArray(e)?e:[e],o=e.length,!t&&d.getCount()>0&&(i=l.deselectDuringSelect(e,d.getRange(),n),i[0]))return void l.maybeFireSelectionChange(i[1]>0&&!n);for(s=function(){d.add(a),u=!0},r=0;o>r;r++)a=e[r],l.isSelected(a)||(l.lastSelected=a,l.onSelectChange(a,!0,n,s));l.preventFocus||l.setLastFocused(a,n),l.maybeFireSelectionChange(u&&!n)}},deselectDuringSelect:function(e,t,n){var i,r,o=this,a=t.length,s=0,l=!1;for(o.suspendChanges(),r=0;a>r;++r)i=t[r],Ext.Array.contains(e,i)||(o.doDeselect(i,n)?++s:l=!0);return o.resumeChanges(),[l,s]},doDeselect:function(e,t){var n,i,r,o=this,a=o.selected,s=0,l=0,d=0;if(o.locked||!o.store)return!1;if("number"==typeof e){if(i=o.store.getAt(e),!i)return!1;e=[i]}else Ext.isArray(e)||(e=[e]);for(r=function(){++d,a.remove(i)},n=e.length,o.suspendChanges();n>s;s++)i=e[s],o.isSelected(i)&&(o.lastSelected===i&&(o.lastSelected=a.last(),o.lastFocused===i&&o.setLastFocused(null)),++l,o.onSelectChange(i,!1,t,r));return o.resumeChanges(),o.maybeFireSelectionChange(d>0&&!t),d===l},doSingleSelect:function(e,t){var n,i=this,r=!1,o=i.selected;i.locked||i.isSelected(e)||(n=function(){if(o.getCount()){if(i.suspendChanges(),!i.doDeselect(i.lastSelected,t))return i.resumeChanges(),!1;i.resumeChanges()}o.add(e),i.lastSelected=e,r=!0},i.onSelectChange(e,!0,t,n),r&&(t||i.preventFocus||i.setLastFocused(e),i.maybeFireSelectionChange(!t)))},setLastFocused:function(e,t){var n=this,i=n.lastFocused;e!==i&&(n.lastFocused=e,n.onLastFocusChanged(i,e,t))},isFocused:function(e){return e===this.getLastFocused()},maybeFireSelectionChange:function(e){var t=this;e&&!t.suspendChange&&t.fireEvent("selectionchange",t,t.getSelection())},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(e){e=e?e.toUpperCase():"SINGLE",this.selectionMode=this.modes[e]?e:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(e){this.locked=!!e},isRangeSelected:function(e,t){var n,i,r=this,o=r.store;for(i=r.normalizeRowRange(e,t),e=i[0],t=i[1],n=e;t>=n;n++)if(!r.isSelected(o.getAt(n)))return!1;return!0},isSelected:function(e){return e=Ext.isNumber(e)?this.store.getAt(e):e,this.selected.contains(e)},hasSelection:function(){return this.selected.getCount()>0},pruneIf:function(){var e,t,n=this,i=n.selected,r=n.store,o=[],a=i.length;if(n.pruneRemoved){for(e=0;a>e;e++)t=i.getAt(e),-1===r.indexOfId(t.id)&&o.push(t);if(o.length){for(e=0,a=o.length;a>e;e++)t=o[e],i.remove(t),n.onPrune(t);n.maybeFireSelectionChange(!0)}}},onPrune:Ext.emptyFn,refresh:function(){var e,t,n,i=this,r=i.store,o=[],a=[],s=i.getSelection(),l=s.length,d=0,u=i.getLastFocused();if(r){for(;l>d&&(t=s[d],-1!==r.indexOf(t)?o.push(t):i.pruneRemoved||(e=r.getById(t.getId()),e?o.push(e):a.push(t)),"SINGLE"!==i.mode||!a.length);d++);i.selected.getCount()!==o.length+a.length&&(n=!0),i.clearSelections(),-1!==r.indexOf(u)&&i.setLastFocused(u,!0),o.length&&i.doSelect(o,!1,!0),a.length&&(i.selected.addAll(a),i.lastSelected||(i.lastSelected=a[a.length-1])),i.maybeFireSelectionChange(n)}},clearSelections:function(){this.selected.clear(),this.lastSelected=null,this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){this.selected.getCount()>0&&(this.clearSelections(),this.maybeFireSelectionChange(!0))},onStoreRemove:function(e,t,n,i){var r=this;r.selectionStart&&Ext.Array.contains(t,r.selectionStart)&&(r.selectionStart=null),i||r.locked||!r.pruneRemoved||r.deselect(t)},deselectDeletedRecords:function(e){var t,n,i=this,r=i.selected,o=e.length,a=0;for(t=0;o>t;t++)n=e[t],r.remove(n)&&(i.lastSelected===n&&(i.lastSelected=null),i.getLastFocused()===n&&i.setLastFocused(null),++a);a&&i.maybeFireSelectionChange(!0)},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearListeners(),this.clearSelections()},onStoreUpdate:Ext.emptyFn,onStoreRefresh:function(){var e,t,n,i,r,o=this,a=o.getStore(),s=o.selected,l=o.lastSelected;if(!o.store.isBufferedStore)for(e=s.items,t=e.length,l&&(o.lastSelected=a.getById(l.id)),n=0;t>n;++n)i=e[n],r=a.getById(i.id),r?o.selected.replace(r):o.selected.remove(i)},onStoreLoad:Ext.emptyFn,onSelectChange:function(e,t,n,i){var r=this,o=t?"select":"deselect";(n||r.fireEvent("before"+o,r,e))!==!1&&i()!==!1&&(n||r.fireEvent(o,r,e))},onLastFocusChanged:function(e,t){t!=e&&this.fireEvent("focuschange",this,e,t)},onEditorKey:Ext.emptyFn,beforeViewRender:function(e){this.views=this.views||[],this.views.push(e),this.bindStore(e.getStore(),!0)},resolveListenerScope:function(e){var t,n=this.view;return n&&(t=n.resolveListenerScope(e)),t||this.callParent([e])},onVetoUIEvent:Ext.emptyFn,bindComponent:Ext.emptyFn}),Ext.define("Ext.selection.DataViewModel",{extend:"Ext.selection.Model",requires:["Ext.util.KeyNav"],deselectOnContainerClick:!0,enableKeyNav:!0,bindComponent:function(e){var t=this,n={refresh:t.refresh,scope:t};t.view=e,t.bindStore(e.getStore()),n[e.triggerEvent]=t.onItemClick,n[e.triggerCtEvent]=t.onContainerClick,e.on(n),t.enableKeyNav&&t.initKeyNav(e)},onUpdate:function(e){var t=this.view;t&&this.isSelected(e)&&t.onItemSelect(e)},onItemClick:function(e,t,n,i,r){this.selectWithEvent(t,r)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},initKeyNav:function(e){var t=this;return e.rendered?(e.el.set({tabIndex:-1}),void(t.keyNav=new Ext.util.KeyNav({target:e.el,ignoreInputFields:!0,down:Ext.pass(t.onNavKey,[1],t),right:Ext.pass(t.onNavKey,[1],t),left:Ext.pass(t.onNavKey,[-1],t),up:Ext.pass(t.onNavKey,[-1],t),scope:t}))):void e.on({render:Ext.Function.bind(t.initKeyNav,t,[e]),single:!0})},onNavKey:function(e){e=e||1;var t,n=this,i=n.view,r=n.getSelection()[0],o=n.view.store.getCount();t=r?i.indexOf(i.getNode(r))+e:0,0>t?t=o-1:t>=o&&(t=0),n.select(t)},onSelectChange:function(e,t,n,i){var r=this,o=r.view,a=t?"select":"deselect";(n||r.fireEvent("before"+a,r,e))!==!1&&i()!==!1&&(o&&(t?o.onItemSelect(e):o.onItemDeselect(e)),n||r.fireEvent(a,r,e))},onLastFocusChanged:function(e,t,n){var i=this.view;i&&!n&&t&&(i.focusNode(t),this.fireEvent("focuschange",this,e,t))},destroy:function(){
Ext.destroy(this.keyNav),this.callParent()}}),Ext.define("Ext.view.AbstractView",{extend:"Ext.Component",requires:["Ext.LoadMask","Ext.data.StoreManager","Ext.CompositeElementLite","Ext.selection.DataViewModel"],mixins:["Ext.util.StoreHolder"],inheritableStatics:{getRecord:function(e){return this.getBoundView(e).getRecord(e)},getBoundView:function(e){return Ext.getCmp(e.boundView)}},defaultBindProperty:"store",statics:{updateDelay:200,queueRecordChange:function(e,t,n,i,r){var o,a,s,l,d,u,c,h=this,f=h.changeQueue||(h.changeQueue={}),g=n.internalId;if(o=f[g]||(f[g]={operation:i,record:n,data:{},views:[]}),a=o.data,Ext.Array.include(o.views,e),r&&(s=r.length)){for(l=0;s>l;l++)d=r[l],u=n.data[d],a.hasOwnProperty(d)?n.isEqual(a[d],u)&&(delete a[d],c=!0):a[d]=u;c&&!Ext.Object.getKeys(a).length&&delete f[g]}else Ext.apply(a,n.data);h.flushQueueTask||(h.flushQueueTask=Ext.util.TaskManager.newTask({run:Ext.global.requestAnimationFrame?Ext.Function.createAnimationFrame(h.onFlushTick,h):Ext.Function.bind(h.onFlushTick,h),interval:Ext.view.AbstractView.updateDelay,repeat:1})),h.flushQueueTask.start()},onFlushTick:function(){Ext.AnimationQueue.start(this.flushChangeQueue,this)},flushChangeQueue:function(){var e,t,n,i,r,o,a,s=this;if(Ext.isScrolling)return void s.flushQueueTask.start();n=s.changeQueue,this.changeQueue={};for(r in n)for(i=n[r],e=i.views,t=e.length,o=0;t>o;o++)a=e[o],a.isDestroyed||a.handleUpdate(a.dataSource,i.record,i.operation,Ext.Object.getKeys(i.data));Ext.AnimationQueue.stop(s.flushChangeQueue,s)}},throttledUpdate:!1,deferInitialRefresh:!1,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:!0,loadingUseMsg:!0,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,ariaRole:"listbox",itemAriaRole:"option",last:!1,triggerEvent:"itemclick",triggerCtEvent:"containerclick",refreshNeeded:!0,addCmpEvents:Ext.emptyFn,initComponent:function(){var e=this,t=Ext.isDefined,n=e.itemTpl,i={};n&&(Ext.isArray(n)?n=n.join(""):Ext.isObject(n)&&(i=Ext.apply(i,n.initialConfig),n=n.html),e.itemSelector||(e.itemSelector="."+e.itemCls),n=Ext.String.format('<tpl for="."><div class="{0}" role="{2}">{1}</div></tpl>',e.itemCls,n,e.itemAriaRole),e.tpl=new Ext.XTemplate(n,i)),t(e.tpl)&&t(e.itemSelector)||Ext.Error.raise({sourceClass:"Ext.view.View",tpl:e.tpl,itemSelector:e.itemSelector,msg:"DataView requires both tpl and itemSelector configurations to be defined."}),e.callParent(),e.tpl=e.getTpl("tpl"),(t(e.overCls)||t(e.overClass))&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.view.View: Using the deprecated overCls or overClass configuration. Use overItemCls instead."),e.overItemCls=e.overCls||e.overClass,delete e.overCls,delete e.overClass),(t(e.selectedCls)||t(e.selectedClass))&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.view.View: Using the deprecated selectedCls or selectedClass configuration. Use selectedItemCls instead."),e.selectedItemCls=e.selectedCls||e.selectedClass,delete e.selectedCls,delete e.selectedClass),e.overItemCls&&(e.trackOver=!0),e.addCmpEvents(),e.store=Ext.data.StoreManager.lookup(e.store||"ext-empty-store"),e.dataSource||(e.dataSource=e.store),e.bindStore(e.dataSource,!0,"dataSource"),e.all||(e.all=new Ext.CompositeElementLite),e.scrollState={top:0,left:0},e.on({scroll:e.onViewScroll,element:"el",onFrame:!!Ext.global.requestAnimationFrame,scope:e})},onRender:function(){var e,t=this,n=t.loadMask,i=t.getMaskStore(),r={target:t,msg:t.loadingText,useMsg:t.loadingUseMsg,store:i};t.callParent(arguments),n&&(e=i.getProxy(),e&&!e.isSynchronous&&(t.loadingCls&&(r.msgCls=t.loadingCls),Ext.isObject(n)&&(r=Ext.apply(r,n)),t.loadMask=new Ext.LoadMask(r),t.loadMask.on({scope:t,beforeshow:t.onMaskBeforeShow,hide:t.onMaskHide})))},beforeLayout:function(){var e=this;e.callParent(arguments),e.refreshNeeded&&!e.pendingRefresh&&(e.refreshCounter?e.refresh():e.doFirstRefresh(e.dataSource))},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var e=this,t=e.loadingHeight;t&&t>e.getHeight()&&(e.hasLoadingHeight=!0,e.oldMinHeight=e.minHeight,e.minHeight=t,e.updateLayout())},onMaskHide:function(){var e=this;!e.destroying&&e.hasLoadingHeight&&(e.minHeight=e.oldMinHeight,e.updateLayout(),delete e.hasLoadingHeight)},beforeRender:function(){this.callParent(arguments),this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments),this.getSelectionModel().bindComponent(this)},getRefItems:function(){var e=this.loadMask,t=[];return e&&e.isComponent&&t.push(e),t},getSelectionModel:function(){var e=this,t="SINGLE";return e.simpleSelect?t="SIMPLE":e.multiSelect&&(t="MULTI"),e.selModel&&e.selModel.events||(e.selModel=new Ext.selection.DataViewModel(Ext.apply({allowDeselect:e.allowDeselect,mode:t},e.selModel))),e.selModel.hasRelaySetup||(e.relayEvents(e.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]),e.selModel.hasRelaySetup=!0),e.disableSelection&&(e.selModel.locked=!0),e.selModel},refresh:function(){var e,t,n,i,r,o,a=this,s=a.all,l=s.getCount(),d=a.refreshCounter,u=d&&s.getCount()&&a.preserveScrollOnRefresh&&!a.bufferedRenderer;!a.rendered||a.isDestroyed||a.preventRefresh||a.hasListeners.beforerefresh&&a.fireEvent("beforerefresh",a)===!1||(a.refreshing=!0,e=a.getTargetEl(),i=a.getViewRange(),n=e.dom,u&&(t=a.getOverflowEl(),o=t.getScroll()),d?(r=!0,a.clearViewEl(),a.refreshCounter++):a.refreshCounter=1,a.tpl.append(e,a.collectData(i,s.startIndex||0)),i.length<1?(!a.emptyText||a.getStore().isLoading()||a.deferEmptyText&&!r||(a.emptyEl=Ext.core.DomHelper.insertHtml("beforeEnd",e.dom,a.emptyText)),s.clear()):(a.collectNodes(e.dom),a.updateIndexes(0)),r&&(a.refreshSelmodelOnRefresh!==!1?a.selModel.refresh():a.preventPrune||a.selModel.pruneIf()),a.refreshNeeded=!1,a.refreshSize(s.getCount()!==l),a.fireEvent("refresh",a,i),u&&(t.setScrollLeft(o.left),t.setScrollTop(o.top)),a.viewReady||(a.viewReady=!0,a.fireEvent("viewready",a)),a.refreshing=!1,a.refreshScroll())},collectNodes:function(e){var t=this.all;t.fill(Ext.fly(e).query(this.getItemSelector()),t.startIndex||0)},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(e){var t=this,n=t.getSizeModel(),i=t.scrollManager;n.height.shrinkWrap||n.width.shrinkWrap||e?t.updateLayout():i&&i.refresh()},onResize:function(){var e=this,t=e.scrollManager;t&&!e._hasScrollListener&&(t.on({scroll:e.onViewScroll,scope:e,onFrame:!!Ext.global.requestAnimationFrame}),e._hasScrollListener=!0),this.callParent(arguments)},clearViewEl:function(){var e=this,t=e.getNodeContainer()===e.getEl();e.clearEmptyEl(),e.all.clear(!t),t&&(e.el.dom.innerHTML="")},clearEmptyEl:function(){var e=this.emptyEl;e&&e.parentNode.removeChild(e),this.emptyEl=null},onViewScroll:function(){this.fireEvent("scroll",this)},saveScrollState:function(){var e=this,t=e.scrollState;e.rendered&&(t.left=e.getScrollX(),t.top=e.getScrollY())},restoreScrollState:function(){var e=this,t=e.scrollState;e.rendered&&(e.setScrollX(t.left),e.setScrollY(t.top))},prepareData:function(e,t,n){var i,r,o;if(n){i=n.getAssociatedData();for(r in i)i.hasOwnProperty(r)&&(o||(e=Ext.Object.chain(e),o=!0),e[r]=i[r])}return e},collectData:function(e,t){for(var n,i=[],r=0,o=e.length;o>r;r++)n=e[r],i[r]=this.prepareData(n.data,t+r,n);return i},bufferRender:function(e,t){var n=this,i=n.renderBuffer||(n.self.prototype.renderBuffer=document.createElement("div"));return n.tpl.overwrite(i,n.collectData(e,t)),Ext.fly(i).query(n.getItemSelector())},nodeContainerSelector:null,getNodeContainer:function(){var e=this.getTargetEl(),t=this.nodeContainerSelector;return t?e.down(t,!0):e},getNodeContainerSelector:function(){return this.nodeContainerSelector},onUpdate:function(e,t,n,i){var r=this;r.throttledUpdate?r.statics().queueRecordChange(r,e,t,n,i):r.handleUpdate.apply(r,arguments)},handleUpdate:function(e,t){var n,i,r=this;return r.viewReady&&(n=r.dataSource.indexOf(t),n>-1&&r.getNode(t))?(i=r.bufferRender([t],n)[0],r.all.replaceElement(n,i,!0),r.updateIndexes(n,n),r.selModel.onUpdate(t),r.hasListeners.itemupdate&&r.fireEvent("itemupdate",t,n,i),i):void 0},onReplace:function(e,t,n,i){var r,o,a,s,l,d=this,u=d.all;if(d.rendered){if(o=d.bufferRender(i,t,!0),a=u.item(t),a?u.item(t).insertSibling(o,"before",!0):d.appendNodes(o),u.insert(t,o),t+=i.length,r=t+n.length-1,u.removeRange(t,r,!0),d.refreshSelmodelOnRefresh!==!1&&d.selModel.refresh(),d.updateIndexes(t),d.refreshSizePending=!0,d.hasListeners.itemremove)for(s=n.length,l=r;s>=0;--s,--l)d.fireEvent("itemremove",n[s],l,d);d.hasListeners.itemadd&&d.fireEvent("itemadd",i,t,o)}},onAdd:function(e,t,n){var i,r=this;r.rendered&&(0===r.all.getCount()?(r.refresh(),i=r.all.slice()):(i=r.doAdd(t,n),r.refreshSelmodelOnRefresh!==!1&&r.selModel.refresh(),r.updateIndexes(n),r.refreshSizePending=!0),r.hasListeners.itemadd&&r.fireEvent("itemadd",t,n,i))},appendNodes:function(e){var t,n=document.createDocumentFragment(),i=e.length;for(t=0;i>t;++t)n.appendChild(e[t]);this.getNodeContainer().appendChild(n)},doAdd:function(e,t){var n=this,i=n.bufferRender(e,t,!0),r=n.all,o=r.getCount(),a=r.startIndex||0,s=r.endIndex||o-1;return 0===o||t>s?n.appendNodes(i):a>=t?r.item(a).insertSibling(i,"before",!0):r.item(t).insertSibling(i,"before",!0),r.insert(t,i),i},onRemove:function(e,t,n){var i,r,o,a,s,l=this,d=l.all,u=l.hasListeners.itemremove;if(d.getCount()){if(0===l.dataSource.getCount())u&&l.fireEvent("itemremove",t,n,l.getNodes(n,n+t.length-1)),l.preventPrune=!0,l.refresh(),l.preventPrune=!1;else{for(u&&(a=[]),r=t.length-1;r>=0;--r)o=t[r],i=n+r,a&&(s=d.item(i),a[r]=s?s.dom:void 0),d.item(i)&&l.doRemove(o,i);u&&l.fireEvent("itemremove",t,n,a,l),l.updateIndexes(n)}l.refreshSizePending=!0}},doRemove:function(e,t){this.all.removeElement(t,!0)},refreshNode:function(e){Ext.isNumber(e)&&(e=this.store.getAt(e)),this.onUpdate(this.dataSource,e)},updateIndexes:function(e,t){var n,i=this.all.elements,r=this.getViewRange();for(e=e||0,t=t||(0===t?0:i.length-1),n=e;t>=n;n++)i[n].viewIndex=n,i[n].viewRecordId=r[n].internalId,i[n].boundView||(i[n].boundView=this.id)},getStore:function(){return this.store},bindStore:function(e,t,n){var i=this;i.mixins.storeholder.bindStore.apply(i,arguments),t||i.getSelectionModel().bindStore(e),i.componentLayoutCounter&&i.doFirstRefresh(e)},doFirstRefresh:function(e,t){var n=this;n.deferInitialRefresh&&!t?Ext.defer(n.doFirstRefresh,1,n,[e,!0]):e&&!e.loading&&n.refresh()},onUnbindStore:function(e){this.setMaskBind(null)},onBindStore:function(e,t,n){var i=this;i.setMaskBind(e),t||"store"!==n||(i.preventRefresh=!0,i.store=e,i.bindStore(e,!1,"dataSource"),i.preventRefresh=!1)},setMaskBind:function(e){var t=this.loadMask;t&&t.bindStore&&t.bindStore(e)},getStoreListeners:function(){var e=this;return{refresh:e.onDataRefresh,replace:e.onReplace,add:e.onAdd,remove:e.onRemove,update:e.onUpdate,clear:e.refresh,beginupdate:e.onBeginUpdate,endupdate:e.onEndUpdate}},onBeginUpdate:Ext.emptyFn,onEndUpdate:function(){this.refreshSizePending&&(this.refreshSize(!0),this.refreshSizePending=!1)},onDataRefresh:function(){this.refreshView()},refreshView:function(){var e=this,t=e.blockRefresh||!e.rendered||e.up("[collapsed],[isCollapsingOrExpanding],[hidden]");t?e.refreshNeeded=!0:e.bufferedRenderer&&e.all.getCount()?e.bufferedRenderer.refreshView():e.refresh()},findItemByChild:function(e){return Ext.fly(e).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(e){return e.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var e=[],t=this.selModel.getSelection(),n=t.length,i=0;n>i;i++)e.push(this.getNode(t[i]));return e},getRecords:function(e){for(var t=[],n=0,i=e.length,r=this.dataSource.data;i>n;n++)t[t.length]=r.getByKey(e[n].viewRecordId);return t},getRecord:function(e){return this.dataSource.getByInternalId(Ext.getDom(e).viewRecordId)},isSelected:function(e){var t=this.getRecord(e);return this.selModel.isSelected(t)},select:function(e,t,n){this.selModel.select(e,t,n)},deselect:function(e,t){this.selModel.deselect(e,t)},getNode:function(e){return!e&&0!==e||!this.rendered?null:(e.target&&(e=e.target),Ext.isString(e)?document.getElementById(e):Ext.isNumber(e)?this.all.elements[e]:e.isModel?this.getNodeByRecord(e):Ext.fly(e).findParent(this.itemSelector,this.getTargetEl()))},getNodeByRecord:function(e){for(var t=this.all.elements,n=t.length,i=0;n>i;i++)if(t[i].viewRecordId===e.internalId)return t[i];return null},getNodes:function(e,t){var n=this.all;return void 0!==t&&t++,n.slice(e,t)},indexOf:function(e){return e=this.getNode(e),e||0===e?Ext.isNumber(e.viewIndex)?e.viewIndex:this.all.indexOf(e):-1},onDestroy:function(){var e=this;e.all.clear(),e.emptyEl=null,e.callParent(),e.bindStore(null),Ext.destroy(e.selModel,e.scrollManager)},onItemSelect:function(e){var t=this.getNode(e);t&&Ext.fly(t).addCls(this.selectedItemCls)},onItemDeselect:function(e){var t=this.getNode(e);t&&Ext.fly(t).removeCls(this.selectedItemCls)},getItemSelector:function(){return this.itemSelector},addItemCls:function(e,t){var n=this.getNode(e);n&&Ext.fly(n).addCls(t)},removeItemCls:function(e,t){var n=this.getNode(e);n&&Ext.fly(n).removeCls(t)},privates:{getOverflowEl:function(){return Ext.Component.prototype.getTargetEl.call(this)},getTargetEl:function(){return this.touchScroll?this.getScrollerEl():this.callParent()}}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection().length},getSelectedRecords:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection()},select:function(e,t,n){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var i=this.getSelectionModel();return i.select.apply(i,arguments)},clearSelections:function(){Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()");var e=this.getSelectionModel();return e.deselectAll()}})})}),Ext.define("Ext.view.View",{extend:"Ext.view.AbstractView",alternateClassName:"Ext.DataView",alias:"widget.dataview",inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{longpress:"LongPress",mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"},TouchEventMap:{touchstart:"mousedown",touchend:"mouseup",tap:"click",doubletap:"dblclick"}},afterRender:function(){var e=this;e.callParent(),e.mon(e.el,{scope:e,click:e.handleEvent,longpress:e.handleEvent,mousedown:e.handleEvent,mouseup:e.handleEvent,dblclick:e.handleEvent,contextmenu:e.handleEvent,keydown:e.handleEvent,mouseover:e.handleMouseOver,mouseout:e.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(e){var t=this,n=t.getTargetSelector(),i=e.getTarget(n);t.isDestroyed||(i?t.mouseOverItem!==i&&t.el.contains(i)&&(t.mouseOverItem=e.item=i,e.newType="mouseenter",t.handleEvent(e)):t.handleEvent(e))},handleMouseOut:function(e){var t,n=this.getTargetSelector(),i=e.getTarget(n),r=e.getRelatedTarget(n);(i!==r||null===i&&null===r)&&(this.isDestroyed||(i&&(t=this.self.getBoundView(i))?(e.item=i,e.newType="mouseleave",t.handleEvent(e),t.mouseOverItem=null):this.handleEvent(e)))},handleEvent:function(e){var t,n=this,i="keydown"===e.type,r=i&&e.getKey();e.item||(e.item=e.getTarget(n.itemSelector)),e.item?e.record=n.getRecord(e.item):i&&(t=n.getSelectionModel(),e.record=t.lastFocused||t.getLastSelected(),e.record&&(e.item=n.getNode(e.record))),n.processUIEvent(e)!==!1&&n.processSpecialEvent(e),r===e.SPACE&&(n.inputTagRe.test(e.getTarget().tagName)||e.stopEvent()),e.item=e.record=e.newType=null},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(e){if(Ext.getBody().isAncestor(e.target)){var t,n=this,i=e.item,r=n.self,o=r.EventMap,a=r.TouchEventMap,s=e.record,l=e.type,d=l;if(e.newType&&(d=e.newType),i){if(d=a[d]||d,t=n.indexInStore?n.indexInStore(s):n.indexOf(i),!s||n.processItemEvent(s,i,t,e)===!1)return!1;if(n["onBeforeItem"+o[d]](s,i,t,e)===!1||n.fireEvent("beforeitem"+d,n,s,i,t,e)===!1||n["onItem"+o[d]](s,i,t,e)===!1)return!1;n.fireEvent("item"+d,n,s,i,t,e)}else{if(l=a[l]||l,n.processContainerEvent(e)===!1||n["onBeforeContainer"+o[l]](e)===!1||n.fireEvent("beforecontainer"+l,n,e)===!1||n["onContainer"+o[l]](e)===!1)return!1;n.fireEvent("container"+l,n,e)}return!0}},onItemMouseEnter:function(e,t,n,i){this.trackOver&&this.highlightItem(t)},onItemMouseLeave:function(e,t,n,i){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(e){var t=this,n=t.highlightedItem,i=t.overItemCls;n!==e&&(n&&(Ext.fly(n).removeCls(i),Ext.isIE8&&(t.repaintBorder(n),t.repaintBorder(n.nextSibling)),t.hasListeners.unhighlightitem&&t.fireEvent("unhighlightitem",t,n)),t.highlightedItem=e,e&&(Ext.fly(e).addCls(t.overItemCls),Ext.isIE8&&t.repaintBorder(e.nextSibling),t.hasListeners.highlightitem&&t.fireEvent("highlightitem",t,e)))},highlightItem:function(e){this.setHighlightedItem(e)},clearHighlight:function(){this.setHighlightedItem(void 0)},handleUpdate:function(e,t){var n,i,r,o=this;o.viewReady&&(n=o.getNode(t),i=o.callParent(arguments),r=o.highlightedItem,r&&r===n&&(delete o.highlightedItem,i&&o.highlightItem(i)))},refresh:function(){this.clearHighlight(),this.callParent(arguments)},focusNode:function(e){var t,n=this,i=n.getNode(e),r=n.el,o=0,a=0,s=r.getRegion();s.bottom=s.top+r.dom.clientHeight,s.right=s.left+r.dom.clientWidth,i&&(t=Ext.fly(i).getRegion(),t.top<s.top?o=t.top-s.top:t.bottom>s.bottom&&(o=t.bottom-s.bottom),t.left<s.left?a=t.left-s.left:t.right>s.right&&(a=t.right-s.right),(a||o)&&n.scrollBy(a,o,!1),Ext.fly(i).set({tabIndex:-1}),i.focus())},bindStore:function(e,t,n){var i=this[n];i&&i.isFeatureStore?e.isFeatureStore?(this.bindStoreListeners(e),i.bindStore(i.store)):i.bindStore(e):this.callParent(arguments)},privates:{repaintBorder:function(e){var t=this.getNode(e);t&&(t.className=t.className)},getFocusEl:function(){return this.getTargetEl()}}}),Ext.define("Ext.grid.CellContext",{isCellContext:!0,constructor:function(e){this.view=e},isEqual:function(e){return e?this.record===e.record&&this.columnHeader===e.columnHeader:!1},setPosition:function(e,t){var n=this;return 1===arguments.length&&(e.view&&(n.view=e.view),t=e.column,e=e.row),n.setRow(e),n.setColumn(t),n},setRow:function(e){var t=this,n=t.view.dataSource;void 0!==e&&("number"==typeof e?(t.row=Math.max(Math.min(e,n.getCount()-1),0),t.record=n.getAt(e)):e.isModel?(t.record=e,t.row=n.indexOf(e)):e.tagName&&(t.record=t.view.getRecord(e),t.row=n.indexOf(t.record)))},setColumn:function(e){var t=this,n=t.view.ownerCt.getColumnManager();void 0!==e&&("number"==typeof e?(t.column=e,t.columnHeader=n.getHeaderAtIndex(e)):e.isHeader&&(t.columnHeader=e,t.column=n.getHeaderIndex(e)))},equal:function(e){return e&&e.isCellContext&&e.view===this.view&&e.record===this.record&&e.columnHeader===this.columnHeader}}),Ext.define("Ext.util.CSS",function(){var e,t=null,n=document,i=/(-[a-z])/gi,r=function(e,t){return t.charAt(1).toUpperCase()};return{singleton:!0,rules:t,initialized:!1,constructor:function(){e=this},createStyleSheet:function(t,i){var r,o=n.getElementsByTagName("head")[0],a=n.createElement("style");return a.setAttribute("type","text/css"),i&&a.setAttribute("id",i),r=a.styleSheet,r?(o.appendChild(a),r.cssText=t):(a.appendChild(n.createTextNode(t)),o.appendChild(a),r=a.sheet),e.cacheStyleSheet(r),r},removeStyleSheet:function(e){var t=n.getElementById(e);t&&t.parentNode.removeChild(t)},swapStyleSheet:function(t,i){var r;e.removeStyleSheet(t),r=n.createElement("link"),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("id",t),r.setAttribute("href",i),n.getElementsByTagName("head")[0].appendChild(r)},cacheStyleSheet:function(n){t||(t=e.rules={});try{var i,r,o=n.cssRules||n.rules,a=o.length-1,s=n.imports,l=s?s.length:0;for(r=0;l>r;++r)e.cacheStyleSheet(s[r]);for(;a>=0;--a)i=o[a],i.styleSheet&&e.cacheStyleSheet(i.styleSheet),e.cacheRule(i,n)}catch(d){}},cacheRule:function(n,i){if(n.styleSheet)return e.cacheStyleSheet(n.styleSheet);var r,o,a=n.selectorText;if(a)for(a=a.split(","),r=a.length,o=0;r>o;o++)t[Ext.String.trim(a[o]).toLowerCase()]={parentStyleSheet:i,cssRule:n}},getRules:function(n){var i,r={};(null===t||n)&&e.refreshCache();for(i in t)r[i]=t[i].cssRule;return r},refreshCache:function(){var i=n.styleSheets,r=0,o=i.length;for(t=e.rules={};o>r;r++)try{i[r].disabled||e.cacheStyleSheet(i[r])}catch(a){}},getRule:function(n,i,r){var o,a;if((!t||i)&&e.refreshCache(),!Ext.isArray(n))return a=t[n.toLowerCase()],a&&!r&&(a=a.cssRule),a||null;for(o=0;o<n.length;o++)if(t[n[o]])return r?t[n[o].toLowerCase()]:t[n[o].toLowerCase()].cssRule;return null},createRule:function(t,n,i){var r,o=t.cssRules||t.rules,a=o.length;return t.insertRule?t.insertRule(n+" {"+i+"}",a):t.addRule(n,i||" "),e.cacheRule(r=o[a],t),r},updateRule:function(t,n,o){var a,s,l;if(Ext.isArray(t)){for(s=0;s<t.length;s++)if(e.updateRule(t[s],n,o))return!0}else if(a=e.getRule(t)){if(2===arguments.length){l=Ext.Element.parseStyles(n);for(n in l)a.style[n.replace(i,r)]=l[n]}else a.style[n.replace(i,r)]=o;return!0}return!1},deleteRule:function(n){var i,r,o=e.getRule(n,!1,!0);o&&(i=o.parentStyleSheet,r=Ext.Array.indexOf(i.cssRules||i.rules,o.cssRule),i.deleteRule?i.deleteRule(r):i.removeRule(r),delete t[n])}}}),Ext.define("Ext.view.TableLayout",{extend:"Ext.layout.component.Auto",requires:["Ext.util.CSS"],alias:["layout.tableview"],type:"tableview",beginLayout:function(e){var t=this,n=t.owner.lockingPartner;t.callParent(arguments),n&&(t.lockedGrid=t.owner.up("[lockable]"),t.lockedGrid.needsRowHeightSync=!0,e.lockingPartner||(e.lockingPartner=e.context.getItem(n,n.el),e.lockingPartner&&!e.lockingPartner.lockingPartner&&(e.lockingPartner.lockingPartner=e))),e.headerContext=e.context.getCmp(t.headerCt),t.owner.body.dom&&(e.bodyContext=e.getEl(t.owner.body))},calculate:function(e){var t,n=this,i=n.lockingPartner,r=n.owner,o=0;if(!r.store.getCount())return e.state.columnWidthsSynced=!0,e.bodyContext&&e.bodyContext.setHeight(o,!1),e.setProp("contentHeight",o),void n.callParent(arguments);if(e.headerContext.hasProp("columnsChanged")){if(e.headerContext.getProp("columnsChanged")&&!n.setColumnWidths(e))return void(n.done=!1);e.state.columnWidthsSynced=!0,e.bodyContext&&(t=n.owner.el.down("."+r.ownerCt.emptyCls,!0),t?o=t.offsetHeight:(o=e.bodyContext.el.dom.offsetHeight,e.bodyContext.setHeight(o,!1)),e.headerContext.state.boxPlan.tooNarrow&&e.ownerCtContext.sizeModel.height.shrinkWrap&&(o+=Ext.getScrollbarSize().height),e.setProp("contentHeight",o)),i&&!i.state.columnWidthsSynced?n.done=!1:n.callParent(arguments)}else n.done=!1},measureContentHeight:function(e){var t=e.lockingPartner;return!e.bodyContext||e.state.columnWidthsSynced&&(!t||t.state.columnWidthsSynced)?this.callParent(arguments):void 0},setColumnWidths:function(e){if(!this.owner.body.dom)return!0;var t,n,i,r=this,o=r.owner,a=e.context,s=e.headerContext.getProp("columnsChanged"),l=r.headerCt.getVisibleGridColumns(),d=0,u=s.length;for(a&&(a.currentLayout=r),d=0;u>d;d++){if(t=l[s[d]],n=a.getCmp(t),i=n.props.width,isNaN(i))return n.getProp("width"),!1;o.body.select(o.getColumnSizerSelector(t)).setWidth(i)}return!0},finishedLayout:function(e){var t=this,n=e.headerContext.props.contentWidth,i=Ext.fly(t.owner.getNodeContainer());t.callParent(arguments),i&&i.setWidth(n),t.owner.refreshCounter&&t.lockedGrid&&t.lockedGrid.syncRowHeight&&t.lockedGrid.needsRowHeightSync&&(t.lockedGrid.syncRowHeights(),t.lockedGrid.needsRowHeightSync=!1)}}),Ext.define("Ext.view.NodeCache",{statics:{importElementMethods:Ext.dom.CompositeElementLite.importElementMethods,range:document.createRange&&document.createRange()},constructor:function(e){this.view=e,this.clear(),this.el=new Ext.dom.Fly},clear:function(e){var t,n,i=this,r=this.elements,o=i.statics().range;if(i.count&&e)if(o)o.setStartBefore(r[i.startIndex]),o.setEndAfter(r[i.endIndex]),o.deleteContents();else for(t in r)n=r[t],n.parentNode.removeChild(n);i.elements={},i.count=i.startIndex=0,i.endIndex=-1},fill:function(e,t,n){n=n||0;var i,r=this,o=r.elements={},a=e.length-n;for(t||(t=0),i=0;a>i;i++)o[t+i]=e[i+n];return r.startIndex=t,r.endIndex=t+a-1,r.count=a,this},insert:function(e,t){var n,i=this,r=i.elements,o=t.length;if(i.count){if((e>i.endIndex+1||e+t.length-1<i.startIndex)&&Ext.Error.raise("Discontiguous range would result from inserting "+t.length+" nodes at "+e),e<i.count)for(n=i.endIndex+o;n>=e+o;n--)r[n]=r[n-o],r[n].setAttribute("data-recordIndex",n);i.endIndex=i.endIndex+o}else i.startIndex=e,i.endIndex=e+o-1;for(n=0;o>n;n++,e++)r[e]=t[n],r[e].setAttribute("data-recordIndex",e);i.count+=o},invoke:function(e,t){var n,i,r=this;for(e=Ext.dom.Element.prototype[e],i=r.startIndex;i<=r.endIndex;i++)n=r.item(i),n&&e.apply(n,t);return this},item:function(e,t){var n=this.elements[e],i=null;return n&&(i=t?this.elements[e]:this.el.attach(this.elements[e])),i},first:function(e){return this.item(this.startIndex,e)},last:function(e){return this.item(this.endIndex,e)},getCount:function(){return this.count},slice:function(e,t){var n,i=this.elements,r=[];for(t=t?Math.min(this.endIndex,t-1):this.endIndex,n=e||this.startIndex;t>=n;n++)r.push(i[n]);return r},replaceElement:function(e,t,n){var i=this.elements,r="number"==typeof e?e:this.indexOf(e);return r>-1&&(t=Ext.getDom(t),n&&(e=i[r],e.parentNode.insertBefore(t,e),Ext.removeNode(e),t.setAttribute("data-recordIndex",r)),this.elements[r]=t),this},indexOf:function(e){var t,n=this.elements;for(e=Ext.getDom(e),t=this.startIndex;t<=this.endIndex;t++)if(n[t]===e)return t;return-1},removeRange:function(e,t,n){var i,r,o,a,s=this,l=s.elements;for(t=null==t?s.endIndex+1:Math.min(s.endIndex+1,t+1),null==e&&(e=s.startIndex),o=t-e,r=e,a=t;r<=s.endIndex;r++,a++)n&&t>r&&Ext.removeNode(l[r]),a<=s.endIndex?(i=l[r]=l[a],i.setAttribute("data-recordIndex",r)):delete l[r];s.count-=o,s.endIndex-=o},removeElement:function(e,t){var n,i,r,o,a,s,l=this,d=l.elements,u=0;if(Ext.isArray(e)){for(n=e,e=[],o=n.length,u=0;o>u;u++)i=n[u],"number"!=typeof i&&(i=l.indexOf(i)),i>=l.startIndex&&i<=l.endIndex&&(e[e.length]=i);Ext.Array.sort(e),o=e.length}else{if(e<l.startIndex||e>l.endIndex)return;o=1,e=[e]}for(a=s=e[0],u=0;a<=l.endIndex;a++,s++)o>u&&a===e[u]&&(s++,u++,t&&Ext.removeNode(d[a])),s<=l.endIndex&&s>=l.startIndex?(r=d[a]=d[s],r.setAttribute("data-recordIndex",a)):delete d[a];l.endIndex-=o,l.count-=o},scroll:function(e,t,n){var i,r,o,a,s=this,l=s.view,d=l.store,u=s.elements,c=e.length,h=l.getNodeContainer(),f=document.createDocumentFragment(),g=l.hasListeners.itemremove,p=l.hasListeners.itemadd,m=s.statics().range;if(-1===t){if(n){if(m)for(m.setStartBefore(u[s.endIndex-n+1]),m.setEndAfter(u[s.endIndex]),m.deleteContents(),i=s.endIndex-n+1;i<=s.endIndex;i++)r=u[i],delete u[i],g&&l.fireEvent("itemremove",d.getByInternalId(r.getAttribute("data-recordId")),i,r,l);else for(i=s.endIndex-n+1;i<=s.endIndex;i++)r=u[i],delete u[i],r.parentNode.removeChild(r),g&&l.fireEvent("itemremove",d.getByInternalId(r.getAttribute("data-recordId")),i,r,l);s.endIndex-=n}if(e.length){for(a=l.bufferRender(e,s.startIndex-=c),i=0;c>i;i++)u[s.startIndex+i]=a[i],f.appendChild(a[i]);h.insertBefore(f,h.firstChild),p&&l.fireEvent("itemadd",e,s.startIndex,a)}}else{if(n){if(o=s.startIndex+n,m)for(m.setStartBefore(u[s.startIndex]),m.setEndAfter(u[o-1]),m.deleteContents(),i=s.startIndex;o>i;i++)r=u[i],delete u[i],g&&l.fireEvent("itemremove",d.getByInternalId(r.getAttribute("data-recordId")),i,r,l);else for(i=s.startIndex;o>i;i++)r=u[i],delete u[i],r.parentNode.removeChild(r),g&&l.fireEvent("itemremove",d.getByInternalId(r.getAttribute("data-recordId")),i,r,l);s.startIndex=o}for(a=l.bufferRender(e,s.endIndex+1),i=0;c>i;i++)u[s.endIndex+=1]=a[i],f.appendChild(a[i]);h.appendChild(f),p&&l.fireEvent("itemadd",e,s.endIndex+1,a)}s.count=s.endIndex-s.startIndex+1},sumHeights:function(){var e,t=0,n=this.elements;for(e=this.startIndex;e<=this.endIndex;e++)t+=n[e].offsetHeight;return t}},function(){this.importElementMethods()}),Ext.define("Ext.view.Table",{extend:"Ext.view.View",alias:"widget.tableview",requires:["Ext.grid.CellContext","Ext.view.TableLayout","Ext.view.NodeCache","Ext.util.DelayedTask","Ext.util.MixedCollection"],inheritableStatics:{events:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","cellkeydown","beforecellkeydown","cellmouseup","beforecellmouseup","cellmousedown","beforecellmousedown","cellcontextmenu","beforecellcontextmenu","celldblclick","beforecelldblclick","cellclick","beforecellclick","refresh","itemremove","itemadd","itemupdate","viewready","beforerefresh","unhighlightitem","highlightitem","focuschange","deselect","select","beforedeselect","beforeselect","selectionchange","containerkeydown","containercontextmenu","containerdblclick","containerclick","containermouseout","containermouseover","containermouseup","containermousedown","beforecontainerkeydown","beforecontainercontextmenu","beforecontainerdblclick","beforecontainerclick","beforecontainermouseout","beforecontainermouseover","beforecontainermouseup","beforecontainermousedown","itemkeydown","itemcontextmenu","itemdblclick","itemclick","itemmouseleave","itemmouseenter","itemmouseup","itemmousedown","beforeitemkeydown","beforeitemcontextmenu","beforeitemdblclick","beforeitemclick","beforeitemmouseleave","beforeitemmouseenter","beforeitemmouseup","beforeitemmousedown","statesave","beforestatesave","staterestore","beforestaterestore","uievent","groupcollapse","groupexpand"]},componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",unselectableCls:Ext.baseCSSPrefix+"unselectable",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",selectedItemCls:Ext.baseCSSPrefix+"grid-item-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-item-focused",overItemCls:Ext.baseCSSPrefix+"grid-item-over",altRowCls:Ext.baseCSSPrefix+"grid-item-alt",dirtyCls:Ext.baseCSSPrefix+"grid-dirty-cell",
rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+)(?:\\s|$)",""),positionBody:!0,positionCells:!1,stripeOnUpdate:null,trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,ariaRole:"grid",tpl:["{%","view = values.view;","if (!(columns = values.columns)) {","columns = values.columns = view.ownerCt.getVisibleColumnManager().getColumns();","}","values.fullWidth = 0;","for (i = 0, len = columns.length; i < len; i++) {","column = columns[i];","values.fullWidth += (column.cellWidth = column.lastBox ? column.lastBox.width : column.width || column.minWidth);","}","tableCls=values.tableCls=[];","%}",'<div class="'+Ext.baseCSSPrefix+'grid-item-container" style="width:{fullWidth}px">',"{[view.renderTHead(values, out, parent)]}","{%","view.renderRows(values.rows, values.columns, values.viewStartIndex, out);","%}","{[view.renderTFoot(values, out, parent)]}","</div>",{definitions:"var view, tableCls, columns, i, len, column;",priority:0}],outerRowTpl:['<table id="{rowId}" ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]}" cellPadding="0" cellSpacing="0" {ariaTableAttr} style="width:0;{itemStyle}">',"{%","this.nextTpl.applyOut(values, out, parent)","%}","</table>",{priority:9999}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-row";',"%}",'<tr class="{[values.rowClasses.join(" ")]} {[dataRowCls]}" {rowAttr:attributes} tabIndex="-1" {ariaRowAttr}>','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td class="{tdCls}" {tdAttr} {[Ext.aria ? "id=\\"" + Ext.id() + "\\"" : ""]} style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}</tpl>" {ariaCellAttr}>','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}" ','style="text-align:{align};<tpl if="style">{style}</tpl>" {ariaCellInnerAttr}>{value}</div>',"</td>",{priority:0}],refreshSelmodelOnRefresh:!1,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:[Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-td"]},renderBuffer:document.createElement("div"),constructor:function(e){e.grid.isTree&&(e.baseCls=Ext.baseCSSPrefix+"tree-view"),this.callParent([e])},hasVariableRowHeight:function(){return this.variableRowHeight||this.store.isGrouped()||this.getVisibleColumnManager().hasVariableRowHeight()},initComponent:function(){var e=this,t=e.scroll;e.columnLines&&e.addCls(e.grid.colLinesCls),e.rowLines&&e.addCls(e.grid.rowLinesCls),e.body=new Ext.dom.Fly,e.body.id=e.id+"gridBody",e.autoScroll=void 0,e.trackOver||(e.overItemCls=null),t===!0||"both"===t?e.autoScroll=!0:"horizontal"===t?e.overflowX="auto":"vertical"===t&&(e.overflowY="auto"),e.selModel.view=e.headerCt.view=e,e.grid.view=e,e.initFeatures(e.grid),e.itemSelector=e.getItemSelector(),e.all=new Ext.view.NodeCache(e),e.callParent()},getVisibleColumnManager:function(){var e=this.ownerCt,t=e.ownerLockable;return t?t.getVisibleColumnManager():e.getVisibleColumnManager()},beforeLayout:function(){var e=this,t=!e.firstRefreshDone&&e.headerCt.layout.running;e.callParent(arguments),t&&e.body.dom&&e.headerCt.layout.injectViewContext(e.headerCt.layout.ownerContext,e)},moveColumn:function(e,t,n){var i,r,o,a,s,l,d,u=this,c=n>1,h=c&&document.createRange?document.createRange():null,f=c&&!h?document.createDocumentFragment():null,g=t,p=u.getGridColumns().length,m=p-1,x=(u.firstCls||u.lastCls)&&(0===t||t===p||0===e||e===m);if(u.rendered&&t!==e){for(o=u.el.query(u.rowSelector),t>e&&f&&(g-=1),i=0,a=o.length;a>i;i++){if(s=o[i],l=s.childNodes,x){if(1===l.length){Ext.fly(l[0]).addCls(u.firstCls),Ext.fly(l[0]).addCls(u.lastCls);continue}0===e?(Ext.fly(l[0]).removeCls(u.firstCls),Ext.fly(l[1]).addCls(u.firstCls)):e===m&&(Ext.fly(l[m]).removeCls(u.lastCls),Ext.fly(l[m-1]).addCls(u.lastCls)),0===t?(Ext.fly(l[0]).removeCls(u.firstCls),Ext.fly(l[e]).addCls(u.firstCls)):t===p&&(Ext.fly(l[m]).removeCls(u.lastCls),Ext.fly(l[e]).addCls(u.lastCls))}if(c){if(h)h.setStartBefore(l[e]),h.setEndAfter(l[e+n-1]),f=h.extractContents();else for(r=0;n>r;r++)f.appendChild(l[e]);s.insertBefore(f,l[g]||null)}else s.insertBefore(l[e],l[g]||null)}for(d=u.el.query("colgroup"),i=0,a=d.length;a>i;i++)if(s=d[i],c){if(h)h.setStartBefore(s.childNodes[e]),h.setEndAfter(s.childNodes[e+n-1]),f=h.extractContents();else for(r=0;n>r;r++)f.appendChild(s.childNodes[e]);s.insertBefore(f,s.childNodes[g]||null)}else s.insertBefore(s.childNodes[e],s.childNodes[g]||null)}},scrollToTop:Ext.emptyFn,addElListener:function(e,t,n){this.mon(this,e,t,n,{element:"el"})},getGridColumns:function(){return this.ownerCt.getVisibleColumnManager().getColumns()},getHeaderAtIndex:function(e){return this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(e)},getCell:function(e,t){var n=this.getRow(e);return Ext.fly(n).down(t.getCellSelector())},getFeature:function(e){var t=this.featuresMC;return t?t.get(e):void 0},findFeature:function(e){return this.features?Ext.Array.findBy(this.features,function(t){return t.ftype===e?!0:void 0}):void 0},initFeatures:function(e){var t,n,i,r,o=this;for(o.tpl=Ext.XTemplate.getTpl(this,"tpl"),o.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl"),o.addRowTpl(Ext.XTemplate.getTpl(this,"outerRowTpl")),o.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl"),o.featuresMC=new Ext.util.MixedCollection,n=o.features=o.constructFeatures(),r=n?n.length:0,t=0;r>t;t++)i=n[t],i.view=o,i.grid=e,o.featuresMC.add(i),i.init(e)},renderTHead:function(e,t,n){var i,r,o=e.view.headerFns;if(o)for(r=0,i=o.length;i>r;++r)o[r].call(this,e,t,n)},addHeaderFn:function(e){var t=this.headerFns;t||(t=this.headerFns=[]),t.push(e)},renderTFoot:function(e,t,n){var i,r,o=e.view.footerFns;if(o)for(r=0,i=o.length;i>r;++r)o[r].call(this,e,t,n)},addFooterFn:function(e){var t=this.footerFns;t||(t=this.footerFns=[]),t.push(e)},addTpl:function(e){return this.insertTpl("tpl",e)},addRowTpl:function(e){return this.insertTpl("rowTpl",e)},addCellTpl:function(e){return this.insertTpl("cellTpl",e)},insertTpl:function(e,t){var n,i,r=this;for(t=t.isTemplate?Ext.Object.chain(t):new Ext.XTemplate("{%this.nextTpl.applyOut(values, out, parent);%}",t),n=r[e];t.priority<n.priority;n=n.nextTpl)i=n;return i?i.nextTpl=t:r[e]=t,t.nextTpl=n,t},tplApplyOut:function(e,t,n){this.before&&this.before(e,t,n)===!1||(this.nextTpl.applyOut(e,t,n),this.after&&this.after(e,t,n))},constructFeatures:function(){var e,t,n,i=this,r=i.features,o=0;if(r)for(t=[],n=r.length;n>o;o++)e=r[o],e.isFeature||(e=Ext.create("feature."+e.ftype,e)),t[o]=e;return t},beforeRender:function(){var e=this;e.callParent(),e.enableTextSelection||e.protoEl.unselectable()},onViewScroll:function(e,t){this.ignoreScroll||(this.callParent(arguments),this.fireEvent("bodyscroll",e,t))},createRowElement:function(e,t,n){var i=this,r=i.renderBuffer,o=i.collectData([e],t);return o.columns=n,i.tpl.overwrite(r,o),Ext.fly(r).down(i.getNodeContainerSelector(),!0).firstChild},bufferRender:function(e,t){var n=this,i=n.renderBuffer;return n.tpl.overwrite(i,n.collectData(e,t)),Ext.Array.toArray(Ext.fly(i).down(n.getNodeContainerSelector(),!0).childNodes)},collectData:function(e,t){var n=this;return n.rowValues.view=n,n.tableValues.view=n,n.tableValues.rows=e,n.tableValues.columns=null,n.tableValues.viewStartIndex=t,n.tableValues.touchScroll=n.touchScroll,n.tableValues.tableStyle="width:"+n.headerCt.getTableWidth()+"px",n.tableValues},collectNodes:function(e){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},refreshSize:function(e){var t=this,n=t.getBodySelector();n&&t.body.attach(t.el.down(n,!0)),t.hasLoadingHeight||(Ext.suspendLayouts(),t.callParent(arguments),(e||t.hasVariableRowHeight()&&t.dataSource.getCount())&&t.grid.updateLayout(),Ext.resumeLayouts(!0))},clearViewEl:function(e){var t,n,i,r,o=this,a=o.all,s=o.getStore();for(t=a.startIndex;t<=a.endIndex;t++)n=a.item(t,!0),o.fireEvent("itemremove",s.getByInternalId(n.getAttribute("data-recordId")),t,n,o);o.clearEmptyEl(),o.all.clear(!0),i=Ext.fly(o.getNodeContainer()),i&&!e&&(r=o.getTargetEl(),r.dom!==i.dom&&i.destroy())},getMaskTarget:function(){var e=this.ownerCt;return e.ownerLockable&&(e=e.ownerLockable),e.getMaskTarget()},statics:{getBoundView:function(e){return Ext.getCmp(e.getAttribute("data-boundView"))}},getRecord:function(e){var t,n=this;if(!n.store.isDestroyed)return e.isModel?e:(e=n.getNode(e),e?!n.hasActiveFeature()&&(t=e.getAttribute("data-recordIndex"),t&&(t=parseInt(t,10),t>-1))?n.store.data.getAt(t):n.dataSource.getByInternalId(e.getAttribute("data-recordId")):void 0)},indexOf:function(e){return e=this.getNode(e),e||0===e?this.all.indexOf(e):-1},indexInStore:function(e){return e?this.dataSource.indexOf(this.getRecord(e)):-1},renderRows:function(e,t,n,i){var r,o=this.rowValues,a=e.length;for(o.view=this,o.columns=t,r=0;a>r;r++,n++)o.itemClasses.length=o.rowClasses.length=0,this.renderRow(e[r],n,i);o.view=o.columns=o.record=null},renderColumnSizer:function(e,t){var n,i,r,o=e.columns||this.getGridColumns(),a=o.length;for(t.push('<colgroup role="presentation">'),n=0;a>n;n++)i=o[n],r=i.cellWidth?i.cellWidth:Ext.grid.header.Container.prototype.defaultWidth,t.push('<col role="presentation" class="',Ext.baseCSSPrefix,"grid-cell-",o[n].getItemId(),'" style="width:'+r+'px">');t.push("</colgroup>")},renderRow:function(e,t,n){var i,r=this,o=-1===t,a=r.selModel,s=r.rowValues,l=s.itemClasses,d=s.rowClasses,u=r.rowTpl;return s.rowAttr={},s.record=e,s.recordId=e.internalId,s.recordIndex=r.store.indexOf(e),s.rowIndex=t,s.rowId=r.getRowId(e),s.itemCls=s.rowCls="",s.columns||(s.columns=r.ownerCt.getVisibleColumnManager().getColumns()),l.length=d.length=0,o||(l[0]=Ext.baseCSSPrefix+"grid-item",!r.ownerCt.disableSelection&&a.isRowSelected&&a.isRowSelected(e)&&l.push(r.selectedItemCls),r.stripeRows&&t%2!==0&&l.push(r.altRowCls),r.getRowClass&&(i=r.getRowClass(e,t,null,r.dataSource),i&&d.push(i))),n?void u.applyOut(s,n,r.tableValues):u.apply(s.me.tableValues)},renderCell:function(e,t,n,i,r,o){var a,s,l,d=this,u=d.selModel,c=d.cellValues,h=c.classes,f=t.data[e.dataIndex],g=d.cellTpl;c.record=t,c.column=e,c.recordIndex=n,c.rowIndex=i,c.columnIndex=r,c.cellIndex=r,c.align=e.align,c.innerCls=e.innerCls,c.tdCls=c.tdStyle=c.tdAttr=c.style="",c.unselectableAttr=d.enableTextSelection?"":'unselectable="on"',h[1]=e.getCellId(),l=2,e.renderer&&e.renderer.call?(a=d.ownerCt.columnManager.getHeaderIndex(e),s=e.renderer.call(e.usingDefaultRenderer?e:e.scope||d.ownerCt,f,c,t,n,a,d.dataSource,d),c.css&&(t.cssWarning=!0,c.tdCls+=" "+c.css,c.css=null),c.tdCls&&(h[l++]=c.tdCls)):s=f,c.value=null==s||""===s?e.emptyCellText:s,e.tdCls&&(h[l++]=e.tdCls),d.markDirty&&t.isModified(e.dataIndex)&&(h[l++]=d.dirtyCls),e.isFirstVisible&&(h[l++]=d.firstCls),e.isLastVisible&&(h[l++]=d.lastCls),d.enableTextSelection||(h[l++]=d.unselectableCls),u&&u.isCellModel&&u.isCellSelected(d,n,e)&&(h[l++]=d.selectedCellCls),h.length=l,c.tdCls=h.join(" "),g.applyOut(c,o),c.column=null},getRow:function(e){var t;return!e&&0!==e||!this.rendered?null:(e.target&&(e=e.target),Ext.isString(e)?Ext.fly(e).down(this.rowSelector,!0):Ext.isNumber(e)?(t=this.all.item(e),t&&t.down(this.rowSelector,!0)):e.isModel?this.getRowByRecord(e):(t=Ext.fly(e),t.is(this.itemSelector)?this.getRowFromItem(t):t.findParent(this.rowSelector,this.getTargetEl())))},getRowId:function(e){return this.id+"-record-"+e.internalId},constructRowId:function(e){return this.id+"-record-"+e},getNodeById:function(e){return e=this.constructRowId(e),this.retrieveNode(e,!1)},getRowById:function(e){return e=this.constructRowId(e),this.retrieveNode(e,!0)},getNodeByRecord:function(e){return this.retrieveNode(this.getRowId(e),!1)},getRowByRecord:function(e){return this.retrieveNode(this.getRowId(e),!0)},getRowFromItem:function(e){var t,n=Ext.getDom(e).tBodies[0].childNodes,i=n.length;for(t=0;i>t;t++)if(Ext.fly(n[t]).is(this.rowSelector))return n[t]},retrieveNode:function(e,t){var n=this.el.getById(e,!0);return t&&n?Ext.fly(n).down(this.rowSelector,!0):n},updateIndexes:Ext.emptyFn,bodySelector:"div."+Ext.baseCSSPrefix+"grid-item-container",nodeContainerSelector:"div."+Ext.baseCSSPrefix+"grid-item-container",itemSelector:"table."+Ext.baseCSSPrefix+"grid-item",rowSelector:"tr."+Ext.baseCSSPrefix+"grid-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",sizerSelector:"."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getBodySelector:function(){return this.bodySelector},getColumnSizerSelector:function(e){var t=this.sizerSelector+"-"+e.getItemId();return"td"+t+",col"+t},getItemSelector:function(){return this.itemSelector},getCellSelector:function(e){return e?e.getCellSelector():this.cellSelector},getCellInnerSelector:function(e){return this.getCellSelector(e)+" "+this.innerSelector},addRowCls:function(e,t){var n=this.getRow(e);n&&Ext.fly(n).addCls(t)},removeRowCls:function(e,t){var n=this.getRow(e);n&&Ext.fly(n).removeCls(t)},onRowSelect:function(e){var t=this;t.addItemCls(e,t.selectedItemCls),Ext.isIE8&&t.repaintBorder(e+1)},onRowDeselect:function(e){var t=this;t.removeItemCls(e,t.selectedItemCls),Ext.isIE8&&t.repaintBorder(e+1)},onCellSelect:function(e){var t=this.getCellByPosition(e);t&&t.addCls(this.selectedCellCls)},onCellDeselect:function(e){var t=this.getCellByPosition(e,!0);t&&Ext.fly(t).removeCls(this.selectedCellCls)},getCellByPosition:function(e,t){if(e){var n=this.getRow(e.row),i=this.ownerCt.getColumnManager().getHeaderAtIndex(e.column);if(i&&n)return Ext.fly(n).down(this.getCellSelector(i),t)}return!1},onRowFocus:function(e,t,n){var i=this;t?(i.addItemCls(e,i.focusedItemCls),n||i.focusRow(e)):i.removeItemCls(e,i.focusedItemCls),Ext.isIE8&&i.repaintBorder(e+1)},focusRow:function(e,t){var n,i=this,r=i.getFocusTask();return t?void r.delay(Ext.isNumber(t)?t:10,i.focusRow,i,[e,!1]):(r.cancel(),void(i.isVisible(!0)&&(e=i.getRow(e))&&(i.scrollRowIntoView(e),n=i.getRecord(e),i.selModel.setLastFocused(n),i.doFocus(e),i.fireEvent("rowfocus",n,e,i.indexInStore(e)))))},scrollRowIntoView:function(e,t){e=this.getRow(e),e&&this.scrollElIntoView(e,!1,t)},focusCell:function(e,t){var n,i=this,r=i.getFocusTask();return t?void r.delay(Ext.isNumber(t)?t:10,i.focusCell,i,[e,!1]):(r.cancel(),void(i.isVisible(!0)&&(n=i.getCellByPosition(e))&&(i.scrollCellIntoView(n),i.doFocus(i.getRow(e.row)),i.fireEvent("cellfocus",e.record,n,e))))},doFocus:function(e){var t,n=this,i=Ext.isIE;i&&(t=n.el.getScrollLeft(),n.ignoreScroll=!0),(n.focusEl=Ext.get(e)).focus(),i&&(n.el.setScrollLeft(t),n.ignoreScroll=!1)},scrollCellIntoView:function(e,t){null!=e.row&&null!=e.column&&(e=this.getCellByPosition(e)),e&&this.scrollElIntoView(e,null,t)},scrollElIntoView:function(e,t,n){var i=this,r=i.scrollManager;r?r.scrollIntoView(e,t,n):Ext.fly(e).scrollIntoView(i.el,t,n)},syncRowHeights:function(e,t){e.style.height=t.style.height="";var n=this,i=n.rowTpl,r=e.offsetHeight,o=t.offsetHeight;if(r!==o){for(;i&&(!i.syncRowHeights||i.syncRowHeights(e,t)!==!1);)i=i.nextTpl;r=e.offsetHeight,o=t.offsetHeight,r!==o&&(e=Ext.fly(e).down(n.rowSelector,!0)||e,t=Ext.fly(t).down(n.rowSelector,!0)||t,e&&t&&(e.style.height=t.style.height="",r=e.offsetHeight,o=t.offsetHeight,r>o?(Ext.fly(e).setHeight(r),Ext.fly(t).setHeight(r)):o>r&&(Ext.fly(e).setHeight(o),Ext.fly(t).setHeight(o))))}},onUpdate:function(e,t,n,i){var r=this;r.rendered&&r.throttledUpdate&&r.bufferedRenderer&&!r.getNode(t)||r.callParent(arguments)},handleUpdate:function(e,t,n,i){var r,o,a,s,l,d,u,c,h,f,g,p,m,x,E,v,y,b,C,S,w,T=this,P=T.rowTpl,I=[],k=T.variableRowHeight,M=0,R=T.ownerCt;if(T.viewReady&&(o=T.getNodeByRecord(t))){for(h=T.overItemCls,f=T.focusedItemCls,g=T.selectedItemCls,p=T.ownerCt.getVisibleColumnManager().getColumns(),E=0,x=p.length;x>E;E++)m=p[E],v=T.shouldUpdateCell(t,m,i),v&&(M|=v,I[I.length]=m,k=k||m.variableRowHeight);if(!T.getRowFromItem(o)||1&M||o.tBodies[0].childNodes.length>1){if(r=Ext.fly(o,"_internal"),s=T.createRowElement(t,T.dataSource.indexOf(t),I),r.hasCls(h)&&Ext.fly(s).addCls(h),r.hasCls(f)&&Ext.fly(s).addCls(f),r.hasCls(g)&&Ext.fly(s).addCls(g),Ext.isIE9m&&o.mergeAttributes)o.mergeAttributes(s,!0);else for(l=s.attributes,d=l.length,c=0;d>c;c++)u=l[c].name,"id"!==u&&o.setAttribute(u,l[c].value);for(p.length&&(a=T.getRow(o))&&T.updateColumns(a,Ext.fly(s).down(T.rowSelector,!0),I);P&&(!P.syncContent||P.syncContent(o,s,i?I:null)!==!1);)P=P.nextTpl}else for(T.cellFly||(T.cellFly=new Ext.dom.Fly),E=0,x=I.length;x>E;E++)m=I[E],b=m.dataIndex,C=t.get(b),y=o.firstChild.firstChild.childNodes[m.getVisibleIndex()],T.markDirty&&(T.cellFly.attach(y),t.isModified(m.dataIndex)?T.cellFly.addCls(T.dirtyCls):T.cellFly.removeCls(T.dirtyCls)),S=m.usingDefaultRenderer,w=S?m:m.scope,m.updater?Ext.callback(m.updater,w,[y,C,t,T],0,m,R):(m.renderer&&(C=Ext.callback(m.renderer,w,[C,null,t,0,0,T.dataSource,T],0,m,R)),m.producesHTML?y.childNodes[0].innerHTML=C:y.childNodes[0].childNodes[0].data=C),T.highlightClass&&(Ext.fly(y).addCls(T.highlightClass),T.changedCells||(T.self.prototype.changedCells=[],T.prototype.clearChangedTask=new Ext.util.DelayedTask(T.clearChangedCells,T.prototype),T.clearChangedTask.delay(T.unhighlightDelay)),T.changedCells.push({cell:y,cls:T.highlightClass,expires:Ext.Date.now()+1e3}));k&&Ext.suspendLayouts(),T.fireEvent("itemupdate",t,T.store.indexOf(t),o),k&&(T.refreshSize(),Ext.resumeLayouts(!0))}},clearChangedCells:function(){for(var e,t=this,n=Ext.Date.now(),i=0,r=t.changedCells.length;r>i&&(e=t.changedCells[i],e.expires<=n);)Ext.fly(e.cell).removeCls(e.highlightClass),Ext.Array.erase(t.changedCells,i,1),r--;r&&t.clearChangedTask.delay(t.unhighlightDelay)},updateColumns:function(e,t,n){var i,r,o,a,s,l,d,u,c=this,h=n.length,f=c.getCellSelector();if(e.mergeAttributes)e.mergeAttributes(t,!0);else for(i=t.attributes,r=i.length,a=0;r>a;a++)o=i[a].name,"id"!==o&&e.setAttribute(o,i[a].value);for(s=0;h>s;s++)l=n[s],f=c.getCellSelector(l),d=Ext.fly(e).selectNode(f),u=Ext.fly(t).selectNode(f),Ext.fly(d).syncContent(u)},shouldUpdateCell:function(e,t,n){if(!t.preventUpdate){if(t.hasCustomRenderer)return 1;if(!n)return 2;var i,r,o=n.length;for(i=0;o>i;++i)if(r=n[i],r===t.dataIndex||r===e.idProperty)return 2}return 0},refresh:function(){var e,t=this;t.callParent(arguments),t.headerCt.setSortState(),t.touchScroll&&t.el&&!t.all.getCount()&&t.headerCt&&t.headerCt.tooNarrow&&(e=t.scrollManager.scroller.getSize(),e.x=t.headerCt.getTableWidth(),t.scrollManager.scroller.setSize(e),t.scrollManager.refresh()),t.refreshSelection()},refreshSelection:function(){var e,t,n,i=this,r=i.selModel;if(r.isRowModel)for(e=r.selected.items,t=e.length,n=0;t>n;n++)i.onRowSelect(i.indexOf(i.getNode(e[n])));i.selModel.onLastFocusChanged(null,i.selModel.lastFocused,!0)},processItemEvent:function(e,t,n,i){var r,o,a,s,l,d,u,c,h=this,f=h.self,g=f.EventMap,p=i.type,m=h.features,x=m.length;if(Ext.isIE&&"mouseup"===p&&!i.within(h.el))return!1;if(-1!==h.indexInStore(t)){if(r=Ext.fly(t).down(h.rowSelector,!0),o=i.getTarget(h.getCellSelector(),r),a=h.getSelectionModel(),p=f.TouchEventMap[p]||p,"keydown"==p&&!o&&a.getCurrentPosition&&(o=h.getCellByPosition(a.getCurrentPosition(),!0)),o){if(!o.parentNode)return!1;c=h.getHeaderByCell(o),l=h.ownerCt.getColumnManager().getHeaderIndex(c)}else l=-1;if(d=h.fireEvent("uievent",p,h,o,n,l,i,e,r),d===!1||h.callParent(arguments)===!1)return a.onVetoUIEvent&&a.onVetoUIEvent(p,h,o,n,l,i,e,r),!1;for(s=0;x>s;++s)if(u=m[s],u.wrapsItem&&u.vetoEvent(e,r,n,i)===!1)return h.processSpecialEvent(i),!1;return o&&"mouseover"!==p&&"mouseout"!==p&&(d=!(h["onBeforeCell"+g[p]](o,l,e,r,n,i)===!1||h.fireEvent("beforecell"+p,h,o,l,e,r,n,i)===!1||h["onCell"+g[p]](o,l,e,r,n,i)===!1||h.fireEvent("cell"+p,h,o,l,e,r,n,i)===!1)),d!==!1&&(d=h.fireEvent("row"+p,h,e,r,n,i)),d}return this.processSpecialEvent(i),!1},processSpecialEvent:function(e){var t,n,i,r,o,a,s=this,l=s.features,d=l.length,u=e.type,c=s.ownerCt;if(s.callParent(arguments),"mouseover"!=u&&"mouseout"!=u){for(t=0;d>t;t++)if(n=l[t],n.hasFeatureEvent&&(r=e.getTarget(n.eventSelector,s.getTargetEl()),r&&(i=n.eventPrefix,u=s.self.TouchEventMap[u]||u,o=n.getFireEventArgs("before"+i+u,s,r,e),a=n.getFireEventArgs(i+u,s,r,e),s.fireEvent.apply(s,o)===!1||c.fireEvent.apply(c,o)===!1||s.fireEvent.apply(s,a)===!1||c.fireEvent.apply(c,a)===!1)))return!1;return!0}},onCellMouseDown:Ext.emptyFn,onCellLongPress:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellLongPress:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(e){this.autoSizeColumn(e)},autoSizeColumn:function(e){if(Ext.isNumber(e)&&(e=this.getGridColumns[e]),e){if(e.isGroupHeader)return void e.autoSize();delete e.flex,e.setWidth(this.getMaxContentWidth(e))}},getMaxContentWidth:function(e){var t,n=this,i=n.el.query(e.getCellInnerSelector()),r=e.getWidth(),o=0,a=i.length,s=n.body.select(n.getColumnSizerSelector(e)),l=Math.max,d=0;for(a>0&&(Ext.supports.ScrollWidthInlinePaddingBug&&(d+=n.getCellPaddingAfter(i[0])),n.columnLines&&(d+=Ext.fly(i[0].parentNode).getBorderWidth("lr"))),s.setWidth(1),e.titleEl.setStyle("text-overflow","clip"),t=e.textEl.dom.offsetWidth+e.titleEl.getPadding("lr"),e.titleEl.setStyle("text-overflow","");a>o;o++)t=l(t,i[o].scrollWidth);return t+=d,t=l(t,40),s.setWidth(r),t},getPositionByEvent:function(e){var t=this,n=e.getTarget(t.cellSelector),i=e.getTarget(t.itemSelector),r=t.getRecord(i),o=t.getHeaderByCell(n);return t.getPosition(r,o)},getHeaderByCell:function(e){return e?this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(e.cellIndex):!1},walkCells:function(e,t,n,i,r,o){if(!e)return!1;var a=this,s=e.row,l=e.column,d=a.dataSource.getCount(),u=a.ownerCt.getColumnManager(),c=a.ownerCt.getVisibleColumnManager(),h=u.getHeaderIndex(c.getFirst()),f=u.getHeaderIndex(c.getLast()),g=s,p=l,m=u.getHeaderAtIndex(l);if(!m||m.hidden||!d)return!1;switch(n=n||{},t=t.toLowerCase()){case"right":if(l===f){if(i||s===d-1)return!1;n.ctrlKey||(g=a.walkRows(s,1),g!==s&&(p=h))}else p=n.ctrlKey?f:u.getHeaderIndex(c.getNextSibling(m));break;case"left":if(l===h){if(i||0===s)return!1;n.ctrlKey||(g=a.walkRows(s,-1),g!==s&&(p=f))}else p=n.ctrlKey?h:u.getHeaderIndex(c.getPreviousSibling(m));break;case"up":if(0===s)return!1;g=n.ctrlKey?a.walkRows(-1,1):a.walkRows(s,-1);break;case"down":if(s===d-1)return!1;g=n.ctrlKey?a.walkRows(d,-1):a.walkRows(s,1)}return r&&r.call(o||a,{row:g,column:p})!==!0?!1:(p=u.getHeaderAtIndex(p),new Ext.grid.CellContext(a).setPosition(g,p))},walkRows:function(e,t){var n,i=this,r=i.dataSource,o=0,a=e,s=0>t?0:(r.isBufferedStore?r.getTotalCount():r.getCount())-1,l=s?1:-1,d=e;do{if(s?d>=s:s>=d)return a||s;d+=l,(n=Ext.fly(i.getRow(d)))&&n.isVisible(!0)&&(o+=l,a=d)}while(o!==t);return d},walkRecs:function(e,t){var n,i,r=this,o=r.dataSource,a=0,s=e,l=0>t?0:(o.isBufferedStore?o.getTotalCount():o.getCount())-1,d=l?1:-1,u=o.indexOf(e);do{if(l?u>=l:l>=u)return s;u+=d,i=o.getAt(u),!i.isCollapsedPlaceholder&&(n=Ext.fly(r.getNodeByRecord(i)))&&n.isVisible(!0)&&(a+=d,s=i)}while(a!==t);return s},getFirstVisibleRowIndex:function(){var e=this,t=e.dataSource.isBufferedStore?e.dataSource.getTotalCount():e.dataSource.getCount(),n=e.indexOf(e.all.first())-1;do if(n+=1,n===t)return;while(!Ext.fly(e.getRow(n)).isVisible(!0));return n},getLastVisibleRowIndex:function(){var e=this,t=e.indexOf(e.all.last());do if(t-=1,-1===t)return;while(!Ext.fly(e.getRow(t)).isVisible(!0));return t},getHeaderCt:function(){return this.headerCt},getPosition:function(e,t){return new Ext.grid.CellContext(this).setPosition(e,t)},beforeDestroy:function(){var e=this;e.rendered&&e.el.clearListeners(),e.callParent(arguments)},onDestroy:function(){var e,t,n=this,i=n.featuresMC;if(i)for(t=0,e=i.getCount();e>t;++t)i.getAt(t).destroy();n.featuresMC=null,this.callParent(arguments)},onReplace:function(e,t,n,i){var r=this,o=r.bufferedRenderer;r.rendered&&o?o.onReplace(e,t,n,i):(r.callParent(arguments),r.doStripeRows(t),r.selModel.onLastFocusChanged(null,r.selModel.lastFocused,!0))},onAdd:function(e,t,n){var i=this,r=i.bufferedRenderer;i.rendered&&r?r.onReplace(e,n,[],t):(i.callParent(arguments),i.setPendingStripe(n),i.selModel.onLastFocusChanged(null,i.selModel.lastFocused,!0))},onRemove:function(e,t,n){var i=this,r=i.bufferedRenderer;i.rendered&&r?r.onReplace(e,n,t,[]):(i.callParent(arguments),i.setPendingStripe(n))},onDataRefresh:function(){var e=this,t=e.ownerCt;return t&&2===t.isCollapsingOrExpanding?void t.on("expand",e.onDataRefresh,e,{single:!0}):(e.bufferedRenderer&&(e.all.clear(),e.bufferedRenderer.onStoreClear()),void e.callParent())},getViewRange:function(){var e=this;return e.bufferedRenderer?e.bufferedRenderer.getViewRange():e.callParent()},setPendingStripe:function(e){var t=this.stripeOnUpdate;t=null===t?e:Math.min(t,e),this.stripeOnUpdate=t},onEndUpdate:function(){var e=this,t=e.stripeOnUpdate;(t||0===t)&&(e.doStripeRows(t),e.stripeOnUpdate=null),e.callParent(arguments)},doStripeRows:function(e,t){var n,i,r,o,a=this;if(a.rendered&&a.stripeRows)for(n=a.getNodes(e,t),r=0,i=n.length;i>r;r++)o=n[r],o.className=o.className.replace(a.rowClsRe," "),e++,e%2===0&&(o.className+=" "+a.altRowCls)},hasActiveFeature:function(){return this.isGrouping&&this.store.isGrouped()||this.isRowWrapped},getCellPaddingAfter:function(e){return Ext.fly(e).getPadding("r")},privates:{getFocusEl:function(){return this.focusEl},refreshScroll:function(){var e=this,t=e.bufferedRenderer;t?t.stretchView(e,t.getScrollHeight(!0)):e.callParent()}}}),Ext.define("Ext.grid.View",{extend:"Ext.view.Table",alias:"widget.gridview",autoScroll:!0}),Ext.define("Ext.grid.Panel",{extend:"Ext.panel.Table",requires:["Ext.grid.View"],alias:["widget.gridpanel","widget.grid"],alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:!1,rowLines:!0}),Ext.define("Ext.form.CheckboxManager",{extend:"Ext.util.MixedCollection",singleton:!0,getByName:function(e,t){return this.filterBy(function(n){return n.name==e&&n.getFormId()==t})}}),Ext.define("Ext.form.field.Checkbox",{extend:"Ext.form.field.Base",alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",requires:["Ext.XTemplate","Ext.form.CheckboxManager"],stretchInputElFixed:!1,childEls:["boxLabelEl"],fieldSubTpl:['<div class="{wrapInnerCls} {noBoxLabelCls}" role="presentation">','<tpl if="labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="button" id="{id}" data-ref="inputEl" role="{role}" {inputAttrTpl}','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls} {inputCls}-{ui} {childElCls} {afterLabelCls}" autocomplete="off" hidefocus="true" />','<tpl if="boxLabel && !labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>","</div>",{disableFormats:!0,compiled:!0}],publishes:{checked:1},subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:!0,focusCls:"form-checkbox-focus",fieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:!1,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",afterLabelCls:Ext.baseCSSPrefix+"form-cb-after",wrapInnerCls:Ext.baseCSSPrefix+"form-cb-wrap-inner",noBoxLabelCls:Ext.baseCSSPrefix+"form-cb-wrap-inner-no-box-label",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",ariaRole:"checkbox",onRe:/^on$/i,inputCls:Ext.baseCSSPrefix+"form-cb",initComponent:function(){var e=this,t=e.value;void 0!==t&&(e.checked=e.isChecked(t,e.inputValue)),e.callParent(arguments),e.getManager().add(e)},initValue:function(){var e=this,t=!!e.checked;e.originalValue=e.lastValue=t,e.setValue(t)},getElConfig:function(){var e=this;return e.isChecked(e.rawValue,e.inputValue)&&e.addCls(e.checkedCls),e.callParent()},getSubTplData:function(){var e=this,t=e.boxLabel,n=e.boxLabelAlign,i=t&&"before"===n;return Ext.apply(e.callParent(),{disabled:e.readOnly||e.disabled,wrapInnerCls:e.wrapInnerCls,boxLabel:t,boxLabelCls:e.boxLabelCls,boxLabelAlign:n,labelAlignedBefore:i,afterLabelCls:i?e.afterLabelCls:"",noBoxLabelCls:t?"":e.noBoxLabelCls,role:e.ariaRole})},initEvents:function(){var e=this;e.callParent(),e.mon(e.inputEl,"click",e.onBoxClick,e,{translate:!1})},setBoxLabel:function(e){var t=this;t.boxLabel=e,t.rendered&&t.boxLabelEl.setHtml(e)},onBoxClick:function(){var e=this;e.disabled||e.readOnly||this.setValue(!this.checked)},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var e=this.uncheckedValue,t=Ext.isDefined(e)?e:null;return this.checked?this.inputValue:t},isChecked:function(e,t){return e===!0||"true"===e||"1"===e||1===e||((Ext.isString(e)||Ext.isNumber(e))&&t?e==t:this.onRe.test(e))},setRawValue:function(e){var t=this,n=t.inputEl,i=t.isChecked(e,t.inputValue);return n&&t[i?"addCls":"removeCls"](t.checkedCls),t.checked=t.rawValue=i,t.duringSetValue||(t.lastValue=i),i},setValue:function(e){var t,n,i,r,o=this;if(Ext.isArray(e))for(t=o.getManager().getByName(o.name,o.getFormId()).items,i=t.length,n=0;i>n;++n)r=t[n],r.setValue(Ext.Array.contains(e,r.inputValue));else o.duringSetValue=!0,o.callParent(arguments),delete o.duringSetValue;return o},valueToRaw:Ext.identityFn,onChange:function(e,t){var n=this,i=n.handler;i&&i.call(n.scope||n,n,e),n.callParent(arguments),n.reference&&n.publishState&&n.publishState("checked",e)},resetOriginalValue:function(e){var t,n,i,r,o=this;if(!e)for(t=o.getManager().getByName(o.name,o.getFormId()).items,i=t.length,r=0;i>r;++r)n=t[r],n!==o&&t[r].resetOriginalValue(!0);o.callParent()},beforeDestroy:function(){this.callParent(),this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var e=this,t=e.inputEl;e.callParent(),t&&(t.dom.disabled=e.readOnly)},setReadOnly:function(e){var t=this,n=t.inputEl;n&&(n.dom.disabled=!!e||t.disabled),t.callParent(arguments)},getFormId:function(){var e,t=this;return t.formId||(e=t.up("form"),e&&(t.formId=e.id)),t.formId}}),Ext.define("Ext.app.bindinspector.Util",{singleton:!0,getChildStub:function(e,t){var n,i;return t&&(i=t.children,i&&(n=i[e])),n||null},valueRenderer:function(e){var t;return void 0===e?"undefined":null===e?"null":Ext.isString(e)?e:Ext.isDate(e)?Ext.Date.format(e,"c"):e&&e.isModel?(t=e.entityName,Ext.String.format("Model({0}, {1})",t.replace("noconflict.",""),e.getId())):e&&e.isStore?(t=e.entityName||"Anonymous","Store{"+t.replace("noconflict.","")+"}"):e},buildBindData:function(e){var t,n,i=[];for(t in e)n=e[t],i.push({key:t,descriptor:n.descriptor,tokens:n.tokens,value:n.value,binding:n});return i}}),Ext.define("Ext.app.bindinspector.ComponentDetail",{extend:"Ext.panel.Panel",alias:"widget.bindinspector-componentdetail",requires:["Ext.form.field.Display","Ext.grid.Panel","Ext.layout.container.VBox","Ext.form.field.Checkbox","Ext.app.bindinspector.Util"],layout:"border",activeCls:Ext.baseCSSPrefix+"bindinspector-stub-active",descriptorCls:Ext.baseCSSPrefix+"bindinspector-descriptor",multipleCls:Ext.baseCSSPrefix+"bindinspector-mult-val",
directCls:Ext.baseCSSPrefix+"bindinspector-direct-val",inheritedCls:Ext.baseCSSPrefix+"bindinspector-inherited-val",componentKeyCls:Ext.baseCSSPrefix+"bindinspector-comp-key",componentDescCls:Ext.baseCSSPrefix+"bindinspector-comp-desc",componentValCls:Ext.baseCSSPrefix+"bindinspector-comp-val",lastItemCls:Ext.baseCSSPrefix+"bindinspector-last-item",vmPreviewDefault:{xtype:"container",region:"east",split:!0,width:"50%",cls:Ext.baseCSSPrefix+"bindinspector-prev-default",padding:20,layout:{type:"hbox",align:"middle",pack:"center"},items:[{xtype:"component",flex:1,html:"Select a component with a ViewModel (or inherited ViewModel) from the ComponentList to view the ViewModel details"}]},initComponent:function(){var e,t,n=this,i=(n.up("bindinspector-container"),n.component||{}),r=n.env,o=i.publishes,a=i.bindings,s="Bindings &nbsp;&nbsp;&nbsp;⇒ &nbsp;&nbsp;&nbsp;",l=r.getInheritedVM(i);n.bindingsPreviewDefault={xtype:"panel",border:!1,region:"center",cls:Ext.baseCSSPrefix+"bindinspector-prev-default",bodyPadding:20,layout:{type:"hbox",align:"middle",pack:"center"},items:[{xtype:"component",flex:1,html:"Select a component with bindings from the ComponentList to view the bindings details along with the component's inherited ViewModel"}],dockedItems:[{xtype:"toolbar",dock:"top",defaultButtonUI:"default",items:["->",{text:"Open in dedicated tab",handler:function(e){e.up("bindinspector-container").onComponentDblclick(null,i)}}]}]},i.reference&&(s+="["+i.reference+"] &bull; "),e=i.bindData||Ext.app.bindinspector.Util.buildBindData(a),o&&(t=[{xtype:"component",html:'Publishes: &nbsp;&nbsp;<span style="color: #5C5C5C;font-size: 14px;line-height: 14px;">'+Ext.Object.getKeys(o).join(" &bull; ")+"</span>"}]),n.bindingsGrid={xtype:"gridpanel",title:s+=i.id,header:{items:[{xtype:"button",text:"Open in dedicated tab",ui:"default-toolbar",handler:function(e){e.up("bindinspector-container").onComponentDblclick(null,i)}}]},region:"center",cls:Ext.baseCSSPrefix+"bindinspector-compdetail-grid",flex:1,hideHeaders:!0,store:{model:n.BindingModel,data:e},columns:[{flex:1,scope:n,renderer:n.bindingRenderer}],tbar:t,bbar:[{xtype:"checkboxfield",itemId:"highlightToggle",boxLabel:"Highlight VM target nodes on binding selection",checked:!0,listeners:{scope:n,change:n.onHighlightChange}}],viewConfig:{stripeRows:!1,trackOver:!1,getRowClass:function(e,t,i,r){var o=[];return t===r.getCount()-1&&o.push(n.lastItemCls),o.join(" ")}},listeners:{scope:n,cellclick:n.onCellClick,selectionchange:n.onSelectionChange}},n.viewModelTree={xtype:"bindinspector-viewmodeldetail",itemId:"vm-"+l.id,vm:l,region:"east",split:!0,width:"50%",height:"50%"},n.items=[],n.items.push(a?n.bindingsGrid:n.bindingsPreviewDefault),n.items.push(l?n.viewModelTree:n.vmPreviewDefault),n.callParent(arguments)},bindingRenderer:function(e,t,n){var i=this,r=n.get("binding"),o=n.get("key"),a=i.descriptorRenderer(n.get("descriptor"),t,n),s=Ext.app.bindinspector.Util.valueRenderer(n.get("value")),l="Direct";return(Ext.isEmpty(s)||"null"===s)&&(s="<i>No value found</i>"),o='<span class="'+i.componentKeyCls+'">'+o+": </span>",a='<span class="'+i.componentDescCls+'">'+a+"</span>",s='<span class="'+i.componentValCls+'">'+s+"</span>",r.isTemplateBinding?l="Template":r.isMultiBinding&&(l="Multi"),l=Ext.util.Format.format('<div data-qtip="Binding Type" data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" class="'+Ext.baseCSSPrefix+'bindinspector-bind-type">{0}</div>',l),o+a+"<br>"+s+l},onHighlightChange:function(e){var t=(this.down("bindinspector-viewmodeldetail"),this.down("gridpanel")),n=t.getSelectionModel();e.checked?this.onSelectionChange(n,n.getSelection()):this.onSelectionChange(n,null,!0)},onSelectionChange:function(e,t,n){var i,r,o,a,s,l,d,u=this.down("bindinspector-viewmodeldetail"),a=u.getStore();return t&&0===t.length||n===!0?(a.suspendEvents(),u.getStore().getRootNode().cascadeBy({before:function(e){e.set("highlighted",!1)}}),a.resumeEvents(),void u.getView().refresh()):(t=t[0],i=t.get("tokens"),r=t.get("binding"),o=this.down("#highlightToggle").checked,a=u.getStore(),s=a.getRootNode(),l=[],i&&o&&(r.isTemplateBinding?Ext.Array.forEach(i,function(e){l.push(s.findChild("name",e[0]))},this):r.isMultiBinding||l.push(s.findChild("name",i[0]))),a.suspendEvents(),s.cascadeBy({before:function(e){d=0===l.length,Ext.Array.forEach(l,function(t){(e===t||e.isAncestor(t))&&(d=!0)}),e.set("highlighted",d||-1)}}),a.resumeEvents(),u.getView().refresh(),void u.getSelectionModel().select(l[0]))},onCellClick:function(e,t,n,i,r,o,a){var s,l=a.getTarget("."+this.activeCls);l&&(s=l.getAttribute("data-path"),this.showPath(s))},showPath:function(e){this.selectPath(this.down("bindinspector-viewmodeldetail"),e)},selectPath:function(e,t){var n,i=e.getRootNode(),r=t.split("."),o=r.length;for(n=0;i&&o>n;++n)i=this.getChildByKey(i,r[n]);i&&e.getSelectionModel().select(i)},getChildByKey:function(e,t){var n=e.childNodes;return n?Ext.Array.findBy(n,function(e){return e.get("name")===t}):null},descriptorRenderer:function(e,t,n){var i=n.get("binding"),r=n.get("descriptor"),o=n.get("tokens");if(e=e||"",i.isTemplateBinding)Ext.Array.forEach(o,function(t){var n=new RegExp("{"+t.join("\\.")+"}","g");e=e.replace(n,this.parseTokens(t))},this);else if(!i.isMultiBinding)return e.replace(r,this.parseTokens(o));return Ext.String.htmlEncode(e)},parseTokens:function(e){var t,n,i=this,r=[],o=i.env.getInheritedVM(i.component),a="",s=o.rootStub,l=!1,d=!1,u="",c="",h="";return e=e||[],Ext.Array.forEach(e,function(e){var t,n=Ext.app.bindinspector.Util.getChildStub(e,s),o="";n&&(t=n.value,void 0!==t&&(o=i.activeCls)),r.push('<span data-path="'+a+e+'" class="stub '+o+'">'+e+"</span>"),a+=e+".",s=n},i),e[0]&&(h=e[0],ownerVMs=o.dataMap[e[0]].ownerVMs,t=ownerVMs.length,Ext.Array.forEach(ownerVMs,function(e){e.id===o.id&&(l=!0),e.id!==o.id&&(d=!0)})),l&&d?(u+=" "+i.multipleCls,n=t>1?"VMs":"VM",c='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="<b>'+h+"</b>&nbsp; provided by this VM and "+(t-1)+" ancestor "+n+'"'):l?(u+=" "+i.directCls,c='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="<b>'+h+'</b>&nbsp; is provided by this VM"'):d&&(u+=" "+i.inheritedCls,n=t>1?"VMs":"VM",c='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="<b>'+h+"</b>&nbsp; is provided by "+t+" ancestor "+n+'"'),"<span "+c+'class="'+i.descriptorCls+u+'">{'+r.join(".")+"}</span>"}},function(){this.prototype.BindingModel=Ext.define(null,{extend:"Ext.data.Model",fields:["key","descriptor","tokens","value","binding"]})}),Ext.define("Ext.tree.View",{extend:"Ext.view.Table",alias:"widget.treeview",requires:["Ext.data.NodeStore"],isTreeView:!0,loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",ariaRole:"tree",loadMask:!1,rootVisible:!0,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,uiFields:["expanded","loaded","checked","expandable","leaf","icon","iconCls","loading","qtip","qtitle"],treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);","%}",{priority:10,processRowValues:function(e){var t=e.record,n=e.view;e.rowAttr["data-qtip"]=t.get("qtip")||"",e.rowAttr["data-qtitle"]=t.get("qtitle")||"",t.isExpanded()&&e.rowClasses.push(n.expandedCls),t.isLeaf()&&e.rowClasses.push(n.leafCls),t.isLoading()&&e.rowClasses.push(n.loadingCls)}}],initComponent:function(){var e=this;e.bufferedRenderer?e.animate=!1:void 0===e.initialConfig.animate&&(e.animate=Ext.enableFx),e.store=e.panel.getStore(),e.onRootChange(e.store.getRoot()),e.animQueue={},e.animWraps={},e.callParent(arguments),e.store.setRootVisible(e.rootVisible),e.addRowTpl(Ext.XTemplate.getTpl(e,"treeRowTpl"))},onFillComplete:function(e,t,n){var i=this,r=i.store,o=r.indexOf(n[0]);t.triggerUIUpdate(),n.length&&-1!==o&&(i.onAdd(i.store,n,o),i.refreshPartner())},onBeforeSort:function(){this.store.suspendEvents()},onSort:function(e){e.isStore&&(this.store.resumeEvents(),this.refresh(),this.refreshPartner())},refreshPartner:function(){var e=this.lockingPartner;e&&e.refresh()},getMaskStore:function(){return this.panel.getStore()},afterRender:function(){var e=this;e.callParent(arguments),e.el.on({scope:e,delegate:e.expanderSelector,mouseover:e.onExpanderMouseOver,mouseout:e.onExpanderMouseOut,click:{delegate:e.checkboxSelector,fn:e.onCheckboxChange,scope:e}})},afterComponentLayout:function(){var e=this,t=e.stretcher,n=e.scrollManager;e.callParent(arguments),t&&t.setWidth(this.getWidth()-Ext.getScrollbarSize().width),n&&n.refresh()},processUIEvent:function(e){return e.getTarget("."+this.nodeAnimWrapCls,this.el)?!1:this.callParent(arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(e,t){t||this.store.setNode(e),this.node=e},onCheckboxChange:function(e,t){var n=this,i=e.getTarget(n.getItemSelector(),n.getTargetEl());i&&n.onCheckChange(n.getRecord(i))},onCheckChange:function(e){var t=e.get("checked");Ext.isBoolean(t)&&(t=!t,e.set("checked",t),this.fireEvent("checkchange",e,t))},getChecked:function(){var e=[];return this.node.cascadeBy(function(t){t.get("checked")&&e.push(t)}),e},isItemChecked:function(e){return e.get("checked")},createAnimWrap:function(e,t){var n,i=this,r=i.getNode(e);return n=Ext.fly(r).insertSibling({role:"presentation",tag:"div",cls:i.nodeAnimWrapCls},"after"),{record:e,node:r,el:n,expanding:!1,collapsing:!1,animateEl:n,targetEl:n}},getAnimWrap:function(e,t){if(!this.animate)return null;var n=this.animWraps,i=n[e.internalId];if(t!==!1)for(;!i&&e;)e=e.parentNode,e&&(i=n[e.internalId]);return i},doAdd:function(e,t){var n,i,r,o,a=this,s=a.bufferRender(e,t,!0),l=e[0],d=l.parentNode,u=a.all,c=a.getAnimWrap(d);return c&&c.expanding?(d=c.record,i=c.targetEl,r=i.dom.childNodes,o=r.length,n=t-a.indexInStore(d)-1,!o||n>=o?i.appendChild(s,!0):Ext.fly(r[n]).insertSibling(s,"before",!0),u.insert(t,s),s):a.callParent(arguments)},onRemove:function(e,t,n){var i,r,o=this;if(o.viewReady){if(i=0===o.store.getCount())o.refresh();else for(r=t.length-1,n+=r;r>=0;--r,--n)o.doRemove(t[r],n);if(o.hasListeners.itemremove)for(r=t.length-1,n+=r;r>=0;--r,--n)o.fireEvent("itemremove",t[r],n,o)}},doRemove:function(e,t){var n=this,i=n.all,r=n.getAnimWrap(e),o=i.item(t),a=o?o.dom:null;return a&&r&&r.collapsing?(r.targetEl.dom.insertBefore(a,r.targetEl.dom.firstChild),void i.removeElement(t)):n.callParent(arguments)},onBeforeExpand:function(e,t,n){var i,r=this;r.rendered&&r.all.getCount()&&r.animate&&r.getNode(e)&&(i=r.getAnimWrap(e,!1),i?i.collapsing&&i.targetEl.select(r.itemSelector).destroy():(i=r.animWraps[e.internalId]=r.createAnimWrap(e),i.animateEl.setHeight(0)),i.expanding=!0,i.collapsing=!1)},onExpand:function(e){var t,n,i,r=this,o=r.animQueue,a=e.getId(),s=r.getNode(e),l=s?r.indexOf(s):-1;if(r.singleExpand&&r.ensureSingleExpand(e),-1!==l){if(t=r.getAnimWrap(e,!1),!t)return r.refreshSelection(),e.isExpandingOrCollapsing=!1,r.fireEvent("afteritemexpand",e,l,s),void r.refreshSize();n=t.animateEl,i=t.targetEl,n.stopAnimation(),o[a]=!0,n.dom.style.height="0px",n.animate({from:{height:0},to:{height:i.dom.scrollHeight},duration:r.expandDuration,listeners:{afteranimate:function(){var e=i.dom.childNodes;e.length&&t.el.insertSibling(e,"before",!0),t.el.destroy(),delete r.animWraps[t.record.internalId],delete o[a],r.isDestroyed||r.refreshSize()}},callback:function(){r.refreshSelection(),e.isExpandingOrCollapsing=!1,r.fireEvent("afteritemexpand",e,l,s)}}),t.isAnimating=!0}},onBeforeCollapse:function(e,t,n,i,r){var o,a=this;a.rendered&&a.all.getCount()&&(a.animate?Ext.Array.contains(e.joined,a.store)&&(o=a.getAnimWrap(e),o?o.expanding&&o.targetEl.select(this.itemSelector).destroy():o=a.animWraps[e.internalId]=a.createAnimWrap(e,n),o.expanding=!1,o.collapsing=!0,o.callback=i,o.scope=r):(a.onCollapseCallback=i,a.onCollapseScope=r))},onCollapse:function(e){var t,n=this,i=n.animQueue,r=e.getId(),o=n.getNode(e),a=o?n.indexOf(o):-1,s=n.getAnimWrap(e);if(n.all.getCount()&&Ext.Array.contains(e.joined,n.store)){if(!s)return n.refreshSelection(),e.isExpandingOrCollapsing=!1,n.fireEvent("afteritemcollapse",e,a,o),n.refreshSize(),Ext.callback(n.onCollapseCallback,n.onCollapseScope),void(n.onCollapseCallback=n.onCollapseScope=null);t=s.animateEl,i[r]=!0,t.stopAnimation(),t.animate({to:{height:0},duration:n.collapseDuration,listeners:{afteranimate:function(){s.el.destroy(),delete n.animWraps[s.record.internalId],delete i[r],n.isDestroyed||n.refreshSize()}},callback:function(){n.refreshSelection(),e.isExpandingOrCollapsing=!1,n.fireEvent("afteritemcollapse",e,a,o),Ext.callback(s.callback,s.scope),s.callback=s.scope=null}}),s.isAnimating=!0}},isAnimating:function(e){return!!this.animQueue[e.getId()]},expand:function(e,t,n,i){var r,o=this,a=!!o.animate;return a&&e.isExpandingOrCollapsing?void 0:(e.isLeaf()||(e.isExpandingOrCollapsing=a),Ext.suspendLayouts(),r=e.expand(t,n,i),Ext.resumeLayouts(!0),r)},collapse:function(e,t,n,i){var r=this,o=!!r.animate;return o&&e.isExpandingOrCollapsing?void 0:(e.isLeaf()||(e.isExpandingOrCollapsing=o),e.collapse(t,n,i))},toggle:function(e,t,n,i){e.isExpanded()?this.collapse(e,t,n,i):this.expand(e,t,n,i)},onItemDblClick:function(e,t,n){var i=this,r=i.editingPlugin;i.callParent(arguments),!i.toggleOnDblClick||!e.isExpandable()||r&&2===r.clicksToEdit||(i.focusRow(e),i.toggle(e))},onBeforeItemMouseDown:function(e,t,n,i){return i.getTarget(this.expanderSelector,t)?!1:this.callParent(arguments)},onItemClick:function(e,t,n,i){return i.getTarget(this.expanderSelector,t)&&e.isExpandable()?(this.focusRow(e),this.toggle(e,i.ctrlKey),!1):this.callParent(arguments)},onExpanderMouseOver:function(e,t){e.getTarget(this.cellSelector,10,!0).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(e,t){e.getTarget(this.cellSelector,10,!0).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){var e=this,t=Ext.apply(e.callParent(),{rootchange:e.onRootChange,fillcomplete:e.onFillComplete});return this.getStore().remoteSort||Ext.apply(t,{beforesort:e.onBeforeSort,sort:e.onSort}),t},onRootChange:function(e,t){var n=this;n.rootListeners&&n.rootListeners.destroy(),e&&(n.rootListeners=e.on({beforeexpand:n.onBeforeExpand,expand:n.onExpand,beforecollapse:n.onBeforeCollapse,collapse:n.onCollapse,scope:n}))},ensureSingleExpand:function(e){var t=e.parentNode;t&&t.eachChild(function(t){t!==e&&t.isExpanded()&&t.collapse()})},shouldUpdateCell:function(e,t,n){if(n)for(var i=0,r=n.length;r>i;++i)if(Ext.Array.contains(this.uiFields,n[i]))return!0;return this.callParent(arguments)}}),Ext.define("Ext.selection.RowModel",{extend:"Ext.selection.Model",alias:"selection.rowmodel",requires:["Ext.util.KeyNav"],deltaScroll:5,enableKeyNav:!0,ignoreRightMouseSelection:!1,isRowModel:!0,constructor:function(){this.views=[],this.callParent(arguments)},bindComponent:function(e){var t=this;e.on({rowcontextmenu:t.onRowClick,rowclick:t.onRowClick,scope:t}),t.enableKeyNav&&t.initKeyNav(e)},initKeyNav:function(e){var t=this;return e.rendered?(e.el.set({tabIndex:-1}),void(t.keyNav=new Ext.util.KeyNav({target:e,ignoreInputFields:!0,eventName:"itemkeydown",processEvent:function(e,t,n,i,r){return r.record=t,r.recordIndex=i,r},up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,space:t.onKeySpace,enter:t.onKeyEnter,A:{ctrl:!0,handler:t.selectAll},scope:t}))):void e.on("render",Ext.Function.bind(t.initKeyNav,t,[e],0),t,{single:!0})},onUpdate:function(e){var t,n=this,i=n.view;i&&n.isSelected(e)&&(t=i.indexOf(e),i.onRowSelect(t),e===n.lastFocused&&i.onRowFocus(t,!0))},getRowsVisible:function(){var e,t,n=!1,i=this.views[0],r=i.all.first();return r&&(e=r.getHeight(),t=i.el.getHeight(),n=Math.floor(t/e)),n},onKeyEnd:function(e){var t=this,n=t.views[0];n.bufferedRenderer?n.bufferedRenderer.scrollTo(t.store.getCount()-1,!1,function(n,i){t.afterKeyNavigate(e,i)}):t.afterKeyNavigate(e,n.walkRecs(e.record,n.dataSource.getCount()-1-n.dataSource.indexOf(e.record)))},onKeyHome:function(e){var t=this,n=t.views[0];n.bufferedRenderer?n.bufferedRenderer.scrollTo(0,!1,function(n,i){t.afterKeyNavigate(e,i)}):t.afterKeyNavigate(e,n.walkRecs(e.record,-n.dataSource.indexOf(e.record)))},onKeyPageUp:function(e){var t,n,i=this,r=i.views[0],o=i.getRowsVisible();o&&(r.bufferedRenderer?(t=Math.max(e.recordIndex-o,0),i.lastKeyEvent=e,r.bufferedRenderer.scrollTo(t,!1,i.afterBufferedScrollTo,i)):(n=r.walkRecs(e.record,-o),i.afterKeyNavigate(e,n)))},onKeyPageDown:function(e){var t,n,i=this,r=i.views[0],o=i.getRowsVisible();o&&(r.bufferedRenderer?(t=Math.min(e.recordIndex+o,i.store.getCount()-1),i.lastKeyEvent=e,r.bufferedRenderer.scrollTo(t,!1,i.afterBufferedScrollTo,i)):(n=r.walkRecs(e.record,o),i.afterKeyNavigate(e,n)))},onKeySpace:function(e){var t=e.record||this.lastFocused;t&&this.afterKeyNavigate(e,t)},onKeyEnter:Ext.emptyFn,onKeyUp:function(e){var t=this.views[0].walkRecs(e.record,-1);t&&this.afterKeyNavigate(e,t)},onKeyDown:function(e){var t=e.record.isExpandingOrCollapsing?null:this.views[0].walkRecs(e.record,1);t&&this.afterKeyNavigate(e,t)},afterBufferedScrollTo:function(e,t){this.afterKeyNavigate(this.lastKeyEvent,t)},scrollByDeltaX:function(e){var t=this.views[0],n=t.up(),i=n.horizontalScroller;i&&i.scrollByDeltaX(e)},onKeyLeft:function(e){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(e){this.scrollByDeltaX(this.deltaScroll)},onRowClick:function(e,t,n,i,r){var o=this;if(-1!==i){if(!o.allowRightMouseSelection(r))return;"contextmenu"===r.type&&this.isSelected(t)||o.processSelection(e,t,n,i,r)}},processSelection:function(e,t,n,i,r){this.selectWithEvent(t,r)},allowRightMouseSelection:function(e){var t=this.ignoreRightMouseSelection&&0!==e.button;return t&&(t=this.hasSelection()),!t},onSelectChange:function(e,t,n,i){var r,o,a=this,s=a.views,l=s.length,d=s[0].indexOf(e),u=t?"select":"deselect";if((n||a.fireEvent("before"+u,a,e,d))!==!1&&i()!==!1){for(r=0;l>r;r++)o=s[r],t?o.onRowSelect(d,n):o.onRowDeselect(d,n),a.publishSelection(t?e:null);n||a.fireEvent(u,a,e,d)}},publishSelection:function(e){var t,n=this,i="SINGLE"===n.selectionMode,r=n.views[0].ownerGrid;(n.setupPublish||i&&r.reference)&&(n.setupPublish||(n.setupPublish=!0,t=r.getPublishes()||{},t.selection=1,r.setPublishes(t)),n.lastPublish=e,r.publishState("selection",e))},onPrune:function(e){var t=this;t.lastPublish===e&&t.publishSelection(null)},onLastFocusChanged:function(e,t,n){var i,r=this.views,o=r.length,a=0;if(e&&(i=r[0].indexOf(e),-1!==i))for(;o>a;a++)r[a].onRowFocus(i,!1,!0);if(t&&(i=r[0].indexOf(t),-1!==i))for(a=0;o>a;a++)r[a].onRowFocus(i,!0,n);this.callParent(arguments)},onEditorTab:function(e,t){var n,i=this,r=e.context.view,o=e.getActiveRecord(),a=e.getActiveColumn(),s=r.getPosition(o,a),l=t.shiftKey?"left":"right";do if(n=s,s=r.walkCells(s,l,t,i.preventWrap),n&&n.isEqual(s))return;while(s&&(!s.columnHeader.getEditor(o)||!e.startEditByPosition(s)))},getCurrentPosition:function(){var e=this.selected.getAt(0);return e?new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(e),0):void 0},selectByPosition:function(e,t){var n=new Ext.grid.CellContext(this.view);n.setPosition(e.row,e.column),this.select(n.record,t)},selectNext:function(e,t){var n,i=this,r=i.store,o=i.getSelection(),a=o[o.length-1],s=i.views[0].indexOf(a)+1;return s===r.getCount()||0===s?n=!1:(i.doSelect(s,e,t),n=!0),n},selectPrevious:function(e,t){var n,i=this,r=i.getSelection(),o=r[0],a=i.views[0].indexOf(o)-1;return 0>a?n=!1:(i.doSelect(a,e,t),n=!0),n},isRowSelected:function(e){return this.isSelected(e)},isCellSelected:function(e,t,n){return this.isSelected(t)}}),Ext.define("Ext.selection.TreeModel",{extend:"Ext.selection.RowModel",alias:"selection.treemodel",constructor:function(e){this.callParent(arguments),this.pruneRemoved&&(this.pruneRemoved=!1,this.pruneRemovedNodes=!0)},bindStore:function(e,t){var n=this;n.callParent(arguments),n.pruneRemovedNodes&&n.view.mon(n.treeStore,{remove:n.onNodeRemove,scope:n})},onNodeRemove:function(e,t,n){n||this.deselectDeletedRecords([t])},onKeyRight:function(e,t){this.navExpand(e,t)},navExpand:function(e,t){var n=this,i=n.getLastFocused(),r=n.view;i&&(i.isExpanded()?n.onKeyDown(e,t):i.isExpandable()&&(r.isTreeView||(r=r.lockingPartner),r.expand(i),i&&n.onLastFocusChanged(null,i)))},onKeyLeft:function(e,t){this.navCollapse(e,t)},navCollapse:function(e,t){var n,i=this,r=i.getLastFocused(),o=i.view;r&&(n=r.parentNode,r.isExpanded()?(o.isTreeView||(o=o.lockingPartner),o.collapse(r),i.onLastFocusChanged(null,r)):n&&!n.isRoot()&&(e.shiftKey?(i.selectRange(n,r,e.ctrlKey,"up"),i.setLastFocused(n)):e.ctrlKey?i.setLastFocused(n):i.select(n)),this.onLastFocusChanged(null,r))},onKeySpace:function(e,t){null!=e.record.data.checked?this.toggleCheck(e):this.callParent(arguments)},onKeyEnter:function(e,t){null!=e.record.data.checked?this.toggleCheck(e):this.callParent(arguments)},toggleCheck:function(e){var t=this.view,n=this.getLastSelected();e.stopEvent(),n&&(t.isTreeView||(t=t.lockingPartner),t.onCheckChange(n))}}),Ext.define("Ext.grid.ColumnLayout",{extend:"Ext.layout.container.HBox",alias:"layout.gridcolumn",type:"gridcolumn",requires:["Ext.panel.Table"],reserveOffset:!1,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){var e=this;void 0===e.scrollbarWidth&&(e.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width),e.grid=e.owner.up("tablepanel"),e.controllingGrid=e.owner.up("[scrollerOwner]"),e.callParent()},beginLayout:function(e){var t,n,i=this,r=i.owner,o=i.controllingGrid,a=i.grid.view,s=i.getVisibleItems(),l=s.length,d=i.firstHeaderCls,u=i.lastHeaderCls,c=[d,u];for(a.scrollFlags.y?delete i.scrollbarWidth:i.scrollbarWidth=0,t=0;l>t;t++)n=s[t],n.margin=null,n.removeCls(c),0===t&&n.addCls(d),t===l-1&&n.addCls(u);i.scrollbarAdjustment=i.scrollbarWidth,i.callParent(arguments),!r.isColumn&&!o.collapsed&&a&&a.rendered&&(e.viewTable=a.body.dom)&&i.scrollbarWidth&&(e.viewContext=e.context.getCmp(a))},injectViewContext:function(e,t){!this.controllingGrid.collapsed&&t.rendered&&(e.viewTable=t.body.dom)&&this.scrollbarWidth&&(e.viewContext=e.context.getCmp(t))},roundFlex:function(e){return Math.floor(e)},calculate:function(e){var t,n,i,r,o=this,a=o.grid.view,s=!1;if(o.viewScrollX=a.getScrollX(),o.callParent(arguments),e.state.parallelDone&&o.owner.isRootHeader){for(t=e.target.getVisibleGridColumns(),n=t.length,i=0;n>i;i++)r=e.context.getItem(null,t[i].el),r.lastBox&&r.props.width===r.lastBox.width||(s||(s=[])).push(i);e.setProp("columnsChanged",s)}e.viewContext&&!e.state.tableHeight&&(e.state.tableHeight=e.viewTable?e.viewTable.offsetHeight:a.all.sumHeights())},completeLayout:function(e){var t=this,n=t.owner,i=e.state;t.callParent(arguments),e.viewTable&&!i.flexesCalculated&&!e.flexedItems.length&&n.forceFit&&t.convertWidthsToFlexes(e)?(t.cacheFlexes(e),e.invalidate({state:{flexesCalculated:!0,tableHeight:e.viewTable.offsetHeight}})):delete e.props.columnChanged},finishedLayout:function(e){var t=this.grid.getView();this.callParent(arguments),this.viewScrollX&&!this.owner.isColumn&&t.scrollFlags.x&&this.owner.tooNarrow&&this.owner.componentLayoutCounter&&this.owner.setScrollX(this.viewScrollX)},convertWidthsToFlexes:function(e){var t,n,i,r,o,a=this,s=0,l=a.sizeModels.calculated;for(t=e.childItems,n=t.length,i=0;n>i;i++)r=t[i],o=r.target,s+=r.props.width,o.fixed||o.resizable===!1||(o.flex=e.childItems[i].flex=r.props.width,o.width=null,r.widthModel=l);return s!==e.props.width},getContainerSize:function(e){var t,n,i,r=this,o=e.viewContext,a=o&&o.heightModel.shrinkWrap;if(r.owner.isColumn)t=r.getColumnContainerSize(e);else{if(t=r.callParent(arguments),!t.gotAll)return r.done=!1,t;if(r.scrollbarWidth&&!r.controllingGrid.reserveScrollbar&&o&&(i=o.target.componentLayout.ownerContext,!a&&o.target.scrollFlags.y&&(e.flexedItems&&e.flexedItems.length||r.owner.forceFit)&&i))if(n=o.getProp("height"),isNaN(n))r.done=!1;else if(e.state.tableHeight<=n&&o.target.scrollFlags.y)return e.state.parallelDone=!1,i.invalidate(),t}return a||(t.width-=r.scrollbarWidth),t},getColumnContainerSize:function(e){var t,n,i,r,o=e.paddingContext.getPaddingInfo(),a=0,s=0;return e.widthModel.shrinkWrap||(++s,i=e.getProp("innerWidth"),t="number"==typeof i,t&&(++a,i-=o.width,0>i&&(i=0))),e.heightModel.shrinkWrap||(++s,r=e.getProp("innerHeight"),n="number"==typeof r,n&&(++a,r-=o.height,0>r&&(r=0))),{width:i,height:r,needed:s,got:a,gotAll:a==s,gotWidth:t,gotHeight:n}},publishInnerCtSize:function(e){var t=this,n=t.owner,i=e.state.boxPlan.targetSize,r=e.peek("contentWidth");return null==r||n.isColumn||(i.width=r,n.ownerCt.view.scrollFlags.y&&(i.width+=t.scrollbarAdjustment)),t.callParent(arguments)}}),Ext.define("Ext.plugin.Abstract",{alternateClassName:"Ext.AbstractPlugin",disabled:!1,isPlugin:!0,stateEvents:void 0,constructor:function(e){this.pluginConfig=e,Ext.apply(this,e)},clonePlugin:function(e){return new this.self(Ext.apply({},e,this.pluginConfig))},setCmp:function(e){this.cmp=e},getCmp:function(){return this.cmp},init:Ext.emptyFn,getState:null,applyState:null,destroy:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},onClassExtended:function(e,t,n){var i=t.alias;i&&!t.ptype&&(Ext.isArray(i)&&(i=i[0]),e.prototype.ptype=i.split("plugin.")[1])}}),Ext.define("Ext.dd.DragTracker",{uses:["Ext.util.Region"],mixins:{observable:"Ext.util.Observable"},active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(e){var t=this;Ext.apply(t,e),t.dragRegion=new Ext.util.Region(0,0,0,0),t.el&&t.initEl(t.el),t.mixins.observable.constructor.call(t),t.disabled&&t.disable()},initEl:function(e){var t=this,e=t.el=Ext.get(e),n=t.delegate;n&&(t.handle=n.isElement?n:e.selectNode(n,!1)),t.delegate=t.handle?void 0:t.delegate,t.handle||(t.handle=e),t.handleListeners={scope:t,delegate:t.delegate,mousedown:t.onMouseDown,dragstart:t.onDragStart},Ext.supports.TouchEvents||!t.trackOver&&!t.overCls||Ext.apply(t.handleListeners,{mouseover:t.onMouseOver,mouseout:t.onMouseOut}),t.mon(t.handle,t.handleListeners)},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){var e=this;e.endDrag({}),e.clearListeners(),e.el=e.handle=null},onMouseOver:function(e,t){var n,i,r,o,a,s=this;if(!s.disabled&&(e.within(e.target,!0,!0)||s.delegate)){if(n=s.handleCls,s.mouseIsOut=!1,n)for(r=0,o=s.handleEls.length;o>r;r++)i=s.handleEls[r],a=i.delegateCls,a||(a=i.delegateCls=[n,"-",i.region,"-over"].join("")),i.addCls([a,s.overCls]);s.fireEvent("mouseover",s,e,s.delegate?e.getTarget(s.delegate,t):s.handle)}},onMouseOut:function(e){var t,n,i,r=this;if(r.mouseIsDown)r.mouseIsOut=!0;else{if(r.handleCls)for(n=0,i=r.handleEls.length;i>n;n++)t=r.handleEls[n],t.removeCls([t.delegateCls,r.overCls]);r.fireEvent("mouseout",r,e)}},onMouseDown:function(e,t){var n=this;n.disabled||e.dragTracked||(n.dragTarget=n.delegate?t:n.handle.dom,n.startXY=n.lastXY=e.getXY(),n.startRegion=Ext.fly(n.dragTarget).getRegion(),n.fireEvent("mousedown",n,e)!==!1&&n.fireEvent("beforedragstart",n,e)!==!1&&n.onBeforeStart(e)!==!1&&(n.mouseIsDown=!0,e.dragTracked=!0,n.el.setCapture(),e.stopPropagation(),n.preventDefault!==!1&&e.preventDefault(),Ext.getDoc().on({scope:n,capture:!0,mouseup:n.onMouseUp,mousemove:n.onMouseMove,selectstart:n.stopSelect}),n.dragEnded=!1,n.tolerance?n.autoStart&&(n.timer=Ext.defer(n.triggerStart,n.autoStart===!0?1e3:n.autoStart,n,[e])):n.triggerStart()))},onMouseMove:function(e,t){var n=this,i=e.getXY(),r=n.startXY;if(e.stopPropagation(),n.preventDefault!==!1&&e.preventDefault(),!n.dragEnded){if(n.lastXY=i,!n.active){if(!(Math.max(Math.abs(r[0]-i[0]),Math.abs(r[1]-i[1]))>n.tolerance))return;n.triggerStart(e)}n.fireEvent("mousemove",n,e)===!1?n.onMouseUp(e):(n.onDrag(e),n.fireEvent("drag",n,e))}},onMouseUp:function(e){var t=this;t.mouseIsDown=!1,t.mouseIsOut&&(t.mouseIsOut=!1,t.onMouseOut(e)),t.preventDefault!==!1&&e.preventDefault(),Ext.isIE&&document.releaseCapture&&document.releaseCapture(),t.fireEvent("mouseup",t,e),t.endDrag(e)},endDrag:function(e){var t=this,n=t.active;Ext.getDoc().un({mousemove:t.onMouseMove,mouseup:t.onMouseUp,selectstart:t.stopSelect,capture:!0,scope:t}),t.clearStart(),t.active=!1,n&&(t.dragEnded=!0,t.onEnd(e),t.fireEvent("dragend",t,e)),t._constrainRegion=null},triggerStart:function(e){var t=this;t.clearStart(),t.active=!0,t.onStart(e),t.fireEvent("dragstart",t,e)},clearStart:function(){var e=this.timer;e&&(clearTimeout(e),this.timer=null)},stopSelect:function(e){return e.stopEvent(),!1},onBeforeStart:function(e){},onStart:function(e){},onDrag:function(e){},onEnd:function(e){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var e=this;if(e.constrainTo){if(e.constrainTo instanceof Ext.util.Region)return e.constrainTo;e._constrainRegion||(e._constrainRegion=Ext.fly(e.constrainTo).getViewRegion())}else e._constrainRegion||(e._constrainRegion=e.getDragCt().getViewRegion());return e._constrainRegion},getXY:function(e){return e?this.constrainModes[e](this,this.lastXY):this.lastXY},getOffset:function(e){var t=this.getXY(e),n=this.startXY;return[t[0]-n[0],t[1]-n[1]]},onDragStart:function(e){e.stopPropagation()},constrainModes:{point:function(e,t){var n=e.dragRegion,i=e.getConstrainRegion();return i?(n.x=n.left=n[0]=n.right=t[0],n.y=n.top=n[1]=n.bottom=t[1],n.constrainTo(i),[n.left,n.top]):t},dragTarget:function(e,t){var n,i=e.startXY,r=e.startRegion.copy(),o=e.getConstrainRegion();return o?(r.translateBy(t[0]-i[0],t[1]-i[1]),r.right>o.right&&(t[0]+=n=o.right-r.right,r.left+=n),r.left<o.left&&(t[0]+=o.left-r.left),r.bottom>o.bottom&&(t[1]+=n=o.bottom-r.bottom,r.top+=n),r.top<o.top&&(t[1]+=o.top-r.top),t):t}}}),Ext.define("Ext.grid.plugin.HeaderResizer",{extend:"Ext.plugin.Abstract",requires:["Ext.dd.DragTracker","Ext.util.Region"],alias:"plugin.gridheaderresizer",disabled:!1,config:{dynamic:!1},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1e3,eResizeCursor:"col-resize",init:function(e){var t=this;t.headerCt=e,e.on("render",t.afterHeaderRender,t,{single:t}),t.minColWidth||(t.self.prototype.minColWidth=Ext.grid.column.Column.prototype.minWidth)},destroy:function(){var e=this.tracker;e&&(delete e.onBeforeStart,delete e.onStart,delete e.onDrag,delete e.onEnd,e.destroy(),this.tracker=null)},afterHeaderRender:function(){var e=this,t=e.headerCt,n=t.el;t.mon(n,"mousemove",e.onHeaderCtMouseMove,e),e.markerOwner=e.ownerGrid=e.headerCt.up("tablepanel"),e.markerOwner.ownerLockable&&(e.markerOwner=e.markerOwner.ownerLockable),e.tracker=new Ext.dd.DragTracker({disabled:e.disabled,onBeforeStart:e.onBeforeStart.bind(e),onStart:e.onStart.bind(e),onDrag:e.onDrag.bind(e),onEnd:e.onEnd.bind(e),tolerance:3,autoStart:300,el:n})},onHeaderCtMouseMove:function(e){var t=this;t.headerCt.dragging||t.disabled?t.activeHd&&(t.activeHd.el.dom.style.cursor="",delete t.activeHd):t.findActiveHeader(e)},findActiveHeader:function(e){var t,n,i,r=this,o=e.getTarget("."+r.colHeaderCls,3,!0);if(o){if(t=Ext.getCmp(o.id),t.isOnRightEdge(e)){if(1===r.headerCt.visibleColumnManager.getColumns().length&&r.headerCt.forceFit)return;n=t}else t.isOnLeftEdge(e)&&(i=r.headerCt.visibleColumnManager.getColumns(),n=i[Ext.Array.indexOf(i,t)-1],n||!r.ownerGrid.ownerLockable||r.ownerGrid.isLocked||(i=r.ownerGrid.ownerLockable.lockedGrid.headerCt.visibleColumnManager.getColumns(),n=i[i.length-1]));n?(n.isGroupHeader&&(i=n.getGridColumns(),n=i[i.length-1]),n&&!n.fixed&&n.resizable!==!1&&(r.activeHd=n,t.el.dom.style.cursor=r.eResizeCursor,t.triggerEl&&(t.triggerEl.dom.style.cursor=r.eResizeCursor))):(t.el.dom.style.cursor="",t.triggerEl&&(t.triggerEl.dom.style.cursor=""),r.activeHd=null)}return r.activeHd},onBeforeStart:function(e){var t=this;return t.dragHd=Ext.supports.Touch?t.findActiveHeader(e):t.activeHd,
t.dragHd&&!t.headerCt.dragging?(t.xDelta=t.dragHd.getX()+t.dragHd.getWidth()-t.tracker.getXY()[0],t.tracker.constrainTo=t.getConstrainRegion(),!0):(t.headerCt.dragging=!1,!1)},getConstrainRegion:function(){var e,t,n=this,i=n.dragHd.el,r=0,o=n.headerCt.getWidth()-n.headerCt.visibleColumnManager.getColumns().length*n.minColWidth;return n.headerCt.forceFit?(e=n.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"),e&&n.headerInSameGrid(e)&&(r=e.getWidth()-n.minColWidth)):r=(t=n.dragHd.up("tablepanel")).isLocked?n.dragHd.up("[scrollerOwner]").getTargetEl().getWidth()-t.getWidth()-(t.ownerLockable.normalGrid.visibleColumnManager.getColumns().length*n.minColWidth+Ext.getScrollbarSize().width):o-i.getWidth(),n.adjustConstrainRegion(i.getRegion(),0,r-n.xDelta,0,n.minColWidth-n.xDelta)},onStart:function(e){var t,n,i,r,o,a,s=this,l=s.dragHd,d=l.el.getWidth(),u=l.getOwnerHeaderCt();s.headerCt.dragging=!0,s.origWidth=d,s.dynamic||(i=s.markerOwner,i.frame&&i.resizable&&(s.gridOverflowSetting=i.el.dom.style.overflow,i.el.dom.style.overflow="hidden"),t=s.getLeftMarkerX(i),r=i.getLhsMarker(),o=i.getRhsMarker(),a=s.ownerGrid.body.getHeight()+u.getHeight(),n=u.getOffsetsTo(i)[1]-i.el.getBorderWidth("t"),r.setLocalY(n),o.setLocalY(n),r.setHeight(a),o.setHeight(a),s.setMarkerX(r,t),s.setMarkerX(o,t+d))},onDrag:function(e){var t=this;t.dynamic?t.doResize():t.setMarkerX(t.getMovingMarker(t.markerOwner),t.calculateDragX(t.markerOwner))},getMovingMarker:function(e){return e.getRhsMarker()},onEnd:function(e){var t,n=this;n.headerCt.dragging=!1,n.dragHd&&(n.dynamic||(t=n.headerCt.up("tablepanel"),t.ownerLockable&&(t=t.ownerLockable),"gridOverflowSetting"in n&&(t.el.dom.style.overflow=n.gridOverflowSetting),n.setMarkerX(t.getLhsMarker(),-9999),n.setMarkerX(t.getRhsMarker(),-9999)),n.doResize()),n.onHeaderCtMouseMove(e)},doResize:function(){var e,t=this,n=t.dragHd,i=t.tracker.getOffset("point");n&&i[0]&&(n.flex&&delete n.flex,Ext.suspendLayouts(),t.adjustColumnWidth(i[0]),t.headerCt.forceFit&&(e=n.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"),e&&!t.headerInSameGrid(e)&&(e=null),e&&(delete e.flex,e.setWidth(e.getWidth()-i[0]))),Ext.resumeLayouts(!0))},headerInSameGrid:function(e){var t=this.dragHd.up("tablepanel");return!!e.up(t)},disable:function(){var e=this.tracker;this.disabled=!0,e&&e.disable()},enable:function(){var e=this.tracker;this.disabled=!1,e&&e.enable()},calculateDragX:function(e){return this.tracker.getXY("point")[0]+this.xDelta-e.getX()-e.el.getBorderWidth("l")},getLeftMarkerX:function(e){return this.dragHd.getX()-e.getX()-e.el.getBorderWidth("l")-1},setMarkerX:function(e,t){e.setLocalX(t)},adjustConstrainRegion:function(e,t,n,i,r){return e.adjust(t,n,i,r)},adjustColumnWidth:function(e){this.dragHd.setWidth(this.origWidth+e)}}),Ext.define("Ext.dd.DragZone",{extend:"Ext.dd.DragSource",constructor:function(e,t){var n=this,i=n.containerScroll;n.callParent([e,t]),i&&(e=n.scrollEl||e,e=Ext.get(e),Ext.isObject(i)&&(e.ddScrollConfig=i),Ext.dd.ScrollManager.register(e))},getDragData:function(e){return Ext.dd.Registry.getHandleFromEvent(e)},onInitDrag:function(e,t){return this.proxy.update(this.dragData.ddel.cloneNode(!0)),this.onStartDrag(e,t),!0},getRepairXY:function(e){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent(),this.containerScroll&&Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}}),Ext.define("Ext.grid.header.DragZone",{extend:"Ext.dd.DragZone",colHeaderSelector:"."+Ext.baseCSSPrefix+"column-header",colInnerSelector:"."+Ext.baseCSSPrefix+"column-header-inner",maxProxyWidth:120,constructor:function(e){var t=this;t.headerCt=e,t.ddGroup=t.getDDGroup(),t.autoGroup=!0,t.callParent([e.el]),t.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(e){if(e.getTarget(this.colInnerSelector)){var t,n,i=e.getTarget(this.colHeaderSelector);if(i&&(t=Ext.getCmp(i.id),!this.headerCt.dragging&&t.draggable&&!t.isOnLeftEdge(e)&&!t.isOnRightEdge(e)))return n=document.createElement("div"),n.role="presentation",n.innerHTML=t.text,{ddel:n,header:t}}return!1},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=!0,this.headerCt.hideMenu(),this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=!1,this.callParent(arguments)},afterRepair:function(){this.callParent(),this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}}),Ext.define("Ext.dd.DDTarget",{extend:"Ext.dd.DragDrop",constructor:function(e,t,n){e&&this.initTarget(e,t,n)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}}),Ext.define("Ext.dd.ScrollManager",{singleton:!0,requires:["Ext.dd.DragDropManager"],dirTrans:{up:-1,left:-1,down:1,right:1},constructor:function(){var e=Ext.dd.DragDropManager;e.fireEvents=Ext.Function.createSequence(e.fireEvents,this.onFire,this),e.stopDrag=Ext.Function.createSequence(e.stopDrag,this.onStop,this),this.doScroll=this.doScroll.bind(this),this.ddmInstance=e,this.els={},this.dragEl=null,this.proc={}},onStop:function(e){var t=Ext.dd.ScrollManager;t.dragEl=null,t.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){var e=this;if(e.ddmInstance.dragCurrent){var t=e.proc,n=t.el,i=t.component,r=t.el.ddScrollConfig,o=r&&r.increment?r.increment:e.increment,a=r&&"animate"in r?r.animate:e.animate,s=function(){e.triggerRefresh()};a&&(a===!0?a={callback:s}:a.callback=a.callback?Ext.Function.createSequence(a.callback,s):s),i?(o*=e.dirTrans[t.dir],"up"===t.dir||"down"===t.dir?i.scrollBy(0,o,a):i.scrollBy(o,0,a)):n.scroll(t.dir,o,a),a||s()}},clearProc:function(){var e=this.proc;e.id&&clearInterval(e.id),e.scroller&&(e.scroller.setSnapToBoundary(!0),e.scroller.snapToBoundary()),e.id=0,e.el=e.component=e.scroller=null,e.dir=""},startProc:function(e,t){var n,i,r,o=this,a=o.proc;o.clearProc(),a.el=e,a.dir=t,2===Ext.supports.touchScroll&&(r=e.component)&&e===r.getOverflowEl()&&(a.component=r,a.scroller=r.scrollManager.scroller,a.scroller.setSnapToBoundary(!1)),n=e.ddScrollConfig?e.ddScrollConfig.ddGroup:void 0,i=e.ddScrollConfig&&e.ddScrollConfig.frequency?e.ddScrollConfig.frequency:o.frequency,(void 0===n||o.ddmInstance.dragCurrent.ddGroup===n)&&(a.id=setInterval(o.doScroll,i))},onFire:function(e,t){var n,i,r,o,a,s,l,d=this;if(!t&&d.ddmInstance.dragCurrent){d.dragEl&&d.dragEl===d.ddmInstance.dragCurrent||(d.dragEl=d.ddmInstance.dragCurrent,d.refreshCache()),n=e.getPoint(),i=d.proc,r=d.els;for(o in r)if(a=r[o],s=a._region,l=a.ddScrollConfig||d,s&&s.contains(n)&&a.isScrollable()){if(s.bottom-n.y<=l.vthresh)return void(i.el!==a&&d.startProc(a,"down"));if(s.right-n.x<=l.hthresh)return void(i.el!==a&&d.startProc(a,"right"));if(n.y-s.top<=l.vthresh)return void(i.el!==a&&d.startProc(a,"up"));if(n.x-s.left<=l.hthresh)return void(i.el!==a&&d.startProc(a,"left"))}d.clearProc()}},register:function(e){if(Ext.isArray(e))for(var t=0,n=e.length;n>t;t++)this.register(e[t]);else e=Ext.get(e),this.els[e.id]=e},unregister:function(e){if(Ext.isArray(e))for(var t=0,n=e.length;n>t;t++)this.unregister(e[t]);else e=Ext.get(e),delete this.els[e.id]},vthresh:25*(window.devicePixelRatio||1),hthresh:25*(window.devicePixelRatio||1),increment:100,frequency:500,animate:!0,animDuration:.4,ddGroup:void 0,refreshCache:function(){var e,t=this.els;for(e in t)"object"==typeof t[e]&&(t[e]._region=t[e].getRegion())}}),Ext.define("Ext.dd.DropTarget",{extend:"Ext.dd.DDTarget",requires:["Ext.dd.ScrollManager"],constructor:function(e,t){this.el=Ext.get(e),Ext.apply(this,t),this.containerScroll&&Ext.dd.ScrollManager.register(this.el),this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:!0}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(e,t,n){return this.overClass&&this.el.addCls(this.overClass),this.dropAllowed},notifyOver:function(e,t,n){return this.dropAllowed},notifyOut:function(e,t,n){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(e,t,n){return this.overClass&&this.el.removeCls(this.overClass),!1},destroy:function(){this.callParent(),this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}}),Ext.define("Ext.dd.Registry",{singleton:!0,constructor:function(){this.elements={},this.handles={},this.autoIdSeed=0},getId:function(e,t){if("string"==typeof e)return e;var n=e.id;return n||t===!1||(n="extdd-"+ ++this.autoIdSeed,e.id=n),n},register:function(e,t){if(t=t||{},"string"==typeof e&&(e=document.getElementById(e)),t.ddel=e,this.elements[this.getId(e)]=t,t.isHandle!==!1&&(this.handles[t.ddel.id]=t),t.handles){var n,i,r=t.handles;for(n=0,i=r.length;i>n;n++)this.handles[this.getId(r[n])]=t}},unregister:function(e){var t,n,i,r=this.getId(e,!1),o=this.elements[r];if(o&&(delete this.elements[r],o.handles))for(t=o.handles,n=0,i=t.length;i>n;n++)delete this.handles[this.getId(t[n],!1)]},getHandle:function(e){return"string"!=typeof e&&(e=e.id),this.handles[e]},getHandleFromEvent:function(e){var t=e.getTarget();return t?this.handles[t.id]:null},getTarget:function(e){return"string"!=typeof e&&(e=e.id),this.elements[e]},getTargetFromEvent:function(e){var t=e.getTarget();return t?this.elements[t.id]||this.handles[t.id]:null}}),Ext.define("Ext.dd.DropZone",{extend:"Ext.dd.DropTarget",requires:["Ext.dd.Registry"],getTargetFromEvent:function(e){return Ext.dd.Registry.getTargetFromEvent(e)},onNodeEnter:function(e,t,n,i){},onNodeOver:function(e,t,n,i){return this.dropAllowed},onNodeOut:function(e,t,n,i){},onNodeDrop:function(e,t,n,i){return!1},onContainerOver:function(e,t,n){return this.dropNotAllowed},onContainerDrop:function(e,t,n){return!1},notifyEnter:function(e,t,n){return this.dropNotAllowed},notifyOver:function(e,t,n){var i=this.getTargetFromEvent(t);return i?(this.lastOverNode!=i&&(this.lastOverNode&&this.onNodeOut(this.lastOverNode,e,t,n),this.onNodeEnter(i,e,t,n),this.lastOverNode=i),this.onNodeOver(i,e,t,n)):(this.lastOverNode&&(this.onNodeOut(this.lastOverNode,e,t,n),this.lastOverNode=null),this.onContainerOver(e,t,n))},notifyOut:function(e,t,n){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,e,t,n),this.lastOverNode=null)},notifyDrop:function(e,t,n){var i=this,r=i.getTargetFromEvent(t),o=r?i.onNodeDrop(r,e,t,n):i.onContainerDrop(e,t,n);return i.lastOverNode&&(i.onNodeOut(i.lastOverNode,e,t,n),i.lastOverNode=null),o},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}}),Ext.define("Ext.grid.header.DropZone",{extend:"Ext.dd.DropZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(e){var t=this;t.headerCt=e,t.ddGroup=t.getDDGroup(),t.autoGroup=!0,t.callParent([e.el])},destroy:function(){this.callParent(),Ext.destroy(this.topIndicator,this.bottomIndicator)},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(e){return e.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){return this.topIndicator||(this.topIndicator=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"col-move-top","data-sticky":!0,html:"&#160;"}),this.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)),this.topIndicator},getBottomIndicator:function(){return this.bottomIndicator||(this.bottomIndicator=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"col-move-bottom","data-sticky":!0,html:"&#160;"})),this.bottomIndicator},getLocation:function(e,t){var n,i=e.getXY()[0],r=Ext.fly(t).getRegion();return n=r.right-i<=(r.right-r.left)/2?"after":"before",{pos:n,header:Ext.getCmp(t.id),node:t}},positionIndicator:function(e,t,n){var i,r,o,a,s,l,d,u,c,h,f,g,p,m,x,E=this,v=e.header,y=E.getLocation(n,t),b=y.header,C=y.pos;if(b!==E.lastTargetHeader||C!==E.lastDropPos){if(i=v.nextSibling("gridcolumn:not([hidden])"),r=v.previousSibling("gridcolumn:not([hidden])"),E.lastTargetHeader=b,E.lastDropPos=C,!b.draggable&&"before"===C&&0===b.getIndex())return!1;if(e.dropLocation=y,v!==b&&("before"===C&&i!==b||"after"===C&&r!==b)&&!b.isDescendantOf(v)){for(g=Ext.dd.DragDropManager.getRelated(E),p=g.length,m=0;p>m;m++)x=g[m],x!==E&&x.invalidateDrop&&x.invalidateDrop();E.valid=!0,o=E.getTopIndicator(),a=E.getBottomIndicator(),"before"===C?(s="bc-tl",l="tc-bl"):(s="bc-tr",l="tc-br"),d=o.getAlignToXY(b.el,s),u=a.getAlignToXY(b.el,l),c=E.headerCt.el,h=c.getX()-E.indicatorXOffset,f=c.getX()+c.getWidth(),d[0]=Ext.Number.constrain(d[0],h,f),u[0]=Ext.Number.constrain(u[0],h,f),o.setXY(d),a.setXY(u),o.show(),a.show()}else E.invalidateDrop()}},invalidateDrop:function(){this.valid=!1,this.hideIndicators()},onNodeOver:function(e,t,n,i){var r,o,a,s,l=this,d=i.header;return i.header.el.dom===e?r=!1:(i.isLock=i.isUnlock=i.crossPanel=!1,o=l.getLocation(n,e).header,r=d.ownerCt===o.ownerCt,r||d.ownerCt.sealed||o.ownerCt.sealed||(r=!0,a=d.up("tablepanel"),s=o.up("tablepanel"),a!==s&&(i.crossPanel=!0,i.isLock=s.isLocked&&!a.isLocked,i.isUnlock=!s.isLocked&&a.isLocked,(i.isUnlock&&d.lockable===!1||i.isLock&&!d.isLockable())&&(r=!1)))),r?l.positionIndicator(i,e,n):l.valid=!1,l.valid?l.dropAllowed:l.dropNotAllowed},hideIndicators:function(){var e=this;e.getTopIndicator().hide(),e.getBottomIndicator().hide(),e.lastTargetHeader=e.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(e,t,n,i){if(this.valid){var r,o,a=i.header,s=i.dropLocation,l=s.header,d=a.ownerCt,u=l.ownerCt,c=d===u,h=d.items.indexOf(i.header),f=u.items.indexOf(l),g=this.headerCt,p=g.visibleColumnManager,m=p.getHeaderIndex(a),x=l.isGroupHeader?u.items.indexOf(l):p.getHeaderIndex(l),E=a.isGroupHeader?a.query(":not([hidden]):not([isGroupHeader])").length:1,v=l.isGroupHeader?"after"===s.pos:p.getHeaderIndex(l)>p.getHeaderIndex(a);if("after"===s.pos&&(f++,x+=l.isGroupHeader?l.query(":not([hidden]):not([isGroupHeader])").length:1),i.isLock)r=d.up("[scrollerOwner]"),r.lock(a,f,u);else if(i.isUnlock)r=d.up("[scrollerOwner]"),r.unlock(a,f,u);else{if(this.invalidateDrop(),o=a.getWidth(),c&&(f>h&&(f-=1),f===h))return void g.onHeaderMoved(a,E,m,x);Ext.suspendLayouts(),c?u.move(h,f):(v&&x===f&&(f-=1),d.isDDMoveInGrid=u.isDDMoveInGrid=!i.crossPanel,d.remove(a,!1),u.insert(f,a),d.isDDMoveInGrid=u.isDDMoveInGrid=!1),u.isGroupHeader?c||(a.savedFlex=a.flex,delete a.flex,a.width=o):a.savedFlex&&(a.flex=a.savedFlex,delete a.width),Ext.resumeLayouts(!0),c||g.onHeaderMoved(a,E,m,x)}}}}),Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:"Ext.plugin.Abstract",requires:["Ext.grid.header.DragZone","Ext.grid.header.DropZone"],alias:"plugin.gridheaderreorderer",init:function(e){this.headerCt=e,e.on({render:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){var e=this;e.dragZone=new Ext.grid.header.DragZone(e.headerCt),e.dropZone=new Ext.grid.header.DropZone(e.headerCt),e.disabled&&e.dragZone.disable()},enable:function(){this.disabled=!1,this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=!0,this.dragZone&&this.dragZone.disable()}}),Ext.define("Ext.grid.header.Container",{extend:"Ext.container.Container",requires:["Ext.grid.ColumnLayout","Ext.grid.plugin.HeaderResizer","Ext.grid.plugin.HeaderReorderer"],uses:["Ext.grid.column.Column","Ext.grid.ColumnManager","Ext.menu.Menu","Ext.menu.CheckItem","Ext.menu.Separator"],border:!0,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:!1,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",menuSortAscCls:Ext.baseCSSPrefix+"hmenu-sort-asc",menuSortDescCls:Ext.baseCSSPrefix+"hmenu-sort-desc",menuColsIcon:Ext.baseCSSPrefix+"cols-icon",ddLock:!1,dragging:!1,sortable:!0,enableColumnHide:!0,initComponent:function(){var e=this;e.headerCounter=0,e.plugins=e.plugins||[],e.defaults=e.defaults||{},e.isColumn||(e.enableColumnResize&&(e.resizer=new Ext.grid.plugin.HeaderResizer,e.plugins.push(e.resizer)),e.enableColumnMove&&(e.reorderer=new Ext.grid.plugin.HeaderReorderer,e.plugins.push(e.reorderer))),e.isColumn&&!e.isGroupHeader?e.items&&0!==e.items.length||(e.isContainer=!1,e.layout={type:"container",calculate:Ext.emptyFn}):(e.layout=Ext.apply({type:"gridcolumn",align:"stretch"},e.initialConfig.layout),e.defaults.columnLines=e.columnLines,e.isGroupHeader?(e.visibleColumnManager=new Ext.grid.ColumnManager(!0,e),e.columnManager=new Ext.grid.ColumnManager(!1,e)):(e.isRootHeader=!0,e.columnManager=new Ext.grid.ColumnManager(!1,e),e.visibleColumnManager=new Ext.grid.ColumnManager(!0,e),e.grid&&(e.grid.columnManager=e.columnManager,e.grid.visibleColumnManager=e.visibleColumnManager))),e.menuTask=new Ext.util.DelayedTask(e.updateMenuDisabledState,e),e.callParent()},initEvents:function(){var e=this,t=e.onHeaderCtEvent,n={click:t,dblclick:t,contextmenu:t,mouseover:e.onHeaderCtMouseOver,mouseout:e.onHeaderCtMouseOut,scope:e};Ext.supports.Touch&&(n.longpress=e.onHeaderCtLongPress),e.callParent(),e.isColumn||e.isGroupHeader||e.mon(e.el,n)},onHeaderCtEvent:function(e,t){var n,i,r,o=this,a=o.getHeaderElByEvent(e);return o.longPressFired?void(o.longPressFired=!1):void(a&&!o.ddLock&&(n=Ext.getCmp(a.id),n&&(i=n[n.clickTargetName],e.within(i)&&("click"===e.type||"tap"===e.type?(r=n.onTitleElClick(e,i),r?o.onHeaderTriggerClick(r,e,Ext.supports.Touch?r.el:r.triggerEl):o.onHeaderClick(n,e,t)):"contextmenu"===e.type?o.onHeaderContextMenu(n,e,t):"dblclick"===e.type&&n.resizable&&n.onTitleElDblClick(e,i.dom)))))},onHeaderCtMouseOver:function(e,t){var n,i,r;e.within(this.el,!0)||(n=e.getTarget("."+Ext.grid.column.Column.prototype.baseCls),i=n&&Ext.getCmp(n.id),i&&(r=i[i.clickTargetName],e.within(r)&&i.onTitleMouseOver(e,r.dom)))},onHeaderCtMouseOut:function(e,t){var n,i,r="."+Ext.grid.column.Column.prototype.baseCls,o=e.getTarget(r),a=e.getRelatedTarget(r);o!==a&&(o&&(n=Ext.getCmp(o.id),n&&(i=n[n.clickTargetName],n.onTitleMouseOut(e,i.dom))),a&&(n=Ext.getCmp(a.id),n&&(i=n[n.clickTargetName],n.onTitleMouseOver(e,i.dom))))},onHeaderCtLongPress:function(e){var t=this,n=t.getHeaderElByEvent(e),i=Ext.getCmp(n.id);i.menuDisabled||(t.longPressFired=!0,t.showMenuBy(n,i))},getHeaderElByEvent:function(e){return e.getTarget("."+Ext.grid.column.Column.prototype.baseCls)},isLayoutRoot:function(){return this.hiddenHeaders?!1:this.callParent()},getOwnerHeaderCt:function(){var e=this;return e.isRootHeader?e:e.up("[isRootHeader]")},onDestroy:function(){var e=this;e.menu&&e.menu.un("hide",e.onMenuHide,e),e.menuTask.cancel(),e.callParent(),Ext.destroy(e.visibleColumnManager,e.columnManager,e.menu),e.columnManager=e.visibleColumnManager=null},applyColumnsState:function(e){if(e&&e.length){var t,n,i,r,o=this,a=o.items.items,s=a.length,l=0,d=e.length,u=!1;for(t=0;d>t;t++)for(i=e[t],r=s;r--;)if(n=a[r],n.getStateId&&n.getStateId()==i.id){l!==r&&(this.items.insert(l,this.items.getAt(r)),u=!0),n.applyColumnState&&n.applyColumnState(i),++l;break}u&&o.purgeCache()}},getColumnsState:function(){var e,t=this,n=[];return t.items.each(function(t){e=t.getColumnState&&t.getColumnState(),e&&n.push(e)}),n},onAdd:function(e){var t=this;e.headerId||(e.headerId=e.initialConfig.id||Ext.id(null,"header-")),void 0===e.sortable&&(e.sortable=t.sortable),e.getStateId()||(e.stateId=e.initialConfig.id||"h"+ ++t.headerCounter),t._usedIDs||(t._usedIDs={}),t._usedIDs[e.headerId]&&Ext.log.warn(this.$className+" attempted to reuse an existing id: "+e.headerId),t._usedIDs[e.headerId]=!0,t.callParent(arguments),t.onHeadersChanged(e,t.isDDMoveInGrid)},move:function(e,t){var n=this,i=n.items.items[e];i.visibleFromIdx=n.getOwnerHeaderCt().visibleColumnManager.indexOf(i),n.callParent(arguments)},onMove:function(e,t,n){var i,r=this,o=r.getOwnerHeaderCt(),a=o.visibleColumnManager,s=1;r.onHeadersChanged(e,!0),i=a.indexOf(e),i>=e.visibleFromIdx&&i++,r.callParent(arguments),e.isGroupHeader&&(s=e.visibleColumnManager.getColumns().length),o.onHeaderMoved(e,s,e.visibleFromIdx,i)},onRemove:function(e){var t=this,n=t.ownerCt;t.callParent(arguments),t._usedIDs||(t._usedIDs={}),delete t._usedIDs[e.headerId],t.destroying||(t.isDDMoveInGrid||t.onHeadersChanged(e,!1),t.isGroupHeader&&!t.items.getCount()&&n&&(e.rendered&&t.detachComponent(e),Ext.suspendLayouts(),n.remove(t),Ext.resumeLayouts(!0)))},onHeadersChanged:function(e,t){var n,i=this.getOwnerHeaderCt();this.purgeHeaderCtCache(this),i&&(i.onColumnsChanged(),e.isGroupHeader||(n=i.ownerCt,n&&!t&&n.onHeadersChanged(i,e)))},onHeaderMoved:function(e,t,n,i){var r=this,o=r.ownerCt;r.rendered&&(o&&o.onHeaderMove&&o.onHeaderMove(r,e,t,n,i),r.fireEvent("columnmove",r,e,n,i))},onColumnsChanged:function(){var e,t,n=this,i=n.menu;n.rendered&&(n.fireEvent("columnschanged",n),i&&(e=i.child("#columnItemSeparator"))&&(t=i.child("#columnItem"),e.destroy(),t.destroy()))},lookupComponent:function(e){var t=this.callParent(arguments);return t.isGroupHeader||void 0!==t.width||t.flex||(t.width=this.defaultWidth),t},setSortState:function(){var e,t,n,i=this.up("[store]").store,r=this.visibleColumnManager.getColumns(),o=r.length;for(e=0;o>e;e++)t=r[e],n=i.getSorters().get(t.getSortParam()),t.setSortState(n)},getHeaderMenu:function(){var e,t=this.getMenu();return t&&(e=t.child("#columnItem"))?e.menu:null},onHeaderVisibilityChange:function(e,t){var n,i=this,r=i.getHeaderMenu();i.purgeHeaderCtCache(e.ownerCt),r&&(n=i.getMenuItemForHeader(r,e),n&&n.setChecked(t,!0),r.isVisible()&&i.menuTask.delay(50))},updateMenuDisabledState:function(e){var t,n,i,r,o=this,a=o.query(":not([hidden])"),s=a.length;for(e||(e=o.getMenu()),t=0;s>t;++t)n=a[t],i=o.getMenuItemForHeader(e,n),i&&(r=n.isHideable()?"enable":"disable",i.menu&&(r+="CheckChange"),i[r]())},getMenuItemForHeader:function(e,t){return t?e.down("menucheckitem[headerId="+t.id+"]"):null},onHeaderShow:function(e){var t=this,n=t.ownerCt;t.forceFit&&delete t.flex,t.onHeaderVisibilityChange(e,!0),e.isGroupHeader||n&&n.onHeaderShow(t,e),t.fireEvent("columnshow",t,e),t.fireEvent("columnschanged",this)},onHeaderHide:function(e){var t=this,n=t.ownerCt;t.onHeaderVisibilityChange(e,!1),e.isGroupHeader||n&&n.onHeaderHide(t,e),t.fireEvent("columnhide",t,e),t.fireEvent("columnschanged",this)},tempLock:function(){this.ddLock=!0,Ext.Function.defer(function(){this.ddLock=!1},200,this)},onHeaderResize:function(e,t){var n=this,i=n.ownerCt;i&&i.onHeaderResize(n,e,t),n.fireEvent("columnresize",n,e,t)},onHeaderClick:function(e,t,n){e.fireEvent("headerclick",this,e,t,n),this.fireEvent("headerclick",this,e,t,n)},onHeaderContextMenu:function(e,t,n){e.fireEvent("headercontextmenu",this,e,t,n),this.fireEvent("headercontextmenu",this,e,t,n)},onHeaderTriggerClick:function(e,t,n){var i=this;e.fireEvent("headertriggerclick",i,e,t,n)!==!1&&i.fireEvent("headertriggerclick",i,e,t,n)!==!1&&i.showMenuBy(n,e)},showMenuBy:function(e,t){var n,i=this.getMenu(),r=i.down("#ascItem"),o=i.down("#descItem");i.activeHeader=i.ownerButton=t,t.setMenuActive(!0),n=t.sortable?"enable":"disable",r&&r[n](),o&&o[n](),i.showBy(e,"tl-bl?")},hideMenu:function(){this.menu&&this.menu.hide()},onMenuHide:function(e){e.activeHeader.setMenuActive(!1)},moveHeader:function(e,t){this.tempLock(),this.move(e,t)},purgeHeaderCtCache:function(e){for(;e;){if(e.purgeCache(),e.isRootHeader)return;e=e.ownerCt}},purgeCache:function(){var e=this,t=e.visibleColumnManager,n=e.columnManager;e.gridVisibleColumns=e.gridDataColumns=e.hideableColumns=null,t&&(t.invalidate(),n.invalidate())},getMenu:function(){var e=this;return e.menu||(e.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:e.getMenuItems(),listeners:{beforeshow:e.beforeMenuShow,hide:e.onMenuHide,scope:e}}),e.fireEvent("menucreate",e,e.menu)),e.menu},beforeMenuShow:function(e){var t,n,e,i=this,r=e.child("#columnItem");r||(t=i.enableColumnHide?i.getColumnMenu(i):null,n=i.sortable?2:0,t&&t.length&&e.insert(n,[{itemId:"columnItemSeparator",xtype:"menuseparator"},{itemId:"columnItem",text:i.columnsText,iconCls:i.menuColsIcon,menu:{items:t},hideOnClick:!1}])),i.updateMenuDisabledState(i.menu)},getMenuItems:function(){var e=this,t=[],n=e.enableColumnHide?e.getColumnMenu(e):null;return e.sortable&&(t=[{itemId:"ascItem",text:e.sortAscText,iconCls:e.menuSortAscCls,handler:e.onSortAscClick,scope:e},{itemId:"descItem",text:e.sortDescText,iconCls:e.menuSortDescCls,handler:e.onSortDescClick,scope:e}]),n&&n.length&&(e.sortable&&t.push({itemId:"columnItemSeparator",xtype:"menuseparator"}),t.push({itemId:"columnItem",text:e.columnsText,iconCls:e.menuColsIcon,menu:n,hideOnClick:!1})),t},onSortAscClick:function(){var e=this.getMenu(),t=e.activeHeader;t.sort("ASC")},onSortDescClick:function(){var e=this.getMenu(),t=e.activeHeader;t.sort("DESC")},getColumnMenu:function(e){for(var t,n,i=[],r=0,o=e.query(">gridcolumn[hideable]"),a=o.length;a>r;r++)t=o[r],n=new Ext.menu.CheckItem({text:t.menuText||t.text,checked:!t.hidden,hideOnClick:!1,headerId:t.id,menu:t.isGroupHeader?this.getColumnMenu(t):void 0,checkHandler:this.onColumnCheckChange,scope:this}),i.push(n);return i},onColumnCheckChange:function(e,t){var n=Ext.getCmp(e.headerId);n.rendered?n[t?"show":"hide"]():n.hidden=!t},getColumnCount:function(){return this.getGridColumns().length},getTableWidth:function(){var e,t=0,n=this.getVisibleGridColumns(),i=n.length;for(e=0;i>e;e++)t+=n[e].getCellWidth()||0;return t},getVisibleGridColumns:function(){if(this.gridVisibleColumns)return this.gridVisibleColumns;var e,t,n=this.getGridColumns(),i=[],r=n.length;for(t=0;r>t;t++)n[t].hidden||(e=n[t],e.visibleIndex=i.length,i[i.length]=e);return this.gridVisibleColumns=i,i},getGridColumns:function(e,t){if(!e&&this.gridDataColumns)return this.gridDataColumns;var n,i,r,o,a,s=this,l=e||[];if(t=t||s.hidden,s.items)for(n=s.items.items,i=0,r=n.length;r>i;i++)o=n[i],o.isGroupHeader?o.getGridColumns(l,t):(o.hiddenAncestor=t,l.push(o));if(e||(s.gridDataColumns=l),!e&&r){for(i=0,r=l.length;r>i;i++)o=l[i],o.fullColumnIndex=i,o.isFirstVisible=o.isLastVisible=!1,o.hidden||o.hiddenAncestor||(a||(o.isFirstVisible=!0),a=o);a&&(a.isLastVisible=!0)}return l},getHideableColumns:function(){var e=this,t=e.hideableColumns;return t||(t=e.hideableColumns=e.query("[hideable]")),t},getHeaderIndex:function(e){return this.columnManager||(this.columnManager=this.getOwnerHeaderCt().columnManager),this.columnManager.getHeaderIndex(e)},getHeaderAtIndex:function(e){return this.columnManager||(this.columnManager=this.getOwnerHeaderCt().columnManager),this.columnManager.getHeaderAtIndex(e)},getVisibleHeaderClosestToIndex:function(e){return this.visibleColumnManager||(this.visibleColumnManager=this.getOwnerHeaderCt().visibleColumnManager),this.visibleColumnManager.getVisibleHeaderClosestToIndex(e)},applyForceFit:function(e){function t(){for(r=0,i=p.length;i>r;r++)o=p[r],o!==e&&(o.flex=o.flex||o.width||o.getWidth(),g+=o.flex,o.width=null)}function n(){var t;for(r=0,i=p.length;i>r;r++)o=p[r],t=o===e,c&&!t?(o.flex=u,o.width=null):t||(s=o.flex||h,o.flex=Math.max(Math.ceil(s/g*f),u),o.width=null),o.setWidth(o.width||o.flex)}var i,r,o,a,s,l=this,d=l.view,u=Ext.grid.plugin.HeaderResizer.prototype.minColWidth,c=!1,h=Ext.grid.header.Container.prototype.defaultWidth,f=l.el.dom.clientWidth-(d.el.dom.scrollHeight>d.el.dom.clientHeight?Ext.getScrollbarSize().width:0),g=0,p=l.getVisibleGridColumns(),m=e.hidden;Ext.suspendLayouts(),a=f-(p.length+1)*u,e.flex=null,m?(s=e.width||e.savedWidth,e.savedWidth=null):s=d.getMaxContentWidth(e),s>a?(e.width=a,c=!0):(e.width=s,f-=s+h,t()),n(),Ext.resumeLayouts(!0)},autoSizeColumn:function(e){var t=this.view;t&&(t.autoSizeColumn(e),this.forceFit&&this.applyForceFit(e))}}),Ext.define("Ext.grid.ColumnComponentLayout",{extend:"Ext.layout.component.Auto",alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:!0,beginLayout:function(e){this.callParent(arguments),e.titleContext=e.getEl("titleEl"),e.triggerContext=e.getEl("triggerEl")},beginLayoutCycle:function(e){var t=this.owner;this.callParent(arguments),e.widthModel.shrinkWrap&&t.el.setWidth(""),t.titleEl.setStyle({paddingTop:"",paddingBottom:""})},publishInnerHeight:function(e,t){var n,i,r,o,a,s=this,l=s.owner;return l.getOwnerHeaderCt().hiddenHeaders?void e.setProp("innerHeight",0):(n=t-e.getBorderInfo().height,i=n,l.headerWrap&&!e.hasDomProp("width")?void(s.done=!1):void(e.hasRawContent?(r=l.textEl.getHeight(),r&&(i-=r,i>0&&(o=Math.floor(i/2),a=i-o,e.titleContext.setProp("padding-top",o),e.titleContext.setProp("padding-bottom",a)))):e.setProp("innerHeight",n-l.titleEl.getHeight(),!1)))},measureContentHeight:function(e){return e.el.dom.offsetHeight},publishInnerWidth:function(e,t){e.hasRawContent||e.setProp("innerWidth",t-e.getBorderInfo().width,!1)},calculateOwnerHeightFromContentHeight:function(e,t){var n=this.callParent(arguments),i=this.owner;return e.hasRawContent?n:!i.headerWrap||e.hasDomProp("width")?t+i.titleEl.getHeight()+e.getBorderInfo().height:null},calculateOwnerWidthFromContentWidth:function(e,t){var n,i=this.owner,r=e.getPaddingInfo().width,o=this.getTriggerOffset(i,e);return n=i.isGroupHeader?t:Math.max(t,i.textEl.getWidth()+e.titleContext.getPaddingInfo().width),n+r+o},getTriggerOffset:function(e,t){var n=0;return t.widthModel.shrinkWrap&&!e.menuDisabled&&0===e.query(">:not([hidden])").length&&(n=e.self.triggerElWidth),n}}),Ext.define("Ext.grid.column.Column",{extend:"Ext.grid.header.Container",xtype:"gridcolumn",requires:["Ext.util.KeyNav","Ext.grid.ColumnComponentLayout","Ext.grid.ColumnLayout","Ext.app.bind.Template"],alternateClassName:"Ext.grid.Column",config:{triggerVisible:!1},baseCls:Ext.baseCSSPrefix+"column-header",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:Ext.supports.Touch?10:4,ariaRole:"columnheader",sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],headerWrap:!1,renderTpl:['<div id="{id}-titleEl" data-ref="titleEl" role="presentation" {tipMarkup}class="',Ext.baseCSSPrefix,"column-header-inner",'<tpl if="empty"> ',Ext.baseCSSPrefix,'column-header-inner-empty</tpl>">','<span id="{id}-textEl" data-ref="textEl" class="',Ext.baseCSSPrefix,"column-header-text",'{childElCls}">',"{text}","</span>",'<tpl if="!menuDisabled">','<div id="{id}-triggerEl" data-ref="triggerEl" role="presentation" class="',Ext.baseCSSPrefix,"column-header-trigger",'{childElCls}" style="{triggerStyle}"></div>',"</tpl>","</div>","{%this.renderContainer(out,values)%}"],dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,align:"left",draggable:!0,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",isHeader:!0,isColumn:!0,producesHTML:!0,ascSortCls:Ext.baseCSSPrefix+"column-header-sort-ASC",descSortCls:Ext.baseCSSPrefix+"column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:Ext.baseCSSPrefix+"group-sub-header",groupHeaderCls:Ext.baseCSSPrefix+"group-header",clickTargetName:"titleEl",detachOnRemove:!0,initResizable:Ext.emptyFn,rendererNames:{column:"renderer",edit:"editRenderer",summary:"summaryRenderer"},formatterNames:{column:"formatter",
edit:"editFormatter",summary:"summaryFormatter"},initComponent:function(){var e=this;null!=e.header&&(e.text=e.header,e.header=null),e.cellWrap&&(e.tdCls=(e.tdCls||"")+" "+Ext.baseCSSPrefix+"wrap-cell"),null!=e.columns?(e.isGroupHeader=!0,e.dataIndex&&Ext.Error.raise("Ext.grid.column.Column: Group header may not accept a dataIndex"),(e.width&&e.width!==Ext.grid.header.Container.prototype.defaultWidth||e.flex)&&Ext.Error.raise("Ext.grid.column.Column: Group header does not support setting explicit widths or flexs. The group header width is calculated by the sum of its children."),e.items=e.columns,e.columns=e.flex=e.width=null,e.cls=(e.cls||"")+" "+e.groupHeaderCls,e.sortable=e.resizable=!1,e.align="center"):e.flex&&(e.minWidth=e.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth),e.addCls(Ext.baseCSSPrefix+"column-header-align-"+e.align),e.setupRenderer(),e.setupRenderer("edit"),e.setupRenderer("summary"),e.callParent(arguments)},bindFormatter:function(e){var t=this;return function(n){return e.format(n,e.scope||t.scope||t.resolveListenerScope())}},bindRenderer:function(e){var t=this;return e in Ext.util.Format&&Ext.log.warn('Use "formatter" config instead of "renderer" to use Ext.util.Format to format cell values'),t.hasCustomRenderer=!0,function(){return Ext.callback(e,t.scope,arguments,0,t)}},setupRenderer:function(e){e=e||"column";var t,n=this,i=n[n.formatterNames[e]],r=n[n.rendererNames[e]],o="column"===e;i?(t=0===i.indexOf("this."),t&&(i=i.substring(5)),i=Ext.app.bind.Template.prototype.parseFormat(i),n[n.formatterNames[e]]=null,t?i.scope=null:Ext.util.Format[i.fmt]||Ext.Error.raise('Invalid formatter specified: "'+i.fmt+'"'),n[n.rendererNames[e]]=n.bindFormatter(i)):r?("string"==typeof r&&(r=n[n.rendererNames[e]]=n.bindRenderer(r)),o&&(n.hasCustomRenderer=r.length>1)):o&&n.defaultRenderer&&(n.renderer=n.defaultRenderer,n.usingDefaultRenderer=!0)},getView:function(){var e=this.getOwnerHeaderCt();return e?e.view:void 0},onResize:function(e,t,n,i){var r,o,a,s,l=this;l.callParent(arguments),n&&l.cellWrap&&(r=l.getView(),r&&(o=r.store,a=r.bufferedRenderer,a&&(delete a.rowHeight,a.stretchView(r,a.getScrollHeight(!0)),a.viewSize=Math.ceil(r.getHeight()/a.rowHeight)+a.trailingBufferZone+a.leadingBufferZone,o.isBufferedStore&&o.setViewSize(a.viewSize),s=Math.min((o.isBufferedStore?o.getTotalCount():o.getCount())-a.viewSize,Math.max(0,Math.floor(a.bodyTop/a.rowHeight))),a.renderRange(s,s+a.viewSize-1),e>n&&a.bodyTop+r.body.dom.offsetHeight-1>a.scrollHeight&&a.setBodyTop(Math.max(0,a.scrollHeight-r.body.dom.offsetHeight)))))},initItems:function(){var e=this;e.callParent(arguments),e.isGroupHeader&&(e.hasVisibleChildColumns()||e.hide())},hasVisibleChildColumns:function(){var e,t,n=this.items.items,i=n.length;for(e=0;i>e;++e)if(t=n[e],t.isColumn&&!t.hidden)return!0;return!1},onAdd:function(e){var t=this;e.isColumn&&(e.isSubHeader=!0,e.addCls(this.groupSubHeaderCls)),t.hidden&&e.isColumn&&(t.constructing?e.hide():e.hidden||t.show()),t.callParent(arguments)},onRemove:function(e){var t=this;e.isSubHeader&&(e.isSubHeader=!1,e.removeCls(t.groupSubHeaderCls)),t.callParent(arguments),t.isDestroyed||t.destroying||!t.isGroupHeader||t.hasVisibleChildColumns()||t.hide()},initRenderData:function(){var e=this,t="",n=e.tooltip,i=e.text,r="qtip"==e.tooltipType?"data-qtip":"title";return Ext.isEmpty(n)||(t=r+'="'+n+'" '),Ext.applyIf(e.callParent(arguments),{text:i,empty:"&#160;"===i||" "===i||""===i,menuDisabled:e.menuDisabled,tipMarkup:t,triggerStyle:this.getTriggerVisible()?"display:block":""})},applyColumnState:function(e){var t=this;t.applyColumnsState(e.columns),null!=e.hidden&&(t.hidden=e.hidden),null!=e.locked&&(t.locked=e.locked),null!=e.sortable&&(t.sortable=e.sortable),null!=e.width?(t.flex=null,t.width=e.width):null!=e.flex&&(t.width=null,t.flex=e.flex)},getColumnState:function(){var e,t=this,n=t.items.items,i=n?n.length:0,r=[],o={id:t.getStateId()};if(t.savePropsToState(["hidden","sortable","locked","flex","width"],o),t.isGroupHeader){for(e=0;i>e;e++)r.push(n[e].getColumnState());r.length&&(o.columns=r)}else t.isSubHeader&&t.ownerCt.hidden&&delete t.hidden;return"width"in o&&delete o.flex,o},getStateId:function(){return this.stateId||this.headerId},setText:function(e){this.text=e,this.rendered&&this.textEl.setHtml(e)},getIndex:function(){return this.isGroupColumn?!1:this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return null!=this.visibleIndex?this.visibleIndex:this.isGroupColumn?!1:Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var e=this,t=e.up("tablepanel");e.callParent(),t&&(e.sortable&&t.sortableColumns!==!1||e.groupable||e.lockable||t.enableColumnHide!==!1&&e.getOwnerHeaderCt().getHideableColumns().length||(e.menuDisabled=!0)),e.cellWrap&&(e.variableRowHeight=!0),e.protoEl.unselectable()},afterRender:function(){var e=this,t=e.triggerEl;e.callParent(arguments),t&&void 0===e.self.triggerElWidth&&(t.setStyle("display","block"),e.self.triggerElWidth=t.getWidth(),t.setStyle("display",""))},afterComponentLayout:function(e,t,n,i){var r=this,o=r.getOwnerHeaderCt();r.callParent(arguments),o&&(null!=n||r.flex)&&e!==n&&o.onHeaderResize(r,e)},onDestroy:function(){var e=this;Ext.destroy(e.keyNav,e.field),e.field=e.keyNav=null,e.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(e){this.triggerEl&&this.onTitleElClick(e,this.triggerEl.dom||this.el.dom)},onEnterKey:function(e){this.onTitleElClick(e,this.el.dom)},onTitleElDblClick:function(e,t){var n,i,r,o=this;if(o.isOnLeftEdge(e))n=o.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"),n&&n.getOwnerHeaderCt()===o.getOwnerHeaderCt()&&n.autoSize();else if(o.isOnRightEdge(e)){if(o.isGroupHeader&&e.getPoint().isContainedBy(o.layout.innerCt))return i=o.query("gridcolumn:not([hidden]):not([isGroupHeader])"),void o.getOwnerHeaderCt().autoSizeColumn(i[i.length-1]);if(r=o.getOwnerHeaderCt(),1===r.visibleColumnManager.getColumns().length&&r.forceFit)return;o.autoSize()}},autoSize:function(){var e,t,n,i,r=this;if(r.isGroupHeader){for(e=r.query("gridcolumn:not([hidden]):not([isGroupHeader])"),t=e.length,i=this.getOwnerHeaderCt(),Ext.suspendLayouts(),n=0;t>n;n++)i.autoSizeColumn(e[n]);return void Ext.resumeLayouts(!0)}this.getOwnerHeaderCt().autoSizeColumn(this)},onTitleElClick:function(e,t){var n,i,r=this;return Ext.supports.Touch?(i=r.previousSibling(":not([hidden])"),!r.menuDisabled&&r.isOnRightEdge(e,parseInt(r.triggerEl.getStyle("width")))?r.menuDisabled||(n=r):i&&!i.menuDisabled&&r.isOnLeftEdge(e)&&(n=i)):n=r.triggerEl&&(e.target===r.triggerEl.dom||t===r.triggerEl.dom||e.within(r.triggerEl))?r:null,(!n&&!r.isOnLeftEdge(e)&&!r.isOnRightEdge(e)||e.getKey())&&r.toggleSortState(),n},processEvent:function(e,t,n,i,r,o){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var e,t,n=this;n.sortable&&(e=Ext.Array.indexOf(n.possibleSortStates,n.sortState),t=(e+1)%n.possibleSortStates.length,n.sort())},sort:function(e){var t=this,n=t.up("tablepanel"),i=n.store;Ext.suspendLayouts(),t.sorting=!0,i.sort(t.getSortParam(),e,n.multiColumnSort?"multi":"replace"),delete t.sorting,Ext.resumeLayouts(!0)},getSortParam:function(){return this.dataIndex},setSortState:function(e){var t=this,n=e&&e.getDirection(),i=t.ascSortCls,r=t.descSortCls,o=t.getOwnerHeaderCt();switch(n){case"DESC":t.addCls(r),t.removeCls(i);break;case"ASC":t.addCls(i),t.removeCls(r);break;default:t.removeCls([i,r])}n&&o.fireEvent("sortchange",o,t,n)},isHideable:function(){var e={hideCandidate:this,result:this.hideable};return e.result&&this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[e]),e.result},hasOtherMenuEnabledChildren:function(e){var t,n;return this.isXType("headercontainer")?(t=this.query(">:not([hidden]):not([menuDisabled])"),n=t.length,Ext.Array.contains(t,e.hideCandidate)&&n--,n?!1:void(e.hideCandidate=this)):(e.result=!1,!1)},isLockable:function(){var e={result:this.lockable!==!1};return e.result&&this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[e]),e.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(e){return this.isXType("headercontainer")?this.query(">:not([hidden])").length>1?!1:void 0:(e.result=!1,!1)},hide:function(e){var t,n,i,r,o,a=this,s=a.getOwnerHeaderCt(),l=a.getRefOwner();if(l.constructing)return a.callParent(),a;if(a.rendered&&!a.isVisible())return a;if(s.forceFit&&(a.visibleSiblingCount=s.getVisibleGridColumns().length-1,a.flex&&(a.savedWidth=a.getWidth(),a.flex=null)),t=l.isGroupHeader,t&&!e&&(i=l.query(">:not([hidden])"),1===i.length&&i[0]===a))return void a.ownerCt.hide();if(Ext.suspendLayouts(),a.isGroupHeader)for(i=a.items.items,o=0,r=i.length;r>o;o++)n=i[o],n.hidden||n.hide(!0);return a.callParent(),s.onHeaderHide(a),Ext.resumeLayouts(!0),a},show:function(e,t){var n,i,r,o,a=this,s=a.getOwnerHeaderCt(),l=a.ownerCt;if(a.isVisible())return a;if(a.rendered&&s.forceFit&&s.applyForceFit(a),Ext.suspendLayouts(),a.isSubHeader&&l.hidden&&l.show(!1,!0),a.callParent(arguments),a.isGroupHeader&&t!==!0&&!a.query(":not([hidden])").length)for(n=a.items.items,r=0,i=n.length;i>r;r++)o=n[r],o.hidden&&o.show(!0);return l=a.getOwnerHeaderCt(),l&&l.onHeaderShow(a),Ext.resumeLayouts(!0),a},getCellWidth:function(){var e,t=this;return t.rendered&&t.componentLayout&&t.componentLayout.lastComponentSize?e=t.componentLayout.lastComponentSize.width:t.width?e=t.width:t.isColumn||(e=t.getTableWidth()),e},getCellId:function(){return Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellSelector:function(){return"."+this.getCellId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(e){return e.getXY()[0]-this.getX()<this.handleWidth},isOnRightEdge:function(e,t){return this.getX()+this.getWidth()-e.getXY()[0]<=(t||this.handleWidth)},setMenuActive:function(e){this.titleEl[e?"addCls":"removeCls"](this.headerOpenCls)},deprecated:{5:{methods:{bindRenderer:function(e){return function(t){return Ext.util.Format[e](t)}}}}}}),Ext.define("Ext.tree.Column",{extend:"Ext.grid.column.Column",alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",autoLock:!0,lockable:!1,draggable:!1,hideable:!1,iconCls:Ext.baseCSSPrefix+"tree-icon",checkboxCls:Ext.baseCSSPrefix+"tree-checkbox",elbowCls:Ext.baseCSSPrefix+"tree-elbow",expanderCls:Ext.baseCSSPrefix+"tree-expander",textCls:Ext.baseCSSPrefix+"tree-node-text",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-treecolumn",isTreeColumn:!0,cellTpl:['<tpl for="lines">','<img src="{parent.blankUrl}" class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>" role="presentation"/>',"</tpl>",'<img src="{blankUrl}" class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>" role="presentation"/>','<tpl if="checked !== null">','<input type="button" {ariaCellCheckboxAttr}',' class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"/>',"</tpl>",'<img src="{blankUrl}" role="presentation" class="{childCls} {baseIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else>parent</tpl> {iconCls}"','<tpl if="icon">style="background-image:url({icon})"</tpl>/>','<tpl if="href">','<a href="{href}" role="link" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>',"<tpl else>",'<span class="{textCls} {childCls}">{value}</span>',"</tpl>"],initComponent:function(){var e=this;e.setupRenderer(),e.origRenderer=e.renderer,e.origScope=e.scope||window,e.renderer=e.treeRenderer,e.scope=e,e.callParent()},treeRenderer:function(e,t,n,i,r,o,a){var s,l=this,d=n.get("cls");return d&&(t.tdCls+=" "+d),s=l.initTemplateRendererData(e,t,n,i,r,o,a),l.getTpl("cellTpl").apply(s)},initTemplateRendererData:function(e,t,n,i,r,o,a){for(var s,l=this,d=l.origRenderer,u=n.data,c=n.parentNode,h=a.rootVisible,f=[];c&&(h||c.data.depth>0);)s=c.data,f[h?s.depth:s.depth-1]=s.isLast?0:1,c=c.parentNode;return{record:n,baseIconCls:l.iconCls,iconCls:u.iconCls,icon:u.icon,checkboxCls:l.checkboxCls,checked:u.checked,elbowCls:l.elbowCls,expanderCls:l.expanderCls,textCls:l.textCls,leaf:u.leaf,expandable:n.isExpandable(),isLast:n.isLastVisible(),blankUrl:Ext.BLANK_IMAGE_URL,href:u.href,hrefTarget:u.hrefTarget,lines:f,metaData:t,childCls:l.getChildCls?l.getChildCls()+" ":"",value:d?d.apply(l.origScope,arguments):e}}}),Ext.define("Ext.tree.Panel",{extend:"Ext.panel.Table",alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],requires:["Ext.tree.View","Ext.selection.TreeModel","Ext.tree.Column","Ext.data.TreeStore"],viewType:"treeview",selType:"treemodel",treeCls:Ext.baseCSSPrefix+"tree-panel",rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:!0,arrowCls:Ext.baseCSSPrefix+"tree-arrows",linesCls:Ext.baseCSSPrefix+"tree-lines",noLinesCls:Ext.baseCSSPrefix+"tree-no-lines",autoWidthCls:Ext.baseCSSPrefix+"autowidth-table",constructor:function(e){e=e||{},void 0===e.animate&&(e.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx),this.enableAnimations=e.animate,delete e.animate,this.callParent([e])},initComponent:function(){var e,t=this,n=[t.treeCls],i=t.store;t.useArrows&&(n.push(t.arrowCls),t.lines=!1),t.lines?n.push(t.linesCls):t.useArrows||n.push(t.noLinesCls),Ext.isString(i)?i=t.store=Ext.StoreMgr.lookup(i):i&&i.isStore?t.root&&(i=t.store=Ext.data.StoreManager.lookup(i),i.setRoot(t.root),void 0!==t.folderSort&&(i.folderSort=t.folderSort,i.sort())):(i=Ext.apply({type:"tree",root:t.root,fields:t.fields,model:t.model,proxy:"memory",folderSort:t.folderSort},i),i=t.store=Ext.StoreMgr.lookup(i)),i.setRootVisible(t.rootVisible),i.getRoot()||i.setRoot({}),t.viewConfig=Ext.apply({rootVisible:t.rootVisible,animate:t.enableAnimations,singleExpand:t.singleExpand,node:i.getRoot(),hideHeaders:t.hideHeaders},t.viewConfig),t.columns||(void 0===t.initialConfig.hideHeaders&&(t.hideHeaders=!0),t.addCls(t.autoWidthCls),t.columns=[{xtype:"treecolumn",text:"Name",flex:1,dataIndex:t.displayField}]),t.cls&&n.push(t.cls),t.cls=n.join(" "),t.callParent(),t.selModel.treeStore=t.store,e=t.getView(),t.relayEvents(e,["checkchange","afteritemexpand","afteritemcollapse"])},bindStore:function(e,t){var n=this,i=e.getRoot(),r=n.getView();n.store=e,e.singleExpand=n.singleExpand,n.storeListeners=n.mon(e,{destroyable:!0,load:n.onStoreLoad,rootchange:n.onRootChange,clear:n.onClear,scope:n}),r.store!==e&&r.bindStore(e,!1),n.storeRelayers=n.relayEvents(e,["beforeload","load"]),n.rootRelayers=n.mon(i,{destroyable:!0,append:n.createRelayer("itemappend"),remove:n.createRelayer("itemremove"),move:n.createRelayer("itemmove",[0,4]),insert:n.createRelayer("iteminsert"),beforeappend:n.createRelayer("beforeitemappend"),beforeremove:n.createRelayer("beforeitemremove"),beforemove:n.createRelayer("beforeitemmove"),beforeinsert:n.createRelayer("beforeiteminsert"),expand:n.createRelayer("itemexpand",[0,1]),collapse:n.createRelayer("itemcollapse",[0,1]),beforeexpand:n.createRelayer("beforeitemexpand",[0,1]),beforecollapse:n.createRelayer("beforeitemcollapse",[0,1])}),(e.autoLoad!==!1&&!n.rootVisible||i.isExpanded())&&(i.data.expanded=!1,i.expand()),e.ownerTree=n,t||n.view.setRootNode(i,!0)},unbindStore:function(){var e=this,t=e.store;t&&(Ext.destroy(e.storeListeners,e.storeRelayers,e.rootRelayers),delete t.ownerTree,t.singleExpand=null)},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRoot.apply(this.store,arguments)},getRootNode:function(){return this.store.getRoot()},onRootChange:function(e){this.view.setRootNode(e)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(e){return e.get("checked")},expandNode:function(e,t,n,i){return this.getView().expand(e,t,n,i||this)},collapseNode:function(e,t,n,i){return this.getView().collapse(e,t,n,i||this)},expandAll:function(e,t){var n=this,i=n.getRootNode(),r=n.enableAnimations;i&&(r||Ext.suspendLayouts(),i.expand(!0,e,t||n),r||Ext.resumeLayouts(!0))},collapseAll:function(e,t){var n=this,i=n.getRootNode(),r=n.enableAnimations,o=n.getView();i&&(r||Ext.suspendLayouts(),t=t||n,o.rootVisible?i.collapse(!0,e,t):i.collapseChildren(!0,e,t),r||Ext.resumeLayouts(!0))},expandPath:function(e,t,n,i,r){var o,a,s=this,l=s.getRootNode(),d=1;return t=t||s.getRootNode().idProperty,n=n||"/",Ext.isEmpty(e)?void Ext.callback(i,r||s,[!1,null]):(o=e.split(n),l.get(t)!=o[1]?void Ext.callback(i,r||s,[!1,l]):(a=function(){if(++d===o.length)return void Ext.callback(i,r||s,[!0,l]);var e=l.findChild(t,o[d]);return e?(l=e,void l.expand(!1,a)):void Ext.callback(i,r||s,[!1,l])},void l.expand(!1,a)))},selectPath:function(e,t,n,i,r){var o,a,s,l=this;t=t||l.getRootNode().idProperty,n=n||"/",a=e.split(n),s=a.pop(),a.length>1?l.expandPath(a.join(n),t,n,function(e,n){var o=n;return e&&n&&(n=n.findChild(t,s))?(l.getSelectionModel().select(n),void Ext.callback(i,r||l,[!0,n])):void Ext.callback(i,r||l,[!1,o])},l):(o=l.getRootNode(),o.getId()===s?(l.getSelectionModel().select(o),Ext.callback(i,r||l,[!0,o])):Ext.callback(i,r||l,[!1,null]))}}),Ext.define("Ext.form.field.VTypes",function(){var e=/^[a-zA-Z_]+$/,t=/^[a-zA-Z0-9_]+$/,n=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,i=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:!0,alternateClassName:"Ext.form.VTypes",email:function(e){return n.test(e)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(e){return i.test(e)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(t){return e.test(t)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(e){return t.test(e)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}()),Ext.define("Ext.form.trigger.Trigger",{alias:"trigger.trigger",requires:["Ext.util.ClickRepeater"],mixins:["Ext.mixin.Factoryable"],factoryConfig:{defaultType:"trigger"},repeatClick:!1,focusFieldOnClick:!1,hidden:!1,hideOnReadOnly:void 0,weight:0,baseCls:Ext.baseCSSPrefix+"form-trigger",focusCls:Ext.baseCSSPrefix+"form-trigger-focus",overCls:Ext.baseCSSPrefix+"form-trigger-over",clickCls:Ext.baseCSSPrefix+"form-trigger-click",validIdRe:Ext.validIdRe,renderTpl:['<div id="{triggerId}" class="{baseCls} {baseCls}-{ui} {cls} {cls}-{ui} {extraCls} ','{childElCls}"<tpl if="triggerStyle"> style="{triggerStyle}"</tpl>>',"{[values.$trigger.renderBody(values)]}","</div>"],statics:{weightComparator:function(e,t){return e.weight-t.weight}},constructor:function(e){var t,n=this;Ext.apply(n,e),n.compat4Mode&&(t=n.cls,n.focusCls=[n.focusCls,t+"-focus"],n.overCls=[n.overCls,t+"-over"],n.clickCls=[n.clickCls,t+"-click"]),n.validIdRe.test(n.id)||Ext.Error.raise('Invalid trigger "id": "'+n.id+'"')},afterFieldRender:function(){this.initEvents()},destroy:function(){var e=this,t=e.clickRepeater;t&&t.destroy(),e.el&&e.el.destroy(),e.el=null,e.isDestroyed=!0},getBodyRenderData:Ext.emptyFn,getEl:function(){return this.el||null},getStateEl:function(){return this.el},hide:function(){var e=this,t=e.el;e.hidden=!0,t&&t.hide()},initEvents:function(){var e=this,t=e.isFieldEnabled,n=e.getStateEl(),i=e.el;n.addClsOnOver(e.overCls,t,e),n.addClsOnClick(e.clickCls,t,e),e.repeatClick?e.clickRepeater=new Ext.util.ClickRepeater(i,{preventDefault:!0,handler:e.onClick,listeners:{mouseup:e.onMouseUp,scope:e},scope:e}):e.field.mon(i,{click:e.onClick,mouseup:e.onMouseUp,scope:e})},isFieldEnabled:function(){return!this.field.disabled},isVisible:function(){var e=this,t=e.field,n=!1;return(e.hidden||!t||!e.rendered||e.isDestroyed)&&(n=!0),!n},onClick:function(){var e=this,t=arguments,n=e.clickRepeater?t[1]:t[0],i=e.handler,r=e.field;i&&!r.readOnly&&e.isFieldEnabled()&&Ext.callback(e.handler,e.scope,[r,e,n],0,r)},resolveListenerScope:function(e){return this.field.resolveListenerScope(e)},onMouseUp:function(){this.focusFieldOnClick&&this.field.inputEl.focus()},onFieldBlur:function(){this.getStateEl().removeCls(this.focusCls)},onFieldFocus:function(){this.getStateEl().addCls(this.focusCls)},onFieldRender:function(){var e=this,t=e.el=e.field.triggerWrap.selectNode("#"+e.domId,!1);t.setVisibilityMode(Ext.Element.DISPLAY),e.rendered=!0},renderBody:function(e){var t=this,n=t.bodyTpl;return Ext.apply(e,t.getBodyRenderData()),n?Ext.XTemplate.getTpl(t,"bodyTpl").apply(e):""},renderTrigger:function(e){var t=this,n=t.width,i=t.hidden?"display:none;":"";return n&&(i+="width:"+n),Ext.XTemplate.getTpl(t,"renderTpl").apply({$trigger:t,fieldData:e,ui:e.ui,childElCls:e.childElCls,triggerId:t.domId=t.field.id+"-trigger-"+t.id,cls:t.cls,triggerStyle:i,extraCls:t.extraCls,baseCls:t.baseCls})},setHidden:function(e){e!==this.hidden&&this[e?"hide":"show"]()},setVisible:function(e){this.setHidden(!e)},show:function(){var e=this,t=e.el;e.hidden=!1,t&&t.show()}}),Ext.define("Ext.form.field.Text",{extend:"Ext.form.field.Base",alias:"widget.textfield",requires:["Ext.form.field.VTypes","Ext.form.trigger.Trigger","Ext.util.TextMetrics"],alternateClassName:["Ext.form.TextField","Ext.form.Text"],config:{hideTrigger:!1,triggers:void 0},growMin:30,growMax:800,growAppend:"W",allowBlank:!0,validateBlank:!1,allowOnlyWhitespace:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",valueContainsPlaceholder:!1,ariaRole:"textbox",editable:!0,repeatTriggerClick:!1,triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerWrapFocusCls:Ext.baseCSSPrefix+"form-trigger-wrap-focus",triggerWrapInvalidCls:Ext.baseCSSPrefix+"form-trigger-wrap-invalid",fieldBodyCls:Ext.baseCSSPrefix+"form-text-field-body",inputWrapCls:Ext.baseCSSPrefix+"form-text-wrap",inputWrapFocusCls:Ext.baseCSSPrefix+"form-text-wrap-focus",inputWrapInvalidCls:Ext.baseCSSPrefix+"form-text-wrap-invalid",growCls:Ext.baseCSSPrefix+"form-text-grow",monitorTab:!0,mimicing:!1,childEls:["triggerWrap","inputWrap"],preSubTpl:['<div id="{cmpId}-triggerWrap" data-ref="triggerWrap" class="{triggerWrapCls} {triggerWrapCls}-{ui}">','<div id={cmpId}-inputWrap data-ref="inputWrap" class="{inputWrapCls} {inputWrapCls}-{ui}">'],postSubTpl:["</div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>',"</div>"],initComponent:function(){var e=this,t=e.emptyCls;e.allowOnlyWhitespace===!1&&(e.allowBlank=!1),e.size&&Ext.log.warn('Ext.form.field.Text "size" config was deprecated in Ext 5.0. Please specify a "width" or use a layout instead.'),e.size&&(e.defaultBodyWidth=6.5*e.size+20),e.onTrigger1Click||(e.onTrigger1Click=e.onTriggerClick),e.callParent(),e.setReadOnly(e.readOnly),e.fieldFocusCls=e.baseCls+"-focus",e.emptyUICls=t+" "+t+"-"+e.ui,e.addStateEvents("change"),e.setGrowSizePolicy()},setGrowSizePolicy:function(){this.grow&&(this.shrinkWrap|=1)},initEvents:function(){var e=this,t=e.inputEl;this.mon(Ext.GlobalEvents,"beforefocus",this.onOtherFocus,this),e.callParent(),(e.selectOnFocus||e.emptyText)&&e.mon(t,"mousedown",e.onMouseDown,e),(e.maskRe||e.vtype&&e.disableKeyFilter!==!0&&(e.maskRe=Ext.form.field.VTypes[e.vtype+"Mask"]))&&e.mon(t,"keypress",e.filterKeys,e),e.enableKeyEvents&&e.mon(t,{scope:e,keyup:e.onKeyUp,keydown:e.onKeyDown,keypress:e.onKeyPress})},isEqual:function(e,t){return this.isEqualAsString(e,t)},onChange:function(e,t){this.callParent(arguments),this.autoSize()},getSubTplData:function(){var e,t=this,n=t.getRawValue(),i=t.emptyText&&n.length<1,r=t.maxLength;return t.enforceMaxLength?r===Number.MAX_VALUE&&(r=void 0):r=void 0,i&&(Ext.supports.Placeholder?e=t.emptyText:(n=t.emptyText,t.valueContainsPlaceholder=!0)),Ext.apply(t.callParent(),{triggerWrapCls:t.triggerWrapCls,inputWrapCls:t.inputWrapCls,triggers:t.orderedTriggers,maxLength:r,readOnly:!t.editable||t.readOnly,placeholder:e,value:n,fieldCls:t.fieldCls+(i&&(e||n)?" "+t.emptyUICls:"")+(t.allowBlank?"":" "+t.requiredCls)})},onRender:function(){var e,t,n=this,i=n.getTriggers(),r=[];if(Ext.supports.FixedTableWidthBug&&(n.el._needsTableWidthFix=!0),n.callParent(),i){this.invokeTriggers("onFieldRender");for(e in i)r.push(i[e].el);t=n.triggerEl=n.triggerCell=new Ext.CompositeElement(r,!0)}n.inputCell=n.inputWrap},afterRender:function(){var e=this;e.autoSize(),e.callParent(),this.invokeTriggers("afterFieldRender")},onMouseDown:function(){var e=this;e.hasFocus||e.mon(e.inputEl,"mouseup",Ext.emptyFn,e,{single:!0,preventDefault:!0})},applyTriggers:function(e){var t,n,i,r,o,a=this,s=a.getHideTrigger(),l=a.readOnly,d=a.orderedTriggers=[],u=a.repeatTriggerClick;if(a.rendered&&Ext.Error.raise("Cannot set triggers after field has already been rendered."),(a.triggerCls&&!e||a.trigger1Cls)&&Ext.log.warn("Ext.form.field.Text: 'triggerCls' and 'trigger<n>Cls' are deprecated.  Use 'triggers' instead."),!e)for(e={},a.triggerCls&&!a.trigger1Cls&&(a.trigger1Cls=a.triggerCls),o=1;r=a["trigger"+o+"Cls"];o++)e["trigger"+o]={cls:r,extraCls:Ext.baseCSSPrefix+"trigger-index-"+o,handler:"onTrigger"+o+"Click",compat4Mode:!0,scope:a};for(t in e)e.hasOwnProperty(t)&&(n=e[t],n.field=a,n.id=t,(l&&n.hideOnReadOnly!==!1||s&&n.hidden!==!1)&&(n.hidden=!0),u&&n.repeatClick!==!1&&(n.repeatClick=!0),i=e[t]=Ext.form.trigger.Trigger.create(n),d.push(i));return Ext.Array.sort(d,Ext.form.trigger.Trigger.weightComparator),e},invokeTriggers:function(e,t){var n,i,r=this,o=r.getTriggers();if(o)for(n in o)o.hasOwnProperty(n)&&(i=o[n],i[e].apply(i,t||[]))},getTrigger:function(e){return this.getTriggers()[e]},updateHideTrigger:function(e){this.rendered&&this.invokeTriggers(e?"hide":"show")},setEditable:function(e){var t=this;t.editable=e,t.rendered&&t.setReadOnlyAttr(!e||t.readOnly)},setReadOnly:function(e){var t,n,i=this,r=i.getTriggers(),o=i.getHideTrigger();if(e=!!e,i.callParent([e]),i.rendered&&(i.setReadOnlyAttr(e||!i.editable),r))for(n in r)t=r[n],(t.hideOnReadOnly===!0||t.hideOnReadOnly!==!1&&!o)&&t[e?"hide":"show"].call(t)},setReadOnlyAttr:function(e){var t=this,n="readonly",i=t.inputEl.dom;e?i.setAttribute(n,n):i.removeAttribute(n)},processRawValue:function(e){var t,n=this,i=n.stripCharsRe;return i&&(t=e.replace(i,""),t!==e&&(n.setRawValue(t),e=t)),e},onDisable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="on")},onEnable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="")},onKeyDown:function(e){this.fireEvent("keydown",this,e)},onKeyUp:function(e){this.fireEvent("keyup",this,e)},onKeyPress:function(e){this.fireEvent("keypress",this,e)},reset:function(){this.callParent(),this.applyEmptyText()},applyEmptyText:function(){var e,t=this,n=t.emptyText;t.rendered&&n&&(e=t.getRawValue().length<1&&!t.hasFocus,Ext.supports.Placeholder?t.inputEl.dom.placeholder=n:e&&(t.setRawValue(n),t.valueContainsPlaceholder=!0),e&&t.inputEl.addCls(t.emptyUICls),t.autoSize())},afterFirstLayout:function(){if(this.callParent(),Ext.isIE&&this.disabled){var e=this.inputEl;e&&(e.dom.unselectable="on")}},toggleInvalidCls:function(e){var t=e?"addCls":"removeCls";this.callParent(),this.triggerWrap[t](this.triggerWrapInvalidCls),this.inputWrap[t](this.inputWrapInvalidCls)},beforeFocus:function(){var e,t=this,n=t.inputEl,i=t.emptyText;t.callParent(arguments),i&&!Ext.supports.Placeholder&&n.dom.value===t.emptyText&&t.valueContainsPlaceholder?(t.setRawValue(""),e=!0,n.removeCls(t.emptyUICls),t.valueContainsPlaceholder=!1):Ext.supports.Placeholder&&n.removeCls(t.emptyUICls),(t.selectOnFocus||e)&&(Ext.isWebKit?(t.inputFocusTask||(t.inputFocusTask=new Ext.util.DelayedTask(t.focusInput,t)),t.inputFocusTask.delay(1)):t.focusInput())},focusInput:function(){var e=this.inputEl;e&&(e=e.dom,e&&e.select())},onFocus:function(e){var t=this;t.otherFocused=!1,t.callParent(arguments),t.emptyText&&t.autoSize(),t.mimicing||(t.addCls(t.fieldFocusCls),t.triggerWrap.addCls(t.triggerWrapFocusCls),t.inputWrap.addCls(t.inputWrapFocusCls),t.invokeTriggers("onFieldFocus",[e]),t.mimicing=!0,t.mon(Ext.getDoc(),"mousedown",t.mimicBlur,t,{delay:10}),t.monitorTab&&t.on("specialkey",t.checkTab,t))},onBlur:function(){(this.blurring||this.otherFocused)&&(this.triggerBlur(),this.otherFocused=!1)},onOtherFocus:function(e){this.otherFocused=this.hasFocus&&!this.bodyEl.contains(e)},checkTab:function(e,t){this.ignoreMonitorTab||t.getKey()!==t.TAB||this.triggerBlur()},mimicBlur:function(e){this.isDestroyed||this.bodyEl.contains(e.target)||this.triggerBlur(e)},triggerBlur:function(e){var t=this;t.mimicing=!1,t.mun(Ext.getDoc(),"mousedown",t.mimicBlur,t),t.monitorTab&&t.inputEl&&t.un("specialkey",t.checkTab,t),Ext.form.field.Text.superclass.onBlur.call(t,e),t.removeCls(t.fieldFocusCls),t.triggerWrap.removeCls(t.triggerWrapFocusCls),t.inputWrap.removeCls(t.inputWrapFocusCls),t.invokeTriggers("onFieldBlur",[e])},postBlur:function(){var e=this.inputFocusTask;this.callParent(arguments),this.applyEmptyText(),e&&e.cancel()},filterKeys:function(e){if(!e.ctrlKey||e.altKey){var t=e.getKey(),n=String.fromCharCode(e.getCharCode());(Ext.isGecko||Ext.isOpera)&&(e.isNavKeyPress()||t===e.BACKSPACE||t===e.DELETE&&-1===e.button)||(Ext.isGecko||Ext.isOpera||!e.isSpecialKey()||n)&&(this.maskRe.test(n)||e.stopEvent())}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(e){this.callParent(arguments),e.hasOwnProperty("value")&&this.setValue(e.value)},getRawValue:function(){var e=this,t=e.callParent();return t===e.emptyText&&e.valueContainsPlaceholder&&(t=""),t},setValue:function(e){var t=this,n=t.inputEl;return n&&t.emptyText&&!Ext.isEmpty(e)&&(n.removeCls(t.emptyUICls),t.valueContainsPlaceholder=!1),t.callParent(arguments),t.applyEmptyText(),t},getErrors:function(e){var t,n,i,r=this,o=r.callParent(arguments),a=r.validator,s=r.vtype,l=Ext.form.field.VTypes,d=r.regex,u=Ext.String.format;if(e=e||r.processRawValue(r.getRawValue()),Ext.isFunction(a)&&(t=a.call(r,e),t!==!0&&o.push(t)),n=r.allowOnlyWhitespace?e:Ext.String.trim(e),n.length<1||e===r.emptyText&&r.valueContainsPlaceholder){if(r.allowBlank||o.push(r.blankText),!r.validateBlank)return o;i=!0}return!i&&e.length<r.minLength&&o.push(u(r.minLengthText,r.minLength)),e.length>r.maxLength&&o.push(u(r.maxLengthText,r.maxLength)),s&&(l[s](e,r)||o.push(r.vtypeText||l[s+"Text"])),d&&!d.test(e)&&o.push(r.regexText||r.invalidText),o},selectText:function(e,t){var n,i,r=this,o=r.getRawValue(),a=!0,s=r.inputEl.dom;o.length>0&&(e=e===n?0:e,t=t===n?o.length:t,s.setSelectionRange?s.setSelectionRange(e,t):s.createTextRange&&(i=s.createTextRange(),i.moveStart("character",e),i.moveEnd("character",t-o.length),i.select()),a=Ext.isGecko||Ext.isOpera),a&&r.focus()},autoSize:function(){var e,t,n,i,r,o,a=this;if(a.grow&&a.rendered){i=a.inputEl,e=a.getTriggers(),n=0,o=Ext.util.Format.htmlEncode(i.dom.value||(a.hasFocus?"":a.emptyText)||""),o+=a.growAppend;for(t in e)n+=e[t].el.getWidth();r=i.getTextWidth(o)+n+a.inputWrap.getBorderWidth("lr")+a.triggerWrap.getBorderWidth("lr"),r=Math.min(Math.max(r,a.growMin),a.growMax),a.bodyEl.setWidth(r),a.updateLayout(),a.fireEvent("autosize",a,r)}},onDestroy:function(){var e=this;e.invokeTriggers("destroy"),Ext.destroy(e.triggerRepeater),e.callParent(),e.inputFocusTask&&(e.inputFocusTask.cancel(),e.inputFocusTask=null)},onTriggerClick:Ext.emptyFn,privates:{getTdType:function(){return"textfield"}},deprecated:{5:{methods:{getTriggerWidth:function(){var e,t=this.getTriggers(),n=0;
if(t&&this.rendered)for(e in t)t.hasOwnProperty(e)&&(n+=t[e].el.getWidth());return n}}}}}),Ext.define("Ext.app.bindinspector.ComponentList",{alias:"widget.bindinspector-componentlist",extend:"Ext.tree.Panel",requires:["Ext.form.field.Text"],rootVisible:!1,title:"Component Tree",hideHeaders:!0,bindingsIconCls:Ext.baseCSSPrefix+"bindings-icon",vmIconCls:Ext.baseCSSPrefix+"vm-icon",missingDataCls:Ext.baseCSSPrefix+"bindinspector-missing-data",filterVisibleCls:Ext.baseCSSPrefix+"bindinspector-filter-visible",lastItemCls:Ext.baseCSSPrefix+"bindinspector-last-item",bindingsIcon:"☍",vmIcon:"☶",initComponent:function(){var e=this,t=[];e.viewConfig={toggleOnDblClick:!1,getRowClass:function(t,n,i,r){var o=[];return t.get("filtervisible")&&o.push(e.filterVisibleCls),t.get("sansData")&&o.push(e.missingDataCls),n===r.getCount()-1&&o.push(e.lastItemCls),o.join(" ")}},Ext.Array.forEach(e.components,function(n){t.push(e.buildNode(n))},e),e.store={model:e.Model,root:{expanded:!0,children:t}},e.columns=[{itemId:"srcVMIndicator",width:40,hidden:!0,renderer:e.srcVMIndicator,scope:e},{xtype:"treecolumn",dataIndex:"text",flex:1}],e.dockedItems=[{xtype:"toolbar",itemId:"queryFieldTb",dock:"top",items:[{xtype:"textfield",reference:"queryField",itemId:"queryField",emptyText:"simple search by reference / ID or use a component query...",flex:1,triggers:{clear:{cls:Ext.baseCSSPrefix+"form-clear-trigger",handler:function(e){var t=e.up("treepanel");t.store;e.reset(),t.clearComponentFilter(),e.focus()}}},listeners:{change:{fn:e.filterComponentTree,buffer:250,scope:e},afterrender:{fn:function(t){var n=t.up("toolbar").getEl();t.mon(n,"mouseenter",function(){var t,i,r,o=e.bindingsTip;o.stopAnimation(),o.update("<b>Simple Search</b><br>Enter the string matching the reference or ID of the target component<hr><b>Component Query</b><br>Enter a component query string to find any items matching the query"),o.setTarget(n),o.show(),i=o.getX(),r=o.getY(),t=o.getAlignToXY(n,"l-r"),o.animate({from:{opacity:0,x:t[0]+20,y:t[1]},to:{opacity:1,x:t[0]+10,y:t[1]}})})},scope:e}}}]},{xtype:"toolbar",cls:Ext.baseCSSPrefix+"vm-results-tb",itemId:"vmQueryResultsTb",hidden:!0,dock:"top",defaultButtonUI:"default",items:["->",{text:"Clear VM Filter",handler:function(){console.log(this.up("#vmQueryResultsTb"));var e=this.up("#vmQueryResultsTb"),t=e.up("bindinspector-componentlist"),n=t.down("#queryFieldTb"),i=n.down("#queryField");e.hide(),n.show(),t.clearVMSearchIndicators(),i.setValue(i.lastValue),t.filterComponentTree(null,i.lastValue)}}]}],e.callParent(),e.getView().on("itemdblclick",e.onItemDblclick,e),e.on("select",e.onItemSelect,e),e.bindingsTip=Ext.create("Ext.tip.ToolTip",{renderTo:document.body,anchor:"left",cls:Ext.baseCSSPrefix+"componentlist-tip",bodyPadding:12}),e.getView().on("itemmouseenter",e.showBindingsTip,e)},clearVMSearchIndicators:function(){var e=this.indicatedVM;Ext.suspendLayouts(),e&&Ext.Array.forEach(e,function(e){e.set("isSrcVM",!1)}),this.down("#srcVMIndicator").hide(),Ext.resumeLayouts(!0),this.indicatedVM=null},srcVMIndicator:function(e,t,n){var i,r,o,a,s=n.get("isSrcVM"),l="";s&&(i=this.up("bindinspector-container").down("bindinspector-viewmodeldetail"),r=i.getFirstTierRec(s),o=r.get("name"),r!==s&&(l+="Root data node: &nbsp;<span class='"+Ext.baseCSSPrefix+"binding-tip-descriptor'>"+o+"</span><hr>"),a=r===s?r:s,l+=a.get("name")+":",l+="<br>&nbsp;&nbsp;&nbsp;&nbsp;",l+="<span class='"+Ext.baseCSSPrefix+"binding-tip-value'>"+Ext.app.bindinspector.Util.valueRenderer(a.get("value"))+"</span>",t.tdCls=Ext.baseCSSPrefix+"bindindicator-vm-src",t.tdAttr='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="'+l+'"')},onDestroy:function(){this.bindingsTip.destroy(),this.callParent()},showBindingsTip:function(e,t,n,i,r){var o,a,s=this,l=s.bindingsTip,d=t.get("sansData");l.stopAnimation(),t.get("hasBindings")&&(o=s.ownerCt.env.getCmp(t.get("id")).bindings,a=[],Ext.Object.each(o,function(e,t,n){var i,r=e+': <span class="'+Ext.baseCSSPrefix+'binding-tip-descriptor">'+t.descriptor+"</span><br>",o=t.value;Ext.isString(o)?i=o:Ext.isObject(o)&&(o.isStore===!0?i="Store {"+o.entityName+"}":o.isModel===!0&&(i="Model {"+o.entityName+"}")),r+='<span class="'+Ext.baseCSSPrefix+'binding-tip-value">'+i+"</span>",a.push(r)}),a=a.join("<hr>"),d&&(a+="<hr>",Ext.Array.forEach(d,function(e){a+='<div class="'+Ext.baseCSSPrefix+'binding-missing-data">Missing data: '+e+"</div>"})),l.update(a),l.setTarget(n),l.show(),l.alignTo(n,"l-r",[20,0]),l.animate({from:{opacity:0},to:{opacity:1,x:l.getX()-10}}))},filterComponentTree:function(e,t){var n,i,r,o=this,e=o.down("#queryField"),a=t||e.getValue(),s=o.store,l=/[\s>\[\]=()^'"~$@*:+#,]/g,d=Ext.isArray(a),u=d?a:[],c=[];if(Ext.isString(a)&&(n=l.test(Ext.String.trim(a))),a.length>0){if(o.filteredComponents=[],n){try{c=Ext.ComponentQuery.query(a)}catch(h){}for(i=c.length,r=0;i>r;r++)u.push(c[r].id)}s.suspendEvents(),s.filter({filterFn:function(e){var t,i=e.childNodes,r=i&&i.length,s=!1;for(s=n||d?Ext.Array.contains(u,e.get("id")):e.get("text").indexOf(a)>-1,e.set("filtervisible",s),s&&o.filteredComponents.push(e),t=0;r>t;t++)i[t].get("visible")&&(s=!0);return s},id:"queryFilter"}),s.resumeEvents(),o.getView().refresh()}else o.clearComponentFilter()},clearComponentFilter:function(){for(var e=this,t=e.store,n=e.filteredComponents||[],i=n.length,r=0;i>r;r++)n[r].set("filtervisible",!1);t.clearFilter()},buildNode:function(e){var t,n,i,r,o,a,s,l,d=this,u=d.getRefOwner(),c=e.items,h=e.viewModel,f=e.bindings,g=!!e.bindings,p=[],m=[],x={};if(h&&(p.push('<span class="'+d.vmIconCls+'">'+d.vmIcon+"</span>"),u.buildVMDataMap(h)),g){p.push('<span class="'+d.bindingsIconCls+'">'+d.bindingsIcon+"</span>");for(s in f)t=f[s],t.descriptor&&Ext.isEmpty(t.value)&&m.push(x[s]=t.descriptor);l=e.bindData=Ext.app.bindinspector.Util.buildBindData(f)}if(0===m.length&&(m=void 0),a=e.reference?"<b>["+e.reference+"]</b> &bull; ":"",r={id:e.id,text:a+e.id+(p.length?" "+p.join(" "):""),hasViewModel:!!h,hasBindings:g,hasDeepBindings:g,reference:e.reference,sansData:m,bindData:l,children:[]},c)for(i=0,n=c.length;n>i;++i)o=d.buildNode(c[i]),r.hasDeepBindings=r.hasDeepBindings||o.hasDeepBindings,o.hasDeepBindings&&r.children.push(o);return r.children.length?(r.expanded=!0,r.leaf=!1):r.leaf=!0,r},onItemDblclick:function(e,t){this.fireEvent("componentdblclick",this,t)},onItemSelect:function(e,t){var n=this.getView().getNode(t);this.fireEvent("componentselect",this,t,n)}},function(){this.prototype.Model=Ext.define(null,{extend:"Ext.data.TreeModel",fields:["hasViewModel","hasBindings","reference","hasDeepBindings","reference","sansData","bindData","isSrcVM"]})}),Ext.define("Ext.resizer.Splitter",{extend:"Ext.Component",requires:["Ext.XTemplate"],uses:["Ext.resizer.SplitterTracker"],xtype:"splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" data-ref="collapseEl" role="presentation" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}">&#160;',"</div>","</tpl>"],isSplitter:!0,baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:!0,collapsible:null,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1e3,collapseTarget:"next",horizontal:!1,vertical:!1,size:5,tracker:null,ariaRole:"separator",getTrackerConfig:function(){return Ext.apply({xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this},this.tracker)},beforeRender:function(){var e=this,t=e.getCollapseTarget(),n=e.collapsible;e.callParent(),t.collapsed&&e.addCls(e.collapsedClsInternal),e.canResize||e.addCls(e.baseCls+"-noresize"),Ext.applyIf(e.renderData,{collapseDir:e.getCollapseDirection(),collapsible:null!==n?n:t.collapsible}),e.protoEl.unselectable()},onRender:function(){var e,t=this;t.callParent(arguments),t.performCollapse!==!1&&(t.renderData.collapsible&&t.mon(t.collapseEl,"click",t.toggleTargetCmp,t),t.collapseOnDblClick&&t.mon(t.el,"dblclick",t.toggleTargetCmp,t)),t.mon(t.getCollapseTarget(),{collapse:t.onTargetCollapse,expand:t.onTargetExpand,beforeexpand:t.onBeforeTargetExpand,beforecollapse:t.onBeforeTargetCollapse,scope:t}),t.canResize&&(t.tracker=Ext.create(t.getTrackerConfig()),t.relayEvents(t.tracker,["beforedragstart","dragstart","dragend"])),e=t.collapseEl,e&&(e.lastCollapseDirCls=t.collapseDirProps[t.collapseDirection].cls)},getCollapseDirection:function(){var e,t,n,i,r=this,o=r.collapseDirection;return o||(e=r.collapseTarget,e.isComponent&&(o=e.collapseDirection),o||(i=r.ownerCt.layout.type,e.isComponent?(n=r.ownerCt.items,t=Number(n.indexOf(e)===n.indexOf(r)-1)<<1|Number("hbox"===i)):t=Number("prev"===r.collapseTarget)<<1|Number("hbox"===i),o=["bottom","right","top","left"][t]),r.collapseDirection=o),r.setOrientation("top"===o||"bottom"===o?"horizontal":"vertical"),o},getCollapseTarget:function(){var e=this;return e.collapseTarget.isComponent?e.collapseTarget:"prev"===e.collapseTarget?e.previousSibling():e.nextSibling()},setCollapseEl:function(e){var t=this.collapseEl;t&&t.setDisplayed(e)},onBeforeTargetExpand:function(e){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(e){this.el.addCls([this.collapsedClsInternal,this.collapsedCls]),this.setCollapseEl("")},onTargetExpand:function(e){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls]),this.setCollapseEl("")},collapseDirProps:{top:{cls:Ext.baseCSSPrefix+"layout-split-top"},right:{cls:Ext.baseCSSPrefix+"layout-split-right"},bottom:{cls:Ext.baseCSSPrefix+"layout-split-bottom"},left:{cls:Ext.baseCSSPrefix+"layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var e,t=this,n=t.collapseEl,i=t.collapseDirProps[t.collapseDirection];n&&(e=n.lastCollapseDirCls,e&&n.removeCls(e),n.addCls(n.lastCollapseDirCls=i.cls))},applyOrientation:function(){var e=this,t=e.orientation,n=e.orientationProps[t],i=e.size,r=n.fixedAxis,o=n.stretchedAxis,a=e.baseCls+"-";e[t]=!0,e[n.opposite]=!1,e.hasOwnProperty(r)&&"100%"!==e[r]||(e[r]=i),e.hasOwnProperty(o)&&e[o]!==i||(e[o]="100%"),e.removeCls(a+n.opposite),e.addCls(a+t)},setOrientation:function(e){var t=this;t.orientation!==e&&(t.orientation=e,t.applyOrientation())},updateOrientation:function(){delete this.collapseDirection,this.getCollapseDirection(),this.applyCollapseDirection()},toggleTargetCmp:function(e,t){var n,i=this.getCollapseTarget(),r=i.placeholder;Ext.isFunction(i.expand)&&Ext.isFunction(i.collapse)&&(n=r&&!r.hidden?!0:!i.hidden,n&&(i.collapsed?i.expand():i.collapseDirection?i.collapse():i.collapse(this.renderData.collapseDir)))},setSize:function(){var e=this;e.callParent(arguments),Ext.isIE&&e.el&&e.el.repaint()},beforeDestroy:function(){Ext.destroy(this.tracker),this.callParent()}}),Ext.define("Ext.resizer.BorderSplitter",{extend:"Ext.resizer.Splitter",uses:["Ext.resizer.BorderSplitterTracker"],alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var e=this.callParent();return e.xclass="Ext.resizer.BorderSplitterTracker",e}}),Ext.define("Ext.layout.container.Border",{extend:"Ext.layout.container.Container",alias:"layout.border",alternateClassName:"Ext.layout.BorderLayout",requires:["Ext.resizer.BorderSplitter","Ext.fx.Anim","Ext.layout.container.border.Region"],targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",isBorderLayout:!0,padding:void 0,percentageRe:/(\d+)%/,horzPositionProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:!0,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:!1,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(e,t,n){var i,r,o,a,s,l,d,u,c,h,f,g=this,p=g.axisProps[n],m=!p.horizontal,x=p.sizeProp,E=0,v=e.childItems,y=v.length;for(r=0;y>r;++r)if(o=v[r],s=o.target,o.layoutPos={},s.region){if(o.region=l=s.region,o.isCenter=s.isCenter,o.isHorz=s.isHorz,o.isVert=s.isVert,o.weight=s.weight||g.regionWeights[l]||0,s.weight=o.weight,t[s.id]=o,s.isCenter){i=o,a=s.flex,e.centerRegion=i;continue}if(m!==o.isVert)continue;o.reverseWeighting=l==p.borderEnd,u=s[x],c=typeof u,s.collapsed||("string"==c&&(d=g.percentageRe.exec(u))?o.percentage=parseInt(d[1],10):s.flex&&(E+=o.flex=s.flex))}return i&&(h=i.target,(f=h.placeholderFor)?a||m!==f.collapsedVertical()||(a=0,i.collapseAxis=n):h.collapsed&&m===h.collapsedVertical()&&(a=0,i.collapseAxis=n)),null==a&&(a=1),E+=a,Ext.apply({before:m?"top":"left",totalFlex:E},p)},beginLayout:function(e){var t,n,i,r,o,a,s,l,d,u=this,c=u.getLayoutItems(),h=u.padding,f=typeof h,g=!1;for(e.heightModel.shrinkWrap&&Ext.Error.raise("Border layout does not currently support shrinkWrap height. Please specify a height on component: "+u.owner.id+", or use a container layout that sets the component's height."),e.widthModel.shrinkWrap&&Ext.Error.raise("Border layout does not currently support shrinkWrap width. Please specify a width on component: "+u.owner.id+", or use a container layout that sets the component's width."),h?("string"==f||"number"==f)&&(h=Ext.util.Format.parseBox(h)):(h=e.getEl("getTargetEl").getPaddingInfo(),g=!0),e.outerPad=h,e.padOnContainer=g,r=0,i=c.length;i>r;++r)n=c[r],a=u.getSplitterTarget(n),a&&(s=void 0,l=!!n.hidden,a.split?l!==a.hidden&&(s=!a.hidden):a.isCollapsingOrExpanding&&(s=!!a.collapsed),s?n.show():s===!1&&n.hide());for(u.callParent(arguments),c=e.childItems,i=c.length,o={},e.borderAxisHorz=u.beginAxis(e,o,"horz"),e.borderAxisVert=u.beginAxis(e,o,"vert"),r=0;i>r;++r)t=c[r],a=u.getSplitterTarget(t.target),a&&(d=o[a.id],d||(d=e.getEl(a.el,u),d.region=a.region),t.collapseTarget=a=d,t.weight=a.weight,t.reverseWeighting=a.reverseWeighting,a.splitter=t,t.isHorz=a.isHorz,t.isVert=a.isVert);u.sortWeightedItems(c,"reverseWeighting"),u.setupSplitterNeighbors(c)},calculate:function(e){var t,n,i,r,o,a,s=this,l=s.getContainerSize(e),d=e.childItems,u=d.length,c=e.borderAxisHorz,h=e.borderAxisVert,f=e.outerPad,g=e.padOnContainer;for(c.begin=f[s.padOnContainerProp],h.begin=f.top,o=c.end=c.flexSpace=l.width+(g?f[s.padOnContainerProp]:-f[s.padNotOnContainerProp]),a=h.end=h.flexSpace=l.height+(g?f.top:-f.bottom),t=0;u>t;++t)n=d[t],i=n.getMarginInfo(),(n.isHorz||n.isCenter)&&(c.addUnflexed(i.width),o-=i.width),(n.isVert||n.isCenter)&&(h.addUnflexed(i.height),a-=i.height),n.flex||n.percentage||(n.isHorz||n.isCenter&&"horz"===n.collapseAxis?(r=n.getProp("width"),c.addUnflexed(r),n.collapseTarget&&(o-=r)):(n.isVert||n.isCenter&&"vert"===n.collapseAxis)&&(r=n.getProp("height"),h.addUnflexed(r),n.collapseTarget&&(a-=r)));for(t=0;u>t;++t)n=d[t],i=n.getMarginInfo(),n.percentage&&(n.isHorz?(r=Math.ceil(o*n.percentage/100),r=n.setWidth(r),c.addUnflexed(r)):n.isVert&&(r=Math.ceil(a*n.percentage/100),r=n.setHeight(r),h.addUnflexed(r)));for(t=0;u>t;++t)n=d[t],n.isCenter||(s.calculateChildAxis(n,c),s.calculateChildAxis(n,h));s.finishAxis(e,h)+s.finishAxis(e,c)<2?s.done=!1:s.finishPositions(d)},calculateChildAxis:function(e,t){var n,i,r,o,a,s=e.collapseTarget,l="set"+t.sizePropCap,d=t.sizeProp,u=e.getMarginInfo()[d];s?n=s.region:(n=e.region,r=e.flex),i=n==t.borderBegin,i||n==t.borderEnd?(r?(a=Math.ceil(t.flexSpace*(r/t.totalFlex)),a=e[l](a)):a=e.percentage?e.peek(d):e.getProp(d),a+=u,i?(o=t.begin,t.begin+=a):t.end=o=t.end-a):(e[l](t.end-t.begin-u),o=t.begin),e.layoutPos[t.posProp]=o},eachItem:function(e,t,n){var i,r=this,o=r.getLayoutItems(),a=0;for(Ext.isFunction(e)&&(t=e,n=t),a;a<o.length&&(i=o[a],e&&i.region!==e||t.call(n,i)!==!1);a++);},finishAxis:function(e,t){var n=t.end-t.begin,i=e.centerRegion;return i&&(i["set"+t.sizePropCap](n-i.getMarginInfo()[t.sizeProp]),i.layoutPos[t.posProp]=t.begin),Ext.isNumber(n)?1:0},finishPositions:function(e){var t,n,i=e.length,r=this.horzPositionProp;for(t=0;i>t;++t)n=e[t],n.setProp("x",n.layoutPos.x+n.marginInfo[r]),n.setProp("y",n.layoutPos.y+n.marginInfo.top)},getLayoutItems:function(){for(var e,t,n=this.owner,i=n&&n.items&&n.items.items||[],r=i.length,o=[],a=0;r>a;a++)e=i[a],t=e.placeholderFor,!e.hidden&&(e.floated&&2!==e.isCollapsingOrExpanding||t&&2===t.isCollapsingOrExpanding)||o.push(e);return o},getPlaceholder:function(e){return e.getPlaceholder&&e.getPlaceholder()},getMaxWeight:function(e){return this.getMinMaxWeight(e)},getMinWeight:function(e){return this.getMinMaxWeight(e,!0)},getMinMaxWeight:function(e,t){var n=this,i=null;return n.eachItem(e,function(e){if(e.hasOwnProperty("weight")){if(null===i)return void(i=e.weight);(t&&e.weight<i||e.weight>i)&&(i=e.weight)}},this),i},getSplitterTarget:function(e){var t=e.collapseTarget;return t&&t.collapsed?t.placeholder||t:t},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},insertSplitter:function(e,t,n,i){var r=e.region,o=Ext.apply({xtype:"bordersplitter",collapseTarget:e,id:e.id+"-splitter",hidden:n,canResize:e.splitterResize!==!1,splitterFor:e,synthetic:!0},i),a=t+("south"===r||"east"===r?0:1);"mini"===e.collapseMode&&(o.collapsedCls=e.collapsedCls),e.splitter=this.owner.add(a,o)},getMoveAfterIndex:function(e){var t=this.callParent(arguments);return e.splitter&&t++,t},moveItemBefore:function(e,t){var n;this.owner;t&&t.splitter&&(n=t.region,("south"===n||"east"===n)&&(t=t.splitter)),this.callParent([e,t])},onAdd:function(e,t){var n,i,r,o,a=this,s=e.placeholderFor,l=e.region;a.callParent(arguments),l?(Ext.apply(e,a.regionFlags[l]),e.initBorderRegion&&e.initBorderRegion(),n="center"===l,n?(a.centerRegion&&Ext.Error.raise("Cannot have multiple center regions in a BorderLayout."),a.centerRegion=e):(i=e.split,r=!!e.hidden,"object"==typeof i&&(o=i,i=!0),!e.isHorz&&!e.isVert||!i&&"mini"!=e.collapseMode||a.insertSplitter(e,t,r||!i,o)),n||e.hasOwnProperty("collapseMode")||(e.collapseMode=a.panelCollapseMode),e.hasOwnProperty("animCollapse")||("placeholder"!==e.collapseMode?e.animCollapse=!1:e.animCollapse=a.panelCollapseAnimate)):s&&(Ext.apply(e,a.regionFlags[s.region]),e.region=s.region,e.weight=s.weight)},onDestroy:function(){this.centerRegion=null,this.callParent()},onRemove:function(e,t){var n,i=this,r=e.region,o=e.splitter,a=i.owner,s=a.destroying;r&&(e.isCenter&&(i.centerRegion=null),delete e.isCenter,delete e.isHorz,delete e.isVert,o&&!a.destroying&&a.doRemove(o,!0),delete e.splitter),i.callParent(arguments),s||t||!e.rendered||(n=e.getEl(),n&&(n.setStyle("top",""),n.setStyle(i.horzPositionProp,"")))},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"top"},south:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"bottom"},west:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"left"},east:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"right"}},setupSplitterNeighbors:function(e){var t,n,i,r,o,a,s,l,d,u={},c=e.length,h=this.touchedRegions;for(t=0;c>t;++t)if(a=e[t].target,s=a.region,a.isCenter)i=a;else if(s){for(d=h[s],n=0,r=d.length;r>n;++n)o=u[d[n]],o&&o.neighbors.push(a);l=a.placeholderFor?a.placeholderFor.splitter:a.splitter,l&&(l.neighbors=[]),u[s]=l}if(i)for(d=h.center,n=0,r=d.length;r>n;++n)o=u[d[n]],o&&o.neighbors.push(i)},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e){var t,n,i,r,o=this,a=this.sizePolicies;return e.isCenter?(r=e.placeholderFor,r?r.collapsedVertical()?a.vert:a.horz:e.collapsed?e.collapsedVertical()?a.vert:a.horz:a.flexAll):(t=e.collapseTarget,t?t.isVert?a.vert:a.horz:e.region?(e.isVert?(n=e.height,i=a.vert):(n=e.width,i=a.horz),e.flex||"string"==typeof n&&o.percentageRe.test(n)?a.flexAll:i):o.autoSizePolicy)}},function(){var e={addUnflexed:function(e){this.flexSpace=Math.max(this.flexSpace-e,0)}},t=this.prototype.axisProps;Ext.apply(t.horz,e),Ext.apply(t.vert,e)}),Ext.define("Ext.layout.container.Card",{extend:"Ext.layout.container.Fit",alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var e=this,t=e.getActiveItem();if(t){if(t.hasListeners.beforeactivate&&t.fireEvent("beforeactivate",t)===!1?t=e.activeItem=e.owner.activeItem=null:t.hasListeners.activate&&t.on({boxready:function(){t.fireEvent("activate",t)},single:!0}),!e.deferredRender)return e.callParent(arguments);if(t)return e.getItemsRenderTree([t])}},renderChildren:function(){var e=this,t=e.getActiveItem();e.deferredRender?t&&e.renderItems([t],e.getRenderTarget()):e.callParent()},isValidParent:function(e,t,n){var i=e.el?e.el.dom:Ext.getDom(e);return i&&i.parentNode===(t.dom||t)||!1},getActiveItem:function(){var e=this,t=e.parseActiveItem(e.activeItem||e.owner&&e.owner.activeItem);return t&&-1!=e.owner.items.indexOf(t)?e.activeItem=t:e.activeItem=null,e.activeItem},parseActiveItem:function(e){return e&&e.isComponent?e:"number"==typeof e||void 0===e?this.getLayoutItems()[e||0]:this.owner.getComponent(e)},configureItem:function(e){e===this.getActiveItem()?e.hidden=!1:e.hidden=!0,this.callParent(arguments)},onRemove:function(e){this.callParent(arguments),e===this.activeItem&&(this.activeItem=null)},getAnimation:function(e,t){var n=(e||{}).cardSwitchAnimation;return n===!1?!1:n||t.cardSwitchAnimation},getNext:function(){var e=arguments[0],t=this.getLayoutItems(),n=Ext.Array.indexOf(t,this.activeItem);return t[n+1]||(e?t[0]:!1)},next:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getNext(t),e)},getPrev:function(){var e=arguments[0],t=this.getLayoutItems(),n=Ext.Array.indexOf(t,this.activeItem);return t[n-1]||(e?t[t.length-1]:!1)},prev:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getPrev(t),e)},setActiveItem:function(e){var t,n=this,i=n.owner,r=n.activeItem,o=i.rendered;return e=n.parseActiveItem(e),t=i.items.indexOf(e),-1==t&&(t=i.items.items.length,Ext.suspendLayouts(),e=i.add(e),Ext.resumeLayouts()),e&&r!=e?e.fireEvent("beforeactivate",e,r)===!1?!1:r&&r.fireEvent("beforedeactivate",r,e)===!1?!1:(o?(Ext.suspendLayouts(),e.rendered||n.renderItem(e,n.getRenderTarget(),i.items.length),r&&(n.hideInactive&&(r.hide(),r.hiddenByLayout=!0),r.fireEvent("deactivate",r,e)),e.hidden&&e.show(),e.hidden||(n.activeItem=e),Ext.resumeLayouts(!0)):n.activeItem=e,e.fireEvent("activate",e,r),n.activeItem):!1}}),Ext.define("Ext.tab.Tab",{extend:"Ext.button.Button",alias:"widget.tab",requires:["Ext.util.KeyNav"],isTab:!0,baseCls:Ext.baseCSSPrefix+"tab",closeElOverCls:Ext.baseCSSPrefix+"tab-close-btn-over",closeElPressedCls:Ext.baseCSSPrefix+"tab-close-btn-pressed",config:{rotation:"default",tabPosition:"top"},closable:!0,closeText:"Close Tab",active:!1,childEls:["closeEl"],scale:!1,ariaRole:"tab",_btnWrapCls:Ext.baseCSSPrefix+"tab-wrap",_btnCls:Ext.baseCSSPrefix+"tab-button",_baseIconCls:Ext.baseCSSPrefix+"tab-icon-el",_glyphCls:Ext.baseCSSPrefix+"tab-glyph",_innerCls:Ext.baseCSSPrefix+"tab-inner",_textCls:Ext.baseCSSPrefix+"tab-text",_noTextCls:Ext.baseCSSPrefix+"tab-no-text",_hasIconCls:Ext.baseCSSPrefix+"tab-icon",_activeCls:Ext.baseCSSPrefix+"tab-active",_closableCls:Ext.baseCSSPrefix+"tab-closable",overCls:Ext.baseCSSPrefix+"tab-over",_pressedCls:Ext.baseCSSPrefix+"tab-pressed",_disabledCls:Ext.baseCSSPrefix+"tab-disabled",_rotateClasses:{1:Ext.baseCSSPrefix+"tab-rotate-right",2:Ext.baseCSSPrefix+"tab-rotate-left"},_positions:{top:{"default":"top",0:"top",1:"left",2:"right"},right:{"default":"top",0:"right",1:"top",2:"bottom"},bottom:{"default":"bottom",0:"bottom",1:"right",2:"left"},left:{"default":"top",0:"left",1:"bottom",2:"top"}},_defaultRotations:{top:0,right:1,bottom:0,left:2},initComponent:function(){var e=this;e.card&&e.setCard(e.card),e.callParent(arguments)},getActualRotation:function(){var e=this.getRotation();return"default"!==e?e:this._defaultRotations[this.getTabPosition()]},updateRotation:function(){this.syncRotationAndPosition()},updateTabPosition:function(){this.syncRotationAndPosition()},syncRotationAndPosition:function(){var e=this,t=(e._positions,e._rotateClasses),n=e.getTabPosition(),i=e.getActualRotation(),r=e._rotateCls,o=e._rotateCls=t[i],a=e._positionCls,s=e._positionCls=e._positions[n][i];r!==o&&(r&&e.removeCls(r),o&&e.addCls(o)),a!==s&&(a&&e.removeClsWithUI(a),s&&e.addClsWithUI(s),e.rendered&&e.updateFrame()),e.rendered&&e.setElOrientation()},onAdded:function(e,t,n){this.callParent([e,t,n]),this.syncRotationAndPosition()},getTemplateArgs:function(){var e=this,t=e.callParent();return t.closable=e.closable,t.closeText=e.closeText,t},beforeRender:function(){var e=this,t=e.up("tabbar"),n=e.up("tabpanel");e.callParent(),e.active&&e.addCls(e._activeCls),e.syncClosableCls(),e.minWidth||(e.minWidth=t?t.minTabWidth:e.minWidth,!e.minWidth&&n&&(e.minWidth=n.minTabWidth),e.minWidth&&e.iconCls&&(e.minWidth+=25)),e.maxWidth||(e.maxWidth=t?t.maxTabWidth:e.maxWidth,!e.maxWidth&&n&&(e.maxWidth=n.maxTabWidth))},onRender:function(){var e=this;e.setElOrientation(),e.callParent(arguments),e.closable&&(e.closeEl.addClsOnOver(e.closeElOverCls),e.closeEl.addClsOnClick(e.closeElPressedCls)),e.initKeyNav()},initKeyNav:function(){var e=this;e.keyNav=new Ext.util.KeyNav(e.el,{enter:e.onEnterKey,del:e.onDeleteKey,scope:e})},setElOrientation:function(){var e=this,t=e.getActualRotation(),n=e.el;t?n.setVertical(1===t?90:270):n.setHorizontal()},enable:function(e){var t=this;return t.callParent(arguments),t.removeCls(t._disabledCls),t},disable:function(e){var t=this;return t.callParent(arguments),t.addCls(t._disabledCls),t},onDestroy:function(){var e=this;Ext.destroy(e.keyNav),delete e.keyNav,e.callParent(arguments)},setClosable:function(e){var t=this;e=!arguments.length||!!e,t.closable!=e&&(t.closable=e,t.card&&(t.card.closable=e),t.syncClosableCls(),t.rendered&&(t.syncClosableElements(),t.updateLayout()))},syncClosableElements:function(){var e=this,t=e.closeEl;e.closable?(t||(t=e.closeEl=e.btnWrap.insertSibling({tag:"a",role:"presentation",cls:e.baseCls+"-close-btn",href:"#",title:e.closeText},"after")),t.addClsOnOver(e.closeElOverCls),t.addClsOnClick(e.closeElPressedCls)):t&&(t.destroy(),delete e.closeEl)},syncClosableCls:function(){var e=this,t=e._closableCls;e.closable?e.addCls(t):e.removeCls(t)},setCard:function(e){var t=this;t.card=e,e.iconAlign&&t.setIconAlign(e.iconAlign),e.textAlign&&t.setTextAlign(e.textAlign),t.setText(t.title||e.title),t.setIconCls(t.iconCls||e.iconCls),t.setIcon(t.icon||e.icon),t.setGlyph(t.glyph||e.glyph)},onCloseClick:function(){var e=this;if(e.fireEvent("beforeclose",e)!==!1)if(e.tabBar){if(e.tabBar.closeTab(e)===!1)return}else e.fireClose()},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(e){var t=this;t.tabBar&&t.tabBar.onClick(e,t.el)},onDeleteKey:function(e){this.closable&&this.onCloseClick()},afterClick:function(e){e||this.focus()},activate:function(e){var t=this;t.active=!0,t.addCls(t._activeCls),e!==!0&&t.fireEvent("activate",t)},deactivate:function(e){var t=this;t.active=!1,t.removeCls(t._activeCls),e!==!0&&t.fireEvent("deactivate",t)},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this._positionCls},wrapPrimaryEl:function(e){this.el=new Ext.dom.Element(e)}}}),Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:"Ext.layout.component.Auto",type:"body",beginLayout:function(e){this.callParent(arguments),e.bodyContext=e.getEl("body")},beginLayoutCycle:function(e,t){var n=this,i=n.lastWidthModel,r=n.lastHeightModel,o=n.owner.body;n.callParent(arguments),i&&i.fixed&&e.widthModel.shrinkWrap&&o.setWidth(null),r&&r.fixed&&e.heightModel.shrinkWrap&&o.setHeight(null)},calculateOwnerHeightFromContentHeight:function(e,t){var n=this.callParent(arguments);return e.targetContext!=e&&(n+=e.getPaddingInfo().height),n},calculateOwnerWidthFromContentWidth:function(e,t){var n=this.callParent(arguments);return e.targetContext!=e&&(n+=e.getPaddingInfo().width),n},measureContentWidth:function(e){return e.bodyContext.setWidth(e.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(e){return e.bodyContext.setHeight(e.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(e,t){var n=t-e.getFrameInfo().height,i=e.targetContext;return i!=e&&(n-=e.getPaddingInfo().height),e.bodyContext.setHeight(n,!e.heightModel.natural)},publishInnerWidth:function(e,t){var n=t-e.getFrameInfo().width,i=e.targetContext;i!=e&&(n-=e.getPaddingInfo().width),e.bodyContext.setWidth(n,!e.widthModel.natural)}}),Ext.define("Ext.tab.Bar",{extend:"Ext.panel.Bar",xtype:"tabbar",baseCls:Ext.baseCSSPrefix+"tab-bar",requires:["Ext.tab.Tab","Ext.util.Point","Ext.layout.component.Body"],componentLayout:"body",isTabBar:!0,config:{tabRotation:"default",tabStretchMax:!0},defaultType:"tab",plain:!1,ariaRole:"tablist",childEls:["body","strip"],_stripCls:Ext.baseCSSPrefix+"tab-bar-strip",_baseBodyCls:Ext.baseCSSPrefix+"tab-bar-body",renderTpl:'<div id="{id}-body" data-ref="body" role="presentation" class="{baseBodyCls} {baseBodyCls}-{ui} {bodyCls} {bodyTargetCls}{childElCls}"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>{%this.renderContainer(out,values)%}</div><div id="{id}-strip" data-ref="strip" role="presentation" class="{stripCls} {stripCls}-{ui}{childElCls}"></div>',_reverseDockNames:{left:"right",right:"left"},_layoutAlign:{top:"end",right:"begin",bottom:"begin",left:"end"},initComponent:function(){var e=this,t=e.initialConfig.layout,n=t&&t.align,i=t&&t.overflowHandler;e.plain&&e.addCls(e.baseCls+"-plain"),e.callParent(),e.setLayout({align:n||(e.getTabStretchMax()?"stretchmax":e._layoutAlign[e.dock]),overflowHandler:i||"scroller"}),e.on({click:e.onClick,element:"el",scope:e})},initRenderData:function(){var e=this;return Ext.apply(this.callParent(),{bodyCls:e.bodyCls,baseBodyCls:e._baseBodyCls,bodyTargetCls:e.bodyTargetCls,stripCls:e._stripCls,dock:e.dock})},setDock:function(e){var t,n,i=this,r=i.items,o=i.ownerCt;if(r=r&&r.items)for(t=0,n=r.length;n>t;t++)r[t].setTabPosition(e);i.rendered&&(i.resetItemMargins(),o&&o.isHeader&&o.resetItemMargins(),i.needsScroll=!0),i.callParent([e])},updateTabRotation:function(e){var t,n,i=this,r=i.items;if(r=r&&r.items)for(t=0,n=r.length;n>t;t++)r[t].setRotation(e);i.rendered&&(i.resetItemMargins(),i.needsScroll=!0,i.updateLayout())},onRender:function(){var e=this;e.callParent(),Ext.isIE8&&e.vertical&&e.el.on({mousemove:e.onMouseMove,scope:e})},afterLayout:function(){this.adjustTabPositions(),this.callParent(arguments)},adjustTabPositions:function(){var e,t,n,i,r=this.items.items,o=r.length;if(!Ext.isIE8)for(;o--;)e=r[o],n=e.el,t=e.lastBox,i=e.getActualRotation(),1===i&&e.isVisible()?n.setStyle("left",t.x+t.width+"px"):2===i&&e.isVisible()&&n.setStyle("left",t.x-t.height+"px")},onAdded:function(e,t,n){e.isHeader&&this.addCls(e.baseCls+"-"+e.ui+"-tab-bar"),this.callParent([e,t,n])},onRemove:function(e){var t=this;e===t.previousTab&&(t.previousTab=null),t.callParent(arguments)},onRemoved:function(e){var t=this.ownerCt;t.isHeader&&this.removeCls(t.baseCls+"-"+t.ui+"-tab-bar"),this.callParent([e])},afterComponentLayout:function(e){var t=this,n=t.needsScroll,i=t.layout.overflowHandler;t.callParent(arguments),i&&n&&t.tooNarrow&&i.scrollToItem&&i.scrollToItem(t.activeTab),delete t.needsScroll},onMouseMove:function(e){var t,n,i=this,r=i._overTab;e.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||(t=i.getTabInfoFromPoint(e.getXY()),n=t.tab,n!==r&&(r&&r.rendered&&(r.onMouseLeave(e),i._overTab=null),
n?(n.onMouseEnter(e),i._overTab=n,n.disabled||i.el.setStyle("cursor","pointer")):i.el.setStyle("cursor","default")))},onMouseLeave:function(e){var t=this._overTab;t&&t.rendered&&t.onMouseLeave(e)},getTabInfoFromPoint:function(e){for(var t,n,i,r,o,a,s,l,d,u,c,h,f,g,p,m,x,E=this,v=E.items.items,y=v.length,b=E.layout.innerCt,C=b.getXY(),S=new Ext.util.Point(e[0],e[1]),w=0;y>w;w++)if(x=v[w],t=x.lastBox,t&&(u=C[0]+t.x,c=C[1]-b.dom.scrollTop+t.y,h=t.width,f=t.height,n=new Ext.util.Region(c,u+h,c+f,u),n.contains(S))){i=x.closeEl,i&&(void 0===E._isTabReversed&&(E._isTabReversed=p=-1!==x.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")),m=p?this._reverseDockNames[E.dock]:E.dock,l=i.getWidth(),d=i.getHeight(),o=E.getCloseXY(i,u,c,h,f,l,d,m),a=o[0],s=o[1],g=new Ext.util.Region(s,a+l,s+d,a),r=g.contains(S));break}return{tab:x,close:r}},getCloseXY:function(e,t,n,i,r,o,a,s){var l,d,u=e.getXY();return"right"===s?(l=t+i-(u[1]-n+a),d=n+(u[0]-t)):(l=t+(u[1]-n),d=n+t+r-u[0]-o),[l,d]},closeTab:function(e){var t,n=this,i=e.card,r=n.tabPanel;if(i&&i.fireEvent("beforeclose",i)===!1)return!1;if(t=n.findNextActivatable(e),Ext.suspendLayouts(),r&&i){if(delete e.ownerCt,i.fireEvent("close",i),r.remove(i),r.getComponent(i))return e.ownerCt=n,Ext.resumeLayouts(!0),!1;e.fireClose(),n.remove(e)}t&&(r?r.setActiveTab(t.card):n.setActiveTab(t),t.focus()),Ext.resumeLayouts(!0)},findNextActivatable:function(e){var t=this;return e.active&&t.items.getCount()>1?t.previousTab&&t.previousTab!==e&&!t.previousTab.disabled?t.previousTab:e.next("tab[disabled=false]")||e.prev("tab[disabled=false]"):void 0},setActiveTab:function(e,t){var n=this;e.disabled||e===n.activeTab||(n.activeTab&&(n.activeTab.isDestroyed?n.previousTab=null:(n.previousTab=n.activeTab,n.activeTab.deactivate())),e.activate(),n.activeTab=e,n.needsScroll=!0,t||(n.fireEvent("change",n,e,e.card),n.updateLayout()))},privates:{applyTargetCls:function(e){this.bodyTargetCls=e},getTargetEl:function(){return this.body||this.frameBody||this.el},onClick:function(e,t){var n,i,r,o,a=this,s=a.tabPanel;e.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||(Ext.isIE8&&a.vertical?(o=a.getTabInfoFromPoint(e.getXY()),i=o.tab,r=o.close):(n=e.getTarget("."+Ext.tab.Tab.prototype.baseCls),i=n&&Ext.getCmp(n.id),r=i&&i.closeEl&&t===i.closeEl.dom),r&&e.preventDefault(),i&&i.isDisabled&&!i.isDisabled()&&(i.closable&&r?i.onCloseClick():s?s.setActiveTab(i.card):a.setActiveTab(i),i.afterClick(r)))}}}),Ext.define("Ext.tab.Panel",{extend:"Ext.panel.Panel",alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],requires:["Ext.layout.container.Card","Ext.tab.Bar"],config:{tabBar:void 0,tabPosition:"top",tabRotation:"default",tabStretchMax:!0},removePanelHeader:!0,plain:!1,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:void 0,maxTabWidth:void 0,deferredRender:!0,_defaultTabRotation:{top:0,right:1,bottom:0,left:2},initComponent:function(){var e,t=this,n=t.activeTab||(t.activeTab=0),i=(t.getTabPosition(),t.getTabRotation(),t.dockedItems),r=t.header,o=t.tabBarHeaderPosition,a=t.getTabBar();t.layout=new Ext.layout.container.Card(Ext.apply({owner:t,deferredRender:t.deferredRender,itemCls:t.itemCls,activeItem:n},t.layout)),null!=o?(r||(r=t.header={}),e=r.items=r.items?r.items.slice():[],r.itemPosition=o,e.push(a),r.hasTabBar=!0):(i=[].concat(t.dockedItems||[]),i.push(a),t.dockedItems=i),t.callParent(arguments),n=t.activeTab=t.getComponent(n),n&&a.setActiveTab(n.tab,!0)},onRender:function(){var e,t=this.items.items,n=t.length;for(this.callParent(arguments),e=0;n>e;++e)t[e].getBind()},setActiveTab:function(e){var t,n=this;return e=n.getComponent(e),e?(t=n.getActiveTab(),t===e||n.fireEvent("beforetabchange",n,e,t)===!1?!1:(e.isComponent||(Ext.suspendLayouts(),e=n.add(e),Ext.resumeLayouts()),n.activeTab=e,Ext.suspendLayouts(),n.layout.setActiveItem(e),e=n.activeTab=n.layout.getActiveItem(),e&&e!==t?(n.tabBar.setActiveTab(e.tab),Ext.resumeLayouts(!0),t!==e&&n.fireEvent("tabchange",n,e,t)):Ext.resumeLayouts(!0),e)):void 0},setActiveItem:function(e){return this.setActiveTab(e)},getActiveTab:function(){var e=this,t=e.getComponent(e.activeTab);return t&&-1!=e.items.indexOf(t)?e.activeTab=t:e.activeTab=null,e.activeTab},applyTabBar:function(e){var t=this,n=null!=t.tabBarHeaderPosition?t.getHeaderPosition():t.getTabPosition();return new Ext.tab.Bar(Ext.apply({ui:t.ui,dock:n,tabRotation:t.getTabRotation(),vertical:"left"==n||"right"==n,plain:t.plain,tabStretchMax:t.getTabStretchMax(),tabPanel:t},e))},updateHeaderPosition:function(e,t){var n=this.getTabBar();n&&null!=this.tabBarHeaderPosition&&n.setDock(e),this.callParent([e,t])},updateTabPosition:function(e){var t=this.getTabBar();t&&null==this.tabBarHeaderPosition&&t.setDock(e)},updateTabRotation:function(e){var t=this.getTabBar();t&&t.setTabRotation(e)},onAdd:function(e,t){var n=this,i=Ext.apply({},e.tabConfig),r=n.getTabBar(),o={xtype:"tab",ui:r.ui,card:e,disabled:e.disabled,closable:e.closable,hidden:e.hidden&&!e.hiddenByLayout,tooltip:e.tooltip,tabBar:r,tabPosition:r.dock,rotation:r.getTabRotation()};void 0!==e.closeText&&(o.closeText=e.closeText),i=Ext.applyIf(i,o),e.tab=n.tabBar.insert(t,i),e.on({scope:n,enable:n.onItemEnable,disable:n.onItemDisable,beforeshow:n.onItemBeforeShow,iconchange:n.onItemIconChange,iconclschange:n.onItemIconClsChange,titlechange:n.onItemTitleChange}),e.isPanel&&(n.removePanelHeader&&(e.rendered?e.header&&e.header.hide():e.header=!1),e.isPanel&&n.border&&e.setBorder(!1)),n.rendered&&e.getBind()},onItemEnable:function(e){e.tab.enable()},onItemDisable:function(e){e.tab.disable()},onItemBeforeShow:function(e){return e!==this.activeTab?(this.setActiveTab(e),!1):void 0},onItemIconChange:function(e,t){e.tab.setIcon(t)},onItemIconClsChange:function(e,t){e.tab.setIconCls(t)},onItemTitleChange:function(e,t){e.tab.setText(t)},onRemove:function(e,t){var n=this;e.un({scope:n,enable:n.onItemEnable,disable:n.onItemDisable,beforeshow:n.onItemBeforeShow}),n.destroying||e.tab.ownerCt!==n.tabBar||n.tabBar.remove(e.tab)},privates:{doRemove:function(e,t){var n,i=this;i.removingAll||i.destroying||1==i.items.getCount()?i.activeTab=null:-1!==(n=i.tabBar.items.indexOf(i.tabBar.findNextActivatable(e.tab)))&&i.setActiveTab(n),this.callParent(arguments),delete e.tab.card,delete e.tab}}}),Ext.define("Ext.app.bindinspector.Environment",{requires:["Ext.util.Collection"],getCmp:function(e){return this.components.get(e)},getVM:function(e){return this.viewModels.get(e)},getInheritedVM:function(e){var t=e.viewModel,n=e.parent;return t?t:n?this.getInheritedVM(this.getCmp(n)):null},captureSnapshot:function(){var e,t,n=Ext.ComponentManager.getAll(),i=n.length,r=[];for(this.models={},e=0;i>e;++e)t=n[e],t.afterRender&&this.isRootComponent(t)&&r.push(this.buildComponent(t));return{isBindData:!0,version:Ext.getVersion().version,models:this.models,components:r}},serializeModel:function(e){var t=this.models,n=e.entityName;t[n]||(t[n]=Ext.Array.map(e.getFields(),function(e){return{name:e.getName(),type:e.getType()}}))},isRootComponent:function(e){var t=e.getRefOwner();return t||e.isBindInspector||e===Ext.MessageBox||e.is("quicktip")?!1:!0},buildComponent:function(e){var t,n,i,r,o=e.getRefItems?e.getRefItems():null,a=e.getViewModel(),s=e.getBind(),l=e.id;if(s&&(s=this.buildBind(s)),i={id:l,xtype:e.getXType(),publishes:e.getPublishes(),viewModel:a?this.buildViewModel(a,e):null,bindings:s||null,reference:e.reference||null,items:[]},o)for(n=0,t=o.length;t>n;++n)o[n].afterRender&&(r=this.buildComponent(o[n]),r.parent=l,i.items.push(r));return i},buildBind:function(e){var t,n,i,r,o,a={};for(t in e)n=e[t],o=n.stub,i={id:n.id,value:this.serializeValue(n.getRawValue()),stub:o?{id:o.id,name:o.name}:null},n.isTemplateBinding?(i.isTemplateBinding=!0,i.tokens=[],Ext.Array.forEach(n.tokens,function(e){i.tokens.push(e.split("."))},this),i.descriptor=n.tpl.text):n.isMultiBinding?i.isMultiBinding=!0:o&&(r=this.buildStubName(o),i.tokens=r.split("."),i.descriptor="{"+r+"}"),a[t]=i;return a},buildStubName:function(e){var t=e.parent,n="";return t&&!t.isRootStub&&(n=this.buildStubName(t)+"."),n+e.name},buildViewModel:function(e,t){var n=e.getParent();return{id:e.getId(),view:t.id,parent:n?n.getId():null,data:this.serializeValue(e.getData(),!0),rootStub:this.buildStub(e.getRoot())}},buildStub:function(e,t){var n,i,r,o,a={},s=e.children,l=e.isLinkStub,d={};if(e.isRootStub?(a.name="",a.isLoading=!1,a.bindCount=a.cumulativeBindCount=0):(a.name=e.name,a.parent=e.parent?e.parent.id:null,a.isLoading=e.isLoading(),a.bindCount=e.bindings&&e.bindings.length||0,a.cumulativeBindCount=a.bindCount,a.value=this.serializeValue(e.getRawValue()),l&&(o=e.target===e.owner,a.linkInfo={sameTarget:o,descriptor:e.linkDescriptor,value:this.serializeValue(e.binding.getValue())},t=!0)),s)for(n in s)i=!0,r=this.buildStub(s[n],t),d[n]=r,a.cumulativeBindCount+=r.cumulativeBindCount;return i&&(a.children=d),a},createModel:function(e,t){var n=Ext.app.bindinspector.noconflict[e];return new n(t)},unpackSnapshot:function(e){this.components=new Ext.util.Collection,this.viewModels=new Ext.util.Collection,Ext.Object.each(e.models,function(e,t){Ext.define("Ext.app.bindinspector.noconflict."+e,{extend:"Ext.app.bindinspector.noconflict.BaseModel",fields:t})}),Ext.Array.forEach(e.components,function(e){this.unpackComponent(e,this.components,this.viewModels)},this),this.rootComponents=e.components},unpackComponent:function(e,t,n){var i,r,o,a,s,l,d,u=e.viewModel,c=e.items,h=e.bindings;if(t.add(e),h)for(l in h)d=h[l],d.value=this.deserializeValue(d.value);if(u&&(n.add(u),o=this.getVM(u.parent),o&&(a=Ext.Object.chain(o.data)),s=this.deserializeValue(u.data),a&&(s=Ext.apply(a,s)),u.data=s,this.deserializeStub(u.rootStub)),c)for(r=0,i=c.length;i>r;++r)this.unpackComponent(c[r],t,n)},serializeValue:function(e,t){var n,i,r,o,a,s={};if(e&&e.constructor===Object){n="object",s.value={};for(i in e)(!t||e.hasOwnProperty(i))&&(o=this.serializeValue(e[i],t),r={type:o.type,value:o.value},o.entityName&&(r.entityName=o.entityName),s.value[i]=r)}else e&&e.isModel?(n="model",s.entityName=e.entityName,this.serializeModel(e.self),s.value=this.serializeValue(e.data)):e&&e.isStore?(n="store",a=e.getModel(),s.entityName=a.entityName,a.entityName&&this.serializeModel(a)):Ext.isDate(e)?(n="date",s.value=Ext.Date.format(e,"c")):Ext.isArray(e)?(n="array",s.value=[],Ext.Array.forEach(e,function(e){s.value.push(this.serializeValue(e))},this)):(n=Ext.typeOf(e),s.value=e);return s.type=n,s},deserializeValue:function(e){var t,n,i=e.type,r=e.value;if("null"===i)t=null;else if("undefined"===i)t=void 0;else if("string"===i||"boolean"===i||"number"===i)t=r;else if("date"===i)t=Ext.Date.parse(r,"c");else if("object"===i){t={};for(n in r)t[n]=this.deserializeValue(r[n])}else"model"===i?t=this.createModel(e.entityName,this.deserializeValue(r)):"store"===i?t={isStore:!0,entityName:e.entityName}:"array"===i&&(t=[],Ext.Array.forEach(r,function(e){t.push(this.deserializeValue(e))},this));return t},deserializeStub:function(e){var t,n=e.children,i=e.linkInfo;if(e.value&&(e.value=this.deserializeValue(e.value)),i&&(i.value=this.deserializeValue(i.value)),n)for(t in n)this.deserializeStub(n[t])}}),Ext.define("Ext.app.bindinspector.ViewModelDetail",{extend:"Ext.tree.Panel",alias:"widget.bindinspector-viewmodeldetail",rootVisible:!1,cls:Ext.baseCSSPrefix+"bindinspector-viewmodeldetail",inheritedCls:Ext.baseCSSPrefix+"bindinspector-inherited",notInheritedCls:Ext.baseCSSPrefix+"bindinspector-not-inherited",highlightedCls:Ext.baseCSSPrefix+"bindinspector-highlighted",unhighlightedCls:Ext.baseCSSPrefix+"bindinspector-unhighlighted",lastItemCls:Ext.baseCSSPrefix+"bindinspector-last-item",initComponent:function(){var e=this,t=e.vm,n="VM &nbsp;&nbsp;&nbsp;⇒ &nbsp;&nbsp;&nbsp;",i=e.up("bindinspector-container").env,r=i.getCmp(t.view);r.reference&&(n+="["+r.reference+"] &bull; "),e.title=n+=r.id,e.viewConfig={getRowClass:function(t,n,i,r){var o=t.get("hasData"),a=t.get("hasStub"),s=[],l=t.get("highlighted");return t.get("inherited")?s.push(e.inheritedCls):s.push(e.notInheritedCls),l===!0?s.push(e.highlightedCls):-1===l&&s.push(e.unhighlightedCls),n===r.getCount()-1&&s.push(e.lastItemCls),!o||a&&0!==t.get("cumulativeBindCount")||s.push(e.dataOnlyCls),s.join(" ")}},e.store={model:e.Model,root:{text:"Root",expanded:!0,children:e.setupData(t,t.data,t.rootStub)}},e.columns=[{width:40,tdCls:Ext.baseCSSPrefix+"bindinspector-indicator-col",align:"center",scope:e,renderer:e.renderIndicator},{flex:1,xtype:"treecolumn",dataIndex:"name",text:"Name",scope:e,renderer:e.renderName},{flex:1,dataIndex:"value",text:"Value",scope:e,renderer:Ext.app.bindinspector.Util.valueRenderer},{text:"Bind #",width:64,align:"center",renderer:e.renderBindCount,scope:e},{width:40,isSearch:!0,renderer:e.dataSrcConsumerRenderer,scope:e}],e.callParent(),e.on("cellclick",e.onSearchCellClick,e)},dataOnlyNode:"This item contains data but has nothing requesting the value",stubOnlyNode:"This item has the value requested but no data backing it",dataPointLoading:"Data point is loading (at the time the app snapshot was captured)",dataPointLoadingCls:Ext.baseCSSPrefix+"bindinspector-isloading",zeroBindingCls:Ext.baseCSSPrefix+"bi-zero-bind-count",dataOnlyCls:Ext.baseCSSPrefix+"bindinspector-data-only",stubOnlyCls:Ext.baseCSSPrefix+"bindinspector-stub-only",onSearchCellClick:function(e,t,n,i,r,o,a){e.getHeaderCt().getHeaderAtIndex(n).isSearch&&this.up("bindinspector-container").fireEvent("vmSearchClick",i)},getFirstTierRec:function(e){var t,n=e.parentNode.isRoot();return n||e.bubble(function(e){return e.parentNode.isRoot()?(t=e,!1):void 0}),n?e:t},dataSrcConsumerRenderer:function(e,t,n){var i=this.getFirstTierRec(n),r=i.get("name");t.tdCls=Ext.baseCSSPrefix+"bindinspector-data-search-cell",t.tdAttr='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="Click to indicate within the Component List all ViewModels with a data property of &nbsp;<b>'+r+'</b>"'},renderIndicator:function(e,t,n){var i,r=n.get("ownerVMs"),o=r.length,a=!1,s=!1,l="",d=this.getFirstTierRec(n),u=d===n,c=d.get("name");return Ext.Array.forEach(r,function(e){e.id===e.thisVM&&(a=!0),e.id!==e.thisVM&&(s=!0)}),a&&s?(l=Ext.util.Format.format('<span style="color:#DB7851;">{0}</span>',u?"◓":"-"),i=o>1?"VMs":"VM",t.tdAttr='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="<b>'+c+"</b>&nbsp; provided by this VM and "+(o-1)+" ancestor "+i+'"'):a?(l=u?"●":"",t.tdAttr='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="<b>'+c+'</b>&nbsp; is provided by this VM"'):s&&(l=u?"○":"",i=o>1?"VMs":"VM",t.tdAttr='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="<b>'+c+"</b>&nbsp; is provided by "+o+" ancestor "+i+'"'),l},renderBindCount:function(e,t,n){var i,r,o=n.get("children").length,a=n.get("bindCount")||0;return e=a,0===e&&(e='<span class="'+this.zeroBindingCls+'">'+e+"</span>"),o&&(i=n.get("cumulativeBindCount")||"?",e+=0===i||"?"===i?' / <span class="'+this.zeroBindingCls+'">'+i+"</span>":" / "+i),r="Bindings Count = <b>"+a+"</b>",i&&0!==i&&"?"!==i&&(r+="<br>Cumulative Bindings Count = <b>"+i+"</b>"),t.tdAttr='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="'+r+'"',e},renderName:function(e,t,n){var i=this,r=n.get("hasData"),o=n.get("hasStub"),a="";return n.get("isLoading")?(t.tdCls=i.dataPointLoadingCls,a+=i.dataPointLoading):!r||o&&0!==n.get("cumulativeBindCount")?o&&!r&&(t.tdCls=i.stubOnlyCls,a+=i.stubOnlyNode):a+=i.dataOnlyNode,""!==a&&(t.tdAttr='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="'+a+'"'),e},setupData:function(e,t,n,i,r){var o,a,s,l,d,u,c={},h=[],f=e.dataMap,g=[];if(t&&Ext.isObject(t)&&(t.isModel?(t=t.data,d=!0):t.isStore&&(d=!0,t=null),t))for(l in t)r||(g=f[l]?f[l].ownerVMs:[]),o={name:l,value:t[l],inherited:Ext.isDefined(i)?i:!t.hasOwnProperty(l),ownerVMs:Ext.isDefined(r)?r:[],hasData:!0},Ext.Array.forEach(g,function(t){o.ownerVMs.push({id:t.id,view:t.view,thisVM:e.id})}),s=Ext.app.bindinspector.Util.getChildStub(l,n),s&&(o.hasStub=!0,o.isLoading=s.isLoading,o.iconCls=s.isLoading?this.dataPointLoadingCls:"",o.bindCount=s.bindCount,o.cumulativeBindCount=s.cumulativeBindCount,o.stub=s),c[l]=o;if(n){a=n.children;for(l in a)s=a[l],o=c[l],o||(o={name:l,value:s.value||void 0,inherited:i||!1,ownerVMs:r||[],hasData:!1,hasStub:!0,isLoading:s.isLoading,iconCls:s.isLoading?this.dataPointLoadingCls:"",bindCount:s.bindCount,cumulativeBindCount:s.cumulativeBindCount,stub:s},u=s.linkInfo,u&&u.sameTarget&&(o.value=u.value,o.hasData=void 0!==o.value),c[l]=o)}for(l in c)o=c[l],o.children=this.setupData(e,o.value,o.stub,o.inherited,o.ownerVMs),delete o.stub,o.children&&o.children.length?(o.expanded=!0,o.leaf=!1):o.leaf=!0,h.push(c[l]);return h}},function(){this.prototype.Model=Ext.define(null,{extend:"Ext.data.TreeModel",fields:["name","value","inherited","hasData","hasStub","isLoading","bindCount","cumulativeBindCount","highlighted"]})}),Ext.define("Ext.app.bindinspector.noconflict.BaseModel",{extend:"Ext.data.Model",schema:{id:"Ext_app_bindinspector",namespace:"Ext.app.bindinspector"}}),Ext.define("Ext.app.bindinspector.Container",{extend:"Ext.container.Container",alias:"widget.bindinspector-container",requires:["Ext.layout.container.Border","Ext.tab.Panel","Ext.app.bindinspector.ComponentDetail","Ext.app.bindinspector.ComponentList","Ext.app.bindinspector.Environment","Ext.app.bindinspector.Util","Ext.app.bindinspector.ViewModelDetail","Ext.app.bindinspector.noconflict.BaseModel"],isBindInspector:!0,referenceHolder:!0,layout:"border",cls:Ext.baseCSSPrefix+"bindinspector-container",componentPreviewDefault:{xtype:"container",cls:Ext.baseCSSPrefix+"bindinspector-prev-default",padding:20,layout:{type:"hbox",align:"middle",pack:"center"},items:[{xtype:"component",flex:1,html:"Select a component with bindings from the ComponentList to view the bindings details along with the component's inherited ViewModel"}]},initComponent:function(){var e=this;Ext.data.schema.Schema.get("Ext_app_bindinspector").clear(),e.items=[{xtype:"bindinspector-componentlist",reference:"componentList",region:"west",width:400,split:!0,collapsible:!0,components:e.env.rootComponents,listeners:{scope:e,componentdblclick:e.onComponentDblclick,componentselect:e.onComponentSelect}},{xtype:"tabpanel",region:"center",reference:"tabs",items:[{title:"Preview",reference:"preview",layout:"fit",items:[e.componentPreviewDefault]}],listeners:{add:function(){this.getTabBar().setVisible(this.items.getCount()>1)},remove:function(){this.getTabBar().setVisible(this.items.getCount()>1)}}}],e.callParent(),e.on("vmSearchClick",e.onVMSearchClick,e)},onVMSearchClick:function(e){var t,n,i=this.lookupReference("componentList"),r=i.getStore(),o=e.get("ownerVMs"),a=[],s=e.get("bindCount"),l=[],d=[],u=[];r.suspendEvents(),i.clearVMSearchIndicators(),Ext.Array.forEach(o,function(n){t=r.getById(n.view),t.set("isSrcVM",e),a.push(t)}),r.resumeEvents(),i.getView().refresh(),i.indicatedVM=a,s>0&&(e.bubble(function(e){var t=e.get("name");t&&l.push(t)}),n=l.reverse().join("."),i.getStore().getRootNode().cascadeBy(function(e){e.get("hasBindings")&&Ext.Array.forEach(e.get("bindData"),function(t){var i=[];t.tokens&&Ext.Array.forEach(t.tokens,function(e){Ext.isArray(e)?Ext.Array.forEach(e,function(e){i.push(e)}):i.push(e)}),i.join(".")===n&&d.push(e)})})),Ext.Array.forEach(d.concat(a),function(e){u.push(e.getId())}),i.expand(),i.filterComponentTree(null,u),Ext.Array.forEach(a,function(e){Ext.Array.contains(d)||e.set("filtervisible",!1)}),i.down("#srcVMIndicator").show(),i.down("#queryFieldTb").hide(),i.down("#vmQueryResultsTb").show()},onComponentSelect:function(e,t,n){var i=this,r=t.getId(),o=i.lookupReference("preview");o.referringID!==r&&(Ext.suspendLayouts(),o.removeAll(),o.add({xtype:"bindinspector-componentdetail",env:i.env,component:i.env.getCmp(r)}),Ext.resumeLayouts(!0),o.referringID=r),o.show()},onComponentDblclick:function(e,t,n){var i,r,o=t.id,a="bindtab-"+o,s=this.lookupReference("tabs"),l=s.items.get(a);l||(i=this.env.getCmp(o),r=i.reference,l=s.add({xtype:"bindinspector-componentdetail",env:this.env,itemId:a,title:r?"["+r+"] "+o:o,closable:!0,component:i})),s.setActiveTab(l)},buildVMDataMap:function(e){var t,n,i=this.env,r=e,o=e.dataMap,a=[];if(!o){for(o=e.dataMap={};r;)a.push(r),r=i.getVM(r.parent);Ext.Array.forEach(a,function(e){var i;if(t=e.data,t&&Ext.isObject(t))for(i in t)n=t.hasOwnProperty(i),o[i]||(o[i]={isDirect:n}),o[i].ownerVMs=o[i].ownerVMs||[],n&&o[i].ownerVMs.push(e)})}return e}}),Ext.define("Ext.util.ComponentDragger",{extend:"Ext.dd.DragTracker",autoStart:500,constructor:function(e,t){this.comp=e,this.initialConstrainTo=t.constrainTo,this.callParent([t])},onStart:function(e){var t=this,n=t.comp;t.startPosition=n.getXY(),n.ghost&&!n.liveDrag&&(t.proxy=n.ghost(),t.dragTarget=t.proxy.header.el),(t.constrain||t.constrainDelegate)&&(t.constrainTo=t.calculateConstrainRegion()),n.beginDrag&&n.beginDrag()},calculateConstrainRegion:function(){var e,t,n,i=this,r=i.comp,o=i.initialConstrainTo,a=r.constraintInsets,s=i.proxy?i.proxy.el:r.el,l=!i.constrainDelegate&&s.shadow&&r.constrainShadow&&!s.shadowDisabled?s.shadow.getShadowSize():0;return o instanceof Ext.util.Region?o=o.copy():(e=Ext.fly(o),o=e.getViewRegion(),o.right=o.left+e.dom.clientWidth),a&&(a=Ext.isObject(a)?a:Ext.Element.parseBox(a),o.adjust(a.top,a.right,a.bottom,a.length)),l&&o.adjust(l[0],-l[1],-l[2],l[3]),i.constrainDelegate||(t=Ext.fly(i.dragTarget).getRegion(),n=s.getRegion(),o.adjust(t.top-n.top,t.right-n.right,t.bottom-n.bottom,t.left-n.left)),o},onDrag:function(e){var t=this,n=t.proxy&&!t.comp.liveDrag?t.proxy:t.comp,i=t.getOffset(t.constrain||t.constrainDelegate?"dragTarget":null);n.setPagePosition(t.startPosition[0]+i[0],t.startPosition[1]+i[1])},onEnd:function(e){var t=this.comp;t.isDestroyed||t.destroying||(this.proxy&&!t.liveDrag&&t.unghost(),t.endDrag&&t.endDrag())}}),Ext.define("Ext.window.Window",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Window",requires:["Ext.util.ComponentDragger","Ext.util.Region"],alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},isWindow:!0,ariaRole:"dialog",initComponent:function(){var e=this;e.frame=!1,e.callParent(),e.plain&&e.addClsWithUI("plain"),e.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var e,t=this;return e=t.callParent(),e.tabIndex=-1,e},getState:function(){var e,t=this,n=t.callParent()||{},i=!!t.maximized,r=t.ghostBox;return n.maximized=i,e=i?t.restorePos:r?[r.x,r.y]:t.getPosition(),Ext.apply(n,{size:i?t.restoreSize:t.getSize(),pos:e}),n},applyState:function(e){var t=this;e&&(t.maximized=e.maximized,t.maximized?(t.hasSavedRestore=!0,t.restoreSize=e.size,t.restorePos=e.pos):Ext.apply(t,{width:e.size.width,height:e.size.height,x:e.pos[0],y:e.pos[1]}))},onRender:function(e,t){var n=this;n.callParent(arguments),n.focusEl=n.el,n.maximizable&&n.header.on({scope:n,dblclick:n.toggleMaximize})},afterRender:function(){var e,t=this,n=t.header;t.maximized&&(t.maximized=!1,t.maximize(),n&&n.removeCls(n.indicateDragCls)),t.callParent(),t.closable?(e=t.getKeyMap(),e.on(27,t.onEsc,t)):e=t.keyMap,e&&t.hidden&&e.disable()},onEsc:function(e,t){var n=Ext.FocusManager;Ext.enableFocusManager&&n.focusedCmp!==this||(t.stopEvent(),this.close())},beforeDestroy:function(){var e=this;e.rendered&&(Ext.un("resize",e.onWindowResize,e),delete e.animateTarget,e.hide(),Ext.destroy(e.keyMap)),e.callParent()},addTools:function(){var e=this,t=e.tools,n=[];e.callParent(),e.minimizable&&t.push({type:"minimize",handler:Ext.Function.bind(e.minimize,e,n)}),e.maximizable&&(e.header&&"titlePosition"in e.header&&e.header.titlePosition>=t.length&&e.header.titlePosition++,Ext.Array.push(t,{type:"maximize",handler:Ext.Function.bind(e.maximize,e,n)},{type:"restore",handler:Ext.Function.bind(e.restore,e,n),hidden:!0}))},getDefaultFocus:function(){var e,t,n=this,i=n.defaultButton||n.defaultFocus;return void 0!==i&&(Ext.isNumber(i)?e=n.query("button")[i]:Ext.isString(i)?(t=i,t.match(n.initialAlphaNum)&&(e=n.down(Ext.makeIdSelector(t))),e||(e=n.down(t))):i.focus&&(e=i)),e||n.el},onFocus:function(){var e,t=this;Ext.enableFocusManager||(e=t.getDefaultFocus())===t?t.callParent(arguments):e.focus()},onShow:function(){var e=this;e.callParent(arguments),e.expandOnShow&&e.expand(!1),e.syncMonitorWindowResize(),e.keyMap&&e.keyMap.enable()},doClose:function(){var e=this;e.hidden?(e.fireEvent("close",e),"destroy"==e.closeAction&&e.destroy()):e.hide(e.animateTarget,e.doClose,e)},afterHide:function(){var e=this;e.syncMonitorWindowResize(),e.keyMap&&e.keyMap.disable(),e.callParent(arguments)},onWindowResize:function(){var e,t=this;t.maximized?t.fitContainer():(e=t.getSizeModel(),(e.width.natural||e.height.natural)&&t.updateLayout(),t.doConstrain())},minimize:function(){return this.fireEvent("minimize",this),this},resumeHeaderLayout:function(e){this.header.resumeLayouts(e?this.isRootCfg:null)},afterCollapse:function(){var e=this,t=e.header,n=e.tools;t&&e.maximizable&&(t.suspendLayouts(),n.maximize.hide(),n.restore.hide(),this.resumeHeaderLayout(!0)),e.resizer&&e.resizer.disable(),e.callParent(arguments)},afterExpand:function(){var e,t=this,n=t.header,i=t.tools;n&&(n.suspendLayouts(),t.maximized?(i.restore.show(),e=!0):t.maximizable&&(i.maximize.show(),e=!0),this.resumeHeaderLayout(e)),t.resizer&&t.resizer.enable(),t.callParent(arguments)},maximize:function(e){var t,n,i=this,r=i.header,o=i.tools,a=i.width,s=i.height;return i.maximized||(i.expand(!1),i.hasSavedRestore||(t=i.restoreSize={width:Ext.isNumber(a)?a:null,height:Ext.isNumber(s)?s:null},i.restorePos=i.getPosition(!0)),r&&(r.suspendLayouts(),o.maximize&&(o.maximize.hide(),n=!0),o.restore&&(o.restore.show(),n=!0),i.collapseTool&&(i.collapseTool.hide(),n=!0),i.resumeHeaderLayout(n)),i.el.disableShadow(),i.dd&&(i.dd.disable(),r&&r.removeCls(r.indicateDragCls)),i.resizer&&i.resizer.disable(),i.el.addCls(Ext.baseCSSPrefix+"window-maximized"),i.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct"),i.syncMonitorWindowResize(),i.fitContainer(e=e||i.animateTarget?{callback:function(){i.maximized=!0,i.fireEvent("maximize",i)}}:null),e||(i.maximized=!0,i.fireEvent("maximize",i))),i},restore:function(e){var t,n=this,i=n.tools,r=n.header,o=n.restoreSize;return n.maximized&&(n.hasSavedRestore=null,n.removeCls(Ext.baseCSSPrefix+"window-maximized"),r&&(r.suspendLayouts(),i.restore&&(i.restore.hide(),t=!0),i.maximize&&(i.maximize.show(),t=!0),n.collapseTool&&(n.collapseTool.show(),t=!0),n.resumeHeaderLayout(t)),o.x=n.restorePos[0],o.y=n.restorePos[1],n.setBox(o,e=e||n.animateTarget?{callback:function(){n.el.enableShadow(!0),n.maximized=!1,n.fireEvent("restore",n)}}:null),n.restorePos=n.restoreSize=null,n.dd&&(n.dd.enable(),r&&r.addCls(r.indicateDragCls)),n.resizer&&n.resizer.enable(),n.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct"),n.syncMonitorWindowResize(),e||(n.el.enableShadow(!0),n.maximized=!1,n.fireEvent("restore",n))),n},syncMonitorWindowResize:function(){var e=this,t=e._monitoringResize,n=e.constrain||e.constrainHeader||e.maximized,i=e.hidden||e.destroying||e.isDestroyed;n&&!i?t||(Ext.on("resize",e.onWindowResize,e,{buffer:1}),e._monitoringResize=!0):t&&(Ext.un("resize",e.onWindowResize,e),e._monitoringResize=!1)},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},createGhost:function(){var e=this.callParent(arguments);return e.xtype="window",e},privates:{getFocusEl:function(){return this.getDefaultFocus()},initDraggable:function(){this.initSimpleDraggable()},initResizable:function(){this.callParent(arguments),this.maximized&&this.resizer.disable()}}}),Ext.define("Ext.app.bindinspector.Inspector",{extend:"Ext.window.Window",requires:["Ext.app.bindinspector.Container","Ext.layout.container.Fit","Ext.tip.QuickTipManager"],title:"Bind Inspector",layout:"fit",autoShow:!0,maximized:!0,maximizable:!0,width:960,height:575,initComponent:function(){var e=(new Ext.app.bindinspector.Environment).captureSnapshot(),t=new Ext.app.bindinspector.Environment;t.unpackSnapshot(e),this.items={xtype:"bindinspector-container",env:t},this.callParent()},afterRender:function(){this.callParent(arguments),Ext.tip.QuickTipManager.init()}}),Ext.define("Ext.app.domain.Controller",{extend:"Ext.app.EventDomain",singleton:!0,requires:["Ext.app.Controller"],type:"controller",prefix:"controller.",idMatchRe:/^\#/,constructor:function(){var e=this;e.callParent(),e.monitor(Ext.app.BaseController)},match:function(e,t){var n=!1,i=e.alias;return"*"===t?n=!0:"#"===t?n=!!e.isApplication:this.idMatchRe.test(t)?n=e.getId()===t.substring(1):i&&(n=Ext.Array.indexOf(i,this.prefix+t)>-1),n}}),Ext.define("Ext.app.domain.Direct",{extend:"Ext.app.EventDomain",singleton:!0,requires:["Ext.direct.Provider"],type:"direct",idProperty:"id",constructor:function(){var e=this;e.callParent(),e.monitor(Ext.direct.Provider)}}),Ext.define("Ext.button.Split",{alias:"widget.splitbutton",extend:"Ext.button.Button",alternateClassName:"Ext.SplitButton",isSplitButton:!0,arrowCls:"split",split:!0,setArrowHandler:function(e,t){this.arrowHandler=e,this.scope=t},onClick:function(e){var t=this;t.doPreventDefault(e),t.disabled||(t.isWithinTrigger(e)?(e.preventDefault(),t.maybeShowMenu(),t.fireEvent("arrowclick",t,e),t.arrowHandler&&t.arrowHandler.call(t.scope||t,t,e)):(t.doToggle(),t.fireHandler(e)))}}),Ext.define("Ext.button.Cycle",{alias:"widget.cycle",extend:"Ext.button.Split",alternateClassName:"Ext.CycleButton",getButtonText:function(e){var t=this,n="";return e&&t.showText===!0?(t.prependText&&(n+=t.prependText),n+=e.text):t.text},setActiveItem:function(e,t){var n=this;Ext.isObject(e)||(e=n.menu.getComponent(e)),e&&(n.rendered?(n.setText(n.getButtonText(e)),n.setIconCls(e.iconCls),n.setGlyph(e.glyph)):(n.text=n.getButtonText(e),n.iconCls=e.iconCls,n.glyph=e.glyph),n.activeItem=e,e.checked||e.setChecked(!0,!1),n.forceIcon&&n.setIconCls(n.forceIcon),n.forceGlyph&&n.setGlyph(n.forceGlyph),t||n.fireEvent("change",n,e))},getActiveItem:function(){return this.activeItem},initComponent:function(){var e,t,n,i,r=this,o=0;for(r.changeHandler&&(r.on("change",r.changeHandler,r.scope||r),delete r.changeHandler),e=(r.menu.items||[]).concat(r.items||[]),r.menu=Ext.applyIf({cls:Ext.baseCSSPrefix+"cycle-menu",items:[]},r.menu),n=e.length,t=0;n>t;t++)i=e[t],i=Ext.applyIf({group:r.id,itemIndex:t,checkHandler:r.checkHandler,scope:r,checked:i.checked||!1},i),r.menu.items.push(i),i.checked&&(o=t);r.itemCount=r.menu.items.length,r.callParent(arguments),r.on("click",r.toggleSelected,r),r.setActiveItem(o,r)},checkHandler:function(e,t){t&&this.setActiveItem(e)},toggleSelected:function(){var e,t=this,n=t.menu;e=t.activeItem.next(":not([disabled])")||n.items.getAt(0),e.setChecked(!0)}}),Ext.define("Ext.button.Segmented",{extend:"Ext.container.Container",xtype:"segmentedbutton",requires:["Ext.button.Button"],config:{allowDepress:!1,allowMultiple:!1,allowToggle:!0,vertical:!1,defaultUI:"default"},beforeRenderConfig:{value:void 0},publishes:["value"],twoWayBindable:["value"],layout:"segmentedbutton",defaultType:"button",maskOnDisable:!1,isSegmentedButton:!0,baseCls:Ext.baseCSSPrefix+"segmented-button",itemCls:Ext.baseCSSPrefix+"segmented-button-item",_firstCls:Ext.baseCSSPrefix+"segmented-button-first",_lastCls:Ext.baseCSSPrefix+"segmented-button-last",_middleCls:Ext.baseCSSPrefix+"segmented-button-middle",applyValue:function(e,t){var n,i,r,o,a,s,l,d=this,u=d.getAllowMultiple();if(r=e instanceof Array?e:null==e?[]:[e],o=t instanceof Array?t:null==t?[]:[t],d._isApplyingValue=!0,!d.rendered)for(a=d.items.items,s=0,l=a.length;l>s;s++)i=a[s],i.pressed&&(n=i.value,null==n&&(n=d.items.indexOf(i)),Ext.Array.contains(r,n)||r.push(n));for(l=r.length,l>1&&!u&&Ext.Error.raise("Cannot set multiple values when allowMultiple is false"),
s=0;l>s;s++)e=r[s],i=d._lookupButtonByValue(e),i?(n=i.value,null!=n&&n!==e&&(r[s]=n),i.pressed||i.setPressed(!0)):Ext.Error.raise("Invalid value '"+e+"' for segmented button: '"+d.id+"'");for(e=u?r:l?r[0]:null,s=0,l=o.length;l>s;s++)t=o[s],Ext.Array.contains(r,t)||d._lookupButtonByValue(t).setPressed(!1);return d._isApplyingValue=!1,e},beforeRender:function(){var e=this;e.addCls(e.baseCls+e._getClsSuffix()),e._syncItemClasses(!0),e.callParent()},onAdd:function(e){var t,n,i=this,r="_syncItemClasses",o=i.items.items,a=o.length,s=0;for("default"!==e.ui||e.hasOwnProperty("ui")||(n=i.getDefaultUI(),"default"!==n&&(e.ui=n));a>s;s++)o[s]!==e&&(t=o[s].value,null!=t&&t===e.value&&Ext.Error.raise("Segmented button '"+i.id+"' cannot contain multiple items with value: '"+t+"'"));i.mon(e,{hide:r,show:r,toggle:"_onItemToggle",scope:i}),i.getAllowToggle()&&(e.enableToggle=!0,i.getAllowMultiple()||(e.toggleGroup=i.getId(),e.allowDepress=i.getAllowDepress())),e.addCls(i.itemCls+i._getClsSuffix()),i._syncItemClasses(),i.callParent([e])},onRemove:function(e){var t=this;e.removeCls(t.itemCls+t._getClsSuffix()),t._syncItemClasses(),t.callParent([e])},beforeLayout:function(){Ext.isChrome&&this.el.dom.offsetWidth,this.callParent()},updateDefaultUI:function(e){var t,n,i,r=this.items;if(this.rendered)Ext.Error.raise("Changing the ui config of a segmented button after render is not supported.");else if(r)for(r.items&&(r=r.items),n=0,i=r.length;i>n;n++)t=r[n],"default"!==t.ui||"default"===e||t.hasOwnProperty("ui")||(r[n].ui=e)},updateAllowDepress:function(e,t){this.rendered&&e!==t&&Ext.Error.raise("Changing the allowDepress config of a segmented button after render is not supported.")},updateAllowMultiple:function(e,t){this.rendered&&e!==t&&Ext.Error.raise("Changing the allowMultiple config of a segmented button after render is not supported.")},updateAllowToggle:function(e,t){this.rendered&&e!==t&&Ext.Error.raise("Changing the allowToggle config of a segmented button after render is not supported.")},updateVertical:function(e,t){this.rendered&&e!==t&&Ext.Error.raise("Changing the orientation of a segmented button after render is not supported.")},privates:{_getClsSuffix:function(){return this.getVertical()?"-vertical":"-horizontal"},_getFirstCls:function(){return this._firstCls},_getLastCls:function(){return this._lastCls},_lookupButtonByValue:function(e){for(var t,n,i=this.items.items,r=i.length,o=0,a=null;r>o;o++)if(n=i[o],t=n.value,null!=t&&t===e){a=n;break}return a||"number"!=typeof e||(a=i[e]),a},_onItemToggle:function(e,t){if(!this._isApplyingValue){var n,i=this,r=Ext.Array,o=i.allowMultiple,a=null!=e.value?e.value:i.items.indexOf(e),s=i.getValue();o&&(n=r.indexOf(s,a)),t?o?-1===n&&s.push(a):s=a:o?n>-1&&s.splice(n,1):s===a&&(s=null),i.setValue(s),i.fireEvent("toggle",i,e,t)}},_syncItemClasses:function(e){var t,n,i,r,o,a,s,l,d=this;if(e||d.rendered){for(t=d._getFirstCls(),n=d._middleCls,i=d._getLastCls(),r=d.items.items,o=r.length,a=[],l=0;o>l;l++)s=r[l],s.hidden||a.push(s);for(o=a.length,l=0;o>l;l++)a[l].removeCls([t,n,i]);if(o>1){for(a[0].addCls(t),l=1;o-1>l;l++)a[l].addCls(n);a[o-1].addCls(i)}}}}}),Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.TableLayout",type:"table",createsInnerCt:!0,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,getItemSizePolicy:function(e){return this.autoSizePolicy},initInheritedState:function(e,t){t.inShrinkWrapTable=!0},getLayoutItems:function(){var e,t,n=this,i=[],r=n.callParent(),o=r.length;for(t=0;o>t;t++)e=r[t],e.hidden||i.push(e);return i},getHiddenItems:function(){for(var e,t=[],n=this.owner.items.items,i=n.length,r=0;i>r;++r)e=n[r],e.rendered&&e.hidden&&t.push(e);return t},renderChildren:function(){var e,t,n,i,r,o,a,s,l=this,d=l.getLayoutItems(),u=l.owner.getTargetEl().child("table",!0).tBodies[0],c=u.rows,h=0,f=d.length,g=l.getHiddenItems();for(e=l.calculateCells(d);f>h;h++)if(t=e[h],n=t.rowIdx,i=t.cellIdx,r=d[h],o=c[n],o||(o=u.insertRow(n),l.trAttrs&&o.set(l.trAttrs)),s=a=Ext.get(o.cells[i]||o.insertCell(i)),l.needsDivWrap()&&(s=a.first()||a.createChild({tag:"div",role:"presentation"}),s.setWidth(null)),r.rendered?l.isValidParent(r,s,n,i,u)||l.moveItem(r,s,0):l.renderItem(r,s,0),l.tdAttrs&&a.set(l.tdAttrs),r.tdAttrs&&a.set(r.tdAttrs),a.set({colSpan:r.colspan||1,rowSpan:r.rowspan||1,id:r.cellId||"",cls:l.cellCls+" "+(r.cellCls||"")}),!e[h+1]||e[h+1].rowIdx!==n)for(i++;o.cells[i];)o.deleteCell(i);for(n++;u.rows[n];)u.deleteRow(n);for(h=0,f=g.length;f>h;++h)l.ensureInDocument(g[h].getEl())},ensureInDocument:function(e){for(var t=e.dom.parentNode;t;){if("BODY"==t.tagName.toUpperCase())return;t=t.parentNode}Ext.getDetachedBody().appendChild(e)},calculate:function(e){if(e.hasDomProp("containerChildrenSizeDone")){var t=e.targetContext,n=e.widthModel.shrinkWrap,i=e.heightModel.shrinkWrap,r=i||n,o=r&&t.el.child("table",!0),a=r&&t.getPaddingInfo();n&&e.setContentWidth(o.offsetWidth+a.width,!0),i&&e.setContentHeight(o.offsetHeight+a.height,!0)}else this.done=!1},finalizeLayout:function(){if(this.needsDivWrap()){var e,t,n=this.getLayoutItems(),i=n.length;for(e=0;i>e;e++)t=n[e],Ext.fly(t.el.dom.parentNode).setWidth(t.getWidth())}},calculateCells:function(e){for(var t,n,i=[],r=0,o=0,a=0,s=this.columns||1/0,l=[],d=0,u=e.length;u>d;d++){for(n=e[d];o>=s||l[o]>0;)if(o>=s)for(o=0,a=0,r++,t=0;s>t;t++)l[t]>0&&l[t]--;else o++;for(i.push({rowIdx:r,cellIdx:a}),t=n.colspan||1;t;--t)l[o]=n.rowspan||1,++o;++a}return i},getRenderTree:function(){var e,t,n,i,r,o,a,s,l=this,d=l.getLayoutItems(),u=[],c=Ext.apply({tag:"table",role:"presentation",cls:l.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",role:"presentation",cn:u}},l.tableAttrs),h=l.tdAttrs,f=l.needsDivWrap(),g=d.length;for(e=l.calculateCells(d),t=0;g>t;t++)n=d[t],i=e[t],o=i.rowIdx,a=i.cellIdx,r=u[o],r||(r=u[o]={tag:"tr",role:"presentation",cn:[]},l.trAttrs&&Ext.apply(r,l.trAttrs)),s=r.cn[a]={tag:"td",role:"presentation"},h&&Ext.apply(s,h),Ext.apply(s,{colSpan:n.colspan||1,rowSpan:n.rowspan||1,id:n.cellId||"",cls:l.cellCls+" "+(n.cellCls||"")}),f&&(s=s.cn={tag:"div",role:"presentation"}),l.configureItem(n),s.cn=n.getRenderTree();return c},isValidParent:function(e,t,n,i){var r,o,a;return 3===arguments.length?(a=e.el.up("table"),a&&a.dom.parentNode===t.dom):(r=this.owner.getTargetEl().child("table",!0).tBodies[0],o=r.rows[n].cells[i],e.el.dom.parentNode===o)},needsDivWrap:function(){return Ext.isOpera10_5}}),Ext.define("Ext.container.ButtonGroup",{extend:"Ext.panel.Panel",alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",requires:["Ext.layout.container.Table"],baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:!0,frameHeader:!1,titleAlign:"center",noTitleCls:"notitle",ariaRole:"group",initComponent:function(){var e=this,t=e.columns;t&&(e.layout=Ext.apply({},{columns:t},e.layout)),e.title||e.addClsWithUI(e.noTitleCls),e.callParent(arguments)},onBeforeAdd:function(e){e.isButton&&(this.defaultButtonUI&&"default"===e.ui&&!e.hasOwnProperty("ui")?e.ui=this.defaultButtonUI:e.ui=e.ui+"-toolbar"),this.callParent(arguments)},privates:{applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e}}}),Ext.define("Ext.container.Monitor",{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,invalidateHandler:null,disabled:0,constructor:function(e){Ext.apply(this,e)},bind:function(e){var t=this;t.target=e,e.on("beforedestroy",t.disable,t),t.onContainerAdd(e)},unbind:function(){var e=this,t=e.target;t&&t.un("beforedestroy",e.disable,e),e.items=null},disable:function(){++this.disabled},enable:function(){this.disabled>0&&--this.disabled},handleAdd:function(e,t){this.disabled||(t.is(this.selector)&&this.onItemAdd(t.ownerCt,t),t.isQueryable&&this.onContainerAdd(t))},onItemAdd:function(e,t){var n=this,i=n.items,r=n.addHandler;n.disabled||(r&&r.call(n.scope||t,t),i&&i.add(t))},onItemRemove:function(e,t){var n=this,i=n.items,r=n.removeHandler;n.disabled||(r&&r.call(n.scope||t,t),i&&i.remove(t))},onContainerAdd:function(e,t){var n,i,r,o,a=this,s=a.handleAdd,l=a.handleRemove;if(e.isContainer&&(e.on("add",s,a),e.on("dockedadd",s,a),e.on("remove",l,a),e.on("dockedremove",l,a)),t!==!0)for(n=e.query(a.selector),r=0,i=n.length;i>r;++r)o=n[r],a.onItemAdd(o.ownerCt,o);for(n=e.query(">container"),r=0,i=n.length;i>r;++r)a.onContainerAdd(n[r],!0)},handleRemove:function(e,t){var n=this;n.disabled||(t.is(n.selector)&&n.onItemRemove(e,t),t.isQueryable&&n.onContainerRemove(e,t))},onContainerRemove:function(e,t){var n,i,r,o,a=this;if(t.isDestroyed||t.destroying||!t.isContainer)a.invalidateItems(!0);else{for(a.removeCtListeners(t),n=t.query(a.selector),i=0,r=n.length;r>i;++i)o=n[i],a.onItemRemove(o.ownerCt,o);for(n=t.query("container"),i=0,r=n.length;r>i;++i)a.removeCtListeners(n[i])}},removeCtListeners:function(e){var t=this;e.un("add",t.handleAdd,t),e.un("dockedadd",t.handleAdd,t),e.un("remove",t.handleRemove,t),e.un("dockedremove",t.handleRemove,t)},getItems:function(){var e=this,t=e.items;return t||(t=e.items=new Ext.util.MixedCollection,t.addAll(e.target.query(e.selector))),t},invalidateItems:function(e){var t=this,n=t.invalidateHandler;e&&n&&n.call(t.scope||t,t),t.items=null}}),Ext.define("Ext.plugin.Responsive",{extend:"Ext.mixin.Responsive",alias:"plugin.responsive",pluginId:"responsive",isPlugin:!0,constructor:function(e){var t=this,n=e.cmp,i=Ext.apply({responsiveConfig:n.responsiveConfig},e);delete i.cmp,t.cmp=n,n||Ext.Error.raise("Responsive plugin must be constructed by Component"),t.initConfig(i),t.transformed&&(n.setConfig(t.transformed),t.transformed=null)},init:Ext.emptyFn,privates:{transformInstanceConfig:function(e){this.transformed=this.callParent([e]);var t=Ext.apply({},e);return delete t.responsiveConfig,t},updateResponsiveState:function(){var e=this.getResponsiveState();this.cmp.setConfig(e)}}}),Ext.define("Ext.plugin.Viewport",{extend:"Ext.plugin.Responsive",alias:"plugin.viewport",setCmp:function(e){this.cmp=e,e&&!e.isViewport&&(this.apply(e),e.renderConfigs&&e.flushRenderConfigs(),e.setupViewport())},statics:{apply:function(e){Ext.applyIf(e.prototype||e,{ariaRole:"application",viewportCls:Ext.baseCSSPrefix+"viewport"}),Ext.override(e,{isViewport:!0,preserveElOnDestroy:!0,initComponent:function(){this.callParent(),this.setupViewport()},handleViewportResize:function(){var e=this,t=Ext.dom.Element,n=t.getViewportWidth(),i=t.getViewportHeight();(n!=e.width||i!=e.height)&&e.setSize(n,i)},setupViewport:function(){var e=this,t=document.body.parentNode,n=e.el=Ext.getBody();Ext.getScrollbarSize(),e.width=e.height=void 0,Ext.fly(t).addCls(e.viewportCls),e.autoScroll&&(Ext.fly(t).setStyle(e.getOverflowStyle()),delete e.autoScroll),n.setHeight=n.setWidth=Ext.emptyFn,n.dom.scroll="no",e.allowDomMove=!1,e.renderTo=e.el,Ext.supports.Touch&&e.initMeta()},afterLayout:function(e){Ext.supports.Touch&&(document.body.scrollTop=0),this.callParent([e])},onRender:function(){var e=this;e.callParent(arguments),e.width=Ext.Element.getViewportWidth(),e.height=Ext.Element.getViewportHeight(),Ext.supports.TouchEvents&&e.mon(Ext.getDoc(),{touchmove:function(e){e.preventDefault()},translate:!1,delegated:!1})},initInheritedState:function(e,t){var n=this,i=Ext.rootInheritedState;e!==i?n.initInheritedState(n.inheritedState=i,n.inheritedStateInner=Ext.Object.chain(i)):n.callParent([e,t])},beforeDestroy:function(){var e=this;e.removeUIFromElement(),e.el.removeCls(e.baseCls),Ext.fly(document.body.parentNode).removeCls(e.viewportCls),e.callParent()},addMeta:function(e,t){var n=document.createElement("meta");n.setAttribute("name",e),n.setAttribute("content",t),Ext.getHead().appendChild(n)},initMeta:function(){var e=this,t=e.maxUserScale||1;e.addMeta("viewport","width=device-width, initial-scale=1, maximum-scale="+t+", user-scalable="+(1!==t?"yes":"no")),e.addMeta("apple-mobile-web-app-capable","yes")},privates:{applyTargetCls:function(e){this.el.addCls(e)}}})}},privates:{updateResponsiveState:function(){this.cmp.handleViewportResize(),this.callParent()}}},function(e){e.prototype.apply=e.apply}),Ext.define("Ext.container.Viewport",{extend:"Ext.container.Container",requires:["Ext.plugin.Viewport"],mixins:["Ext.mixin.Responsive"],alias:"widget.viewport",alternateClassName:"Ext.Viewport",privates:{updateResponsiveState:function(){this.handleViewportResize(),this.mixins.responsive.updateResponsiveState.call(this)}}},function(){Ext.plugin.Viewport.apply(this)}),Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:"Ext.layout.container.Auto",alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:!0,setsItemSize:!0,beginLayoutCycle:function(e){var t,n,i,r,o,a=this,s=0;for(a.callParent(arguments),i=e.childItems,o=i.length,r=0;o>r&&(n=i[r],t=n.target.anchorSpec,!t||(n.widthModel.calculated&&t.right&&(s|=1),n.heightModel.calculated&&t.bottom&&(s|=2),3!=s));++r);e.anchorDimensions=s,a.sanityCheck(e)},calculateItems:function(e,t){var n,i,r,o,a,s,l=this,d=e.childItems,u=d.length,c=t.gotHeight,h=t.gotWidth,f=t.height,g=t.width,p=(h?1:0)|(c?2:0),m=e.anchorDimensions;if(!m)return!0;for(a=0;u>a;a++)i=d[a],r=i.getMarginInfo(),n=i.target.anchorSpec,h&&i.widthModel.calculated&&(s=n.right(g)-r.width,s=l.adjustWidthAnchor(s,i),i.setWidth(s)),c&&i.heightModel.calculated&&(o=n.bottom(f)-r.height,o=l.adjustHeightAnchor(o,i),i.setHeight(o));return(p&m)===m},sanityCheck:function(e){var t,n,i,r,o,a=e.widthModel.shrinkWrap,s=e.heightModel.shrinkWrap,l=e.childItems;for(r=0,o=l.length;o>r;++r)i=l[r],n=i.target,t=n.anchorSpec,t&&(i.widthModel.calculated&&t.right&&a&&Ext.log({level:"warn",msg:"Right anchor on "+n.id+" in shrinkWrap width container"}),i.heightModel.calculated&&t.bottom&&s&&Ext.log({level:"warn",msg:"Bottom anchor on "+n.id+" in shrinkWrap height container"}))},anchorFactory:{offset:function(e){return function(t){return t+e}},ratio:function(e){return function(t){return Math.floor(t*e)}},standard:function(e){return function(t){return t-e}}},parseAnchor:function(e,t,n){if(e&&"none"!=e){var i,r=this.anchorFactory;if(this.parseAnchorRE.test(e))return r.standard(n-t);if(-1!=e.indexOf("%"))return r.ratio(.01*parseFloat(e.replace("%","")));if(i=parseInt(e,10),!isNaN(i))return r.offset(i)}return null},adjustWidthAnchor:function(e,t){return e},adjustHeightAnchor:function(e,t){return e},configureItem:function(e){var t,n,i,r=this,o=r.owner,a=e.anchor;r.callParent(arguments),e.anchor||!e.items||Ext.isNumber(e.width)||(e.anchor=a=r.defaultAnchor),o.anchorSize?"number"==typeof o.anchorSize?n=o.anchorSize:(n=o.anchorSize.width,i=o.anchorSize.height):(n=o.initialConfig.width,i=o.initialConfig.height),a&&(t=a.split(" "),e.anchorSpec={right:r.parseAnchor(t[0],e.initialConfig.width,n),bottom:r.parseAnchor(t[1],e.initialConfig.height,i)})},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var t,n=e.anchorSpec,i="$",r=this.sizePolicy;return n&&(t=this.owner.getSizeModel(),n.right&&!t.width.shrinkWrap&&(r=r.r),n.bottom&&!t.height.shrinkWrap&&(i="b")),r[i]}}),Ext.define("Ext.dashboard.Panel",{extend:"Ext.panel.Panel",xtype:"dashboard-panel",cls:Ext.baseCSSPrefix+"dashboard-panel",anchor:"100%",layout:"fit",frame:!0,closable:!0,collapsible:!0,animCollapse:!0,titleCollapse:!0,stateful:!0,draggable:{moveOnDrag:!1},animateClose:!0,loadMask:!0,minHeight:90,resizable:!0,resizeHandles:"s",doClose:function(){var e=this;e.animateClose?e.closing||(e.closing=!0,e.el.animate({opacity:0,callback:e.finishClose,scope:e})):e.finishClose()},finishClose:function(){var e=this,t=e.closeAction;e.closing=!1,e.fireEvent("close",e),Ext.suspendLayouts(),e[t](),Ext.resumeLayouts(!0),"hide"===t&&e.el.setOpacity(1)},afterRender:function(){this.callParent(),this.loading&&this.onViewBeforeLoad()},getLoadMask:function(){var e,t=this,n=t.rendered&&t.loadMask;return n&&!n.isComponent&&(e={target:t},n===!0?n=e:Ext.apply(e,n),t.loadMask=n=Ext.ComponentManager.create(e,"loadmask")),n||null},onAdd:function(e){this.callParent(arguments),e.on({beforeload:"onViewBeforeLoad",load:"onViewLoaded",scope:this})},onViewBeforeLoad:function(){this.loading=!0;var e=this.getLoadMask();e&&e.show()},onViewLoaded:function(){this.loading=!1;var e=this.getLoadMask();e&&e.hide();var t=this.items.getAt(0);if(t.getTitle){var n=t.getTitle();n&&this.setTitle(n)}},setBox:function(e){this.setSize(e.width,e.height)},getState:function(){var e=this,t=e.callParent()||{};return t.collapsed||e.addPropertyToState(t,"height",e.rendered?e.getHeight():e.height||e.minHeight||100),t}}),Ext.define("Ext.dashboard.Column",{extend:"Ext.container.Container",xtype:"dashboard-column",requires:["Ext.layout.container.Anchor","Ext.dashboard.Panel"],layout:"anchor",isDashboardColumn:!0,defaultType:"dashboard-panel",cls:Ext.baseCSSPrefix+"dashboard-column",synthetic:!0,onRemove:function(e,t){var n,i,r,o=this,a=o.ownerCt,s=0;if(t&&a&&0===o.items.getCount()&&(n=Ext.Array.filter(a.query(">"+o.xtype),function(e){return e!==o}),i=n.length,!o.destroyed&&i)){if(a.remove(o),1===i)n[0].columnWidth=1;else{for(r=0;i>r;r++)s+=n[r].columnWidth;for(r=0;i>r;r++)n[r].columnWidth=n[r].columnWidth/s}a.updateLayout()}}}),Ext.define("Ext.layout.container.Column",{extend:"Ext.layout.container.Auto",alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:!0,manageOverflow:!0,setsItemSize:!0,isItemShrinkWrap:function(e){return!0},getItemSizePolicy:function(e,t){return e.columnWidth&&(t||(t=this.owner.getSizeModel()),!t.width.shrinkWrap)?this.columnWidthSizePolicy:this.autoSizePolicy},calculateItems:function(e,t){var n,i,r,o,a,s,l=this,d=e.targetContext,u=e.childItems,c=u.length,h=0,f=t.gotWidth;if(f===!1)d.domBlock(l,"width"),n=!0;else{if(!f)return!0;i=t.width}for(r=0;c>r;++r)o=u[r],a=o.getMarginInfo().width,o.widthModel.calculated||(s=o.getProp("width"),"number"!=typeof s&&(o.block(l,"width"),n=!0),h+=s+a);if(!n){for(i=h>i?0:i-h,r=0;c>r;++r)o=u[r],o.widthModel.calculated&&(a=o.marginInfo.width,s=o.target.columnWidth,s=Math.floor(s*i)-a,s=o.setWidth(s),h+=s+a);e.setContentWidth(h+e.paddingContext.getPaddingInfo().width)}return!n}}),Ext.define("Ext.resizer.SplitterTracker",{extend:"Ext.dd.DragTracker",requires:["Ext.util.Region"],enabled:!0,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var e;e=this.overlay=Ext.getBody().createChild({role:"presentation",cls:this.overlayCls,html:"&#160;"}),e.unselectable(),e.setSize(Ext.dom.Element.getDocumentWidth(),Ext.dom.Element.getDocumentHeight()),e.show()},getPrevCmp:function(){var e=this.getSplitter();return e.previousSibling(":not([hidden])")},getNextCmp:function(){var e=this.getSplitter();return e.nextSibling(":not([hidden])")},onBeforeStart:function(e){var t,n=this,i=n.getPrevCmp(),r=n.getNextCmp(),o=n.getSplitter().collapseEl,a=e.getTarget();return i&&r?o&&a===n.getSplitter().collapseEl.dom?!1:r.collapsed||i.collapsed?!1:(n.prevBox=i.getEl().getBox(),n.nextBox=r.getEl().getBox(),n.constrainTo=t=n.calculateConstrainRegion(),t?t:!1):!1},onStart:function(e){var t=this.getSplitter();this.createDragOverlay(),t.addCls(t.baseCls+"-active")},calculateConstrainRegion:function(){var e,t,n,i=this,r=i.getSplitter(),o=r.getWidth(),a=r.defaultSplitMin,s=r.orientation,l=i.prevBox,d=i.getPrevCmp(),u=i.nextBox,c=i.getNextCmp();return"vertical"===s?(n={prevCmp:d,nextCmp:c,prevBox:l,nextBox:u,defaultMin:a,splitWidth:o},e=new Ext.util.Region(l.y,i.getVertPrevConstrainRight(n),l.bottom,i.getVertPrevConstrainLeft(n)),t=new Ext.util.Region(u.y,i.getVertNextConstrainRight(n),u.bottom,i.getVertNextConstrainLeft(n))):(e=new Ext.util.Region(l.y+(d.minHeight||a),l.right,(d.maxHeight?l.y+d.maxHeight:u.bottom-(c.minHeight||a))+o,l.x),t=new Ext.util.Region((c.maxHeight?u.bottom-c.maxHeight:l.y+(d.minHeight||a))-o,u.right,u.bottom-(c.minHeight||a),u.x)),e.intersect(t)},performResize:function(e,t){for(var n,i,r=this,o=r.getSplitter(),a=o.orientation,s=r.getPrevCmp(),l=r.getNextCmp(),d=o.ownerCt,u=d.query(">[flex]"),c=u.length,h="vertical"===a,f=0,g=h?"width":"height",p=0;c>f;f++)n=u[f],i=h?n.getWidth():n.getHeight(),p+=i,n.flex=i;t=h?t[0]:t[1],s&&(i=r.prevBox[g]+t,s.flex?s.flex=i:s[g]=i),l&&(i=r.nextBox[g]-t,l.flex?l.flex=i:l[g]=i),d.updateLayout()},endDrag:function(){var e=this;e.overlay&&(e.overlay.destroy(),delete e.overlay),e.callParent(arguments)},onEnd:function(e){var t=this,n=t.getSplitter();n.removeCls(n.baseCls+"-active"),t.performResize(e,t.getResizeOffset())},onDrag:function(e){var t=this,n=t.getOffset("dragTarget"),i=t.getSplitter(),r=i.getEl(),o=i.orientation;"vertical"===o?r.setX(t.startRegion.left+n[0]):r.setY(t.startRegion.top+n[1])},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(e){return(e.prevCmp.maxWidth?e.prevBox.x+e.prevCmp.maxWidth:e.nextBox.right-(e.nextCmp.minWidth||e.defaultMin))+e.splitWidth},getVertPrevConstrainLeft:function(e){return e.prevBox.x+(e.prevCmp.minWidth||e.defaultMin)},getVertNextConstrainRight:function(e){return e.nextBox.right-(e.nextCmp.minWidth||e.defaultMin)},getVertNextConstrainLeft:function(e){return(e.nextCmp.maxWidth?e.nextBox.right-e.nextCmp.maxWidth:e.prevBox.x+(e.prevBox.minWidth||e.defaultMin))-e.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}}),Ext.define("Ext.layout.container.ColumnSplitterTracker",{extend:"Ext.resizer.SplitterTracker",performResize:function(e,t){var n,i,r,o=this,a=o.getPrevCmp(),s=o.getNextCmp(),l=o.getSplitter(),d=l.ownerCt,u=t[0];a&&s&&(a.width=n=o.prevBox.width+u,s.width=i=o.nextBox.width-u,r=(a.columnWidth+s.columnWidth)/(n+i),a.columnWidth=n*r,s.columnWidth=i*r),l.el.dom.style.left="",d.updateLayout()}}),Ext.define("Ext.layout.container.ColumnSplitter",{extend:"Ext.resizer.Splitter",xtype:"columnsplitter",requires:["Ext.layout.container.ColumnSplitterTracker"],isSplitter:!0,synthetic:!0,cls:"x-splitter-vertical",orientation:"vertical",collapseDirection:"left",trackerClass:"Ext.layout.container.ColumnSplitterTracker",width:7,height:1,getTrackerConfig:function(){var e=this.callParent();return e.xclass=this.trackerClass,e}}),Ext.define("Ext.layout.container.SplitColumn",{extend:"Ext.layout.container.Column",alias:"layout.split-column",requires:["Ext.layout.container.ColumnSplitter"],type:"split-column",firstColumnCls:Ext.baseCSSPrefix+"split-column-first",lastColumnCls:Ext.baseCSSPrefix+"split-column-last",getSplitterConfig:function(){return{xtype:"columnsplitter"}},beginLayout:function(e){this.callParent([e]);var t,n,i,r,o,a,s,l=e.childItems,d=e.rows=[],u=l.length,c=2;for(n=0;u>n;++n)a=(t=l[n]).target,o=a.isSplitter,s=o?0:a.columnWidth,c+s>1&&(i&&(i.el.setHeight(0),i.orphan=1),c=0,d.push(r={index:d.length,items:[],maxHeight:0})),c+=s,r.items.push(t),t.row=r,o&&t.el.setHeight(1),i=t},beforeLayoutCycle:function(e){var t=this,n=t.owner.items;t.splitterGen!==n.generation&&(t.syncSplitters(),t.syncFirstLast(),t.splitterGen=n.generation),t.callParent(arguments)},finishedLayout:function(e){var t,n,i,r,o,a=e.childItems,s=a.length;for(this.callParent([e]),i=0;s>i;i+=2)r=(n=a[i]).target,t=r.lastBox,o=n.row,o.maxHeight=Math.max(o.maxHeight,t.height);for(i=1;s>i;i+=2)r=(n=a[i]).target,n.orphan||r.el.setHeight(n.row.maxHeight)},syncSplitters:function(){for(var e,t,n=this,i=n.owner,r=i.items.items,o=r.length,a=!0,s=!1;o-->0;)e=r[o],s?e.isSplitter?s=!1:(a&&(a=!1,i.suspendLayouts()),t=i.add(o+1,n.getSplitterConfig())):e.isSplitter?(a&&(a=!1,i.suspendLayouts()),i.remove(e)):s=!0;for(;r.length&&(e=r[0]).isSplitter;)a&&(a=!1,i.suspendLayouts()),i.remove(e);a||i.resumeLayouts()},syncFirstLast:function(){var e,t,n,i=this,r=i.owner.items.items,o=i.firstColumnCls,a=i.lastColumnCls,s=r.length,l=[o,a];for(e=0;s>e;e+=2)t=r[e],n=e===s-1,e?n?(t.addCls(a),t.removeCls(o)):t.removeCls(l):n?t.addCls(l):(t.addCls(o),t.removeCls(a))}}),Ext.define("Ext.dashboard.DropZone",{extend:"Ext.dd.DropTarget",ddScrollConfig:{vthresh:50,hthresh:-1,animate:!0,increment:200},overClass:"x-dashboard-dd-over",constructor:function(e,t){this.dashboard=e,Ext.dd.ScrollManager.register(e.body),this.callParent([e.body,t]),e.body.ddScrollConfig=this.ddScrollConfig},getOverEvent:function(e,t,n){var i,r,o,a,s,l,d,u,c,h=this.dashboard,f=h.items.items,g=h.body.getBox(),p=f.length,m=t.getXY(),x=m[0]-g.x,E=m[1]-g.y,v={columnIndex:0,column:f[0],dashboard:h,above:null,extensible:(f.length+1)/2<(h.maxColumns||1),beforeAfter:0,data:n,panel:n.panel,rawEvent:t,source:e,status:this.dropAllowed};if(0>x&&v.extensible)v.beforeAfter=-1;else if(x>g.width)v.beforeAfter=v.extensible?1:0,v.columnIndex=p-1;else for(o=0;p>o;o+=2){if(s=f[o],l=s.lastBox.width,f[o+1]&&(l+=f[o+1].lastBox.width),l>x){if(v.columnIndex=o,v.column=s,u=s.items.items,i=Math.min(80,.2*l),v.beforeAfter=i=v.extensible&&(i>x?-1:x>l-i?1:0),!i||!v.extensible)for(a=0,d=u.length;d>a;++a){if(c=u[a],r=c.el.getHeight(),r/2>E){v.above=c;break}E-=r}break}x-=l}return v},notifyOver:function(e,t,n){var i,r,o,a=this,s=a.dashboard,l=a.getOverEvent(e,t,n),d=l.column.el,u=e.proxy,c=l.above;return n.lastOver=l,s.fireEvent("validatedrop",l)!==!1&&s.fireEvent("beforedragover",l)!==!1&&(i=e.panelProxy.getProxy(),u.getProxy().setWidth("auto"),l.beforeAfter?(e.panelProxy.moveProxy(d.dom,d.dom.firstChild),r=d.getWidth(),o=r/2,i.setWidth(o)):(c?e.panelProxy.moveProxy(c.el.dom.parentNode,c.el.dom):e.panelProxy.moveProxy(d.dom,null),i.setWidth("auto")),l.beforeAfter>0?i.setStyle("margin-left",r-o-d.getPadding("lr")+"px"):i.setStyle("margin-left",""),this.scrollPos=s.body.getScroll(),s.fireEvent("dragover",l)),l.status},notifyDrop:function(e,t,n){this.callParent(arguments);var i,r,o=this.dashboard,a=n.lastOver,s=a.panel,l=a.beforeAfter,d=s.ownerCt,u=a.column,c=d.items.indexOf(s),h=a.above?u.items.indexOf(a.above):u.items.getCount();if(d===u){if(1===d.items.getCount())return;if(!l&&(h>c&&--h,c===h))return}o.fireEvent("validatedrop",a)!==!1&&o.fireEvent("beforedrop",a)!==!1&&(Ext.suspendLayouts(),s.isMoving=!0,l&&(i=o.items.indexOf(u),l>0&&++i,r=o.createColumn(),r.columnWidth=u.columnWidth=u.columnWidth/2,u=o.insert(i,r),h=0),s.el.dom.style.display="",u.insert(h,s),0===d.items.getCount()&&(u.columnWidth+=d.columnWidth),s.isMoving=!1,s.updateLayout(),Ext.resumeLayouts(!0),o.fireEvent("drop",a))},unreg:function(){Ext.dd.ScrollManager.unregister(this.dashboard.body),this.callParent()}}),Ext.define("Ext.dashboard.Part",{mixins:["Ext.mixin.Factoryable","Ext.mixin.Identifiable"],requires:["Ext.util.ObjectTemplate"],alias:"part.part",factoryConfig:{type:"part"},isPart:!0,_lastId:0,config:{id:null,dashboard:null,viewTemplate:{collapsed:"{collapsed}",columnIndex:"{columnIndex}",id:"{id}",title:"{title}",height:"{height}"}},viewTemplateOptions:{excludeProperties:{bind:1}},valueRe:/^[{][a-z]*[}]$/i,constructor:function(e){this.initConfig(e)},applyViewTemplate:function(e){return Ext.isObject(e)||Ext.Error.raise("The viewTemplate for "+this.$className+" is not an Object"),Ext.util.ObjectTemplate.create(e,this.viewTemplateOptions)},displayForm:function(e,t,n,i){n.call(i||this,{})},createView:function(e){var t=this,n=t.getViewTemplate(),i=n.apply(e);return i.dashboard=t.getDashboard(),i.part=t,i._partConfig=e,i}}),Ext.define("Ext.dashboard.Dashboard",{extend:"Ext.panel.Panel",xtype:"dashboard",requires:["Ext.layout.container.SplitColumn","Ext.dashboard.DropZone","Ext.dashboard.Column","Ext.dashboard.Part"],isDashboard:!0,cls:Ext.baseCSSPrefix+"dashboard",bodyCls:Ext.baseCSSPrefix+"dashboard-body",firstColumnCls:Ext.baseCSSPrefix+"dashboard-column-first",lastColumnCls:Ext.baseCSSPrefix+"dashboard-column-last",defaultType:"dashboard-column",autoScroll:!0,layout:null,stateful:!0,idSeed:1,maxColumns:4,config:{parts:null},initComponent:function(){var e=this;e.layout||(e.layout={type:"split-column",firstColumnCls:e.firstColumnCls,lastColumnCls:e.lastColumnCls}),e.callParent()},applyParts:function(e,t){t||(t=new Ext.util.Collection({decoder:Ext.Factory.part}));var n,i;for(n in e)i=e[n],Ext.isString(i)&&(i={type:i}),i.id=n,i.dashboard=this,t.add(i);return t},getPart:function(e){var t=this.getParts();return t.getByKey(e)},addNew:function(e){var t=this,n=t.getPart(e);n.displayForm(null,null,function(n){n.type=e,t.addView(n)})},addView:function(e,t,n){var i,r=this,o=r.items,a=o.getCount(),s=t||0,l=e.id?e:r.createView(e),d=r.columnWidths;return s>=a&&(s=a-1,n=1),n?(n>0&&++s,i=r.createColumn(),d&&(i.columnWidth=d[s]),i.items||(i.items=[]),i.items.push(l),i=r.add(s,i),o=i.items,o.getAt(o.getCount()-1)):(i=o.getAt(s),i.add(l))},createColumn:function(e){return Ext.apply({items:[],bubbleEvents:["add","remove","move","resize"],listeners:{remove:this.onRemoveItem,scope:this}},e)},createView:function(e){var t=this,n=e.type,i=t.getPart(n),r=i.createView(e);return r.id||(r.id=t.id+"_"+n+t.idSeed++),r},initEvents:function(){this.callParent(),this.dd=new Ext.dashboard.DropZone(this,this.dropConfig)},beforeDestroy:function(){this.dd&&this.dd.unreg(),this.callParent()},applyState:function(e){delete e.items,this.callParent([e]);var t,n,i=e.columnWidths,r=this.items.items,o=r.length;if(i)for(n=i.length,t=0;o>t;++t)r[t].columnWidth=n>t?i[t]:1/o},getState:function(){var e,t,n=this,i=[],r=n.items.items,o=n.callParent()||{},a=r.length;for(e=0;a>e;++e)(t=r[e]).isSplitter||i.push(t.columnWidth);return o.columnWidths=i,o.idSeed=n.idSeed,o.items=n.serializeItems(),o},initItems:function(){var e,t=this,n=t.defaultContent;t.stateful&&(e=Ext.state.Manager.get(t.getStateId()),n=e&&e.items||n),!t.items&&n&&(t.items=t.deserializeItems(n)),t.callParent()},deserializeItems:function(e){var t,n,i,r,o,a=this,s=e.length,l=[],d=a.columnWidths,u=a.maxColumns;for(i=0;s>i;++i)o=e[i],n=Math.min(o.columnIndex||0,u-1),delete o.columnIndex,(t=l[n])||(l[n]=t=a.createColumn(),d&&(t.columnWidth=d[n])),r=a.createView(o),t.items.push(r);for(i=0,s=l.length;s>i;++i)t=l[i],t.columnWidth||(t.columnWidth=1/s);return l},serializeItem:function(e){return Ext.apply({type:e.part.id,id:e.id,columnIndex:e.columnIndex},e._partConfig)},serializeItems:function(){var e,t,n,i,r,o,a=this,s=a.items.items,l=s.length,d=[],u=0;for(n=0;l>n;++n)if(i=s[n],!i.isSplitter){for(t=i.items.items,r=0,o=t.length;o>r;++r)e=t[r],e.columnIndex=u,d.push(a.serializeItem(e));++u}return d},onRemoveItem:function(e,t){t.isMoving||Ext.state.Manager.clear(t.getStateId())}}),Ext.define("Ext.dom.Layer",{extend:"Ext.Element",uses:["Ext.Shadow"],alternateClassName:"Ext.Layer",isLayer:!0,localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(e,t){e=e||{};var n,i,r,o=this,a=Ext.DomHelper,s=e.parentEl,l=s?Ext.getDom(s):document.body,d=e.hideMode,u=Ext.baseCSSPrefix+(e.fixed?"fixed-layer":"layer");t&&(n=Ext.getDom(t),n.parentNode||l.appendChild(n)),n||(n=a.append(l,e.dh||{tag:"div",cls:u})),e.id&&(n.id=e.id),i=n.id,i&&(r=Ext.cache[i],r&&(delete Ext.cache[i],r.dom=null)),this.callParent([n]),t&&o.addCls(u),e.preventSync&&(o.preventSync=!0),e.cls&&o.addCls(e.cls),o.constrain=e.constrain!==!1,d?o.setVisibilityMode(Ext.Element[d.toUpperCase()]):e.useDisplay?o.setVisibilityMode(Ext.Element.DISPLAY):o.setVisibilityMode(Ext.Element.VISIBILITY),e.shadow?(o.shadowOffset=e.shadowOffset||4,o.shadow=new Ext.Shadow({offset:o.shadowOffset,mode:e.shadow,fixed:e.fixed}),o.disableShadow()):o.shadowOffset=0,e.hidden===!0?o.hide():e.hidden===!1&&o.show()},getZIndex:function(){return parseInt(this.getStyle("z-index"),10)},disableShadow:function(){var e=this;e.shadow&&!e.shadowDisabled&&(e.shadowDisabled=!0,e.shadow.hide(),e.lastShadowOffset=e.shadowOffset,e.shadowOffset=0)},enableShadow:function(e){var t=this;t.shadow&&t.shadowDisabled&&(t.shadowDisabled=!1,
t.shadowOffset=t.lastShadowOffset,delete t.lastShadowOffset,e&&t.sync(!0))},sync:function(e){var t,n,i,r,o,a=this,s=a.shadow;if(!a.preventSync)return!a.updating&&a.isVisible()&&s&&(t=a[a.localXYNames.get](),n=t[0],i=t[1],r=a.dom.offsetWidth,o=a.dom.offsetHeight,s&&!a.shadowDisabled&&(e&&!s.isVisible()?s.show(a):s.realign(n,i,r,o))),a},destroy:function(){this.hideUnders(),this.callParent()},beginUpdate:function(){this.updating=!0},endUpdate:function(){this.updating=!1,this.sync(!0)},hideUnders:function(){this.shadow&&this.shadow.hide()},constrainXY:function(){if(this.constrain){var e=Ext.Element.getViewportWidth(),t=Ext.Element.getViewportHeight(),n=Ext.getDoc().getScroll(),i=this.getXY(),r=i[0],o=i[1],a=this.shadowOffset,s=this.dom.offsetWidth+a,l=this.dom.offsetHeight+a,d=!1;r+s>e+n.left&&(r=e-s-a,d=!0),o+l>t+n.top&&(o=t-l-a,d=!0),r<n.left&&(r=n.left,d=!0),o<n.top&&(o=n.top,d=!0),d&&(Ext.Layer.superclass.setXY.call(this,[r,o]),this.sync())}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(e,t,n,i,r){var o,a=this;return o=function(){e&&a.sync(!0),i&&i()},e||a.hideUnders(!0),a.callParent([e,t,n,i,r]),t||o(),a},beforeFx:function(){return this.beforeAction(),this.callParent(arguments)},afterFx:function(){this.callParent(arguments),this.sync(this.isVisible())},beforeAction:function(){!this.updating&&this.shadow&&this.shadow.hide()},setLeft:function(e){return this.callParent(arguments),this.sync()},setTop:function(e){return this.callParent(arguments),this.sync()},setLeftTop:function(e,t){return this.callParent(arguments),this.sync()},setLocalX:function(){return this.callParent(arguments),this.sync()},setLocalXY:function(){return this.callParent(arguments),this.sync()},setLocalY:function(){return this.callParent(arguments),this.sync()},setXY:function(e,t,n,i,r){var o=this;return i=o.createCB(i),o.fixDisplay(),o.beforeAction(),o.callParent([e,t,n,i,r]),t||i(),o},createCB:function(e){var t=this,n=t.shadow&&t.shadow.isVisible();return function(){t.constrainXY(),t.sync(n),e&&e()}},setX:function(e,t,n,i,r){return this.setXY([e,this.getY()],t,n,i,r),this},setY:function(e,t,n,i,r){return this.setXY([this.getX(),e],t,n,i,r),this},setSize:function(e,t,n,i,r,o){var a=this;return r=a.createCB(r),a.beforeAction(),a.callParent([e,t,n,i,r,o]),n||r(),a},setWidth:function(e,t,n,i,r){var o=this;return i=o.createCB(i),o.beforeAction(),o.callParent([e,t,n,i,r]),t||i(),o},setHeight:function(e,t,n,i,r){var o=this;return i=o.createCB(i),o.beforeAction(),o.callParent([e,t,n,i,r]),t||i(),o},setZIndex:function(e){var t=this;return t.zindex=e,t.shadow&&t.shadow.setZIndex(e),t.setStyle("z-index",e)},onOpacitySet:function(e){var t=this.shadow;t&&t.setOpacity(e)},deprecated:{4.2:{setBounds:function(e,t,n,i,r,o,a,s){var l=this;return a=l.createCB(a),l.beforeAction(),r?l.callParent([e,t,n,i,r,o,a,s]):(Ext.Layer.superclass.setXY.call(l,[e,t]),Ext.Layer.superclass.setSize.call(l,n,i),a()),l}}}}),Ext.define("Ext.flash.Component",{extend:"Ext.Component",alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:!1,renderTpl:['<div id="{swfId}" role="presentation"></div>'],initComponent:function(){"swfobject"in window||Ext.Error.raise("The SWFObject library is not loaded. Ext.flash.Component requires SWFObject version 2.2 or later: http://code.google.com/p/swfobject/"),this.url||Ext.Error.raise('The "url" config is required for Ext.flash.Component'),this.callParent()},beforeRender:function(){this.callParent(),Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var e=this,t=Ext.apply({},e.flashParams),n=Ext.apply({},e.flashVars);e.callParent(),t=Ext.apply({allowScriptAccess:"always",bgcolor:e.backgroundColor,wmode:e.wmode},t),n=Ext.apply({allowedDomain:document.location.hostname},n),new swfobject.embedSWF(e.url,e.getSwfId(),e.swfWidth,e.swfHeight,e.flashVersion,e.expressInstall?e.statics.EXPRESS_INSTALL_URL:void 0,n,t,e.flashAttributes,e.swfCallback.bind(e))},swfCallback:function(e){var t=this;e.success?(t.swf=Ext.get(e.ref),t.onSuccess(),t.fireEvent("success",t)):(t.onFailure(),t.fireEvent("failure",t))},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,beforeDestroy:function(){var e=this,t=e.swf;t&&(swfobject.removeSWF(e.getSwfId()),Ext.destroy(t),delete e.swf),e.callParent()},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}}),Ext.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",submitEmptyText:!0,constructor:function(e){e&&Ext.apply(this,e);var t=e.params;Ext.isString(t)&&(this.params=Ext.Object.fromQueryString(t))},run:Ext.emptyFn,onFailure:function(e){this.response=e,this.failureType=Ext.form.action.Action.CONNECT_FAILURE,this.form.afterAction(this,!1)},processResponse:function(e){return this.response=e,e.responseText||e.responseXML?this.result=this.handleResponse(e):!0},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var e,t=this,n=t.form;return{success:t.onSuccess,failure:t.onFailure,scope:t,timeout:1e3*this.timeout||1e3*n.timeout,upload:n.fileUpload?t.onSuccess:e}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}}),Ext.define("Ext.form.action.Load",{extend:"Ext.form.action.Action",requires:["Ext.data.Connection"],alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(e){var t=this.processResponse(e),n=this.form;return t!==!0&&t.success&&t.data?(n.clearInvalid(),n.setValues(t.data),void n.afterAction(this,!0)):(this.failureType=Ext.form.action.Action.LOAD_FAILURE,void n.afterAction(this,!1))},handleResponse:function(e){var t,n,i=this.form.reader;return i?(t=i.read(e),n=t.records&&t.records[0]?t.records[0].data:null,{success:t.success,data:n}):Ext.decode(e.responseText)}}),Ext.define("Ext.form.action.Submit",{extend:"Ext.form.action.Action",alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var e=this,t=e.form;e.clientValidation===!1||t.isValid()?e.doSubmit():(e.failureType=Ext.form.action.Action.CLIENT_INVALID,t.afterAction(e,!1))},doSubmit:function(){var e,t=this,n=Ext.apply(t.createCallback(),{url:t.getUrl(),method:t.getMethod(),headers:t.headers}),i=t.form,r=t.jsonSubmit||i.jsonSubmit,o=r?"jsonData":"params";i.hasUpload()?(e=t.buildForm(),n.form=e.formEl,n.isUpload=!0):n[o]=t.getParams(r),Ext.Ajax.request(n),e&&t.cleanup(e)},cleanup:function(e){var t,n,i=e.formEl,r=e.uploadEls,o=e.uploadFields,a=o.length;for(t=0;a>t;++t)n=o[t],n.clearOnSubmit||n.restoreInput(r[t]);i&&Ext.removeNode(i)},getParams:function(e){var t=!1,n=this.callParent(),i=this.form.getValues(t,t,this.submitEmptyText!==t,e,!0);return Ext.apply({},i,n)},buildForm:function(){var e,t,n,i,r,o,a,s,l,d=this,u=[],c=d.form,h=d.getParams(),f=[],g=[],p=c.getFields().items,m=p.length;for(n=0;m>n;++n)i=p[n],i.isFileUpload()&&f.push(i);for(r in h)if(h.hasOwnProperty(r))if(o=h[r],Ext.isArray(o))for(s=o.length,a=0;s>a;a++)u.push(d.getFieldConfig(r,o[a]));else u.push(d.getFieldConfig(r,o));for(e={tag:"form",role:"presentation",action:d.getUrl(),method:d.getMethod(),target:d.target||"_self",style:"display:none",cn:u},f.length&&(e.encoding=e.enctype="multipart/form-data"),t=Ext.DomHelper.append(Ext.getBody(),e),m=f.length,n=0;m>n;++n)l=f[n].extractFileInput(),t.appendChild(l),g.push(l);return{formEl:t,uploadFields:f,uploadEls:g}},getFieldConfig:function(e,t){return{tag:"input",type:"hidden",name:e,value:Ext.String.htmlEncode(t)}},onSuccess:function(e){var t=this.form,n=!0,i=this.processResponse(e);i===!0||i.success||(i.errors&&t.markInvalid(i.errors),this.failureType=Ext.form.action.Action.SERVER_INVALID,n=!1),t.afterAction(this,n)},handleResponse:function(e){var t,n,i,r,o,a,s=this.form,l=s.errorReader;if(l){if(t=l.read(e),o=t.records,n=[],o)for(i=0,r=o.length;r>i;i++)n[i]=o[i].data;n.length<1&&(n=null),a={success:t.success,errors:n}}else try{a=Ext.decode(e.responseText)}catch(d){a={success:!1,errors:[]}}return a}}),Ext.define("Ext.form.field.TextArea",{extend:"Ext.form.field.Text",alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",requires:["Ext.XTemplate","Ext.util.DelayedTask"],fieldSubTpl:['<textarea id="{id}" role="{role}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:!0}],growMin:60,growMax:1e3,growAppend:"\n-",enterIsSpecial:!1,preventScrollbars:!1,setGrowSizePolicy:Ext.emptyFn,returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",extraFieldBodyCls:Ext.baseCSSPrefix+"form-textarea-body",constructor:function(e){this.callParent([e]),this.cols&&Ext.log.warn('Ext.form.field.TextArea "cols" config was removed in Ext 5.0. Please specify a "width" or use a layout instead.'),this.rows&&Ext.log.warn('Ext.form.field.TextArea "rows" config was removed in Ext 5.0. Please specify a "height" or use a layout instead.')},getSubTplData:function(){var e=this,t=e.getFieldStyle(),n=e.callParent();return e.grow&&e.preventScrollbars&&(n.fieldStyle=(t||"")+";overflow:hidden;height:"+e.growMin+"px"),n},afterRender:function(){var e=this;e.callParent(arguments),e.needsMaxCheck=e.enforceMaxLength&&e.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength,e.needsMaxCheck&&e.inputEl.on("paste",e.onPaste,e)},transformRawValue:function(e){return this.stripReturns(e)},getValue:function(){return this.stripReturns(this.callParent())},valueToRaw:function(e){return e=this.stripReturns(e),this.callParent([e])},stripReturns:function(e){return e&&"string"==typeof e&&(e=e.replace(this.returnRe,"")),e},onPaste:function(){var e=this;e.pasteTask||(e.pasteTask=new Ext.util.DelayedTask(e.pasteCheck,e)),e.pasteTask.delay(1)},pasteCheck:function(){var e=this,t=e.getValue(),n=e.maxLength;t.length>n&&(t=t.substr(0,n),e.setValue(t))},fireKey:function(e){var t,n=this,i=e.getKey();e.isSpecialKey()&&(n.enterIsSpecial||i!==e.ENTER||e.hasModifier())&&n.fireEvent("specialkey",n,e),!n.needsMaxCheck||i===e.BACKSPACE||i===e.DELETE||e.isNavKeyPress()||n.isCutCopyPasteSelectAll(e,i)||(t=n.getValue(),t.length>=n.maxLength&&e.stopEvent())},isCutCopyPasteSelectAll:function(e,t){return e.ctrlKey?t===e.A||t===e.C||t===e.V||t===e.X:!1},autoSize:function(){var e,t,n,i,r=this;r.grow&&r.rendered&&(e=r.inputEl,n=e.getWidth(!0),i=Ext.util.Format.htmlEncode(e.dom.value)||"&#160;",i+=r.growAppend,i=i.replace(/\n/g,"<br/>"),t=Ext.util.TextMetrics.measure(e,i,n).height+e.getPadding("tb")+r.inputWrap.getBorderWidth("tb")+r.triggerWrap.getBorderWidth("tb"),t=Math.min(Math.max(t,r.growMin),r.growMax),r.bodyEl.setHeight(t),r.updateLayout(),r.fireEvent("autosize",r,t))},beforeDestroy:function(){var e=this.pasteTask;e&&(e.cancel(),this.pasteTask=null),this.callParent()}}),Ext.define("Ext.window.MessageBox",{extend:"Ext.window.Window",requires:["Ext.toolbar.Toolbar","Ext.form.field.Text","Ext.form.field.TextArea","Ext.form.field.Display","Ext.button.Button","Ext.layout.container.Anchor","Ext.layout.container.HBox","Ext.ProgressBar"],alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:!1,autoScroll:!0,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:!0,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hidden-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:!0,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},baseIconCls:Ext.baseCSSPrefix+"message-box-icon",ariaRole:"alertdialog",makeButton:function(e){var t=this.buttonIds[e];return new Ext.button.Button({handler:this.btnCallback,itemId:t,scope:this,text:this.buttonText[t],minWidth:75})},btnCallback:function(e){var t,n,i=this;(i.cfg.prompt||i.cfg.multiline)&&(n=i.cfg.multiline?i.textArea:i.textField,t=n.getValue(),n.reset()),i.hide(),i.userCallback(e.itemId,t,i.cfg)},hide:function(){var e=this,t=e.cfg?e.cfg.cls:"";e.progressBar.reset(),t&&e.removeCls(t),e.callParent(arguments)},constructor:function(e){var t=this;t.callParent(arguments),t.minWidth=t.defaultMinWidth=t.minWidth||t.defaultMinWidth,t.maxWidth=t.defaultMaxWidth=t.maxWidth||t.defaultMaxWidth,t.minHeight=t.defaultMinHeight=t.minHeight||t.defaultMinHeight,t.maxHeight=t.defaultMaxHeight=t.maxHeight||t.defaultMaxHeight},initComponent:function(e){var t,n,i=this,r=i.id;for(i.title=i.title||"&#160;",i.iconCls=i.iconCls||"",i.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[i.iconComponent=new Ext.Component({cls:i.baseIconCls}),i.promptContainer=new Ext.container.Container({flex:1,layout:{type:"vbox",align:"stretch"},items:[i.msg=new Ext.form.field.Display({id:r+"-displayfield",cls:i.baseCls+"-text"}),i.textField=new Ext.form.field.Text({id:r+"-textfield",enableKeyEvents:!0,listeners:{keydown:i.onPromptKey,scope:i}}),i.textArea=new Ext.form.field.TextArea({id:r+"-textarea",height:75})]})]}),i.progressBar=new Ext.ProgressBar({id:r+"-progressbar",margin:"0 10 10 10"}),i.items=[i.topContainer,i.progressBar],i.msgButtons=[],t=0;4>t;t++)n=i.makeButton(t),i.msgButtons[n.itemId]=n,i.msgButtons.push(n);i.bottomTb=new Ext.toolbar.Toolbar({id:r+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[i.msgButtons[0],i.msgButtons[1],i.msgButtons[2],i.msgButtons[3]]}),i.dockedItems=[i.bottomTb],i.on("close",i.onClose,i),i.callParent()},onClose:function(){var e=this.header.child("[type=close]");e.itemId="cancel",this.btnCallback(e),delete e.itemId},onPromptKey:function(e,t){var n=this;(t.keyCode===t.RETURN||10===t.keyCode)&&(n.msgButtons.ok.isVisible()?n.msgButtons.ok.handler.call(n,n.msgButtons.ok):n.msgButtons.yes.isVisible()&&n.msgButtons.yes.handler.call(n,n.msgButtons.yes))},reconfigure:function(e){var t,n,i,r,o,a,s,l,d,u,c=this,h=0,f=!0,g=c.buttonText,p=c.resizer,m=c.header,x=m&&!m.isHeader,E=e&&(e.message||e.msg);for(c.updateButtonText(),c.cfg=e=e||{},e.width&&(n=e.width),e.height&&(i=e.height),c.minWidth=e.minWidth||c.defaultMinWidth,c.maxWidth=e.maxWidth||c.defaultMaxWidth,c.minHeight=e.minHeight||c.defaultMinHeight,c.maxHeight=e.maxHeight||c.defaultMaxHeight,p&&(t=p.resizeTracker,p.minWidth=t.minWidth=c.minWidth,p.maxWidth=t.maxWidth=c.maxWidth,p.minHeight=t.minHeight=c.minHeight,p.maxHeight=t.maxHeight=c.maxHeight),delete c.defaultFocus,e.defaultFocus&&(c.defaultFocus=e.defaultFocus),c.animateTarget=e.animateTarget||void 0,c.modal=e.modal!==!1,c.setTitle(e.title||x&&m.title||c.title),c.setIconCls(e.iconCls||x&&m.iconCls||c.iconCls),Ext.isObject(e.buttons)?(c.buttonText=e.buttons,h=0):(c.buttonText=e.buttonText||c.buttonText,h=Ext.isNumber(e.buttons)?e.buttons:0),h|=c.updateButtonText(),c.buttonText=g,Ext.suspendLayouts(),delete c.width,delete c.height,(n||i)&&(n&&c.setWidth(n),i&&c.setHeight(i)),c.hidden=!1,c.rendered||c.render(Ext.getBody()),c.closable=e.closable!==!1&&!e.wait,m=c.header,m&&(m.child("[type=close]").setVisible(c.closable),e.title||c.closable||e.iconCls?m.show():m.hide()),c.liveDrag=!e.proxyDrag,c.userCallback=Ext.Function.bindCallback(e.callback||e.fn||Ext.emptyFn,e.scope||Ext.global),c.setIcon(e.icon),s=c.msg,E?(s.setValue(E),s.show()):s.hide(),o=c.textArea,a=c.textField,e.prompt||e.multiline?(c.multiline=e.multiline,e.multiline?(o.setValue(e.value),o.setHeight(e.defaultTextHeight||c.defaultTextHeight),o.show(),a.hide(),c.defaultFocus=o):(a.setValue(e.value),o.hide(),a.show(),c.defaultFocus=a)):(o.hide(),a.hide()),l=c.progressBar,e.progress||e.wait?(l.show(),c.updateProgress(0,e.progressText),u=e.wait,u===!0&&(e=e.waitConfig),u&&l.wait(u)):l.hide(),d=c.msgButtons,r=0;4>r;r++)h&Math.pow(2,r)?(c.defaultFocus||(c.defaultFocus=d[r]),d[r].show(),f=!1):d[r].hide();f?c.bottomTb.hide():c.bottomTb.show(),Ext.resumeLayouts(!0)},updateButtonText:function(){var e,t,n=this,i=n.buttonText,r=0;for(e in i)i.hasOwnProperty(e)&&(t=n.msgButtons[e],t&&(n.cfg&&n.cfg.buttonText&&(r|=Math.pow(2,Ext.Array.indexOf(n.buttonIds,e))),t.text!=i[e]&&t.setText(i[e])));return r},show:function(e){var t,n=this;return e=e||{},Ext.Component.layoutSuspendCount?(Ext.on({resumelayouts:function(){n.show(e)},single:!0}),n):(n.reconfigure(e),e.cls&&n.addCls(e.cls),t=n.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])"),n.preventFocusOnActivate=!t.length,n.hidden=!0,n.callParent(),n)},onShow:function(){this.callParent(arguments),this.center()},updateText:function(e){this.msg.setValue(e)},setIcon:function(e,t,n){var i=this,r=i.iconComponent,o=i.messageIconCls;return o&&r.removeCls(o),e?(r.show(),(t||n)&&r.setSize(t||r.getWidth(),n||r.getHeight()),r.addCls(Ext.baseCSSPrefix+"dlg-icon"),r.addCls(i.messageIconCls=e)):(r.removeCls(Ext.baseCSSPrefix+"dlg-icon"),r.hide()),i},updateProgress:function(e,t,n){return this.progressBar.updateProgress(e,t),n&&this.updateText(n),this},onEsc:function(){this.closable!==!1&&this.callParent(arguments)},confirm:function(e,t,n,i){return Ext.isString(e)&&(e={title:e,icon:this.QUESTION,message:t,buttons:this.YESNO,callback:n,scope:i}),this.show(e)},prompt:function(e,t,n,i,r,o){return Ext.isString(e)&&(e={prompt:!0,title:e,minWidth:this.minPromptWidth,message:t,buttons:this.OKCANCEL,callback:n,scope:i,multiline:r,value:o}),this.show(e)},wait:function(e,t,n){return Ext.isString(e)&&(e={title:t,message:e,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:n}),this.show(e)},alert:function(e,t,n,i){return Ext.isString(e)&&(e={title:e,message:t,buttons:this.OK,fn:n,scope:i,minWidth:this.minWidth}),this.show(e)},progress:function(e,t,n){return Ext.isString(e)&&(e={title:e,message:t,progress:!0,progressText:n}),this.show(e)}},function(){Ext.MessageBox=Ext.Msg=new this}),Ext.define("Ext.form.Basic",{extend:"Ext.util.Observable",alternateClassName:"Ext.form.BasicForm",requires:["Ext.util.MixedCollection","Ext.form.action.Load","Ext.form.action.Submit","Ext.window.MessageBox","Ext.data.ErrorCollection","Ext.util.DelayedTask"],taskDelay:10,constructor:function(e,t){var n,i=this;i.owner=e,i.checkValidityTask=new Ext.util.DelayedTask(i.checkValidity,i),i.checkDirtyTask=new Ext.util.DelayedTask(i.checkDirty,i),i.monitor=new Ext.container.Monitor({selector:"[isFormField]:not([excludeForm])",scope:i,addHandler:i.onFieldAdd,removeHandler:i.onFieldRemove,invalidateHandler:i.onMonitorInvalidate}),i.monitor.bind(e),Ext.apply(i,t),Ext.isString(i.paramOrder)&&(i.paramOrder=i.paramOrder.split(/[\s,|]/)),n=i.reader,n&&!n.isReader&&("string"==typeof n&&(n={type:n}),i.reader=Ext.createByAlias("reader."+n.type,n)),n=i.errorReader,n&&!n.isReader&&("string"==typeof n&&(n={type:n}),i.errorReader=Ext.createByAlias("reader."+n.type,n)),i.callParent()},initialize:function(){this.initialized=!0,this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:!1,waitTitle:"Please Wait...",trackResetOnLoad:!1,wasDirty:!1,destroy:function(){var e=this,t=e.monitor;t&&(t.unbind(),e.monitor=null),e.clearListeners(),e.checkValidityTask.cancel(),e.checkDirtyTask.cancel(),e.isDestroyed=!0},onFieldAdd:function(e){var t=this;t.mon(e,"validitychange",t.checkValidityDelay,t),t.mon(e,"dirtychange",t.checkDirtyDelay,t),t.onMonitorInvalidate()},onFieldRemove:function(e){var t=this;t.mun(e,"validitychange",t.checkValidityDelay,t),t.mun(e,"dirtychange",t.checkDirtyDelay,t),t.onMonitorInvalidate()},onMonitorInvalidate:function(){this.initialized&&this.checkValidityDelay()},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var e=this._boundItems;return e&&0!==e.getCount()||(e=this._boundItems=new Ext.util.MixedCollection,e.addAll(this.owner.query("[formBind]"))),e},hasInvalidField:function(){return!!this.getFields().findBy(function(e){var t,n=e.preventMark;return e.preventMark=!0,t=e.isValid(),e.preventMark=n,!t})},isValid:function(){var e,t=this;return Ext.suspendLayouts(),e=t.getFields().filterBy(function(e){return!e.validate()}),Ext.resumeLayouts(!0),e.length<1},checkValidity:function(){var e,t=this;t.isDestroyed||(e=!t.hasInvalidField(),e!==t.wasValid&&(t.onValidityChange(e),t.fireEvent("validitychange",t,e),t.wasValid=e))},checkValidityDelay:function(){var e=this.taskDelay;e?this.checkValidityTask.delay(e):this.checkValidity()},onValidityChange:function(e){var t,n,i,r,o=this.getBoundItems();if(o)for(t=o.items,i=t.length,n=0;i>n;n++)r=t[n],r.disabled===e&&r.setDisabled(!e)},isDirty:function(){return!!this.getFields().findBy(function(e){return e.isDirty()})},checkDirtyDelay:function(){var e=this.taskDelay;e?this.checkDirtyTask.delay(e):this.checkDirty()},checkDirty:function(){var e,t=this;t.isDestroyed||(e=this.isDirty(),e!==this.wasDirty&&(this.fireEvent("dirtychange",this,e),this.wasDirty=e))},hasUpload:function(){return!!this.getFields().findBy(function(e){return e.isFileUpload()})},doAction:function(e,t){return Ext.isString(e)&&(e=Ext.ClassManager.instantiateByAlias("formaction."+e,Ext.apply({},t,{form:this}))),this.fireEvent("beforeaction",this,e)!==!1&&(this.beforeAction(e),Ext.defer(e.run,100,e)),this},submit:function(e){e=e||{};var t,n=this;return t=e.standardSubmit||n.standardSubmit?"standardsubmit":n.api?"directsubmit":"submit",n.doAction(t,e)},load:function(e){return this.doAction(this.api?"directload":"load",e)},updateRecord:function(e){if(e=e||this._record,!e)return Ext.Error.raise("A record is required."),this;for(var t,n=e.self.fields,i=this.getFieldValues(),r={},o=0,a=n.length;a>o;++o)t=n[o].name,i.hasOwnProperty(t)&&(r[t]=i[t]);return e.beginEdit(),e.set(r),e.endEdit(),this},loadRecord:function(e){return this._record=e,this.setValues(e.getData())},getRecord:function(){return this._record},beforeAction:function(e){var t,n,i,r=this,o=e.waitMsg,a=Ext.baseCSSPrefix+"mask-loading",s=r.getFields().items,l=s.length;for(t=0;l>t;t++)n=s[t],n.isFormField&&n.syncValue&&n.syncValue();o&&(i=r.waitMsgTarget,i===!0?r.owner.el.mask(o,a):i?(i=r.waitMsgTarget=Ext.get(i),i.mask(o,a)):(r.floatingAncestor=r.owner.up("[floating]"),r.floatingAncestor&&(r.savePreventFocusOnActivate=r.floatingAncestor.preventFocusOnActivate,r.floatingAncestor.preventFocusOnActivate=!0),Ext.MessageBox.wait(o,e.waitTitle||r.waitTitle)))},afterAction:function(e,t){var n=this;if(e.waitMsg){var i=Ext.MessageBox,r=n.waitMsgTarget;r===!0?n.owner.el.unmask():r?r.unmask():i.hide()}n.floatingAncestor&&(n.floatingAncestor.preventFocusOnActivate=n.savePreventFocusOnActivate),t?(e.reset&&n.reset(),Ext.callback(e.success,e.scope||e,[n,e]),n.fireEvent("actioncomplete",n,e)):(Ext.callback(e.failure,e.scope||e,[n,e]),n.fireEvent("actionfailed",n,e))},findField:function(e){return this.getFields().findBy(function(t){return t.id===e||t.name===e||t.dataIndex===e})},markInvalid:function(e){function t(e,t){var n=s.findField(e);n&&n.markInvalid(t)}var n,i,r,o,a,s=this;if(Ext.isArray(e))for(i=e.length,n=0;i>n;n++)r=e[n],t(r.id,r.msg);else if(e instanceof Ext.data.ErrorCollection)for(i=e.items.length,n=0;i>n;n++)r=e.items[n],t(r.field,r.message);else for(a in e)e.hasOwnProperty(a)&&(o=e[a],t(a,o,e));return this},setValues:function(e){function t(e,t){var n=o.findField(e);n&&(n.setValue(t),o.trackResetOnLoad&&n.resetOriginalValue())}var n,i,r,o=this;if(Ext.suspendLayouts(),Ext.isArray(e))for(i=e.length,n=0;i>n;n++)r=e[n],t(r.id,r.value);else Ext.iterate(e,t);return Ext.resumeLayouts(!0),this},getValues:function(e,t,n,i,r){var o,a,s,l,d,u,c={},h=this.getFields().items,f=h.length,g=Ext.isArray;for(u=0;f>u;u++)if(o=h[u],(!t||o.isDirty())&&(a=o[i?"getModelData":"getSubmitData"](n,r),Ext.isObject(a)))for(d in a)a.hasOwnProperty(d)&&(s=a[d],n&&""===s&&(s=o.emptyText||""),o.isRadio?c[d]=c[d]||s:c.hasOwnProperty(d)?(l=c[d],g(l)||(l=c[d]=[l]),g(s)?c[d]=l.concat(s):l.push(s)):c[d]=s);return e&&(c=Ext.Object.toQueryString(c)),c},getFieldValues:function(e){return this.getValues(!1,e,!1,!0)},clearInvalid:function(){Ext.suspendLayouts();var e,t=this,n=t.getFields().items,i=n.length;for(e=0;i>e;e++)n[e].clearInvalid();return Ext.resumeLayouts(!0),t},reset:function(e){Ext.suspendLayouts();var t,n=this,i=n.getFields().items,r=i.length;for(t=0;r>t;t++)i[t].reset();return Ext.resumeLayouts(!0),e===!0&&delete n._record,n},applyToFields:function(e){var t,n=this.getFields().items,i=n.length;for(t=0;i>t;t++)Ext.apply(n[t],e);return this},applyIfToFields:function(e){var t,n=this.getFields().items,i=n.length;for(t=0;i>t;t++)Ext.applyIf(n[t],e);return this}}),Ext.define("Ext.form.FieldAncestor",{extend:"Ext.Mixin",requires:["Ext.container.Monitor"],mixinConfig:{id:"fieldAncestor",after:{initInheritedState:"initFieldInheritedState"}},initFieldAncestor:function(){var e=this;e.monitor=new Ext.container.Monitor({scope:e,selector:"[isFormField]:not([excludeForm])",addHandler:e.onChildFieldAdd,removeHandler:e.onChildFieldRemove}),e.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},initFieldInheritedState:function(e){var t=e.fieldDefaults,n=this.fieldDefaults;n&&(t?e.fieldDefaults=Ext.apply(Ext.Object.chain(t),n):e.fieldDefaults=n)},onChildFieldAdd:function(e){var t=this;t.mon(e,"errorchange",t.handleFieldErrorChange,t),t.mon(e,"validitychange",t.handleFieldValidityChange,t)},onChildFieldRemove:function(e){var t=this;t.mun(e,"errorchange",t.handleFieldErrorChange,t),t.mun(e,"validitychange",t.handleFieldValidityChange,t)},initFieldDefaults:function(){this.fieldDefaults||(this.fieldDefaults={})},handleFieldValidityChange:function(e,t){var n=this;e!==n&&(n.fireEvent("fieldvaliditychange",n,e,t),n.onFieldValidityChange(e,t))},handleFieldErrorChange:function(e,t){var n=this;e!==n&&(n.fireEvent("fielderrorchange",n,e,t),n.onFieldErrorChange(e,t))},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,beforeDestroy:function(){this.monitor.unbind(),this.callParent()}}),Ext.define("Ext.layout.component.field.FieldContainer",{extend:"Ext.layout.component.Auto",alias:"layout.fieldcontainer",type:"fieldcontainer",waitForOuterHeightInDom:!0,waitForOuterWidthInDom:!0,beginLayout:function(e){var t=this.owner;this.callParent(arguments),e.hasRawContent=!0,t.containerEl.setStyle("height",""),e.containerElContext=e.getEl("containerEl")},measureContentHeight:function(e){return e.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},measureContentWidth:function(e){return e.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},publishInnerHeight:function(e,t){var n=this.owner;"top"===n.labelAlign&&n.hasVisibleLabel()&&(t-=n.labelEl.getHeight()),"under"===n.msgTarget&&n.hasActiveError()&&(t-=n.errorWrapEl.getHeight()),t-=n.bodyEl.getPadding("tb"),e.containerElContext.setHeight(t,!1)},publishInnerWidth:function(e,t){var n=this.owner;"top"!==n.labelAlign&&n.hasVisibleLabel()&&(t-=n.labelWidth+(n.labelPad||0)),"side"===n.msgTarget&&n.hasActiveError()&&(t-=n.errorWrapEl.getWidth()),t-=n.bodyEl.getPadding("lr"),e.containerElContext.setWidth(t,!1)}}),Ext.define("Ext.form.FieldContainer",{extend:"Ext.container.Container",mixins:{labelable:"Ext.form.Labelable",fieldAncestor:"Ext.form.FieldAncestor"},requires:"Ext.layout.component.field.FieldContainer",alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",shrinkWrap:!0,customOverflowEl:"containerEl",childEls:["containerEl"],combineLabels:!1,labelConnector:", ",combineErrors:!1,maskOnDisable:!1,invalidCls:"",fieldSubTpl:['<div id="{id}-containerEl" data-ref="containerEl" class="{containerElCls}" role="presentation">',"{%this.renderContainer(out,values)%}","</div>"],initComponent:function(){var e=this;e.initLabelable(),e.initFieldAncestor(),e.callParent(),e.initMonitor()},onAdd:function(e){var t=this;e.isLabelable&&Ext.isGecko&&"absolute"===t.layout.type&&!t.hideLabel&&"top"!==t.labelAlign&&(e.x+=t.labelWidth+t.labelPad),t.callParent(arguments),e.isLabelable&&t.combineLabels&&(e.oldHideLabel=e.hideLabel,e.hideLabel=!0),t.updateLabel()},onRemove:function(e,t){var n=this;n.callParent(arguments),t||(e.isLabelable&&n.combineLabels&&(e.hideLabel=e.oldHideLabel),n.updateLabel())},initRenderData:function(){var e=this,t=e.callParent();return t.containerElCls=e.containerElCls,Ext.applyIf(t,e.getLabelableRenderData())},getFieldLabel:function(){var e=this.fieldLabel||"";return!e&&this.combineLabels&&(e=Ext.Array.map(this.query("[isFieldLabelable]"),function(e){return e.getFieldLabel()}).join(this.labelConnector)),e},getSubTplData:function(){var e=this.initRenderData();return Ext.apply(e,this.subTplData),e},getSubTplMarkup:function(){var e,t=this,n=t.getTpl("fieldSubTpl");return n.renderContent||t.setupRenderTpl(n),e=n.apply(t.getSubTplData())},updateLabel:function(){var e=this,t=e.labelEl;t&&e.setFieldLabel(e.getFieldLabel())},onFieldErrorChange:function(){if(this.combineErrors){var e=this,t=e.getActiveError(),n=Ext.Array.filter(e.query("[isFormField]"),function(e){return e.hasActiveError()}),i=e.getCombinedErrors(n);i?e.setActiveErrors(i):e.unsetActiveError(),t!==e.getActiveError()&&e.updateLayout()}},getCombinedErrors:function(e){var t,n,i,r,o,a,s,l=[],d=e.length;for(t=0;d>t;t++)for(n=e[t],i=n.getActiveErrors(),o=i.length,r=0;o>r;r++)a=i[r],s=n.getFieldLabel(),l.push((s?s+": ":"")+a);return l},privates:{applyTargetCls:function(e){var t=this.containerElCls;this.containerElCls=t?t+" "+e:e},getTargetEl:function(){return this.containerEl},initRenderTpl:function(){var e=this;return e.hasOwnProperty("renderTpl")||(e.renderTpl=e.getTpl("labelableRenderTpl")),e.callParent()}}}),Ext.define("Ext.layout.container.CheckboxGroup",{extend:"Ext.layout.container.Container",alias:["layout.checkboxgroup"],autoFlex:!0,type:"checkboxgroup",createsInnerCt:!0,childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" data-ref="innerCt" class="'+Ext.plainTableCls+'" cellpadding="0"','role="presentation" style="{tableStyle}"><tr role="presentation">','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}" role="presentation">',"{% this.renderColumn(out,parent,xindex-1) %}","</td>","</tpl>","</tr></table>"],lastOwnerItemsGeneration:null,beginLayout:function(e){var t,n,i,r,o,a=this,s=0,l=0,d=a.autoFlex,u=a.innerCt.dom.style;if(a.callParent(arguments),t=a.columnNodes,e.innerCtContext=e.getEl("innerCt",a),e.widthModel.shrinkWrap)u.tableLayout="auto",u.width="";else{if(n=t.length,a.columnsArray){for(i=0;n>i;i++)r=a.owner.columns[i],1>r&&(s+=r,l++);for(i=0;n>i;i++)r=a.owner.columns[i],o=1>r?r/s*100+"%":r+"px",t[i].style.width=o}else for(i=0;n>i;i++)o=d?1/n*100+"%":"",t[i].style.width=o,l++;l?n>l?(u.tableLayout="fixed",u.width="100%"):(u.tableLayout="auto",d?u.width="100%":u.width=""):(u.tableLayout="fixed",u.width="")}},cacheElements:function(){var e=this;e.callParent(),e.rowEl=e.innerCt.down("tr"),e.columnNodes=e.rowEl.dom.childNodes},calculate:function(e){
var t,n,i,r,o,a,s=this;e.getDomProp("containerChildrenSizeDone")?(t=e.innerCtContext,n=e.widthModel.shrinkWrap,i=e.heightModel.shrinkWrap,r=i||n,o=t.el.dom,a=r&&t.getPaddingInfo(),n&&e.setContentWidth(o.offsetWidth+a.width,!0),i&&e.setContentHeight(o.offsetHeight+a.height,!0)):s.done=!1},doRenderColumn:function(e,t,n){var i,r,o,a,s,l=t.$layout,d=l.owner,u=t.columnCount,c=d.items.items,h=c.length;for(d.vertical?(o=Math.ceil(h/u),r=n*o,h=Math.min(h,r+o),a=1):(r=n,a=u);h>r;r+=a)i=c[r],l.configureItem(i),s=i.getRenderTree(),Ext.DomHelper.generateMarkup(s,e)},getColumnCount:function(){var e=this,t=e.owner,n=t.columns;return e.columnsArray?n.length:Ext.isNumber(n)?n:t.items.length},getItemSizePolicy:function(e){return this.autoSizePolicy},getRenderData:function(){var e,t,n,i,r=this,o=r.callParent(),a=r.owner,s=r.getColumnCount(),l=r.autoFlex,d=0,u=0;if(r.columnsArray)for(e=0;s>e;e++)t=r.owner.columns[e],1>t&&(d+=t,u++);for(o.colCls=a.groupCls,o.columnCount=s,o.columns=[],e=0;s>e;e++)n=o.columns[e]={},r.columnsArray?(t=r.owner.columns[e],i=1>t?t/d*100+"%":t+"px",n.style="width:"+i):(n.style="width:"+1/s*100+"%",u++);return o.tableStyle=u?s>u?"table-layout:fixed;width:100%":l?"table-layout:auto;width:100%":"table-layout:auto;":"table-layout:fixed;",o},initLayout:function(){var e=this,t=e.owner;e.columnsArray=Ext.isArray(t.columns),e.autoColumns=!t.columns||"auto"===t.columns,e.vertical=t.vertical,e.callParent()},isValidParent:Ext.returnTrue,setupRenderTpl:function(e){this.callParent(arguments),e.renderColumn=this.doRenderColumn},renderChildren:function(){var e=this,t=e.owner.items.generation;e.lastOwnerItemsGeneration!==t&&(e.lastOwnerItemsGeneration=t,e.renderItems(e.getLayoutItems()))},renderItems:function(e){var t,n,i,r,o,a,s=this,l=e.length;if(l){for(Ext.suspendLayouts(),s.autoColumns&&s.addMissingColumns(l),r=s.columnNodes.length,i=Math.ceil(l/r),t=0;l>t;t++)n=e[t],o=s.getRenderRowIndex(t,i,r),a=s.getRenderColumnIndex(t,i,r),n.rendered?s.isItemAtPosition(n,o,a)||s.moveItem(n,o,a):s.renderItem(n,o,a);s.autoColumns&&s.removeExceedingColumns(l),Ext.resumeLayouts(!0)}},isItemAtPosition:function(e,t,n){return e.el.dom===this.getNodeAt(t,n)},getRenderColumnIndex:function(e,t,n){return this.vertical?Math.floor(e/t):e%n},getRenderRowIndex:function(e,t,n){var i=this;return i.vertical?e%t:Math.floor(e/n)},getNodeAt:function(e,t){return this.columnNodes[t].childNodes[e]},addMissingColumns:function(e){var t,n,i,r,o=this,a=o.columnNodes.length;if(e>a)for(t=e-a,n=o.rowEl,i=o.owner.groupCls,r=0;t>r;r++)n.createChild({cls:i,tag:"td",vAlign:"top",role:"presentation"})},removeExceedingColumns:function(e){var t,n,i,r=this,o=r.columnNodes.length;if(o>e)for(t=o-e,n=r.rowEl,i=0;t>i;i++)n.last().destroy()},renderItem:function(e,t,n){var i=this;i.configureItem(e),e.render(Ext.get(i.columnNodes[n]),t)},moveItem:function(e,t,n){var i=this,r=i.columnNodes[n],o=r.childNodes[t];r.insertBefore(e.el.dom,o||null)}}),Ext.define("Ext.form.CheckboxGroup",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.checkboxgroup",requires:["Ext.layout.container.CheckboxGroup","Ext.form.field.Checkbox","Ext.form.field.Base"],columns:"auto",vertical:!1,allowBlank:!0,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:Ext.baseCSSPrefix+"form-check-group",extraFieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",componentCls:Ext.baseCSSPrefix+"form-checkboxgroup",ariaRole:"group",initComponent:function(){var e=this;e.callParent(),e.initField()},initValue:function(){var e=this,t=e.value;e.originalValue=e.lastValue=t||e.getValue(),t&&e.setValue(t)},onAdd:function(e){var t,n,i,r=this;if(e.isCheckbox)r.mon(e,"change",r.checkChange,r);else if(e.isContainer)for(t=e.items.items,i=0,n=t.length;n>i;i++)r.onAdd(t[i]);r.callParent(arguments)},onRemove:function(e){var t,n,i,r=this;if(e.isCheckbox)r.mun(e,"change",r.checkChange,r);else if(e.isContainer)for(t=e.items.items,i=0,n=t.length;n>i;i++)r.onRemove(t[i]);r.callParent(arguments)},isEqual:function(e,t){var n=Ext.Object.toQueryString;return n(e)===n(t)},getErrors:function(){var e=[];return!this.allowBlank&&Ext.isEmpty(this.getChecked())&&e.push(this.blankText),e},getBoxes:function(e){return this.query("[isCheckbox]"+(e||""))},eachBox:function(e,t){Ext.Array.forEach(this.getBoxes(),e,t||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var e,t=this.getBoxes(),n=t.length;for(e=0;n>e;e++)if(t[e].isDirty())return!0},setReadOnly:function(e){var t,n=this.getBoxes(),i=n.length;for(t=0;i>t;t++)n[t].setReadOnly(e);this.readOnly=e},reset:function(){var e=this,t=e.hasActiveError(),n=e.preventMark;e.preventMark=!0,e.batchChanges(function(){var t,n=e.getBoxes(),i=n.length;for(t=0;i>t;t++)n[t].reset()}),e.preventMark=n,e.unsetActiveError(),t&&e.updateLayout()},resetOriginalValue:function(){var e,t=this,n=t.getBoxes(),i=n.length;for(e=0;i>e;e++)n[e].resetOriginalValue();t.originalValue=t.getValue(),t.checkDirty()},setValue:function(e){var t,n,i,r,o=this,a=o.getBoxes(),s=a.length;return o.batchChanges(function(){for(t=0;s>t;t++)n=a[t],i=n.getName(),r=!1,e&&e.hasOwnProperty(i)&&(r=Ext.isArray(e[i])?Ext.Array.contains(e[i],n.inputValue):e[i]),n.setValue(r)}),o},getValue:function(){var e,t,n,i,r,o={},a=this.getBoxes(),s=a.length;for(e=0;s>e;e++)t=a[e],n=t.getName(),i=t.inputValue,t.getValue()&&(o.hasOwnProperty(n)?(r=o[n],Ext.isArray(r)||(r=o[n]=[r]),r.push(i)):o[n]=i);return o},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var e,t,n,i=this;return i.disabled?t=!0:(e=i.getErrors(),t=Ext.isEmpty(e),n=i.wasValid,t?i.unsetActiveError():i.setActiveError(e)),t!==n&&(i.wasValid=t,i.fireEvent("validitychange",i,t),i.updateLayout()),t}},function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid","setError"])}),Ext.define("Ext.form.FieldSet",{extend:"Ext.container.Container",mixins:{fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.fieldset",uses:["Ext.form.field.Checkbox","Ext.panel.Tool","Ext.layout.container.Anchor","Ext.layout.component.FieldSet"],checkboxUI:"default",collapsed:!1,toggleOnTitleClick:!0,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",componentLayout:"fieldset",ariaRole:null,autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body {baseCls}-body-{ui} {bodyTargetCls}" ','role="presentation"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:!1,beforeDestroy:function(){var e=this,t=e.legend;t&&(delete t.ownerCt,t.destroy(),e.legend=null),e.callParent()},initComponent:function(){var e=this,t=e.baseCls;e.initFieldAncestor(),e.callParent(),e.layout.managePadding=e.layout.manageOverflow=!1,e.collapsed&&(e.addCls(t+"-collapsed"),e.collapse()),(e.title||e.checkboxToggle||e.collapsible)&&(e.addTitleClasses(),e.legend=Ext.widget(e.createLegendCt())),e.initMonitor()},initRenderData:function(){var e=this,t=e.callParent();return t.bodyTargetCls=e.bodyTargetCls,e.protoBody.writeTo(t),delete e.protoBody,t},getState:function(){var e=this.callParent();return e=this.addPropertyToState(e,"collapsed")},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return!0},collapsedVertical:function(){return!0},createLegendCt:function(){var e=this,t=[],n={xtype:"container",baseCls:e.baseCls+"-header",layout:"container",ui:e.ui,id:e.id+"-legend",autoEl:"legend",ariaRole:null,ariaLabelledBy:"."+e.baseCls+"-header-text",items:t,ownerCt:e,shrinkWrap:!0,ownerLayout:e.componentLayout};return e.checkboxToggle?t.push(e.createCheckboxCmp()):e.collapsible&&t.push(e.createToggleCmp()),t.push(e.createTitleCmp()),n},createTitleCmp:function(){var e=this,t={xtype:"component",html:e.title,ui:e.ui,cls:e.baseCls+"-header-text",id:e.id+"-legendTitle"};return e.collapsible&&e.toggleOnTitleClick&&(t.listeners={click:{element:"el",scope:e,fn:e.toggle}},t.cls+=" "+e.baseCls+"-header-text-collapsible"),e.titleCmp=Ext.widget(t)},createCheckboxCmp:function(){var e=this,t="-checkbox",n=e.baseCls+"-header"+t;return n+=" "+n+"-"+e.ui,e.checkboxCmp=Ext.widget({xtype:"checkbox",hideEmptyLabel:!0,name:e.checkboxName||e.id+t,cls:n,id:e.id+"-legendChk",ui:e.checkboxUI,checked:!e.collapsed,msgTarget:"none",listeners:{change:e.onCheckChange,scope:e}}),e.checkboxCmp},createToggleCmp:function(){var e=this;return e.toggleCmp=Ext.widget({xtype:"tool",cacheHeight:!1,cls:e.baseCls+"-header-tool-"+e.ui,type:"toggle",handler:e.toggle,id:e.id+"-legendToggle",scope:e}),e.toggleCmp},doRenderLegend:function(e,t){var n,i=t.$comp,r=i.legend;r&&(r.ownerLayout.configureItem(r),n=r.getRenderTree(),Ext.DomHelper.generateMarkup(n,e))},getCollapsed:function(){return this.collapsed?"top":!1},getCollapsedDockedItems:function(){var e=this.legend;return e?[e]:[]},setTitle:function(e){var t=this,n=t.legend;return t.title=e,t.rendered?(n||(t.legend=n=Ext.widget(t.createLegendCt()),t.addTitleClasses(),n.ownerLayout.configureItem(n),n.render(t.el,0)),t.titleCmp.update(e)):n?t.titleCmp.update(e):(t.addTitleClasses(),t.legend=Ext.widget(t.createLegendCt())),t},addTitleClasses:function(){var e=this,t=e.title,n=e.baseCls;t&&e.addCls(n+"-with-title"),(t||e.checkboxToggle||e.collapsible)&&e.addCls(n+"-with-legend")},expand:function(){return this.setExpanded(!0)},collapse:function(){return this.setExpanded(!1)},setExpanded:function(e){var t=this,n=t.checkboxCmp,i=e?"expand":"collapse";return t.rendered&&t.fireEvent("before"+i,t)===!1||(e=!!e,n&&n.setValue(e),e?t.removeCls(t.baseCls+"-collapsed"):t.addCls(t.baseCls+"-collapsed"),t.collapsed=!e,e?delete t.getInherited().collapsed:t.getInherited().collapsed=!0,t.rendered&&(t.updateLayout({isRoot:!1}),t.fireEvent(i,t))),t},getRefItems:function(e){var t=this.callParent(arguments),n=this.legend;return n&&(t.unshift(n),e&&t.unshift.apply(t,n.getRefItems(!0))),t},toggle:function(){this.setExpanded(!!this.collapsed)},privates:{applyTargetCls:function(e){this.bodyTargetCls=e},finishRender:function(){var e=this.legend;this.callParent(),e&&e.finishRender()},getProtoBody:function(){var e=this,t=e.protoBody;return t||(e.protoBody=t=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:!0})),t},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.frameBody||this.el},initPadding:function(e){var t,n=this,i=n.getProtoBody(),r=n.padding;void 0!==r&&(Ext.isIE8&&(r=n.parseBox(r),t=Ext.Element.parseBox(0),t.top=r.top,r.top=0,i.setStyle("padding",n.unitizeBox(t))),e.setStyle("padding",n.unitizeBox(r)))},onCheckChange:function(e,t){this.setExpanded(t)},setupRenderTpl:function(e){this.callParent(arguments),e.renderLegend=this.doRenderLegend}}}),Ext.define("Ext.form.Label",{extend:"Ext.Component",alias:"widget.label",requires:["Ext.util.Format"],autoEl:"label",maskOnDisable:!1,getElConfig:function(){var e=this;return e.html=e.text?Ext.util.Format.htmlEncode(e.text):e.html||"",Ext.apply(e.callParent(),{htmlFor:e.forId||""})},setText:function(e,t){var n=this;return t=t!==!1,t?(n.text=e,delete n.html):(n.html=e,delete n.text),n.rendered&&(n.el.dom.innerHTML=t!==!1?Ext.util.Format.htmlEncode(e):e,n.updateLayout()),n}}),Ext.define("Ext.form.Panel",{extend:"Ext.panel.Panel",mixins:{fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],requires:["Ext.form.Basic","Ext.util.TaskRunner"],layout:"anchor",ariaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var e=this;e.frame&&(e.border=!1),e.initFieldAncestor(),e.callParent(),e.relayEvents(e.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]),e.pollForChanges&&e.startPolling(e.pollInterval||500)},initItems:function(){this.callParent(),this.initMonitor(),this.form=this.createForm()},afterFirstLayout:function(){this.callParent(arguments),this.form.initialize()},createForm:function(){for(var e,t={},n=this.basicFormConfigs,i=n.length,r=0;i>r;++r)e=n[r],t[e]=this[e];return new Ext.form.Basic(this,t)},getForm:function(){return this.form},loadRecord:function(e){return this.getForm().loadRecord(e)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(e){return this.getForm().updateRecord(e)},getValues:function(e,t,n,i){return this.getForm().getValues(e,t,n,i)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},reset:function(){this.form.reset()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling(),this.form.destroy(),this.callParent()},load:function(e){this.form.load(e)},submit:function(e){this.form.submit(e)},startPolling:function(e){this.stopPolling();var t=new Ext.util.TaskRunner(e);t.start({interval:0,run:this.checkChange,scope:this}),this.pollTask=t},stopPolling:function(){var e=this.pollTask;e&&(e.stopAll(),delete this.pollTask)},checkChange:function(){var e,t=this.form.getFields().items,n=t.length;for(e=0;n>e;e++)t[e].checkChange()}}),Ext.define("Ext.form.RadioManager",{extend:"Ext.util.MixedCollection",singleton:!0,getByName:function(e,t){return this.filterBy(function(n){return n.name==e&&n.getFormId()==t})},getWithValue:function(e,t,n){return this.filterBy(function(i){return i.name==e&&i.inputValue==t&&i.getFormId()==n})},getChecked:function(e,t){return this.findBy(function(n){return n.name==e&&n.checked&&n.getFormId()==t})}}),Ext.define("Ext.form.field.Radio",{extend:"Ext.form.field.Checkbox",alias:["widget.radiofield","widget.radio"],alternateClassName:"Ext.form.Radio",requires:["Ext.form.RadioManager"],isRadio:!0,inputType:"radio",ariaRole:"radio",formId:null,getGroupValue:function(){var e=this.getManager().getChecked(this.name,this.getFormId());return e?e.inputValue:null},onBoxClick:function(){var e=this;e.disabled||e.readOnly||this.setValue(!0)},onRemoved:function(){this.callParent(arguments),this.formId=null},setValue:function(e){var t,n=this;return Ext.isBoolean(e)?n.callParent(arguments):(t=n.getManager().getWithValue(n.name,e,n.getFormId()).getAt(0),t&&t.setValue(!0)),n},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){var e=this.callParent(arguments);return e&&(e[this.getName()]=this.getSubmitValue()),e},onChange:function(e,t){var n,i,r,o,a=this;if(a.callParent(arguments),e)for(o=a.getManager().getByName(a.name,a.getFormId()).items,i=o.length,n=0;i>n;n++)r=o[n],r!==a&&r.setValue(!1)},getManager:function(){return Ext.form.RadioManager}}),Ext.define("Ext.form.RadioGroup",{extend:"Ext.form.CheckboxGroup",alias:"widget.radiogroup",requires:["Ext.form.field.Radio"],allowBlank:!0,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:Ext.baseCSSPrefix+"form-radio-group",ariaRole:"radiogroup",getBoxes:function(e){return this.query("[isRadio]"+(e||""))},checkChange:function(){var e=this.getValue(),t=Ext.Object.getKeys(e)[0];Ext.isArray(e[t])||this.callParent(arguments)},setValue:function(e){var t,n,i,r,o,a,s;if(Ext.isObject(e))for(s in e)if(e.hasOwnProperty(s))for(t=e[s],n=this.items.first(),i=n?n.getFormId():null,r=Ext.form.RadioManager.getWithValue(s,t,i).items,a=r.length,o=0;a>o;++o)r[o].setValue(!0);return this}}),Ext.define("Ext.form.action.DirectLoad",{extend:"Ext.form.action.Load",requires:["Ext.direct.Manager"],alternateClassName:"Ext.form.Action.DirectLoad",alias:"formaction.directload",type:"directload",run:function(){var e,t,n=this,i=n.form,r=i.api,o=r.load;if("function"!=typeof o){var a=o;r.load=o=Ext.direct.Manager.parseMethod(o),Ext.isFunction(o)||Ext.Error.raise("Cannot resolve Ext.Direct API method "+a)}e=o.directCfg.method,t=e.getArgs(n.getParams(),i.paramOrder,i.paramsAsHash),t.push(n.onComplete,n),o.apply(window,t)},processResponse:function(e){return this.result=e},onComplete:function(e){e?this.onSuccess(e):this.onFailure(null)}}),Ext.define("Ext.form.action.DirectSubmit",{extend:"Ext.form.action.Submit",requires:["Ext.direct.Manager"],alternateClassName:"Ext.form.Action.DirectSubmit",alias:"formaction.directsubmit",type:"directsubmit",doSubmit:function(){var e,t,n=this,i=n.form,r=i.api,o=r.submit;if("function"!=typeof o){var a=o;r.submit=o=Ext.direct.Manager.parseMethod(o),Ext.isFunction(o)||Ext.Error.raise("Cannot resolve Ext.Direct API method "+a)}(n.timeout||i.timeout)&&(t={timeout:1e3*n.timeout||1e3*i.timeout}),e=n.buildForm(),o.call(window,e.formEl,n.onComplete,n,t),n.cleanup(e)},processResponse:function(e){return this.result=e},onComplete:function(e){e?this.onSuccess(e):this.onFailure(null)}}),Ext.define("Ext.form.action.StandardSubmit",{extend:"Ext.form.action.Submit",alias:"formaction.standardsubmit",doSubmit:function(){var e=this.buildForm();e.formEl.submit(),this.cleanup(e)}}),Ext.define("Ext.form.field.Picker",{extend:"Ext.form.field.Text",alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",requires:["Ext.util.KeyNav"],config:{triggers:{picker:{handler:"onTriggerClick",scope:"this"}}},matchFieldWidth:!0,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:!0,applyTriggers:function(e){var t=this,n=e.picker;return n.cls||(n.cls=t.triggerCls),t.callParent([e])},initEvents:function(){var e=this;e.callParent(),e.keyNav=new Ext.util.KeyNav(e.inputEl,{down:e.onDownArrow,esc:{handler:e.onEsc,scope:e,defaultEventAction:!1},scope:e,forceKeyDown:!0}),e.editable||e.mon(e.inputEl,"click",e.onTriggerClick,e),Ext.isGecko&&e.inputEl.dom.setAttribute("autocomplete","off")},onEsc:function(e){Ext.isIE&&e.preventDefault(),this.isExpanded&&(this.collapse(),e.stopEvent())},onDownArrow:function(){this.isExpanded||this.onTriggerClick()},expand:function(){var e,t,n,i=this;!i.rendered||i.isExpanded||i.isDestroyed||(i.expanding=!0,e=i.bodyEl,t=i.getPicker(),n=i.collapseIf,t.show(),i.isExpanded=!0,i.alignPicker(),e.addCls(i.openCls),i.mon(Ext.getDoc(),{mousewheel:n,mousedown:n,scope:i}),Ext.on("resize",i.alignPicker,i),i.fireEvent("expand",i),i.onExpand(),delete i.expanding)},onExpand:Ext.emptyFn,alignPicker:function(){var e,t=this,n=t.getPicker();t.isExpanded&&(t.matchFieldWidth&&(e=t.bodyEl.getWidth(),n.setWidth(e)),n.isFloating()&&t.doAlign())},doAlign:function(){var e,t=this,n=t.picker,i="-above";t.picker.alignTo(t.triggerWrap,t.pickerAlign,t.pickerOffset),e=n.el.getY()<t.inputEl.getY(),t.bodyEl[e?"addCls":"removeCls"](t.openCls+i),n[e?"addCls":"removeCls"](n.baseCls+i)},collapse:function(){var e=this;if(e.isExpanded&&!e.isDestroyed&&!e.destroying){var t=e.openCls,n=e.picker,i=Ext.getDoc(),r=e.collapseIf,o="-above";n.hide(),e.isExpanded=!1,e.bodyEl.removeCls([t,t+o]),n.el.removeCls(n.baseCls+o),i.un("mousewheel",r,e),i.un("mousedown",r,e),Ext.un("resize",e.alignPicker,e),e.fireEvent("collapse",e),e.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(e){var t=this;t.isDestroyed||e.within(t.bodyEl,!1,!0)||t.owns(e.target)||t.collapse()},getPicker:function(){var e=this;return e.picker||(e.picker=e.createPicker())},getRefItems:function(){var e=[];return this.picker&&(e[0]=this.picker),e},createPicker:Ext.emptyFn,onTriggerClick:function(){var e=this;e.readOnly||e.disabled||(e.isExpanded?e.collapse():e.expand(),Ext.supports.TouchEvents||e.inputEl.focus())},onOtherFocus:function(e){this.hasFocus&&!this.owns(e)&&this.callParent([e])},triggerBlur:function(){this.callParent(arguments),this.collapse()},mimicBlur:function(e){var t=this,n=t.picker;n&&t.owns(e.target)?t.inputEl.focus():t.callParent(arguments)},beforeDestroy:function(){var e=this,t=e.picker;e.collapse(),e.callParent(),Ext.un("resize",e.alignPicker,e),Ext.destroy(e.keyNav,t),t&&(delete e.picker,delete t.pickerField)}}),Ext.define("Ext.layout.component.BoundList",{extend:"Ext.layout.component.Auto",alias:"layout.boundlist",type:"component",beginLayout:function(e){var t=this,n=t.owner,i=n.pagingToolbar;t.scrollPos=n.listWrap.getScroll(),t.callParent(arguments),n.floating&&(e.savedXY=n.getXY(),n.setXY([0,-9999])),i&&(e.toolbarContext=e.context.getCmp(i)),e.listContext=e.getEl("listWrap")},beginLayoutCycle:function(e){var t=this.owner;this.callParent(arguments),e.heightModel.auto&&(t.el.setHeight("auto"),t.listWrap.setHeight("auto"))},getLayoutItems:function(){var e=this.owner.pagingToolbar;return e?[e]:[]},isValidParent:function(){return!0},finishedLayout:function(e){var t=this,n=e.savedXY,i=t.owner,r=i.listWrap,o=t.scrollPos;t.callParent(arguments),n&&t.owner.setXY(n),r.setScrollLeft(o.left),r.setScrollTop(o.top)},measureContentWidth:function(e){return this.owner.listWrap.getWidth()},measureContentHeight:function(e){return this.owner.listWrap.getHeight()},publishInnerHeight:function(e,t){var n=e.toolbarContext,i=0;n&&(i=n.getProp("height")),void 0===i?this.done=!1:e.listContext.setHeight(t-e.getFrameInfo().height-i)},calculateOwnerHeightFromContentHeight:function(e){var t=this.callParent(arguments),n=e.toolbarContext;return n&&(t+=n.getProp("height")),t}}),Ext.define("Ext.toolbar.TextItem",{extend:"Ext.toolbar.Item",requires:["Ext.XTemplate"],alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",ariaRole:null,beforeRender:function(){var e=this;e.callParent(),Ext.apply(e.renderData,{text:e.text})},setText:function(e){var t=this;t.text=e,t.rendered&&(t.el.setHtml(e),t.updateLayout())}}),Ext.define("Ext.form.trigger.Spinner",{extend:"Ext.form.trigger.Trigger",alias:"trigger.spinner",cls:Ext.baseCSSPrefix+"form-trigger-spinner",spinnerCls:Ext.baseCSSPrefix+"form-spinner",spinnerUpCls:Ext.baseCSSPrefix+"form-spinner-up",spinnerDownCls:Ext.baseCSSPrefix+"form-spinner-down",focusCls:Ext.baseCSSPrefix+"form-spinner-focus",overCls:Ext.baseCSSPrefix+"form-spinner-over",clickCls:Ext.baseCSSPrefix+"form-spinner-click",focusFieldOnClick:!0,vertical:!0,bodyTpl:'<tpl if="vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerDownCls} {spinnerDownCls}-{ui} {childElCls} {downDisabledCls}"></div><tpl if="!vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl>',getBodyRenderData:function(){var e=this;return{vertical:e.vertical,upDisabledCls:e.upEnabled?"":e.spinnerUpCls+"-disabled",downDisabledCls:e.downEnabled?"":e.spinnerDownCls+"-disabled",spinnerCls:e.spinnerCls,spinnerUpCls:e.spinnerUpCls,spinnerDownCls:e.spinnerDownCls}},getStateEl:function(){return this.spinnerEl},onClick:function(e){var t=this,n=arguments,e=t.clickRepeater?n[1]:n[0],i=t.field;i.readOnly||i.disabled||(t.upEl.contains(e.target)?Ext.callback(t.upHandler,t.scope,[i,t,e],0,i):t.downEl.contains(e.target)&&Ext.callback(t.downHandler,t.scope,[i,t,e],0,i)),i.inputEl.focus()},onFieldRender:function(){var e,t,n=this,i=n.vertical;n.callParent(),e=n.spinnerEl=n.el.select("."+n.spinnerCls,!0),t=e.elements,n.upEl=i?t[0]:t[1],n.downEl=i?t[1]:t[0]},setUpEnabled:function(e){this.upEl[e?"removeCls":"addCls"](this.spinnerUpCls+"-disabled")},setDownEnabled:function(e){this.downEl[e?"removeCls":"addCls"](this.spinnerDownCls+"-disabled")}}),Ext.define("Ext.form.field.Spinner",{extend:"Ext.form.field.Text",alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",requires:["Ext.form.trigger.Spinner","Ext.util.KeyNav"],config:{triggers:{spinner:{type:"spinner",upHandler:"onSpinnerUpClick",downHandler:"onSpinnerDownClick",scope:"this"}}},spinUpEnabled:!0,spinDownEnabled:!0,keyNavEnabled:!0,mouseWheelEnabled:!0,repeatTriggerClick:!0,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,ariaRole:"spinbutton",applyTriggers:function(e){var t=this,n=e.spinner;return n.upEnabled=t.spinUpEnabled,n.downEnabled=t.spinDownEnabled,t.callParent([e])},onRender:function(){var e=this,t=e.getTrigger("spinner");e.callParent(),e.keyNavEnabled&&(e.spinnerKeyNav=new Ext.util.KeyNav(e.inputEl,{scope:e,up:e.spinUp,down:e.spinDown})),e.mouseWheelEnabled&&e.mon(e.bodyEl,"mousewheel",e.onMouseWheel,e),e.spinUpEl=t.upEl,e.spinDownEl=t.downEl},onSpinnerUpClick:function(){this.spinUp()},onSpinnerDownClick:function(){this.spinDown()},spinUp:function(){var e=this;e.spinUpEnabled&&!e.disabled&&(e.fireEvent("spin",e,"up"),e.fireEvent("spinup",e),e.onSpinUp())},spinDown:function(){var e=this;e.spinDownEnabled&&!e.disabled&&(e.fireEvent("spin",e,"down"),e.fireEvent("spindown",e),e.onSpinDown())},setSpinUpEnabled:function(e){var t=this,n=t.spinUpEnabled;t.spinUpEnabled=e,n!==e&&t.rendered&&t.getTrigger("spinner").setUpEnabled(e)},setSpinDownEnabled:function(e){var t=this,n=t.spinDownEnabled;t.spinDownEnabled=e,n!==e&&t.rendered&&t.getTrigger("spinner").setDownEnabled(e)},onMouseWheel:function(e){var t,n=this;n.hasFocus&&(t=e.getWheelDelta(),t>0?n.spinUp():0>t&&n.spinDown(),e.stopEvent())},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav"),this.callParent()}}),Ext.define("Ext.form.field.Number",{extend:"Ext.form.field.Spinner",alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:!0,allowDecimals:!0,decimalSeparator:null,submitLocaleSeparator:!0,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:!1,initComponent:function(){var e=this;null===e.decimalSeparator&&(e.decimalSeparator=Ext.util.Format.decimalSeparator),e.callParent(),e.setMinValue(e.minValue),e.setMaxValue(e.maxValue)},getErrors:function(e){var t,n=this,i=n.callParent(arguments),r=Ext.String.format;return e=Ext.isDefined(e)?e:this.processRawValue(this.getRawValue()),e.length<1?i:(e=String(e).replace(n.decimalSeparator,"."),isNaN(e)&&i.push(r(n.nanText,e)),t=n.parseValue(e),0===n.minValue&&0>t?i.push(this.negativeText):t<n.minValue&&i.push(r(n.minText,n.minValue)),t>n.maxValue&&i.push(r(n.maxText,n.maxValue)),i)},rawToValue:function(e){var t=this.fixPrecision(this.parseValue(e));return null===t&&(t=e||null),t},valueToRaw:function(e){var t=this,n=t.decimalSeparator;return e=t.parseValue(e),e=t.fixPrecision(e),e=Ext.isNumber(e)?e:parseFloat(String(e).replace(n,".")),e=isNaN(e)?"":String(e).replace(".",n)},getSubmitValue:function(){var e=this,t=e.callParent();return e.submitLocaleSeparator||(t=t.replace(e.decimalSeparator,".")),t},onChange:function(){this.toggleSpinners(),this.callParent(arguments)},toggleSpinners:function(){var e,t=this,n=t.getValue(),i=null===n;(t.spinUpEnabled||t.spinUpDisabledByToggle)&&(e=i||n<t.maxValue,t.setSpinUpEnabled(e,!0)),(t.spinDownEnabled||t.spinDownDisabledByToggle)&&(e=i||n>t.minValue,t.setSpinDownEnabled(e,!0))},setMinValue:function(e){var t,n=this;n.minValue=Ext.Number.from(e,Number.NEGATIVE_INFINITY),n.toggleSpinners(),n.disableKeyFilter!==!0&&(t=n.baseChars+"",n.allowExponential?t+=n.decimalSeparator+"e+-":(n.allowDecimals&&(t+=n.decimalSeparator),n.minValue<0&&(t+="-")),t=Ext.String.escapeRegex(t),n.maskRe=new RegExp("["+t+"]"),n.autoStripChars&&(n.stripCharsRe=new RegExp("[^"+t+"]","gi")))},setMaxValue:function(e){this.maxValue=Ext.Number.from(e,Number.MAX_VALUE),this.toggleSpinners()},parseValue:function(e){return e=parseFloat(String(e).replace(this.decimalSeparator,".")),isNaN(e)?null:e},fixPrecision:function(e){var t=this,n=isNaN(e),i=t.decimalPrecision;return n||!e?n?"":e:((!t.allowDecimals||0>=i)&&(i=0),parseFloat(Ext.Number.toFixed(parseFloat(e),i)))},beforeBlur:function(){var e=this,t=e.rawToValue(e.getRawValue());Ext.isEmpty(t)||e.setValue(t)},setSpinUpEnabled:function(e,t){this.callParent(arguments),t?this.spinUpDisabledByToggle=!e:delete this.spinUpDisabledByToggle},onSpinUp:function(){var e=this;e.readOnly||e.setSpinValue(Ext.Number.constrain(e.getValue()+e.step,e.minValue,e.maxValue))},setSpinDownEnabled:function(e,t){this.callParent(arguments),t?this.spinDownDisabledByToggle=!e:delete this.spinDownDisabledByToggle},onSpinDown:function(){var e=this;e.readOnly||e.setSpinValue(Ext.Number.constrain(e.getValue()-e.step,e.minValue,e.maxValue))},setSpinValue:function(e){var t=this;t.enforceMaxLength&&t.fixPrecision(e).toString().length>t.maxLength||t.setValue(e)}}),Ext.define("Ext.toolbar.Paging",{extend:"Ext.toolbar.Toolbar",xtype:"pagingtoolbar",alternateClassName:"Ext.PagingToolbar",requires:["Ext.toolbar.TextItem","Ext.form.field.Number"],mixins:["Ext.util.StoreHolder"],displayInfo:!1,prependButtons:!1,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var e=this,t={scope:e,blur:e.onPagingBlur};return t[Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress"]=e.onPagingKeyDown,[{itemId:"first",tooltip:e.firstText,overflowText:e.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:!0,handler:e.moveFirst,scope:e},{itemId:"prev",tooltip:e.prevText,overflowText:e.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:!0,handler:e.movePrevious,scope:e},"-",e.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:!1,minValue:1,hideTrigger:!0,enableKeyEvents:!0,keyNavEnabled:!1,selectOnFocus:!0,submitValue:!1,isFormField:!1,width:e.inputItemWidth,margin:"-1 2 3 2",listeners:t},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(e.afterPageText,1)},"-",{itemId:"next",tooltip:e.nextText,overflowText:e.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:!0,handler:e.moveNext,scope:e},{itemId:"last",tooltip:e.lastText,overflowText:e.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:!0,handler:e.moveLast,scope:e},"-",{itemId:"refresh",tooltip:e.refreshText,overflowText:e.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",disabled:e.store.isLoading(),handler:e.doRefresh,scope:e}]},initComponent:function(){var e,t=this,n=t.items||t.buttons||[];t.bindStore(t.store||"ext-empty-store",!0),e=t.getPagingItems(),t.prependButtons?t.items=n.concat(e):t.items=e.concat(n),delete t.buttons,t.displayInfo&&(t.items.push("->"),t.items.push({xtype:"tbtext",itemId:"displayItem"})),t.callParent()},beforeRender:function(){var e=this;e.callParent(arguments),e.store.isLoading()||(e.calledFromRender=!0,e.onLoad(),delete e.calledFromRender)},updateInfo:function(){var e,t,n=this,i=n.child("#displayItem"),r=n.store,o=n.getPageData();i&&(e=r.getCount(),t=0===e?n.emptyMsg:Ext.String.format(n.displayMsg,o.fromRecord,o.toRecord,o.total),i.setText(t))},onLoad:function(){var e,t,n,i,r,o,a,s=this;if(r=s.store.getCount(),o=0===r)t=0,n=0,i=Ext.String.format(s.afterPageText,0);else{if(e=s.getPageData(),t=e.currentPage,n=e.pageCount,t>n)return void s.store.loadPage(n);i=Ext.String.format(s.afterPageText,isNaN(n)?1:n)}Ext.suspendLayouts(),a=s.child("#afterTextItem"),a&&a.setText(i),a=s.getInputItem(),a&&a.setDisabled(o).setValue(t),s.setChildDisabled("#first",1===t||o),s.setChildDisabled("#prev",1===t||o),s.setChildDisabled("#next",t===n||o),s.setChildDisabled("#last",t===n||o),s.setChildDisabled("#refresh",!1),s.updateInfo(),Ext.resumeLayouts(!0),s.calledFromRender||s.fireEvent("change",s,e)},setChildDisabled:function(e,t){var n=this.child(e);n&&n.setDisabled(t)},getPageData:function(){var e=this.store,t=e.getTotalCount();return{total:t,currentPage:e.currentPage,pageCount:Math.ceil(t/e.pageSize),fromRecord:(e.currentPage-1)*e.pageSize+1,toRecord:Math.min(e.currentPage*e.pageSize,t)}},onLoadError:function(){this.setChildDisabled("#refresh",!1)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(e){var t,n=this.getInputItem(),i=!1;
return n&&(t=n.getValue(),i=parseInt(t,10),!t||isNaN(i))?(n.setValue(e.currentPage),!1):i},onPagingBlur:function(e){var t,n=this.getInputItem();n&&(t=this.getPageData().currentPage,n.setValue(t))},onPagingKeyDown:function(e,t){this.processKeyEvent(e,t)},processKeyEvent:function(e,t){var n,i=this,r=t.getKey(),o=i.getPageData(),a=t.shiftKey?10:1;r==t.RETURN?(t.stopEvent(),n=i.readPageFromInput(o),n!==!1&&(n=Math.min(Math.max(1,n),o.pageCount),n!==o.currentPage&&i.fireEvent("beforechange",i,n)!==!1&&i.store.loadPage(n))):r==t.HOME||r==t.END?(t.stopEvent(),n=r==t.HOME?1:o.pageCount,e.setValue(n)):(r==t.UP||r==t.PAGE_UP||r==t.DOWN||r==t.PAGE_DOWN)&&(t.stopEvent(),n=i.readPageFromInput(o),n&&((r==t.DOWN||r==t.PAGE_DOWN)&&(a*=-1),n+=a,n>=1&&n<=o.pageCount&&e.setValue(n)))},beforeLoad:function(){this.setChildDisabled("#refresh",!0)},moveFirst:function(){return this.fireEvent("beforechange",this,1)!==!1?(this.store.loadPage(1),!0):!1},movePrevious:function(){var e=this,t=e.store,n=t.currentPage-1;return n>0&&e.fireEvent("beforechange",e,n)!==!1?(t.previousPage(),!0):!1},moveNext:function(){var e=this,t=e.store,n=e.getPageData().pageCount,i=t.currentPage+1;return n>=i&&e.fireEvent("beforechange",e,i)!==!1?(t.nextPage(),!0):!1},moveLast:function(){var e=this,t=e.getPageData().pageCount;return e.fireEvent("beforechange",e,t)!==!1?(e.store.loadPage(t),!0):!1},doRefresh:function(){var e=this,t=e.store,n=t.currentPage;return e.fireEvent("beforechange",e,n)!==!1?(t.loadPage(n),!0):!1},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},onDestroy:function(){this.bindStore(null),this.callParent()}}),Ext.define("Ext.view.BoundList",{extend:"Ext.view.View",alias:"widget.boundlist",alternateClassName:"Ext.BoundList",requires:["Ext.layout.component.BoundList","Ext.toolbar.Paging"],mixins:["Ext.mixin.Queryable"],pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:!1,trackOver:!0,preserveScrollOnRefresh:!0,componentLayout:"boundlist",autoScroll:!0,childEls:["listWrap","listEl"],renderTpl:['<div id="{id}-listWrap" data-ref="listWrap" role="presentation" class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'">','<ul id="{id}-listEl" data-ref="listEl" class="'+Ext.plainListCls+'">',"</ul>","</div>","{%","var pagingToolbar=values.$comp.pagingToolbar;","if (pagingToolbar) {","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:!0}],initComponent:function(){var e=this,t=e.baseCls,n=e.itemCls;e.selectedItemCls=t+"-selected",e.trackOver&&(e.overItemCls=t+"-item-over"),e.itemSelector="."+n,e.scrollerSelector="ul."+Ext.plainListCls,e.floating&&e.addCls(t+"-floating"),e.tpl?e.tpl.isTemplate||(e.tpl=new Ext.XTemplate(e.tpl)):e.tpl=new Ext.XTemplate('<tpl for=".">','<li role="option" unselectable="on" class="'+n+'">'+e.getInnerTpl(e.displayField)+"</li>","</tpl>"),e.pageSize&&(e.pagingToolbar=e.createPagingToolbar()),e.callParent()},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){var e=this.callParent(),t=this.pagingToolbar;return t&&e.push(t),e},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:!1,ownerCt:this,ownerLayout:this.getComponentLayout()})},getNodeContainer:function(){return this.listEl},refresh:function(){var e=this,t=e.tpl,n=e.pagingToolbar,i=e.rendered;t.field=e.pickerField,t.store=e.store,e.callParent(),t.field=t.store=null,i&&n&&n.rendered&&!e.preserveScrollOnRefresh&&e.el.appendChild(n.el,!0)},bindStore:function(e,t){var n=this.pagingToolbar;this.callParent(arguments),n&&n.bindStore(e,t)},getInnerTpl:function(e){return"{"+e+"}"},onDestroy:function(){this.callParent(),Ext.destroyMembers(this,"pagingToolbar","listWrap","listEl")},privates:{getTargetEl:function(){return this.listEl},getOverflowEl:function(){return this.listWrap},finishRenderChildren:function(){var e=this.pagingToolbar;this.callParent(arguments),e&&e.finishRender()}}}),Ext.define("Ext.view.BoundListKeyNav",{extend:"Ext.util.KeyNav",requires:"Ext.view.BoundList",constructor:function(e,t){var n=this;n.boundList=t.boundList,n.callParent([e,Ext.apply({},t,n.defaultHandlers)])},defaultHandlers:{up:function(){var e=this,t=e.boundList,n=t.all,i=t.highlightedItem,r=i?t.indexOf(i):-1,o=r>0?r-1:n.getCount()-1;e.highlightAt(o)},down:function(){var e=this,t=e.boundList,n=t.all,i=t.highlightedItem,r=i?t.indexOf(i):-1,o=r<n.getCount()-1?r+1:0;e.highlightAt(o)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){var e=this;e.highlightAt(e.boundList.all.getCount()-1)},enter:function(e){this.selectHighlighted(e)}},highlightAt:function(e){var t=this.boundList,n=t.all.item(e);n&&(n=n.dom,t.highlightItem(n),t.getTargetEl().scrollChildIntoView(n,!1))},selectHighlighted:function(e){var t,n,i=this.boundList,r=i.getSelectionModel();t=i.highlightedItem,t&&(n=i.getRecord(t),e.getKey()!==e.ENTER&&r.isSelected(n)||r.selectWithEvent(n,e))}}),Ext.define("Ext.form.field.ComboBox",{extend:"Ext.form.field.Picker",requires:["Ext.util.DelayedTask","Ext.view.BoundList","Ext.view.BoundListKeyNav","Ext.data.StoreManager"],alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:["Ext.util.StoreHolder"],config:{filters:null},triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hidden-display "+Ext.baseCSSPrefix+"form-data-hidden",ariaRole:"combobox",filtered:!1,afterRender:function(){var e=this;e.callParent(arguments),e.setHiddenValue(e.value)},multiSelect:!1,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:!0,autoLoadOnValue:!1,pageSize:0,anyMatch:!1,caseSensitive:!1,autoSelect:!0,typeAhead:!1,typeAheadDelay:250,selectOnTab:!0,forceSelection:!1,growToLongestValue:!0,clearFilterOnBlur:!0,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},transformInPlace:!0,ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){var e=this;return e.grow&&e.growToLongestValue},initComponent:function(){var e,t,n=this,i=Ext.isDefined,r=n.store,o=n.transform,a=n.displayTpl;Ext.applyIf(n.renderSelectors,{hiddenDataEl:"."+n.hiddenDataCls.split(" ").join(".")}),n.typeAhead&&n.multiSelect&&Ext.Error.raise("typeAhead and multiSelect are mutually exclusive options -- please remove one of them."),n.typeAhead&&!n.editable&&Ext.Error.raise("If typeAhead is enabled the combo must be editable: true -- please change one of those settings."),n.selectOnFocus&&!n.editable&&Ext.Error.raise("If selectOnFocus is enabled the combo must be editable: true -- please change one of those settings."),o&&(e=Ext.getDom(o),e&&(n.store||(r=Ext.Array.map(Ext.Array.from(e.options),function(e){return[e.value,e.text]})),n.name||(n.name=e.name),"value"in n||(n.value=e.value))),n.bindStore(r||"ext-empty-store",!0,!0),r=n.store,r.autoCreated&&(n.queryMode="local",n.valueField=n.displayField="field1",r.expanded||(n.displayField="field2")),i(n.valueField)||(n.valueField=n.displayField),t="local"===n.queryMode,i(n.queryDelay)||(n.queryDelay=t?10:500),i(n.minChars)||(n.minChars=t?0:4),a?a.isTemplate||(n.displayTpl=new Ext.XTemplate(a)):n.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+n.displayField+'"]]}<tpl if="xindex < xcount">'+n.delimiter+"</tpl></tpl>"),n.callParent(),n.doQueryTask=new Ext.util.DelayedTask(n.doRawQuery,n),n.store.getCount()>0&&n.setValue(n.value),e&&(n.transformInPlace&&(n.render(e.parentNode,e),delete n.renderTo),Ext.removeNode(e))},getSubTplMarkup:function(){var e=this,t='<div class="'+e.hiddenDataCls+'" role="presentation"></div>',n=e.callParent();return t+n},applyFilters:function(e,t){var n=this;return null===e||e.isFilterCollection?e:(e&&(t||(t=this.getFilters()),t.beginUpdate(),t.splice(0,t.length,e),t.each(function(e){e.ownerId=n.id}),t.endUpdate()),t)},getFilters:function(e){var t=this.filters;return t||e===!1||(t=new Ext.util.FilterCollection,this.setFilters(t)),t},updateFilters:function(e,t){var n=this;t&&t.un("endupdate","onEndUpdateFilters",n),e&&e.on("endupdate","onEndUpdateFilters",n),n.onEndUpdateFilters(e)},onEndUpdateFilters:function(e){var t,n,i=this,r=i.filtered,o=!!e&&e.length>0;(r||o)&&(i.filtered=o,t=[],n=i.store.getFilters(),n.each(function(n){n.ownerId!==i.id||e.contains(n)||t.push(n)}),n.splice(0,t,e.items))},getStore:function(){return this.store},beforeBlur:function(){var e=this,t=e.queryFilter;e.doQueryTask.cancel(),e.assertValue(),t&&"local"===e.queryMode&&e.clearFilterOnBlur&&e.getStore().getFilters().remove(t)},onFocus:function(){var e=this;e.callParent(arguments),!e.duringTriggerClick&&"all"!==e.triggerAction&&e.queryFilter&&"local"===e.queryMode&&e.clearFilterOnBlur&&(delete e.lastQuery,e.doRawQuery())},assertValue:function(){var e,t,n=this,i=n.getRawValue();n.forceSelection&&(n.multiSelect?i!==n.getDisplayValue()&&n.setValue(n.lastSelection):(e=n.findRecordByDisplay(i),e?(t=n.value,n.findRecordByValue(t)||n.select(e,!0)):n.setValue(n.lastSelection))),n.collapse()},onTypeAhead:function(){var e,t,n,i=this,r=i.displayField,o=i.store.findRecord(r,i.getRawValue()),a=i.getPicker();o&&(e=o.get(r),t=e.length,n=i.getRawValue().length,a.highlightItem(a.getNode(o)),0!==n&&n!==t&&(i.setRawValue(e),i.selectText(n,e.length)))},resetToDefault:Ext.emptyFn,beforeReset:function(){var e=this.queryFilter;this.callParent(),e&&this.getStore().getFilters().remove(e)},onUnbindStore:function(){var e=this,t=e.picker,n=e.queryFilter;n&&!e.store.isDestroyed&&e.getStore().getFilters().remove(n),t&&t.bindStore(null)},onBindStore:function(e,t){var n=this.picker;t||this.resetToDefault(),n&&n.bindStore(e)},bindStore:function(e,t,n){var i=this,r=i.queryFilter;i.mixins.storeholder.bindStore.call(i,e,n),e=i.getStore(),e&&r&&!t&&e.getFilters().add(r),!n&&e&&i.setValueOnData()},getStoreListeners:function(){var e=this;return{beforeload:e.onBeforeLoad,clear:e.onClear,datachanged:e.onDataChanged,load:e.onLoad,exception:e.onException,remove:e.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){var e=this;e.resizeComboToGrow()&&e.updateLayout()},onClear:function(){var e=this;e.resizeComboToGrow()&&(e.removingRecords=!0,e.onDataChanged())},onRemove:function(){var e=this;e.resizeComboToGrow()&&(e.removingRecords=!0)},onException:function(){this.ignoreSelection>0&&--this.ignoreSelection,this.collapse()},onLoad:function(e,t,n){this.ignoreSelection>0&&--this.ignoreSelection,n&&!e.lastOptions.rawQuery&&this.setValueOnData()},setValueOnData:function(){var e=this;null==e.value&&e.getStore().getCount()?e.doAutoSelect():e.setValue(e.value)},doRawQuery:function(){this.doQuery(this.getRawValue(),!1,!0)},doQuery:function(e,t,n){var i=this,r=i.beforeQuery({query:e||"",rawQuery:n,forceAll:t,combo:i,cancel:!1});return r===!1||r.cancel?!1:(i.queryCaching&&r.query===i.lastQuery?(i.expand(),"local"===i.queryMode&&i.doAutoSelect()):(i.lastQuery=r.query,"local"===i.queryMode?i.doLocalQuery(r):i.doRemoteQuery(r)),!0)},beforeQuery:function(e){var t=this;return t.fireEvent("beforequery",e)===!1?e.cancel=!0:e.cancel||e.query.length<t.minChars&&!e.forceAll&&(e.cancel=!0),e},doLocalQuery:function(e){var t=this,n=e.query,i=t.getStore().getFilters(),r=t.queryFilter;t.queryFilter=null,i.beginUpdate(),r&&i.remove(r),n&&(r=t.queryFilter=new Ext.util.Filter({id:t.id+"-filter",anyMatch:t.anyMatch,caseSensitive:t.caseSensitive,root:"data",property:t.displayField,value:t.enableRegEx?new RegExp(n):n}),i.add(r)),i.endUpdate(),t.store.getCount()||t.getPicker().emptyText?t.expand():t.collapse(),t.afterQuery(e)},doRemoteQuery:function(e){var t=this,n=function(){t.afterQuery(e)};t.expand(),t.pageSize?t.loadPage(1,{rawQuery:e.rawQuery,callback:n}):t.store.load({params:t.getParams(e.query),rawQuery:e.rawQuery,callback:n})},afterQuery:function(e){var t=this;t.store.getCount()&&(t.typeAhead&&t.doTypeAhead(),t.getRawValue()!==t.getDisplayValue()&&(t.ignoreSelection++,t.picker.getSelectionModel().deselectAll(),t.ignoreSelection--),e.rawQuery?(t.syncSelection(),t.picker&&!t.picker.getSelectionModel().hasSelection()&&t.doAutoSelect()):t.doAutoSelect())},loadPage:function(e,t){this.store.loadPage(e,Ext.apply({params:this.getParams(this.lastQuery)},t))},onPageChange:function(e,t){return this.loadPage(t),!1},getParams:function(e){var t={},n=this.queryParam;return n&&(t[n]=e),t},doAutoSelect:function(){var e,t,n=this,i=n.picker;i&&n.autoSelect&&n.store.getCount()>0&&(e=i.getSelectionModel().lastSelected,t=i.getNode(e||0),t&&(i.highlightItem(t),i.listEl.scrollChildIntoView(t,!1)))},doTypeAhead:function(){var e=this,t=Ext.event.Event;e.typeAheadTask||(e.typeAheadTask=new Ext.util.DelayedTask(e.onTypeAhead,e)),e.lastKey!==t.BACKSPACE&&e.lastKey!==t.DELETE&&e.typeAheadTask.delay(e.typeAheadDelay)},onTriggerClick:function(){var e=this;e.duringTriggerClick=!0,e.readOnly||e.disabled||(e.isExpanded?e.collapse():(e.onFocus({}),"all"===e.triggerAction?e.doQuery(e.allQuery,!0):"last"===e.triggerAction?e.doQuery(e.lastQuery,!0):e.doQuery(e.getRawValue(),!1,!0)),Ext.supports.Touch||e.inputEl.focus()),delete e.duringTriggerClick},onPaste:function(){var e=this;e.readOnly||e.disabled||!e.editable||e.doQueryTask.delay(e.queryDelay)},onKeyUp:function(e,t){var n=this,i=e.getKey();n.readOnly||n.disabled||!n.editable||(n.lastKey=i,e.isSpecialKey()&&i!==e.BACKSPACE&&i!==e.DELETE||n.doQueryTask.delay(n.queryDelay)),n.enableKeyEvents&&n.callParent(arguments)},initEvents:function(){var e=this;e.callParent(),e.enableKeyEvents||e.mon(e.inputEl,"keyup",e.onKeyUp,e),e.mon(e.inputEl,"paste",e.onPaste,e)},onDestroy:function(){var e=this;e.typeAheadTask&&(e.typeAheadTask.cancel(),e.typeAheadTask=null),Ext.destroy(e.listKeyNav),e.bindStore(null),e.callParent()},onAdded:function(){var e=this;e.callParent(arguments),e.picker&&(e.picker.ownerCt=e.up("[floating]"),e.picker.registerWithOwnerCt())},createPicker:function(){var e,t=this,n=Ext.apply({xtype:"boundlist",pickerField:t,selModel:{mode:t.multiSelect?"SIMPLE":"SINGLE"},floating:!0,hidden:!0,store:t.store,displayField:t.displayField,focusOnToFront:!1,preserveScrollOnRefresh:!0,pageSize:t.pageSize,tpl:t.tpl},t.listConfig,t.defaultListConfig);return e=t.picker=Ext.widget(n),t.pageSize&&e.pagingToolbar.on("beforechange",t.onPageChange,t),t.mon(e,{itemclick:t.onItemClick,refresh:t.onListRefresh,scope:t}),t.mon(e.getSelectionModel(),{beforeselect:t.onBeforeSelect,beforedeselect:t.onBeforeDeselect,selectionchange:t.onListSelectionChange,scope:t}),e},alignPicker:function(){var e=this,t=e.getPicker(),n=e.getPosition()[1]-Ext.getBody().getScroll().top,i=Ext.Element.getViewportHeight()-n-e.getHeight(),r=Math.max(n,i),o=t.getTargetEl().dom,a=o.scrollTop;t.height&&(delete t.height,t.updateLayout()),t.getHeight()>r-5&&t.setHeight(r-5),e.callParent(),o.scrollTop=a},onListRefresh:function(){this.expanding||this.alignPicker(),this.syncSelection()},onItemClick:function(e,t){var n=this,i=n.picker.getSelectionModel().getSelection(),r=n.valueField;!n.multiSelect&&i.length&&t.get(r)===i[0].get(r)&&(n.displayTplData=[t.data],n.setRawValue(n.getDisplayValue()),n.collapse())},onBeforeSelect:function(e,t){return this.fireEvent("beforeselect",this,t,this.getStore().indexOf(t))},onBeforeDeselect:function(e,t){return this.fireEvent("beforedeselect",this,t,this.getStore().indexOf(t))},onListSelectionChange:function(e,t){var n=this,i=n.multiSelect,r=t.length>0;!n.ignoreSelection&&n.isExpanded&&(i||Ext.defer(n.collapse,1,n),(i||r)&&n.setValue(t,!1),r&&n.fireEvent("select",n,t),Ext.supports.Touch||n.inputEl.focus())},onExpand:function(){var e=this,t=e.listKeyNav,n=e.selectOnTab,i=e.getPicker();t?t.enable():t=e.listKeyNav=new Ext.view.BoundListKeyNav(e.inputEl,{boundList:i,forceKeyDown:!0,tab:function(t){return n&&(this.selectHighlighted(t),e.triggerBlur()),!0},enter:function(t){var n=i.getSelectionModel(),r=n.getCount();this.selectHighlighted(t),e.multiSelect||r!==n.getCount()||e.collapse()}}),n&&(e.ignoreMonitorTab=!0),Ext.supports.Touch||(Ext.defer(t.enable,1,t),e.inputEl.focus())},onCollapse:function(){var e=this,t=e.listKeyNav;t&&(t.disable(),e.ignoreMonitorTab=!1)},select:function(e,t){var n,i=this,r=i.picker;e&&e.isModel&&t===!0&&r&&(n=!r.getSelectionModel().isSelected(e)),i.setValue(e,!0),n&&i.fireEvent("select",i,e)},findRecord:function(e,t){var n=this.store,i=n.findExact(e,t);return-1!==i?n.getAt(i):!1},getSelectedRecord:function(){return this.findRecordByValue(this.value)||null},findRecordByValue:function(e){return this.findRecord(this.valueField,e)},findRecordByDisplay:function(e){return this.findRecord(this.displayField,e)},setValue:function(e,t){var n,i,r,o,a=this,s=a.valueNotFoundText,l=a.getStore(),d=a.inputEl,u=[],c=[],h=[],f=a.autoLoadOnValue,g=l.hasPendingLoad(),p=f&&0===l.loadCount&&!g;if(null!=e&&(g||p||l.isEmptyStore))return a.value=e,a.setHiddenValue(a.value),p&&l.getProxy().isRemote&&l.load(),a;for(e=Ext.Array.from(e),n=0,i=e.length;i>n;n++)r=e[n],r&&r.isModel||(r=a.findRecordByValue(r)),r?(u.push(r),c.push(r.data),h.push(r.get(a.valueField))):a.forceSelection?Ext.isDefined(s)&&c.push(s):(h.push(e[n]),o={},o[a.displayField]=e[n],c.push(o));return a.setHiddenValue(h),a.value=a.multiSelect?h:h[0],Ext.isDefined(a.value)||(a.value=void 0),a.displayTplData=c,a.lastSelection=a.valueModels=u,d&&a.emptyText&&!Ext.isEmpty(e)&&d.removeCls(a.emptyCls),a.setRawValue(a.getDisplayValue()),a.checkChange(),t!==!1&&a.syncSelection(),a.applyEmptyText(),a},setHiddenValue:function(e){var t,n,i,r,o,a,s=this,l=s.hiddenName;if(s.hiddenDataEl&&l){for(e=Ext.Array.from(e),n=s.hiddenDataEl.dom,i=n.childNodes,r=i[0],o=e.length,a=i.length,!r&&o>0&&(s.hiddenDataEl.setHtml(Ext.DomHelper.markup({tag:"input",type:"hidden",name:l})),a=1,r=n.firstChild);a>o;)n.removeChild(i[0]),--a;for(;o>a;)n.appendChild(r.cloneNode(!0)),++a;for(t=0;o>t;t++)i[t].value=e[t]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var e=this,t=e.picker,n=e.getRawValue(),i=e.value;return e.getDisplayValue()!==n&&(i=n,e.value=e.displayTplData=e.valueModels=void 0,t&&(e.ignoreSelection++,t.getSelectionModel().deselectAll(),e.ignoreSelection--)),e.value=null==i?null:i,e.value},getSubmitValue:function(){var e=this.getValue();return Ext.isEmpty(e)&&(e=""),e},isEqual:function(e,t){var n,i,r=Ext.Array.from;if(e=r(e),t=r(t),i=e.length,i!==t.length)return!1;for(n=0;i>n;n++)if(t[n]!==e[n])return!1;return!0},clearValue:function(){this.setValue([])},syncSelection:function(){var e,t,n,i,r=this,o=r.picker,a=r.valueModels||[],s=a.length;if(o){for(e=[],n=0;s>n;n++)i=a[n],i&&i.isModel&&r.store.indexOf(i)>=0&&e.push(i);r.ignoreSelection++,t=o.getSelectionModel(),t.deselectAll(),e.length&&t.select(e,void 0,!0),r.ignoreSelection--}},onEditorTab:function(e){var t=this.listKeyNav;this.selectOnTab&&t&&t.selectHighlighted(e)}}),Ext.define("Ext.picker.Month",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.util.ClickRepeater","Ext.Date","Ext.button.Button"],alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",childEls:["bodyEl","prevEl","nextEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" data-ref="monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" role="button" hidefocus="on" class="{parent.baseCls}-item-inner">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" data-ref="yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" hidefocus="on" role="button"></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" hidefocus="on" role="button"></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" role="button">{.}</a>',"</div>","</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>','<tpl if="showButtons">','<div class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>","</div>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:!0,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var e=this;e.selectedCls=e.baseCls+"-selected",e.small&&e.addCls(e.smallCls),e.setValue(e.value),e.activeYear=e.getYear((new Date).getFullYear()-4,-4),e.showButtons&&(e.okBtn=new Ext.button.Button({text:e.okText,handler:e.onOkClick,scope:e}),e.cancelBtn=new Ext.button.Button({text:e.cancelText,handler:e.onCancelClick,scope:e})),this.callParent()},beforeRender:function(){var e=this,t=0,n=[],i=Ext.Date.getShortMonthName,r=e.monthOffset,o=e.monthMargin,a="";for(e.padding&&!e.width&&e.cacheWidth(),e.callParent();r>t;++t)n.push(i(t),i(t+r));Ext.isDefined(o)&&(a="margin: 0 "+o+"px;"),Ext.apply(e.renderData,{months:n,years:e.getYears(),showButtons:e.showButtons,monthStyle:a})},cacheWidth:function(){var e=this,t=e.parseBox(e.padding),n=Ext.getBody().createChild({cls:e.baseCls+" "+e.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;",html:"&nbsp;"});e.self.prototype.width=n.getWidth()+t.left+t.right,n.destroy()},afterRender:function(){var e=this,t=e.bodyEl;e.callParent(),e.mon(t,"click",e.onBodyClick,e),e.mon(t,"dblclick",e.onBodyClick,e),e.years=t.select("."+e.baseCls+"-year a"),e.months=t.select("."+e.baseCls+"-month a"),e.backRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:Ext.Function.bind(e.adjustYear,e,[-e.totalYears])}),e.prevEl.addClsOnOver(e.baseCls+"-yearnav-prev-over"),e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:Ext.Function.bind(e.adjustYear,e,[e.totalYears])}),e.nextEl.addClsOnOver(e.baseCls+"-yearnav-next-over"),e.updateBody(),Ext.isDefined(e.monthMargin)||(Ext.picker.Month.prototype.monthMargin=e.calculateMonthMargin())},calculateMonthMargin:function(){for(var e=this,t=(e.monthEl,e.months),n=t.first(),i=n.getMargin("l");i&&e.getLargest()>e.measureMaxHeight;)--i,t.setStyle("margin","0 "+i+"px");return i},getLargest:function(e){var t=0;return this.months.each(function(e){var n=e.getHeight();n>t&&(t=n)}),t},setValue:function(e){var t,n=this,i=n.activeYear;n.monthOffset;return e?Ext.isDate(e)?n.value=[e.getMonth(),e.getFullYear()]:n.value=[e[0],e[1]]:n.value=[null,null],n.rendered&&(t=n.value[1],null!==t&&(i>t||t>i+n.yearOffset)&&(n.activeYear=t-n.yearOffset+1),n.updateBody()),n},getValue:function(){return this.value},hasSelection:function(){var e=this.value;return null!==e[0]&&null!==e[1]},getYears:function(){for(var e=this,t=e.yearOffset,n=e.activeYear,i=n+t,r=n,o=[];i>r;++r)o.push(r,r+t);return o},updateBody:function(){var e,t,n,i,r,o=this,a=o.years,s=o.months,l=o.getYears(),d=o.selectedCls,u=o.getYear(null),c=o.value[0],h=o.monthOffset;if(o.rendered){for(a.removeCls(d),s.removeCls(d),t=a.elements,i=t.length,n=0;i>n;n++)r=Ext.fly(t[n]),e=l[n],r.dom.innerHTML=e,e==u&&r.addCls(d);null!==c&&(c=h>c?2*c:2*(c-h)+1,s.item(c).addCls(d))}},getYear:function(e,t){var n=this.value[1];return t=t||0,null===n?e:n+t},onBodyClick:function(e,t){var n=this,i="dblclick"==e.type;e.getTarget("."+n.baseCls+"-month")?(e.stopEvent(),n.onMonthClick(t,i)):e.getTarget("."+n.baseCls+"-year")&&(e.stopEvent(),n.onYearClick(t,i))},adjustYear:function(e){"number"!=typeof e&&(e=this.totalYears),this.activeYear+=e,this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(e,t){var n=this;n.value[0]=n.resolveOffset(n.months.indexOf(e),n.monthOffset),n.updateBody(),n.fireEvent("month"+(t?"dbl":"")+"click",n,n.value),n.fireEvent("select",n,n.value)},onYearClick:function(e,t){var n=this;n.value[1]=n.activeYear+n.resolveOffset(n.years.indexOf(e),n.yearOffset),n.updateBody(),n.fireEvent("year"+(t?"dbl":"")+"click",n,n.value),n.fireEvent("select",n,n.value)},resolveOffset:function(e,t){return e%2===0?e/2:t+Math.floor(e/2)},beforeDestroy:function(){var e=this;e.years=e.months=null,Ext.destroyMembers(e,"backRepeater","nextRepeater","okBtn","cancelBtn"),e.callParent()},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn"),this.callParent()},privates:{finishRenderChildren:function(){var e=this;this.callParent(arguments),this.showButtons&&(e.okBtn.finishRender(),e.cancelBtn.finishRender())}}}),Ext.define("Ext.picker.Date",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.button.Button","Ext.button.Split","Ext.util.ClickRepeater","Ext.util.KeyNav","Ext.fx.Manager","Ext.picker.Month"],alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:!0,renderTpl:['<div id="{id}-innerEl" data-ref="innerEl" role="grid">','<div role="presentation" class="{baseCls}-header">','<a id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-prev {baseCls}-arrow" role="button" title="{prevText}" hidefocus="on" ></a>','<div id="{id}-middleBtnEl" data-ref="middleBtnEl" class="{baseCls}-month">{%this.renderMonthBtn(values, out)%}</div>','<a id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-next {baseCls}-arrow" role="button" title="{nextText}" hidefocus="on" ></a>',"</div>",'<table id="{id}-eventEl" data-ref="eventEl" class="{baseCls}-inner" cellspacing="0" role="grid">','<thead role="presentation"><tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" title="{.}">','<div class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<a href="#" role="button" hidefocus="on" class="{parent.baseCls}-date"></a>',"</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" data-ref="footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(e){return Ext.picker.Date.prototype.getDayInitial(e)},isEndOfWeek:function(e){e--;var t=e%7===0&&0!==e;return t?'</tr><tr role="row">':""},renderTodayBtn:function(e,t){Ext.DomHelper.generateMarkup(e.$comp.todayBtn.getRenderTree(),t)},renderMonthBtn:function(e,t){Ext.DomHelper.generateMarkup(e.$comp.monthBtn.getRenderTree(),t)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d, Y",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:!0,disableAnim:!1,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",focusOnShow:!1,focusOnSelect:!0,initHour:12,numDays:42,initComponent:function(){var e=this,t=Ext.Date.clearTime;e.selectedCls=e.baseCls+"-selected",e.disabledCellCls=e.baseCls+"-disabled",e.prevCls=e.baseCls+"-prevday",e.activeCls=e.baseCls+"-active",e.cellCls=e.baseCls+"-cell",e.nextCls=e.baseCls+"-prevday",e.todayCls=e.baseCls+"-today",e.format||(e.format=Ext.Date.defaultFormat),e.dayNames||(e.dayNames=Ext.Date.dayNames),e.dayNames=e.dayNames.slice(e.startDay).concat(e.dayNames.slice(0,e.startDay)),e.callParent(),e.value=e.value?t(e.value,!0):t(new Date),e.initDisabledDays()},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){var e=[];return this.rendered&&e.push(this.monthBtn,this.todayBtn),e},beforeRender:function(){var e=this,t=new Array(e.numDays),n=Ext.Date.format(new Date,e.format);e.padding&&!e.width&&e.cacheWidth(),e.monthBtn=new Ext.button.Split({ownerCt:e,ownerLayout:e.getComponentLayout(),text:"",tooltip:e.monthYearText,listeners:{click:e.doShowMonthPicker,arrowclick:e.doShowMonthPicker,scope:e}}),e.showToday&&(e.todayBtn=new Ext.button.Button({ownerCt:e,ownerLayout:e.getComponentLayout(),text:Ext.String.format(e.todayText,n),tooltip:Ext.String.format(e.todayTip,n),tooltipType:"title",handler:e.selectToday,scope:e})),e.callParent(),Ext.applyIf(e,{renderData:{}}),Ext.apply(e.renderData,{dayNames:e.dayNames,showToday:e.showToday,prevText:e.prevText,nextText:e.nextText,days:t}),e.protoEl.unselectable()},cacheWidth:function(){var e=this,t=e.parseBox(e.padding),n=Ext.getBody().createChild({cls:e.baseCls+" "+e.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;"});e.self.prototype.width=n.getWidth()+t.left+t.right,n.destroy()},onRender:function(e,t){var n=this;n.callParent(arguments),n.cells=n.eventEl.select("tbody td"),n.textNodes=n.eventEl.query("tbody td a"),n.mon(n.eventEl,{scope:n,mousewheel:n.handleMouseWheel,click:{fn:n.handleDateClick,delegate:"a."+n.baseCls+"-date"}})},initEvents:function(){var e=this,t=Ext.Date,n=t.DAY;e.callParent(),e.prevRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:e.showPrevMonth,scope:e,preventDefault:!0,stopDefault:!0}),e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:e.showNextMonth,scope:e,preventDefault:!0,stopDefault:!0}),e.keyNav=new Ext.util.KeyNav(e.eventEl,Ext.apply({scope:e,left:function(i){i.ctrlKey?e.showPrevMonth():e.update(t.add(e.activeDate,n,-1))},right:function(i){i.ctrlKey?e.showNextMonth():e.update(t.add(e.activeDate,n,1))},up:function(i){i.ctrlKey?e.showNextYear():e.update(t.add(e.activeDate,n,-7))},down:function(i){i.ctrlKey?e.showPrevYear():e.update(t.add(e.activeDate,n,7))},pageUp:function(t){t.altKey?e.showPrevYear():e.showPrevMonth()},pageDown:function(t){t.altKey?e.showNextYear():e.showNextMonth()},tab:function(t){return e.doCancelFieldFocus=!0,e.handleTabClick(t),delete e.doCancelFieldFocus,!0},enter:function(e){return e.stopPropagation(),!0},home:function(n){e.update(t.getFirstDateOfMonth(e.activeDate))},end:function(n){e.update(t.getLastDateOfMonth(e.activeDate))}},e.keyNavConfig)),e.showToday&&(e.todayKeyListener=e.eventEl.addKeyListener(Ext.event.Event.prototype.SPACE,e.selectToday,e)),e.update(e.value)},handleTabClick:function(e){var t=this,n=t.getSelectedDate(t.activeDate),i=t.handler;t.disabled||!n.dateValue||Ext.fly(n.parentNode).hasCls(t.disabledCellCls)||(t.pickerField&&e.stopEvent(),t.doCancelFocus=!0,t.setValue(new Date(n.dateValue)),delete t.doCancelFocus,t.fireEvent("select",t,t.value),i&&i.call(t.scope||t,t,t.value),t.onSelect())},getSelectedDate:function(e){var t,n,i=this,r=e.getTime(),o=i.cells,a=i.selectedCls,s=o.elements,l=s.length;for(o.removeCls(a),t=0;l>t;t++)if(n=Ext.fly(s[t]),n.dom.firstChild.dateValue==r)return n.dom.firstChild;return null},initDisabledDays:function(){var e,t,n,i,r=this,o=r.disabledDates,a="(?:";if(!r.disabledDatesRE&&o){for(e=o.length-1,n=o.length,t=0;n>t;t++)i=o[t],a+=Ext.isDate(i)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(i,r.format))+"$":i,t!=e&&(a+="|");r.disabledDatesRE=new RegExp(a+")")}},setDisabledDates:function(e){var t=this;return Ext.isArray(e)?(t.disabledDates=e,t.disabledDatesRE=null):t.disabledDatesRE=e,t.initDisabledDays(),t.update(t.value,!0),t},setDisabledDays:function(e){return this.disabledDays=e,this.update(this.value,!0)},setMinDate:function(e){return this.minDate=e,this.update(this.value,!0)},setMaxDate:function(e){return this.maxDate=e,this.update(this.value,!0)},setValue:function(e){return this.value=Ext.Date.clearTime(e||new Date,!0),
this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(e){return e.substr(0,1)},focus:function(){this.update(this.activeDate)},onEnable:function(){this.callParent(),this.setDisabledStatus(!1),this.update(this.activeDate)},onDisable:function(){this.callParent(),this.setDisabledStatus(!0)},setDisabledStatus:function(e){var t=this;t.keyNav.setDisabled(e),t.prevRepeater.setDisabled(e),t.nextRepeater.setDisabled(e),t.showToday&&(t.todayKeyListener.setDisabled(e),t.todayBtn.setDisabled(e))},getActive:function(){return this.activeDate||this.value},runAnimation:function(e){var t=this.monthPicker,n={duration:200,callback:function(){t.setVisible(!e)}};t.isVisible();e?t.el.slideOut("t",n):t.el.slideIn("t",n)},hideMonthPicker:function(e){var t=this,n=t.monthPicker;return n&&n.isVisible()&&(t.shouldAnimate(e)?t.runAnimation(!0):n.hide()),t},doShowMonthPicker:function(){this.showMonthPicker()},doHideMonthPicker:function(){this.hideMonthPicker()},showMonthPicker:function(e){var t,n=this,i=n.el;return n.rendered&&!n.disabled&&(t=n.createMonthPicker(),t.isVisible()||(t.setValue(n.getActive()),t.setSize(i.getSize()),t.setPosition(-i.getBorderWidth("l"),-i.getBorderWidth("t")),n.shouldAnimate(e)?n.runAnimation(!1):t.show())),n},shouldAnimate:function(e){return Ext.isDefined(e)?e:!this.disableAnim},createMonthPicker:function(){var e=this,t=e.monthPicker;return t||(e.monthPicker=t=new Ext.picker.Month({renderTo:e.el,floating:!0,padding:e.padding,shadow:!1,small:e.showToday===!1,listeners:{scope:e,cancelclick:e.onCancelClick,okclick:e.onOkClick,yeardblclick:e.onOkClick,monthdblclick:e.onOkClick}}),e.disableAnim||t.el.setStyle("display","none"),t.hide(),e.on("beforehide",e.doHideMonthPicker,e)),t},onOkClick:function(e,t){var n=this,i=t[0],r=t[1],o=new Date(r,i,n.getActive().getDate());o.getMonth()!==i&&(o=Ext.Date.getLastDateOfMonth(new Date(r,i,1))),n.setValue(o),n.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate),this.hideMonthPicker()},showPrevMonth:function(e){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(e){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(e){if(e.stopEvent(),!this.disabled){var t=e.getWheelDelta();t>0?this.showPrevMonth():0>t&&this.showNextMonth()}},handleDateClick:function(e,t){var n=this,i=n.handler;e.stopEvent(),n.disabled||!t.dateValue||Ext.fly(t.parentNode).hasCls(n.disabledCellCls)||(n.doCancelFocus=n.focusOnSelect===!1,n.setValue(new Date(t.dateValue)),delete n.doCancelFocus,n.fireEvent("select",n,n.value),i&&i.call(n.scope||n,n,n.value),n.onSelect())},onSelect:function(){this.hideOnSelect&&this.hide()},selectToday:function(){var e=this,t=e.todayBtn,n=e.handler;return t&&!t.disabled&&(e.setValue(Ext.Date.clearTime(new Date)),e.fireEvent("select",e,e.value),n&&n.call(e.scope||e,e,e.value),e.onSelect()),e},selectedUpdate:function(e){var t,n,i=this,r=e.getTime(),o=i.cells,a=i.selectedCls,s=o.elements,l=s.length;for(o.removeCls(a),t=0;l>t;t++)if(n=Ext.fly(s[t]),n.dom.firstChild.dateValue==r){i.fireEvent("highlightitem",i,n),n.addCls(a),i.isVisible()&&!i.doCancelFocus&&Ext.fly(n.dom.firstChild).focus(50);break}},fullUpdate:function(e){var t,n,i,r,o,a,s,l,d,u=this,c=u.cells.elements,h=u.textNodes,f=u.disabledCellCls,g=Ext.Date,p=0,m=0,x=u.isVisible(),E=+g.clearTime(e,!0),v=+g.clearTime(new Date),y=u.minDate?g.clearTime(u.minDate,!0):Number.NEGATIVE_INFINITY,b=u.maxDate?g.clearTime(u.maxDate,!0):Number.POSITIVE_INFINITY,C=u.disabledDatesRE,S=u.disabledDatesText,w=u.disabledDays?u.disabledDays.join(""):!1,T=u.disabledDaysText,P=u.format,I=g.getDaysInMonth(e),k=g.getFirstDateOfMonth(e),M=k.getDay()-u.startDay,R=g.add(e,g.MONTH,-1),D=u.longDayFormat;for(0>M&&(M+=7),I+=M,t=g.getDaysInMonth(R)-M,n=new Date(R.getFullYear(),R.getMonth(),t,u.initHour),u.showToday&&(r=g.clearTime(new Date),i=y>r||r>b||C&&P&&C.test(g.dateFormat(r,P))||w&&-1!=w.indexOf(r.getDay()),u.disabled||(u.todayBtn.setDisabled(i),u.todayKeyListener.setDisabled(i))),o=function(e,t){d=+g.clearTime(n,!0),e.title=g.format(n,D),e.firstChild.dateValue=d,d==v&&(t+=" "+u.todayCls,e.title=u.todayText,u.todayElSpan=Ext.DomHelper.append(e.firstChild,{tag:"span",cls:Ext.baseCSSPrefix+"hidden-clip",html:u.todayText},!0)),d==E&&(t+=" "+u.selectedCls,u.fireEvent("highlightitem",u,e),x&&u.floating&&Ext.fly(e.firstChild).focus(50)),y>d?(t+=" "+f,e.title=u.minText):d>b?(t+=" "+f,e.title=u.maxText):w&&-1!==w.indexOf(n.getDay())?(e.title=T,t+=" "+f):C&&P&&(l=g.dateFormat(n,P),C.test(l)&&(e.title=S.replace("%0",l),t+=" "+f)),e.className=t+" "+u.cellCls};p<u.numDays;++p)M>p?(a=++t,s=u.prevCls):p>=I?(a=++m,s=u.nextCls):(a=p-M+1,s=u.activeCls),h[p].innerHTML=a,n.setDate(n.getDate()+1),o(c[p],s);u.monthBtn.setText(Ext.Date.format(e,u.monthYearFormat))},update:function(e,t){var n=this,i=n.activeDate;return n.rendered&&(n.activeDate=e,!t&&i&&n.el&&i.getMonth()==e.getMonth()&&i.getFullYear()==e.getFullYear()?n.selectedUpdate(e,i):n.fullUpdate(e,i)),n},beforeDestroy:function(){var e=this;e.rendered&&(Ext.destroy(e.todayKeyListener,e.keyNav,e.monthPicker,e.monthBtn,e.nextRepeater,e.prevRepeater,e.todayBtn),delete e.textNodes,delete e.cells.elements),e.callParent()},onShow:function(){this.callParent(arguments),this.focusOnShow&&this.focus()},privates:{finishRenderChildren:function(){var e=this;e.callParent(),e.monthBtn.finishRender(),e.showToday&&e.todayBtn.finishRender()}}}),Ext.define("Ext.form.field.Date",{extend:"Ext.form.field.Picker",alias:"widget.datefield",requires:["Ext.picker.Date"],alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:!0,useStrict:void 0,initTime:"12",initTimeFormat:"H",matchFieldWidth:!1,startDay:0,initComponent:function(){var e,t,n=this,i=Ext.isString;e=n.minValue,t=n.maxValue,i(e)&&(n.minValue=n.parseDate(e)),i(t)&&(n.maxValue=n.parseDate(t)),n.disabledDatesRE=null,n.initDisabledDays(),n.callParent()},initValue:function(){var e=this,t=e.value;Ext.isString(t)&&(e.value=e.rawToValue(t)),e.callParent()},initDisabledDays:function(){if(this.disabledDates){var e,t,n=this.disabledDates,i=n.length-1,r="(?:",o=n.length;for(e=0;o>e;e++)t=n[e],r+=Ext.isDate(t)?"^"+Ext.String.escapeRegex(t.dateFormat(this.format))+"$":t,e!==i&&(r+="|");this.disabledDatesRE=new RegExp(r+")")}},setDisabledDates:function(e){var t=this,n=t.picker;t.disabledDates=e,t.initDisabledDays(),n&&n.setDisabledDates(t.disabledDatesRE)},setDisabledDays:function(e){var t=this.picker;this.disabledDays=e,t&&t.setDisabledDays(e)},setMinValue:function(e){var t=this,n=t.picker,i=Ext.isString(e)?t.parseDate(e):e;t.minValue=i,n&&(n.minText=Ext.String.format(t.minText,t.formatDate(t.minValue)),n.setMinDate(i))},setMaxValue:function(e){var t=this,n=t.picker,i=Ext.isString(e)?t.parseDate(e):e;t.maxValue=i,n&&(n.maxText=Ext.String.format(t.maxText,t.formatDate(t.maxValue)),n.setMaxDate(i))},getErrors:function(e){var t,n,i,r,o=this,a=Ext.String.format,s=Ext.Date.clearTime,l=o.callParent(arguments),d=o.disabledDays,u=o.disabledDatesRE,c=o.minValue,h=o.maxValue,f=d?d.length:0,g=0;if(e=o.formatDate(e||o.processRawValue(o.getRawValue())),null===e||e.length<1)return l;if(t=e,e=o.parseDate(e),!e)return l.push(a(o.invalidText,t,Ext.Date.unescapeFormat(o.format))),l;if(r=e.getTime(),c&&r<s(c).getTime()&&l.push(a(o.minText,o.formatDate(c))),h&&r>s(h).getTime()&&l.push(a(o.maxText,o.formatDate(h))),d)for(i=e.getDay();f>g;g++)if(i===d[g]){l.push(o.disabledDaysText);break}return n=o.formatDate(e),u&&u.test(n)&&l.push(a(o.disabledDatesText,n)),l},rawToValue:function(e){return this.parseDate(e)||e||null},valueToRaw:function(e){return this.formatDate(this.parseDate(e))},safeParse:function(e,t){var n,i=this,r=Ext.Date,o=null,a=i.useStrict;return r.formatContainsHourInfo(t)?o=r.parse(e,t,a):(n=r.parse(e+" "+i.initTime,t+" "+i.initTimeFormat,a),n&&(o=r.clearTime(n))),o},getSubmitValue:function(){var e=this.submitFormat||this.format,t=this.getValue();return t?Ext.Date.format(t,e):""},parseDate:function(e){if(!e||Ext.isDate(e))return e;var t,n=this,i=n.safeParse(e,n.format),r=n.altFormats,o=n.altFormatsArray,a=0;if(!i&&r)for(o=o||r.split("|"),t=o.length;t>a&&!i;++a)i=n.safeParse(e,o[a]);return i},formatDate:function(e){return Ext.isDate(e)?Ext.Date.dateFormat(e,this.format):e},createPicker:function(){var e=this,t=Ext.String.format;return new Ext.picker.Date({pickerField:e,renderTo:document.body,floating:!0,hidden:!0,focusOnShow:!0,minDate:e.minValue,maxDate:e.maxValue,disabledDatesRE:e.disabledDatesRE,disabledDatesText:e.disabledDatesText,disabledDays:e.disabledDays,disabledDaysText:e.disabledDaysText,format:e.format,showToday:e.showToday,startDay:e.startDay,minText:t(e.minText,e.formatDate(e.minValue)),maxText:t(e.maxText,e.formatDate(e.maxValue)),listeners:{scope:e,select:e.onSelect},keyNavConfig:{esc:function(){e.collapse(),e.focus()}}})},onDownArrow:function(e){this.callParent(arguments),this.isExpanded&&this.getPicker().focus()},onSelect:function(e,t){var n=this;n.setValue(t),n.fireEvent("select",n,t),n.collapse(),n.focus(!1,50)},onExpand:function(){var e=this.getValue();this.picker.setValue(Ext.isDate(e)?e:new Date)},beforeBlur:function(){var e=this,t=e.rawToValue(e.getRawValue());Ext.isDate(t)&&e.setValue(t)}}),Ext.define("Ext.form.field.FileButton",{extend:"Ext.button.Button",alias:"widget.filebutton",childEls:["fileInputEl"],inputCls:Ext.baseCSSPrefix+"form-file-input",cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:!1,autoEl:{tag:"div",unselectable:"on"},afterTpl:'<input id="{id}-fileInputEl" data-ref="fileInputEl" class="{childElCls} {inputCls}" type="file" size="1" name="{inputName}" role="{role}" tabIndex="{tabIndex}">',getAfterMarkup:function(e){return this.getTpl("afterTpl").apply(e)},getTemplateArgs:function(){var e=this.callParent();return e.inputCls=this.inputCls,e.inputName=this.inputName,e.tabIndex=this.ownerCt.tabIndex,e},afterRender:function(){var e=this;e.callParent(arguments),e.fileInputEl.on("change",e.fireChange,e)},fireChange:function(e){this.fireEvent("change",this,e,this.fileInputEl.dom.value)},createFileInput:function(e){var t=this;t.fileInputEl=t.el.createChild({name:t.inputName,id:e?void 0:t.id+"-fileInputEl",cls:t.inputCls,tag:"input",type:"file",size:1,role:"button"}),t.fileInputEl.on("change",t.fireChange,t)},reset:function(e){e&&this.fileInputEl.destroy(),this.createFileInput(!e)},restoreInput:function(e){this.fileInputEl.destroy(),e=Ext.get(e),this.el.appendChild(e),this.fileInputEl=e},onDisable:function(){this.callParent(),this.fileInputEl.dom.disabled=!0},onEnable:function(){this.callParent(),this.fileInputEl.dom.disabled=!1}}),Ext.define("Ext.form.trigger.Component",{extend:"Ext.form.trigger.Trigger",alias:"trigger.component",cls:Ext.baseCSSPrefix+"form-trigger-cmp",onFieldRender:function(){var e=this,t=e.component;this.callParent(),t.isComponent||t.isWidget||(t=Ext.widget(t)),e.component=t,t.render(e.el)},destroy:function(){var e=this.component;(e.isComponent||e.isWidget)&&e.destroy()}}),Ext.define("Ext.form.field.File",{extend:"Ext.form.field.Text",alias:["widget.filefield","widget.fileuploadfield"],alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],requires:["Ext.form.field.FileButton","Ext.form.trigger.Component"],triggers:{filebutton:{type:"component",hideOnReadOnly:!1}},buttonText:"Browse...",buttonOnly:!1,buttonMargin:3,clearOnSubmit:!0,extraFieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",inputCls:Ext.baseCSSPrefix+"form-text-file",readOnly:!0,editable:!1,submitValue:!1,triggerNoEditCls:"",childEls:["browseButtonWrap"],applyTriggers:function(e){var t=this,n=(e||{}).filebutton;return n?(n.component=Ext.apply({xtype:"filebutton",ownerCt:t,id:t.id+"-button",ui:t.ui,disabled:t.disabled,text:t.buttonText,style:t.buttonOnly?"":t.getButtonMarginProp()+t.buttonMargin+"px",inputName:t.getName(),listeners:{scope:t,change:t.onFileChange}},t.buttonConfig),t.callParent([e])):void Ext.Error.raise(t.$className+' requires a valid trigger config containing "filebutton" specification')},onRender:function(){var e,t,n,i,r=this;r.callParent(arguments),e=r.inputEl,e.dom.name="",i=r.getTrigger("filebutton"),t=r.button=i.component,r.fileInputEl=t.fileInputEl,n=t.el,r.buttonOnly&&(r.inputWrap.setDisplayed(!1),r.shrinkWrap=3),i.el.setWidth(n.getWidth()+n.getMargin("lr")),Ext.isIE&&r.button.getEl().repaint()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap" data-ref="browseButtonWrap" role="presentation"></td>'},onFileChange:function(e,t,n){this.duringFileSelect=!0,Ext.form.field.File.superclass.setValue.call(this,n),delete this.duringFileSelect},didValueChange:function(){return!!this.duringFileSelect},setValue:Ext.emptyFn,reset:function(){var e=this,t=e.clearOnSubmit;e.rendered&&(e.button.reset(t),e.fileInputEl=e.button.fileInputEl,t&&(e.inputEl.dom.value="",Ext.form.field.File.superclass.setValue.call(this,null))),e.callParent()},onShow:function(){this.callParent(),this.button.updateLayout()},onDisable:function(){this.callParent(),this.button.disable()},onEnable:function(){this.callParent(),this.button.enable()},isFileUpload:Ext.returnTrue,extractFileInput:function(){var e,t=this;return t.rendered?(e=t.button.fileInputEl.dom,t.reset()):(e=document.createElement("input"),e.type="file",e.className=Ext.baseCSSPrefix+"hidden-display",e.name=t.getName()),e},restoreInput:function(e){if(this.rendered){var t=this.button;t.restoreInput(e),this.fileInputEl=t.fileInputEl}},onDestroy:function(){Ext.destroyMembers(this,"button"),delete this.fileInputEl,this.callParent()},getButtonMarginProp:function(){return"margin-left:"}}),Ext.define("Ext.form.field.Hidden",{extend:"Ext.form.field.Base",alias:["widget.hiddenfield","widget.hidden"],alternateClassName:"Ext.form.Hidden",inputType:"hidden",hideLabel:!0,hidden:!0,ariaRole:"presentation",initComponent:function(){this.formItemCls+="-hidden",this.callParent()},isEqual:function(e,t){return this.isEqualAsString(e,t)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn}),Ext.define("Ext.picker.Color",{extend:"Ext.Component",requires:"Ext.XTemplate",alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",itemCls:Ext.baseCSSPrefix+"color-picker-item",value:null,clickEvent:"click",allowReselect:!1,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" role="button" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>',"</a>","</tpl>"],initComponent:function(){var e=this;e.callParent(arguments),e.handler&&e.on("select",e.handler,e.scope,!0)},initRenderData:function(){var e=this;return Ext.apply(e.callParent(),{itemCls:e.itemCls,colors:e.colors})},onRender:function(){var e=this,t=e.clickEvent;e.callParent(arguments),e.mon(e.el,t,e.handleClick,e,{delegate:"a"}),"click"!==t&&e.mon(e.el,"click",Ext.emptyFn,e,{delegate:"a",stopEvent:!0})},afterRender:function(){var e,t=this;t.callParent(arguments),t.value&&(e=t.value,t.value=null,t.select(e,!0))},handleClick:function(e){var t,n=this;e.stopEvent(),n.disabled||(t=e.currentTarget.className.match(n.colorRe)[1],n.select(t.toUpperCase()))},select:function(e,t){var n,i=this,r=i.selectedCls,o=i.value;return e=e.replace("#",""),i.rendered?void((e!=o||i.allowReselect)&&(n=i.el,i.value&&n.down("a.color-"+o).removeCls(r),n.down("a.color-"+e).addCls(r),i.value=e,t!==!0&&i.fireEvent("select",i,e))):void(i.value=e)},clear:function(){var e,t=this,n=t.value;n&&t.rendered&&(e=t.el.down("a.color-"+n),e.removeCls(t.selectedCls)),t.value=null},getValue:function(){return this.value||null}}),Ext.define("Ext.layout.component.field.HtmlEditor",{extend:"Ext.layout.component.field.FieldContainer",alias:["layout.htmleditor"],type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(e){var t,n=this.owner;Ext.isGecko&&(t=n.textareaEl.dom,this.lastValue=t.value,t.value=""),this.callParent(arguments),e.toolbarContext=e.context.getCmp(n.toolbar),e.inputCmpContext=e.context.getCmp(n.inputCmp),e.bodyCellContext=e.getEl("bodyEl"),e.textAreaContext=e.getEl("textareaEl"),e.iframeContext=e.getEl("iframeEl")},beginLayoutCycle:function(e){var t=this,n=e.widthModel,i=e.heightModel,r=t.owner,o=r.iframeEl,a=r.textareaEl;t.callParent(arguments),n.shrinkWrap?(o.setStyle("width",""),a.setStyle("width","")):n.natural&&e.bodyCellContext.setWidth(t.naturalWidth),(i.natural||i.shrinkWrap)&&(o.setHeight(t.naturalHeight),a.setHeight(t.naturalHeight))},finishedLayout:function(){var e=this.owner;this.callParent(arguments),Ext.isGecko&&(e.textareaEl.dom.value=this.lastValue)},publishOwnerWidth:function(e,t){this.callParent(arguments),t-=e.inputCmpContext.getBorderInfo().width,e.textAreaContext.setWidth(t),e.iframeContext.setWidth(t)},publishInnerWidth:function(e,t){var n=e.inputCmpContext.getBorderInfo().width,i=Ext.isIE8,r=e.widthModel.natural;this.callParent(arguments),t=e.bodyCellContext.props.width-n,r?(i&&(t-=2),e.textAreaContext.setWidth(t),e.iframeContext.setWidth(t)):i&&e.textAreaContext.setWidth(t)},publishInnerHeight:function(e,t){var n=e.toolbarContext.getProp("height");this.callParent(arguments),t=e.bodyCellContext.props.height,void 0!==n?(t-=n+e.inputCmpContext.getFrameInfo().height,Ext.isIE8&&(t-=2),e.iframeContext.setHeight(t),e.textAreaContext.setHeight(t)):this.done=!1}}),Ext.define("Ext.form.field.HtmlEditor",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",requires:["Ext.tip.QuickTipManager","Ext.picker.Color","Ext.layout.container.VBox","Ext.toolbar.Item","Ext.toolbar.Toolbar","Ext.util.Format","Ext.layout.component.field.HtmlEditor"],componentLayout:"htmleditor",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" data-ref="textareaEl" name="{name}" tabIndex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" data-ref="iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>',"{afterIFrameTpl}",{disableFormats:!0}],stretchInputElFixed:!0,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:Ext.isOpera?"&#160;":"&#8203;",extraFieldBodyCls:Ext.baseCSSPrefix+"html-editor-wrap",defaultButtonUI:"default-toolbar",initialized:!1,activated:!1,sourceEditMode:!1,iframePad:3,hideMode:"offsets",maskOnDisable:!0,containerElCls:Ext.baseCSSPrefix+"html-editor-container",reStripQuotes:/^['"]*|['"]*$/g,initComponent:function(){var e=this;e.items=[e.createToolbar(),e.createInputCmp()],e.layout={type:"vbox",align:"stretch"},e.callParent(arguments),e.initField()},createInputCmp:function(){return this.inputCmp=Ext.widget(this.getInputCmpCfg()),this.inputCmp},getInputCmpCfg:function(){var e=this,t=e.id+"-inputCmp",n={id:t,name:e.name,textareaCls:Ext.baseCSSPrefix+"hidden",value:e.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:Ext.baseCSSPrefix+"htmleditor-iframe"};return e.getInsertionRenderData(n,e.subTplInsertions),{flex:1,xtype:"component",tpl:e.getTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:t,cls:Ext.baseCSSPrefix+"html-editor-input",data:n}},createToolbar:function(){return this.toolbar=Ext.widget(this.getToolbarCfg()),this.toolbar},getToolbarCfg:function(){function e(e,t,n){return{itemId:e,cls:s+"btn-icon",iconCls:s+"edit-"+e,enableToggle:t!==!1,scope:r,handler:n||r.relayBtnCmd,clickEvent:"mousedown",tooltip:a?r.buttonTips[e]||i:i,overflowText:r.buttonTips[e].title||i,tabIndex:-1}}var t,n,i,r=this,o=[],a=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),s=Ext.baseCSSPrefix;for(r.enableFont&&!Ext.isSafari2&&(n=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" data-ref="selectEl" class="'+s+'font-select">',"</select>"],childEls:["selectEl"],afterRender:function(){r.fontSelect=this.selectEl,Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var e=this.selectEl;e&&(e.dom.disabled=!0),Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var e=this.selectEl;e&&(e.dom.disabled=!1),Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){r.win.focus(),r.relayCmd("fontName",r.fontSelect.dom.value),r.deferFocus()},element:"selectEl"}}),o.push(n,"-")),r.enableFormat&&o.push(e("bold"),e("italic"),e("underline")),r.enableFontSize&&o.push("-",e("increasefontsize",!1,r.adjustFont),e("decreasefontsize",!1,r.adjustFont)),r.enableColors&&o.push("-",{itemId:"forecolor",cls:s+"btn-icon",iconCls:s+"edit-forecolor",overflowText:r.buttonTips.forecolor.title,tooltip:a?r.buttonTips.forecolor||i:i,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",allowReselect:!0,focus:Ext.emptyFn,value:"000000",plain:!0,clickEvent:"mousedown",handler:function(e,t){r.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+t:t),this.up("menu").hide()}}]})},{itemId:"backcolor",cls:s+"btn-icon",iconCls:s+"edit-backcolor",overflowText:r.buttonTips.backcolor.title,tooltip:a?r.buttonTips.backcolor||i:i,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:!0,allowReselect:!0,clickEvent:"mousedown",handler:function(e,t){Ext.isGecko?(r.execCmd("useCSS",!1),r.execCmd("hilitecolor","#"+t),r.execCmd("useCSS",!0),r.deferFocus()):r.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+t:t),this.up("menu").hide()}}]})}),r.enableAlignments&&o.push("-",e("justifyleft"),e("justifycenter"),e("justifyright")),Ext.isSafari2||(r.enableLinks&&o.push("-",e("createlink",!1,r.createLink)),r.enableLists&&o.push("-",e("insertorderedlist"),e("insertunorderedlist")),r.enableSourceEdit&&o.push("-",e("sourceedit",!0,function(){r.toggleSourceEdit(!r.sourceEditMode)}))),t=0;t<o.length;t++)"sourceedit"!==o[t].itemId&&(o[t].disabled=!0);return{xtype:"toolbar",defaultButtonUI:r.defaultButtonUI,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:!0,items:o,listeners:{click:function(e){e.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(e){var t,n=this,i=n.textareaEl,r=n.iframeEl;n.readOnly=e,i&&(i.dom.readOnly=e),n.initialized&&(t=n.getEditorBody(),Ext.isIE?(r.setDisplayed(!1),t.contentEditable=!e,r.setDisplayed(!0)):n.setDesignMode(!e),t&&(t.style.cursor=e?"default":"text"),n.disableItems(e))},getDocMarkup:function(){var e=this,t=e.iframeEl.getHeight()-2*e.iframePad;return Ext.String.format('<!DOCTYPE html><html><head><style type="text/css">'+(Ext.isOpera?"p{margin:0;}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(e.rtl?"rtl;":"ltr;")+(Ext.isIE8?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}</style></head><body></body></html>",e.iframePad,t,e.defaultFont)},getEditorBody:function(){var e=this.getDoc();return e.body||e.documentElement},getDoc:function(){return this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return this.iframeEl.dom.contentWindow||window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var e,t,n,i,r,o,a,s=this,l=0;if(!s.defaultFont){for(t=s.textareaEl.getStyle("font-family"),t=Ext.String.capitalize(t.split(",")[0]),e=Ext.Array.clone(s.fontFamilies),Ext.Array.include(e,t),e.sort(),s.defaultFont=t,n=s.down("#fontSelect").selectEl.dom,r=0,o=e.length;o>r;++r)t=e[r],a=t.toLowerCase(),i=new Option(t,a),t===s.defaultFont&&(l=r),i.style.fontFamily=a,Ext.isIE?n.add(i):n.options.add(i);n.options[l].selected=!0}},isEqual:function(e,t){return this.isEqualAsString(e,t)},afterRender:function(){var e=this,t=e.inputCmp;e.callParent(arguments),e.iframeEl=t.iframeEl,e.textareaEl=t.textareaEl,e.inputEl=e.iframeEl,e.enableFont&&e.initDefaultFont(),e.monitorTask=Ext.TaskManager.start({run:e.checkDesignMode,scope:e,interval:100})},initFrameDoc:function(){var e,t,n=this;Ext.TaskManager.stop(n.monitorTask),e=n.getDoc(),n.win=n.getWin(),e.open(),e.write(n.getDocMarkup()),e.close(),t={run:function(){var e=n.getDoc();(e.body||"complete"===e.readyState)&&(Ext.TaskManager.stop(t),n.setDesignMode(!0),Ext.defer(n.initEditor,10,n))},interval:10,duration:1e4,scope:n},Ext.TaskManager.start(t)},checkDesignMode:function(){var e=this,t=e.getDoc();!t||t.editorInitialized&&"on"===e.getDesignMode()||e.initFrameDoc()},setDesignMode:function(e){var t=this,n=t.getDoc();n&&(t.readOnly&&(e=!1),n.designMode=/on|true/i.test(String(e).toLowerCase())?"on":"off")},getDesignMode:function(){var e=this.getDoc();return e?String(e.designMode).toLowerCase():""},disableItems:function(e){var t,n,i=this.getToolbar().items.items,r=i.length;for(t=0;r>t;t++)n=i[t],"sourceedit"!==n.getItemId()&&n.setDisabled(e)},toggleSourceEdit:function(e){var t=this,n=t.iframeEl,i=t.textareaEl,r=Ext.baseCSSPrefix+"hidden",o=t.getToolbar().getComponent("sourceedit");Ext.isBoolean(e)||(e=!t.sourceEditMode),t.sourceEditMode=e,o.pressed!==e&&o.toggle(e),e?(t.disableItems(!0),t.syncValue(),n.addCls(r),i.removeCls(r),i.dom.removeAttribute("tabIndex"),i.focus(),t.inputEl=i):(t.initialized&&t.disableItems(t.readOnly),t.pushValue(),n.removeCls(r),i.addCls(r),i.dom.setAttribute("tabIndex",-1),t.deferFocus(),t.inputEl=n),t.fireEvent("editmodechange",t,e),t.updateLayout()},createLink:function(){var e=prompt(this.createLinkText,this.defaultLinkValue);e&&"http://"!==e&&this.relayCmd("createlink",e)},clearInvalid:Ext.emptyFn,setValue:function(e){var t=this,n=t.textareaEl;t.inputCmp;return(null===e||void 0===e)&&(e=""),n&&(n.dom.value=e),t.pushValue(),!t.rendered&&t.inputCmp&&(t.inputCmp.data.value=e),t.mixins.field.setValue.call(t,e),t},cleanHtml:function(e){return e=String(e),Ext.isWebKit&&(e=e.replace(/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,"")),e.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,""),10)&&(e=e.substring(1)),e},syncValue:function(){var e,t,n,i,r,o,a=this;a.initialized&&(e=a.getEditorBody(),n=e.innerHTML,o=a.textareaEl.dom,Ext.isWebKit&&(i=e.getAttribute("style"),r=i.match(/text-align:(.*?);/i),r&&r[1]&&(n='<div style="'+r[0]+'">'+n+"</div>")),n=a.cleanHtml(n),a.fireEvent("beforesync",a,n)!==!1&&(Ext.isGecko&&""===o.value&&"<br>"===n&&(n=""),o.value!==n&&(o.value=n,t=!0),a.fireEvent("sync",a,n),t&&a.checkChange()))},getValue:function(){var e,t=this;return t.sourceEditMode||t.syncValue(),e=t.rendered?t.textareaEl.dom.value:t.value,t.value=e,e},pushValue:function(){var e,t=this;t.initialized&&(e=t.textareaEl.dom.value||"",!t.activated&&e.length<1&&(e=t.defaultValue),t.fireEvent("beforepush",t,e)!==!1&&(t.getEditorBody().innerHTML=e,Ext.isGecko&&(t.setDesignMode(!1),t.setDesignMode(!0)),t.fireEvent("push",t,e)))},focus:function(e,t){var n,i,r=this;return t?(r.focusTask||(r.focusTask=new Ext.util.DelayedTask(r.focus)),r.focusTask.delay(Ext.isNumber(t)?t:10,null,r,[e,!1])):(e&&(r.textareaEl&&r.textareaEl.dom&&(n=r.textareaEl.dom.value),n&&n.length&&r.execCmd("selectall",!0)),i=r.getFocusEl(),i&&i.focus&&i.focus()),r},initEditor:function(){var e,t,n,i,r,o=this;if(!o.destroying&&!o.isDestroyed&&(e=o.getEditorBody(),t=o.textareaEl.getStyle(["font-size","font-family","background-image","background-repeat","background-color","color"]),t["background-attachment"]="fixed",e.bgProperties="fixed",Ext.DomHelper.applyStyles(e,t),n=o.getDoc(),i=Ext.get(n))){try{i.clearListeners()}catch(a){}r=o.onEditorEvent.bind(o),i.on({mousedown:r,dblclick:r,click:r,keyup:r,delegated:!1,buffer:100}),r=o.onRelayedEvent,i.on({mousedown:r,mousemove:r,mouseup:r,click:r,dblclick:r,delegated:!1,scope:o}),Ext.isGecko&&i.on("keypress",o.applyCommand,o),o.fixKeys&&i.on("keydown",o.fixKeys,o),o.fixKeysAfter&&i.on("keyup",o.fixKeysAfter,o),Ext.isIE9&&Ext.get(n.documentElement).on("focus",o.focus,o),Ext.isIE8&&(i.on("focusout",function(){o.savedSelection="None"!==n.selection.type?n.selection.createRange():null},o),i.on("focusin",function(){o.savedSelection&&o.savedSelection.select()},o)),Ext.getWin().on("beforeunload",o.beforeDestroy,o),n.editorInitialized=!0,o.initialized=!0,o.pushValue(),o.setReadOnly(o.readOnly),o.fireEvent("initialize",o)}},beforeDestroy:function(){var e,t,n=this,i=n.monitorTask;if(i&&Ext.TaskManager.stop(i),n.rendered){if(Ext.getWin().un(n.beforeDestroy,n),e=n.getDoc(),e&&(Ext.get(e).clearListeners(),e.hasOwnProperty))for(t in e)try{e.hasOwnProperty(t)&&delete e[t]}catch(r){}n.iframeEl.destroy(),delete n.iframeEl,delete n.textareaEl,delete n.toolbar,delete n.inputCmp}n.callParent()},onRelayedEvent:function(e){var t=this.iframeEl,n=Ext.fly(t).getTrueXY(),i=e.getXY(),r=e.getXY();e.xy=[n[0]+r[0],n[1]+r[1]],e.injectEvent(t),e.xy=i},onFirstFocus:function(){var e,t,n=this;if(n.activated=!0,n.disableItems(n.readOnly),Ext.isGecko){n.win.focus(),e=n.win.getSelection(),e.focusNode&&!n.getValue().length&&(t=e.getRangeAt(0),t.selectNodeContents(n.getEditorBody()),t.collapse(!0),n.deferFocus());try{n.execCmd("useCSS",!0),n.execCmd("styleWithCSS",!1)}catch(i){}}n.fireEvent("activate",n)},adjustFont:function(e){var t,n="increasefontsize"===e.getItemId()?1:-1,i=this.getDoc().queryCommandValue("FontSize")||"2",r=Ext.isString(i)&&-1!==i.indexOf("px");i=parseInt(i,10),r?(i=10>=i?1+n:13>=i?2+n:16>=i?3+n:18>=i?4+n:24>=i?5+n:6+n,i=Ext.Number.constrain(i,1,6)):(t=Ext.isSafari,t&&(n*=2),i=Math.max(1,i+n)+(t?"px":0)),this.relayCmd("FontSize",i)},onEditorEvent:function(){this.updateToolbar()},updateToolbar:function(){function e(){var e;for(t=0,n=arguments.length,o;n>t;t++){o=arguments[t];try{e=r.queryCommandState(o)}catch(a){e=!1}i[o].toggle(e)}}var t,n,i,r,o,a,s,l,d=this;if(!d.readOnly){if(!d.activated)return void d.onFirstFocus();for(i=d.getToolbar().items.map,r=d.getDoc(),d.enableFont&&!Ext.isSafari2&&(a=r.queryCommandValue("fontName"),o=(a?a.split(",")[0].replace(d.reStripQuotes,""):d.defaultFont).toLowerCase(),s=d.fontSelect.dom,(o!==s.value||o!==a)&&(s.value=o)),d.enableFormat&&e("bold","italic","underline"),d.enableAlignments&&e("justifyleft","justifycenter","justifyright"),!Ext.isSafari2&&d.enableLists&&e("insertorderedlist","insertunorderedlist"),l=d.toolbar.query("menu"),t=0;t<l.length;t++)l[t].hide();d.syncValue()}},relayBtnCmd:function(e){this.relayCmd(e.getItemId())},relayCmd:function(e,t){Ext.defer(function(){var n=this;this.isDestroyed||(n.win.focus(),
n.execCmd(e,t),n.updateToolbar())},10,this)},execCmd:function(e,t){var n=this,i=n.getDoc();i.execCommand(e,!1,void 0===t?null:t),n.syncValue()},applyCommand:function(e){if(e.ctrlKey){var t,n=this,i=e.getCharCode();if(i>0){switch(i=String.fromCharCode(i)){case"b":t="bold";break;case"i":t="italic";break;case"u":t="underline"}t&&(n.win.focus(),n.execCmd(t),n.deferFocus(),e.preventDefault())}}},insertAtCursor:function(e){var t,n=this;n.activated&&(n.win.focus(),Ext.isIE?(t=n.getDoc().selection.createRange(),t&&(t.pasteHTML(e),n.syncValue(),n.deferFocus())):(n.execCmd("InsertHTML",e),n.deferFocus()))},fixKeys:function(){var e;return Ext.isIE?function(t){var n,i,r=this,o=t.getKey(),a=r.getDoc(),s=r.readOnly;o===t.TAB?(t.stopEvent(),s||(n=a.selection.createRange(),n&&(n.collapse&&(n.collapse(!0),n.pasteHTML("&#160;&#160;&#160;&#160;")),r.deferFocus()))):o===t.ENTER&&(s||(Ext.isIE10m?(n=a.selection.createRange(),n&&(i=n.parentElement(),i&&"li"===i.tagName.toLowerCase()||(t.stopEvent(),n.pasteHTML("<br />"),n.collapse(!1),n.select()))):(n=a.getSelection().getRangeAt(0),n&&"li"!==n.commonAncestorContainer.parentNode.tagName.toLowerCase()&&(t.stopEvent(),e=a.createElement("div"),n.insertNode(e)))))}:Ext.isOpera?function(e){var t=this,n=e.getKey(),i=t.readOnly;n===e.TAB&&(e.stopEvent(),i||(t.win.focus(),t.execCmd("InsertHTML","&#160;&#160;&#160;&#160;"),t.deferFocus()))}:null}(),fixKeysAfter:function(){return Ext.isIE?function(e){var t,n=this,i=e.getKey(),r=n.getDoc(),o=n.readOnly;o||i!==e.BACKSPACE&&i!==e.DELETE||(t=r.body.innerHTML,("<p>&nbsp;</p>"===t||"<P>&nbsp;</P>"===t)&&(r.body.innerHTML=""))}:null}(),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}},privates:{deferFocus:function(){this.focus(!1,!0)},getFocusEl:function(){var e=this,t=e.win;return t&&!e.sourceEditMode?t:e.textareaEl}}}),Ext.define("Ext.form.field.Tag",{extend:"Ext.form.field.ComboBox",requires:["Ext.selection.Model","Ext.data.Store"],xtype:"tagfield",multiSelect:!0,forceSelection:!0,createNewOnEnter:!1,createNewOnBlur:!1,encodeSubmitValue:!1,triggerOnClick:!0,stacked:!1,pinList:!0,filterPickList:!1,selectOnFocus:!0,grow:!0,growMin:!1,growMax:!1,fieldSubTpl:['<div id="{cmpId}-listWrapper" data-ref="listWrapper" class="'+Ext.baseCSSPrefix+'tagfield {fieldCls} {typeCls} {typeCls}-{ui}">','<ul id="{cmpId}-itemList" data-ref="itemList" class="'+Ext.baseCSSPrefix+'tagfield-list">','<li id="{cmpId}-inputElCt" data-ref="inputElCt" class="'+Ext.baseCSSPrefix+'tagfield-input">','<div id="{cmpId}-emptyEl" data-ref="emptyEl" class="{emptyCls}">{emptyText}</div>','<input id="{cmpId}-inputEl" data-ref="inputEl" type="{type}" ','<tpl if="name">name="{name}" </tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="size">size="{size}" </tpl>','<tpl if="tabIdx">tabIndex="{tabIdx}" </tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','class="'+Ext.baseCSSPrefix+'tagfield-input-field {inputElCls}" autocomplete="off">',"</li>","</ul>","</div>",{disableFormats:!0}],childEls:["listWrapper","itemList","inputEl","inputElCt","emptyEl"],emptyInputCls:Ext.baseCSSPrefix+"tagfield-emptyinput",initComponent:function(){var e=this,t=e.typeAhead;t&&!e.editable&&Ext.Error.raise("If typeAhead is enabled the combo must be editable: true -- please change one of those settings."),e.typeAhead=!1,e.listConfig=Ext.apply({refreshSelmodelOnRefresh:!1},e.listConfig),e.callParent(),e.typeAhead=t,e.selectionModel=new Ext.selection.Model({store:e.valueStore,mode:"MULTI",lastFocused:null,onSelectChange:function(e,t,n,i){i()}}),!Ext.isEmpty(e.delimiter)&&e.multiSelect&&(e.delimiterRegexp=new RegExp(String(e.delimiter).replace(/[$%()*+.?\[\\\]{|}]/g,"\\$&")))},initEvents:function(){var e=this;e.callParent(arguments),e.enableKeyEvents||e.mon(e.inputEl,"keydown",e.onKeyDown,e),e.mon(e.inputEl,"paste",e.onPaste,e),e.mon(e.listWrapper,"click",e.onItemListClick,e),e.mon(e.selectionModel,{selectionchange:e.onSelectionChange,focuschange:e.onFocusChange,scope:e})},onBindStore:function(e){var t=this;e&&(t.valueStore=new Ext.data.Store({model:e.getModel()}),t.mon(t.valueStore,{datachanged:t.onValueStoreChange,remove:t.onValueStoreRemove,scope:t}),t.selectionModel&&t.selectionModel.bindStore(t.valueStore),t.store.addFilter(t.selectedFilter=new Ext.util.Filter({filterFn:function(e){return!t.valueStore.data.contains(e)},disabled:!t.filterPickList})))},onUnbindStore:function(e){var t=this,n=t.valueStore;n&&(t.mun(n,{datachanged:t.onValueStoreChange,remove:t.onValueStoreRemove,scope:t}),n.destroy()),t.selectionModel&&t.selectionModel.destroy(),t.store.removeFilter(t.selectedFilter),t.valueStore=t.selectionModel=null,t.callParent(arguments)},onValueStoreRemove:function(){this.filterPickList&&this.store.filter()},onValueStoreChange:function(){this.filterPickList&&this.store.filter(),this.applyMultiselectItemMarkup()},onSelectionChange:function(e,t){this.applyMultiselectItemMarkup(),this.fireEvent("valueselectionchange",this,t)},onFocusChange:function(e,t,n){this.fireEvent("valuefocuschange",this,t,n)},createPicker:function(){var e=this,t=e.callParent(arguments);return e.mon(t,{beforerefresh:e.onBeforeListRefresh,scope:e}),t},onDestroy:function(){var e=this;Ext.destroyMembers(e,"valueStore","selectionModel"),e.callParent(arguments)},getSubTplData:function(){var e=this,t=e.callParent(),n=e.emptyText&&t.value.length<1;return t.value="",n?(t.emptyText=e.emptyText,t.emptyCls=e.emptyCls,t.inputElCls=e.emptyInputCls):(t.emptyText="",t.emptyCls=e.emptyInputCls,t.inputElCls=""),t},afterRender:function(){var e=this;Ext.supports.Placeholder&&e.inputEl&&e.emptyText&&delete e.inputEl.dom.placeholder,e.bodyEl.applyStyles("vertical-align:top"),e.grow&&(Ext.isNumber(e.growMin)&&e.growMin>0&&e.listWrapper.applyStyles("min-height:"+e.growMin+"px"),Ext.isNumber(e.growMax)&&e.growMax>0&&e.listWrapper.applyStyles("max-height:"+e.growMax+"px")),e.stacked===!0&&e.itemList.addCls(Ext.baseCSSPrefix+"tagfield-stacked"),e.multiSelect||e.itemList.addCls(Ext.baseCSSPrefix+"tagfield-singleselect"),e.applyMultiselectItemMarkup(),e.callParent(arguments)},findRecord:function(e,t){var n,i=this.store;return i?(n=i.queryBy(function(n){return n.isEqual(n.get(e),t)}),n.getCount()>0?n.first():!1):!1},onLoad:function(){var e=this,t=e.valueField,n=e.valueStore,i=!1;n&&(Ext.isEmpty(e.value)||0!=n.getCount()||e.setValue(e.value,!1,!0),n.suspendEvents(),n.each(function(r){var o=e.findRecord(t,r.get(t)),a=o?n.indexOf(r):-1;a>=0&&(n.removeAt(a),n.insert(a,o),i=!0)}),n.resumeEvents(),i&&n.fireEvent("datachanged",n)),e.callParent(arguments)},isFilteredRecord:function(e){var t,n=this,i=n.store,r=n.valueField,o=!1;return t=i.findExact(r,e.get(r)),o=-1===t&&(!i.snapshot||n.findRecord(r,e.get(r))!==!1),o=o||!o&&-1===t&&n.forceSelection!==!0&&n.valueStore.findExact(r,e.get(r))>=0},doRawQuery:function(){var e=this,t=e.inputEl.dom.value;e.multiSelect&&(t=t.split(e.delimiter).pop()),e.doQuery(t,!1,!0)},onBeforeListRefresh:function(){this.ignoreSelection++},onListRefresh:function(){this.callParent(arguments),this.ignoreSelection>0&&--this.ignoreSelection},onListSelectionChange:function(e,t){var n,i=this,r=i.valueStore,o=[];i.ignoreSelection<=0&&i.isExpanded&&(r.each(function(e){(Ext.Array.contains(t,e)||i.isFilteredRecord(e))&&o.push(e)}),o=Ext.Array.merge(o,t),n=Ext.Array.intersect(o,r.getRange()).length,(n!=o.length||n!=i.valueStore.getCount())&&(i.setValue(o,!1),i.multiSelect&&i.pinList||Ext.defer(i.collapse,1,i),r.getCount()>0&&i.fireEvent("select",i,r.getRange())),i.pinList||(i.inputEl.dom.value=""),Ext.supports.TouchEvents||(i.inputEl.focus(),i.selectOnFocus&&i.inputEl.dom.select()))},syncSelection:function(){var e,t,n,i=this,r=i.picker,o=i.valueField;r&&(e=r.store,t=[],i.valueStore&&i.valueStore.each(function(n){var i=e.findExact(o,n.get(o));i>=0&&t.push(e.getAt(i))}),i.ignoreSelection++,n=r.getSelectionModel(),n.deselectAll(),t.length>0&&n.select(t),i.ignoreSelection>0&&--i.ignoreSelection)},getCursorPosition:function(){var e;return Ext.isIE?(e=document.selection.createRange(),e.collapse(!0),e.moveStart("character",-this.inputEl.dom.value.length),e=e.text.length):e=this.inputEl.dom.selectionStart,e},hasSelectedText:function(){var e,t;return Ext.isIE?(e=document.selection,t=e.createRange(),t.parentElement()==this.inputEl.dom):this.inputEl.dom.selectionStart!=this.inputEl.dom.selectionEnd},onKeyDown:function(e,t){var n=this,i=e.getKey(),r=n.inputEl.dom.value,o=n.valueStore,a=n.selectionModel,s=!1;if(!n.readOnly&&!n.disabled&&n.editable){if(n.isExpanded&&i==e.A&&e.ctrlKey)n.select(n.getStore().getRange()),a.setLastFocused(null),a.deselectAll(),n.collapse(),n.inputEl.focus(),s=!0;else if(o.getCount()>0&&(""==r||0===n.getCursorPosition()&&!n.hasSelectedText())){var l=a.getCount()>0?o.indexOf(a.getLastSelected()||a.getLastFocused()):-1;i==e.BACKSPACE||i==e.DELETE?(l>-1?(a.getCount()>1&&(l=-1),n.valueStore.remove(a.getSelection())):n.valueStore.remove(n.valueStore.last()),a.clearSelections(),n.setValue(n.valueStore.getRange()),l>0&&a.select(l-1),s=!0):i==e.RIGHT||i==e.LEFT?-1==l&&i==e.LEFT?(a.select(o.last()),s=!0):l>-1&&(i==e.RIGHT?l<o.getCount()-1?(a.select(l+1,e.shiftKey),s=!0):e.shiftKey||(a.setLastFocused(null),a.deselectAll(),s=!0):i==e.LEFT&&l>0&&(a.select(l-1,e.shiftKey),s=!0)):i==e.A&&e.ctrlKey&&(a.selectAll(),s=e.A),n.inputEl.focus()}if(s)return n.preventKeyUpEvent=s,void e.stopEvent();n.isExpanded&&i==e.ENTER&&n.picker.highlightedItem&&(n.preventKeyUpEvent=!0),n.enableKeyEvents&&n.callParent(arguments),e.isSpecialKey()||e.hasModifier()||(n.selectionModel.setLastFocused(null),n.selectionModel.deselectAll(),n.inputEl.focus())}},onKeyUp:function(e,t){var n=this,i=n.inputEl.dom.value;return n.preventKeyUpEvent?(e.stopEvent(),void((n.preventKeyUpEvent===!0||e.getKey()===n.preventKeyUpEvent)&&delete n.preventKeyUpEvent)):((n.multiSelect&&n.delimiterRegexp&&n.delimiterRegexp.test(i)||n.createNewOnEnter===!0&&e.getKey()==e.ENTER)&&(i=Ext.Array.clean(i.split(n.delimiterRegexp)),n.inputEl.dom.value="",n.setValue(n.valueStore.getRange().concat(i)),n.inputEl.focus()),void n.callParent([e,t]))},onPaste:function(e){var t=this,n=t.inputEl.dom.value,i=e&&e.browserEvent&&e.browserEvent.clipboardData?e.browserEvent.clipboardData:!1;t.multiSelect&&t.delimiterRegexp&&t.delimiterRegexp.test(n)&&(i&&i.getData&&(/text\/plain/.test(i.types)?n=i.getData("text/plain"):/text\/html/.test(i.types)&&(n=i.getData("text/html"))),n=Ext.Array.clean(n.split(t.delimiterRegexp)),t.inputEl.dom.value="",t.setValue(t.valueStore.getRange().concat(n)),t.inputEl.focus())},onTypeAhead:function(){var e,t,n,i=this,r=i.displayField,o=i.inputEl.dom,a=i.getPicker(),s=i.store.findRecord(r,o.value);s&&(e=s.get(r),t=e.length,n=o.value.length,a.highlightItem(a.getNode(s)),0!==n&&n!==t&&(o.value=e,i.selectText(n,e.length)))},onItemListClick:function(e){var t=this,n=e.getTarget("."+Ext.baseCSSPrefix+"tagfield-item"),i=n?e.getTarget("."+Ext.baseCSSPrefix+"tagfield-item-close"):!1;t.readOnly||t.disabled||(e.stopPropagation(),n?(i?(t.removeByListItemNode(n),t.valueStore.getCount()>0&&t.fireEvent("select",t,t.valueStore.getRange())):t.toggleSelectionByListItemNode(n,e.shiftKey),Ext.supports.TouchEvents||t.inputEl.focus()):(t.selectionModel.getCount()>0&&(t.selectionModel.setLastFocused(null),t.selectionModel.deselectAll()),t.triggerOnClick&&t.onTriggerClick()))},getMultiSelectItemMarkup:function(){var e=this;return e.multiSelectItemTpl||(e.labelTpl||(e.labelTpl="{"+e.displayField+"}"),e.labelTpl=e.getTpl("labelTpl"),e.multiSelectItemTpl=new Ext.XTemplate(['<tpl for=".">','<li class="    '+Ext.baseCSSPrefix+"tagfield-item ",'<tpl if="this.isSelected(values)">'," selected","</tpl>","{%","values = values.data;","%}",'" qtip="{'+e.displayField+'}">','<div class="'+Ext.baseCSSPrefix+'tagfield-item-text">{[this.getItemLabel(values)]}</div>','<div class="'+Ext.baseCSSPrefix+'tagfield-item-close"></div>',"</li>","</tpl>",{isSelected:function(t){return e.selectionModel.isSelected(t)},getItemLabel:function(t){return e.labelTpl.apply(t)}}])),e.multiSelectItemTpl.isTemplate||(e.multiSelectItemTpl=this.getTpl("multiSelectItemTpl")),e.multiSelectItemTpl.apply(this.valueStore.getRange())},applyMultiselectItemMarkup:function(){var e,t=this,n=t.itemList;if(n){for(;null!=(e=t.inputElCt.prev());)e.destroy();t.inputElCt.insertHtml("beforeBegin",t.getMultiSelectItemMarkup())}Ext.GlobalEvents.on({idle:function(){t.picker&&t.isExpanded&&t.alignPicker(),t.hasFocus&&t.inputElCt&&t.listWrapper&&t.inputElCt.scrollIntoView(t.listWrapper)},single:!0})},getRecordByListItemNode:function(e){for(var t=this,n=0,i=t.itemList.dom.firstChild;i&&i.nextSibling&&i!=e;)n++,i=i.nextSibling;return n=i==e?n:!1,n===!1?!1:t.valueStore.getAt(n)},toggleSelectionByListItemNode:function(e,t){var n=this,i=n.getRecordByListItemNode(e),r=n.selectionModel;i&&(r.isSelected(i)?(r.isFocused(i)&&r.setLastFocused(null),r.deselect(i)):r.select(i,t))},removeByListItemNode:function(e){var t=this,n=t.getRecordByListItemNode(e);n&&(t.valueStore.remove(n),t.setValue(t.valueStore.getRange()))},getRawValue:function(){var e,t=this,n=t.inputEl;return t.inputEl=!1,e=t.callParent(arguments),t.inputEl=n,e},setRawValue:function(e){var t,n=this,i=n.inputEl;return n.inputEl=!1,t=n.callParent([e]),n.inputEl=i,t},addValue:function(e){var t=this;e&&t.setValue(Ext.Array.merge(t.value,Ext.Array.from(e)))},removeValue:function(e){var t=this;e&&t.setValue(Ext.Array.difference(t.value,Ext.Array.from(e)))},setValue:function(e,t,n){var i,r,o,a,s,l=this,d=l.valueStore,u=l.valueField,c=[];for(Ext.isEmpty(e)&&(e=null),Ext.isString(e)&&l.multiSelect&&(e=e.split(l.delimiter)),e=Ext.Array.from(e,!0),o=0,r=e.length;r>o;o++)i=e[o],i&&i.isModel||(a=d.findExact(u,i),a>=0?e[o]=d.getAt(a):(a=l.findRecord(u,i),a||(l.forceSelection?c.push(i):(a={},a[l.valueField]=i,a[l.displayField]=i,s=l.valueStore.getModel(),a=new s(a))),a&&(e[o]=a)));if(n!==!0&&c.length>0&&"remote"===l.queryMode){var h={};return h[l.valueParam||l.valueField]=c.join(l.delimiter),l.store.load({params:h,callback:function(){l.itemList&&l.itemList.unmask(),l.setValue(e,t,!0),l.autoSize(),l.lastQuery=!1}}),!1}if(!l.multiSelect&&e.length>0){for(o=e.length-1;o>=0;o--)if(e[o].isModel){e=e[o];break}Ext.isArray(e)&&(e=e[e.length-1])}return l.callParent([e,t])},getValueRecords:function(){return this.valueStore.getRange()},getSubmitData:function(){var e=this,t=e.callParent(arguments);return e.multiSelect&&e.encodeSubmitValue&&t&&t[e.name]&&(t[e.name]=Ext.encode(t[e.name])),t},mimicBlur:function(){var e=this;e.selectOnTab&&e.picker&&e.picker.highlightedItem&&(e.inputEl.dom.value=""),e.callParent(arguments)},assertValue:function(){var e=this,t=e.inputEl.dom.value,n=Ext.isEmpty(t)?!1:e.findRecordByDisplay(t),i=!1;n||e.forceSelection||!e.createNewOnBlur||Ext.isEmpty(t)?n&&(i=n):i=t,i&&e.addValue(i),e.inputEl.dom.value="",e.collapse()},checkChange:function(){if(!this.suspendCheckChange&&!this.isDestroyed){var e=this,t=e.valueStore,n=e.lastValue||"",i=e.valueField,r=Ext.Array.map(Ext.Array.from(e.value),function(e){return e.isModel?e.get(i):e},this).join(this.delimiter),o=e.isEqual(r,n);(!o||r.length>0&&t.getCount()<e.value.length)&&(t.suspendEvents(),t.removeAll(),Ext.isArray(e.valueModels)&&t.add(e.valueModels),t.resumeEvents(),t.fireEvent("datachanged",t),o||(e.lastValue=r,e.fireEvent("change",e,r,n),e.onChange(r,n)))}},isEqual:function(e,t){var n,i,r,o,a=Ext.Array.from,s=this.valueField;if(e=a(e),t=a(t),i=e.length,i!==t.length)return!1;for(n=0;i>n;n++)if(r=e[n].isModel?e[n].get(s):e[n],o=t[n].isModel?t[n].get(s):t[n],r!==o)return!1;return!0},applyEmptyText:function(){var e,t,n=this,i=n.emptyText;n.rendered&&i&&(t=Ext.isEmpty(n.value)&&!n.hasFocus,e=n.inputEl,t?(e.dom.value="",n.emptyEl.setHtml(i),n.emptyEl.addCls(n.emptyCls),n.emptyEl.removeCls(n.emptyInputCls),n.listWrapper.addCls(n.emptyCls),n.inputEl.addCls(n.emptyInputCls)):(n.emptyEl.addCls(n.emptyInputCls),n.emptyEl.removeCls(n.emptyCls),n.listWrapper.removeCls(n.emptyCls),n.inputEl.removeCls(n.emptyInputCls)),n.autoSize())},preFocus:function(){var e=this,t=e.inputEl,n=""==t.dom.value;e.emptyEl.addCls(e.emptyInputCls),e.emptyEl.removeCls(e.emptyCls),e.listWrapper.removeCls(e.emptyCls),e.inputEl.removeCls(e.emptyInputCls),(e.selectOnFocus||n)&&t.dom.select()},onFocus:function(){var e=this,t=e.focusCls,n=e.itemList;t&&n&&n.addCls(t),e.callParent(arguments)},onBlur:function(){var e=this,t=e.focusCls,n=e.itemList;t&&n&&n.removeCls(t),e.callParent(arguments)},renderActiveError:function(){var e=this,t=e.invalidCls,n=e.itemList,i=e.hasActiveError();t&&n&&n[i?"addCls":"removeCls"](e.invalidCls+"-field"),e.callParent(arguments)},autoSize:function(){var e=this;return e.grow&&e.rendered&&(e.autoSizing=!0,e.updateLayout()),e},afterComponentLayout:function(){var e,t=this;t.autoSizing&&(e=t.getHeight(),e!==t.lastInputHeight&&(t.isExpanded&&t.alignPicker(),t.fireEvent("autosize",t,e),t.lastInputHeight=e,t.autoSizing=!1))}}),Ext.define("Ext.picker.Time",{extend:"Ext.view.BoundList",alias:"widget.timepicker",requires:["Ext.data.Store","Ext.Date"],increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",loadMask:!1,initComponent:function(){var e=this,t=Ext.Date,n=t.clearTime,i=e.initDate;e.absMin=n(new Date(i[0],i[1],i[2])),e.absMax=t.add(n(new Date(i[0],i[1],i[2])),"mi",1439),e.store=e.createStore(),e.updateList(),e.callParent()},setMinValue:function(e){this.minValue=e,this.updateList()},setMaxValue:function(e){this.maxValue=e,this.updateList()},normalizeDate:function(e){var t=this.initDate;return e.setFullYear(t[0],t[1],t[2]),e},updateList:function(){var e=this,t=e.normalizeDate(e.minValue||e.absMin),n=e.normalizeDate(e.maxValue||e.absMax),i=e.getStore().getFilters(),r=e.rangeFilter;i.beginUpdate(),r&&i.remove(r),r=e.rangeFilter=new Ext.util.Filter({filterFn:function(e){var i=e.get("date");return i>=t&&n>=i}}),i.add(r),i.endUpdate()},createStore:function(){for(var e=this,t=Ext.Date,n=[],i=e.absMin,r=e.absMax;r>=i;)n.push({disp:t.dateFormat(i,e.format),date:i}),i=t.add(i,"mi",e.increment);return new Ext.data.Store({model:e.modelType,autoDestroy:!0,data:n})},focusNode:function(e){return!1}},function(){this.prototype.modelType=Ext.define(null,{extend:"Ext.data.Model",fields:["disp","date"]})}),Ext.define("Ext.form.field.Time",{extend:"Ext.form.field.ComboBox",alias:"widget.timefield",requires:["Ext.form.field.Date","Ext.picker.Time","Ext.view.BoundListKeyNav","Ext.Date"],alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:!0,snapToIncrement:!1,initDate:"1/1/2008",initDateParts:[2008,0,1],initDateFormat:"j/n/Y",ignoreSelection:0,queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var e=this,t=e.minValue,n=e.maxValue;t&&e.setMinValue(t),n&&e.setMaxValue(n),e.store=e.getPicker().store,e.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+e.displayField+'"])]}<tpl if="xindex < xcount">'+e.delimiter+"</tpl></tpl>",{formatDate:e.formatDate.bind(e)}),e.callParent()},isEqual:function(e,t){var n,i,r=Ext.Array.from,o=Ext.Date.isEqual;if(e=r(e),t=r(t),i=e.length,i!==t.length)return!1;for(n=0;i>n;n++)if(!o(t[n],e[n]))return!1;return!0},setMinValue:function(e){var t=this,n=t.picker;t.setLimit(e,!0),n&&n.setMinValue(t.minValue)},setMaxValue:function(e){var t=this,n=t.picker;t.setLimit(e,!1),n&&n.setMaxValue(t.maxValue)},setLimit:function(e,t){var n,i,r=this;Ext.isString(e)?n=r.parseDate(e):Ext.isDate(e)&&(n=e),n?(i=r.getInitDate(),i.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())):i=null,r[t?"minValue":"maxValue"]=i},getInitDate:function(e,t,n){var i=this.initDateParts;return new Date(i[0],i[1],i[2],e||0,t||0,n||0,0)},valueToRaw:function(e){return this.formatDate(this.parseDate(e))},getErrors:function(e){var t,n,i,r,o=this,a=Ext.String.format,s=o.callParent(arguments),l=o.minValue,d=o.maxValue,u=o.displayTplData,c=o.getRawValue();if(u&&u.length>0)for(t=0,n=u.length;n>t;t++)r=u[t],r=r.date||r.disp,i=o.parseDate(r),i?(l&&l>i&&s.push(a(o.minText,o.formatDate(l))),d&&i>d&&s.push(a(o.maxText,o.formatDate(d)))):s.push(a(o.invalidText,r,Ext.Date.unescapeFormat(o.format)));else c.length&&!o.parseDate(c)&&s.push(a(o.invalidText,c,Ext.Date.unescapeFormat(o.format)));return s},formatDate:function(e){var t,n,i=[];for(e=Ext.Array.from(e),t=0,n=e.length;n>t;t++)i.push(Ext.form.field.Date.prototype.formatDate.call(this,e[t]));return i.join(this.delimiter)},parseDate:function(e){var t,n=this,i=e,r=n.altFormats,o=n.altFormatsArray,a=0;if(e&&!Ext.isDate(e)&&(i=n.safeParse(e,n.format),!i&&r))for(o=o||r.split("|"),t=o.length;t>a&&!i;++a)i=n.safeParse(e,o[a]);return i&&n.snapToIncrement&&(i=new Date(Ext.Number.snap(i.getTime(),60*n.increment*1e3))),i},safeParse:function(e,t){var n,i=this,r=Ext.Date,o=null;return r.formatContainsDateInfo(t)?o=r.parse(e,t):(n=r.parse(i.initDate+" "+e,i.initDateFormat+" "+t),n&&(o=n)),o},getSubmitValue:function(){var e=this,t=e.submitFormat||e.format,n=e.getValue();return n?Ext.Date.format(n,t):null},createPicker:function(){var e,t=this;return t.listConfig=Ext.apply({xtype:"timepicker",selModel:{mode:t.multiSelect?"SIMPLE":"SINGLE"},cls:void 0,minValue:t.minValue,maxValue:t.maxValue,increment:t.increment,format:t.format,maxHeight:t.pickerMaxHeight},t.listConfig),e=t.callParent()},onItemClick:function(e,t){var n=this,i=e.getSelectionModel().getSelection();!n.multiSelect&&i.length&&i.length>0&&(i=i[0],i&&Ext.Date.isEqual(t.get("date"),i.get("date"))&&n.collapse())},syncSelection:function(){var e,t,n,i,r,o,a,s,l,d,u=this,c=u.picker,h=Ext.Date.isEqual,f=[];if(c){if(c.clearHighlight(),t=u.getValue(),e=c.getSelectionModel(),u.ignoreSelection++,null===t)e.deselectAll();else for(n=Ext.Array.from(t),a=c.store.data.items,l=a.length,i=0,r=n.length;r>i;i++)if(o=n[i],Ext.isDate(o)){for(s=0;l>s&&(d=a[s],!h(d.get("date"),o)||(f.push(d),u.multiSelect));s++);f.length&&e.select(f)}u.ignoreSelection--}},postBlur:function(){var e=this,t=e.getValue();e.callParent(arguments),e.validateValue(t)&&e.setValue(t)},findRecordByValue:function(e){return"string"==typeof e&&(e=this.parseDate(e)),this.callParent([e])},rawToValue:function(e){var t,n,i,r,o=this;if(o.multiSelect){for(n=[],t=Ext.Array.from(e),i=0,r=t.length;r>i;i++)n.push(o.parseDate(t[i]));return n}return o.parseDate(e)},setValue:function(e){return this.getPicker(),Ext.isDate(e)&&(e=this.getInitDate(e.getHours(),e.getMinutes(),e.getSeconds())),this.callParent([e])},getValue:function(){return this.rawToValue(this.callParent(arguments))}}),Ext.define("Ext.form.field.Trigger",{extend:"Ext.form.field.Text",alias:["widget.triggerfield","widget.trigger"],requires:["Ext.dom.Helper","Ext.util.ClickRepeater"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",inheritableStatics:{warnDeprecated:function(){Ext.log.warn("Ext.form.field.Trigger is deprecated. Use Ext.form.field.Text instead.")}},onClassExtended:function(){this.warnDeprecated()},constructor:function(e){this.self.warnDeprecated(),this.callParent([e])}}),Ext.define("Ext.grid.CellEditor",{extend:"Ext.Editor",y:0,constructor:function(e){e=Ext.apply({},e),e.field&&(e.field.monitorTab=!1),this.callParent([e])},setGrid:function(e){var t,n,i=this,r=i.grid;e!=r&&(n={beforerefresh:i.beforeViewRefresh,refresh:i.onViewRefresh,scope:i},r&&r.getView().un(n),t=e.getView(),i.renderTo=t.getTargetEl().dom,i.grid=i.ownerCt=e,t.on(n))},adjustPosition:function(){return{x:0,y:0}},beforeViewRefresh:function(){var e=this,t=e.el&&e.el.dom;t&&(!e.editing||e.field.column&&e.field.column.sorting||(e.wasAllowBlur=e.allowBlur,e.allowBlur=!1),t.parentNode&&t.parentNode.removeChild(t))},onViewRefresh:function(){var e,t=this,n=t.el&&t.el.dom;n&&(e=t.field.column&&t.field.column.sorting,t.editing&&!e?(t.allowBlur=t.wasAllowBlur,t.renderTo.appendChild(n),t.field.focus()):e||Ext.getDetachedBody().dom.appendChild(n),t.editing&&e&&t.completeEdit())},onShow:function(){var e=this,t=e.boundEl.first();e.el.dom.parentNode!==e.renderTo&&e.renderTo.appendChild(e.el.dom),t&&(e.isForTree&&(t=t.child(e.treeNodeSelector)),t.hide()),e.callParent(arguments)},onEditComplete:function(e){e&&this.restoreCell(),this.callParent(arguments)},onHide:function(){this.restoreCell(),this.callParent(arguments)},restoreCell:function(){var e=this,t=e.boundEl.first();t&&(e.isForTree&&(t=t.child(e.treeNodeSelector)),t.show())},afterRender:function(){var e=this,t=e.field;e.callParent(arguments),t.isCheckbox&&t.mon(t.inputEl,{mousedown:e.onCheckBoxMouseDown,click:e.onCheckBoxClick,scope:e}),Ext.on("mousedown",this.onDocMouseDown,this)},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onDocMouseDown:function(e){var t=this.field;t&&t.hasFocus&&!t.owns(e.target)&&t.blur()},onCheckBoxClick:function(){delete this.completeEdit,this.field.focus(!1,10)},realign:function(e){var t,n=this,i=n.boundEl,r=i.first(),o=r.dom.firstChild,a=i.getWidth(),s=Ext.Array.clone(n.offsets),l=n.grid,d="",u=!o||3===o.nodeType&&!Ext.String.trim(d=o.data).length;n.isForTree&&(t=n.getTreeNodeOffset(r),a-=Math.abs(t),s[0]+=t),l.columnLines&&(a-=i.getBorderWidth("rl")),e===!0&&n.field.setWidth(a),u&&(r.dom.innerHTML="X"),n.alignTo(r,n.alignment,s),u&&(r.dom.firstChild.data=d)},getTreeNodeOffset:function(e){return e.child(this.treeNodeSelector).getOffsetsTo(e)[0]},onEditorTab:function(e){var t=this.field;t.onEditorTab&&t.onEditorTab(e)},onFieldBlur:function(){this.callParent(arguments),this.selectSameEditor=!1},alignment:"l-l",hideEl:!1,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-cell-editor",treeNodeSelector:"."+Ext.baseCSSPrefix+"tree-node-text",shim:!1,shadow:!1}),Ext.define("Ext.grid.ColumnManager",{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(e,t,n){t.isRootHeader||t.isGroupHeader||Ext.Error.raise("ColumnManager must be passed an instantiated HeaderContainer or group header"),this.headerCt=t,n&&(t.isRootHeader||t.isGroupHeader||Ext.Error.raise("ColumnManager must be passed an instantiated HeaderContainer or group header"),this.secondHeaderCt=n),this.visibleOnly=!!e},getColumns:function(){return this.columns||this.cacheColumns(),this.columns},hasVariableRowHeight:function(){var e,t=this,n=t.getColumns(),i=n.length;if(null==t.variableRowHeight)for(t.variableRowHeight=!1,e=0;!t.variableRowHeight&&i>e;e++)t.variableRowHeight=!!n[e].variableRowHeight;return t.variableRowHeight},getHeaderIndex:function(e){return e.isGroupHeader&&(e=this.getHeaderColumns(e)[0]),Ext.Array.indexOf(this.getColumns(),e)},getHeaderAtIndex:function(e){var t=this.getColumns(),n=t[e];return n||null},getPreviousSibling:function(e){var t=this.getHeaderIndex(e),n=null;return t>0&&(n=this.getColumns()[t-1]),n},getNextSibling:function(e){var t,n=this.getHeaderIndex(e);return-1!==n&&(t=this.getColumns()[n+1]),t||null},getFirst:function(){var e=this.getColumns();return e.length>0?e[0]:null},getLast:function(){var e=this.getColumns(),t=e.length;return t>0?e[t-1]:null},getHeaderByDataIndex:function(e){var t,n,i=this.getColumns(),r=i.length;for(t=0;r>t;++t)if(n=i[t],n.dataIndex===e)return n;return null},getHeaderById:function(e){var t,n,i=this.getColumns(),r=i.length;for(t=0;r>t;++t)if(n=i[t],n.getItemId()===e)return n;return null},getVisibleHeaderClosestToIndex:function(e){var t=this.getHeaderAtIndex(e);return t&&t.hidden&&(t=t.next(":not([hidden])")||t.prev(":not([hidden])")),t},cacheColumns:function(){var e=this.getHeaderColumns(this.headerCt),t=this.secondHeaderCt;t&&(e=e.concat(this.getHeaderColumns(t))),this.columns=e},getHeaderColumns:function(e){var t=this.visibleOnly?e.getVisibleGridColumns():e.getGridColumns();return Ext.Array.clone(t)},invalidate:function(){var e=this.rootColumns;this.columns=this.variableRowHeight=null,e&&e.invalidate()},destroy:function(){this.columns=this.rootColumns=null}},function(){this.createAlias("indexOf","getHeaderIndex")}),Ext.define("Ext.grid.RowEditorButtons",{extend:"Ext.container.Container",alias:"widget.roweditorbuttons",frame:!0,shrinkWrap:!0,position:"bottom",constructor:function(e){var t=this,n=e.rowEditor,i=Ext.baseCSSPrefix,r=n.editingPlugin;e=Ext.apply({baseCls:i+"grid-row-editor-buttons",defaults:{xtype:"button",ui:n.buttonUI,scope:r,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:i+"row-editor-update-button",itemId:"update",handler:r.completeEdit,text:n.saveBtnText,disabled:n.updateButtonDisabled},{cls:i+"row-editor-cancel-button",handler:r.cancelEdit,text:n.cancelBtnText}]},e),t.callParent([e]),t.addClsWithUI(t.position)},setButtonPosition:function(e){var t=this,n=this.rowEditor,i=n.getHeight(),r=n.body,o="",a="";t.removeClsWithUI(t.position),t.position=e,t.addClsWithUI(e),"top"===e?o=i-r.getBorderWidth("t")+"px":a=i-r.getBorderWidth("b")+"px",t.el.setStyle({top:a,bottom:o})},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},getFrameInfo:function(){var e=this.callParent();return e.top=!0,e}}}),Ext.define("Ext.grid.RowEditor",{extend:"Ext.form.Panel",alias:"widget.roweditor",requires:["Ext.tip.ToolTip","Ext.util.KeyNav","Ext.grid.RowEditorButtons"],saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:!1,errorCls:Ext.baseCSSPrefix+"grid-row-editor-errors-item",buttonUI:"default",hideMode:"offsets",initComponent:function(){var e,t=this,n=t.editingPlugin.grid,i=Ext.container.Container;t.cls=Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-row-editor",t.layout={type:"hbox",align:"middle"},t.lockable=n.lockable,t.lockable?t.items=[t.lockedColumnContainer=new i({id:n.id+"-locked-editor-cells",layout:{type:"hbox",align:"middle"},margin:"0 1 0 0"}),t.normalColumnContainer=new i({flex:1,id:n.id+"-normal-editor-cells",layout:{type:"hbox",align:"middle"}})]:t.lockedColumnContainer=t.normalColumnContainer=t,t.callParent(arguments),t.fields&&(t.addFieldsForColumn(t.fields,!0),t.insertColumnEditor(t.fields),
delete t.fields),t.mon(Ext.GlobalEvents,{scope:t,show:t.repositionIfVisible}),e=t.getForm(),e.trackResetOnLoad=!0,e.on("validitychange",t.onValidityChange,t)},onGridResize:function(){var e=this,t=e.getClientWidth(),n=e.editingPlugin.grid,i=n.body,r=e.getFloatingButtons();e.setLocalX(i.getOffsetsTo(n)[0]+i.getBorderWidth("l")-n.el.getBorderWidth("l")),e.setWidth(t),r.setLocalX((t-r.getWidth())/2)},syncAllFieldWidths:function(){var e=this;Ext.Array.each(e.query("[isEditorComponent]"),function(t){t.column.isVisible()&&e.onColumnShow(t.column)},e)},syncFieldWidth:function(e){var t,n=e.getEditor();n._marginWidth=n._marginWidth||n.el.getMargin("lr"),t=e.getWidth()-n._marginWidth,n.setWidth(t),"displayfield"===n.xtype&&(n.inputWidth=t)},onValidityChange:function(e,t){var n=this;n.errorSummary&&n.isVisible()&&n[t?"hideToolTip":"showToolTip"](),n.updateButton(t),n.isValid=t},updateButton:function(e){var t=this.floatingButtons;t?t.child("#update").setDisabled(!e):this.updateButtonDisabled=!e},afterRender:function(){var e=this,t=e.editingPlugin,n=t.grid,i=n.lockable?n.normalGrid.view:n.view;e.callParent(arguments),e.scrollingView=i,e.scrollingViewEl=i.el,i.on("scroll",e.onViewScroll,e),e.mon(e.el,{click:Ext.emptyFn,stopPropagation:!0}),e.mon(n,{resize:e.onGridResize,scope:e}),e.el.swallowEvent(["keypress","keydown"]),e.fieldScroller=e.normalColumnContainer.layout.innerCt,e.fieldScroller.dom.style.overflow="hidden",e.fieldScroller.on({scroll:e.onFieldContainerScroll,scope:e}),e.initKeyNav(),e.mon(t.view,{beforerefresh:e.onBeforeViewRefresh,refresh:e.onViewRefresh,itemremove:e.onViewItemRemove,scope:e}),e.preventReposition=!0,e.syncAllFieldWidths(),delete e.preventReposition},initKeyNav:function(){var e=this,t=e.editingPlugin;e.keyNav=new Ext.util.KeyNav(e.el,{enter:t.completeEdit,esc:t.onEscKey,scope:t})},onBeforeViewRefresh:function(e){var t=this,n=e.el.dom;t.el.dom.parentNode===n&&n.removeChild(t.el.dom)},onViewRefresh:function(e){var t,n=this,i=n.context;i&&(t=e.getRow(i.record))?(i.row=t,n.reposition(),n.tooltip&&n.tooltip.isVisible()&&n.tooltip.setTarget(i.row)):n.editingPlugin.cancelEdit()},onViewItemRemove:function(e,t,n,i){if(!i.refreshing){var r=this.context;r&&e===r.record&&this.editingPlugin.cancelEdit()}},onViewScroll:function(){var e,t=this,n=t.editingPlugin.view.el,i=t.scrollingView,r=i.getScrollY(),o=i.getScrollX(),a=o!==t.lastScrollLeft,s=r!==t.lastScrollTop;t.lastScrollTop=r,t.lastScrollLeft=o,t.isVisible()&&(e=Ext.getDom(t.context.row),e&&n.contains(e)?s&&(t.context.row=e,t.reposition(null,!0),(t.tooltip&&t.tooltip.isVisible()||t.hiddenTip)&&t.repositionTip(),t.syncEditorClip()):t.setLocalY(-400)),t.rendered&&a&&t.syncFieldsHorizontalScroll()},syncFieldsHorizontalScroll:function(){this.fieldScroller.setScrollLeft(this.lastScrollLeft)},onFieldContainerScroll:function(){this.scrollingView.setScrollX(this.getFieldScrollerScrollX())},getFieldScrollerScrollX:function(){return this.fieldScroller.getScrollLeft()},onColumnResize:function(e,t){var n=this;n.rendered&&!n.editingPlugin.reconfiguring&&(n.onGridResize(),n.onViewScroll(),e.isGroupHeader||(n.syncFieldWidth(e),n.repositionIfVisible()))},onColumnHide:function(e){this.editingPlugin.reconfiguring||e.isGroupHeader||(e.getEditor().hide(),this.repositionIfVisible())},onColumnShow:function(e){var t=this;t.rendered&&!t.editingPlugin.reconfiguring&&!e.isGroupHeader&&e.getEditor&&(e.getEditor().show(),t.syncFieldWidth(e),t.preventReposition||this.repositionIfVisible())},onColumnMove:function(e,t,n){var i,r,o,a,s,l=this,d=e.isLocked(),u=d?l.lockedColumnContainer:l.normalColumnContainer;if(e.isGroupHeader){for(Ext.suspendLayouts(),a=n>t,s=a?1:0,i=e.getGridColumns(),r=0,o=i.length;o>r;++r)e=i[r],n=e.getIndex(),a&&++s,l.setColumnEditor(e,n+s,u);Ext.resumeLayouts(!0)}else l.setColumnEditor(e,e.getIndex(),u)},setColumnEditor:function(e,t,n){this.addFieldsForColumn(e),n.insert(t,e.getEditor())},onColumnAdd:function(e){e.isGroupHeader&&(e=e.getGridColumns()),this.addFieldsForColumn(e),this.insertColumnEditor(e),this.preventReposition=!1},insertColumnEditor:function(e){var t,n,i,r=this;if(Ext.isArray(e))for(i=0,n=e.length;n>i;i++)r.insertColumnEditor(e[i]);else e.getEditor&&(t=e.isLocked()?r.lockedColumnContainer:r.normalColumnContainer,t.insert(e.getIndex(),e.getEditor()),r.needsSyncFieldWidths=!0)},destroyColumnEditor:function(e){var t,n,i,r=this;if(Ext.isArray(e))for(i=0,n=e.length;n>i;i++)r.removeColumnEditor(e[i]);else e.hasEditor()&&(t=e.getEditor())&&t.destroy()},getFloatingButtons:function(){var e=this,t=e.floatingButtons;return t||(e.floatingButtons=t=new Ext.grid.RowEditorButtons({rowEditor:e})),t},repositionIfVisible:function(e){var t=this,n=t.view;(!e||e!==t&&e.el.isAncestor(n.el))&&t.isVisible()&&n.isVisible(!0)&&t.reposition()},isDescendantOf:function(){return!1},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(e){var t,n=this;return n.lockable?(t=[n.lockedColumnContainer],t.push.apply(t,n.lockedColumnContainer.getRefItems(e)),t.push(n.normalColumnContainer),t.push.apply(t,n.normalColumnContainer.getRefItems(e))):t=n.callParent(arguments),t.push.apply(t,n.getFloatingButtons().getRefItems(e)),t},reposition:function(e,t){var n,i,r,o,a=this,s=a.context,l=s&&s.row,d=0;l&&Ext.isElement(l)&&(r=a.syncButtonPosition(a.getScrollDelta()),a.editingPlugin.grid.rowLines||(d=-parseInt(Ext.fly(l).first().getStyle("border-bottom-width"),10)),n=a.calculateLocalRowTop(l),i=a.calculateEditorTop(n)+d,t||(o=function(){r&&a.scrollingViewEl.scrollBy(0,r,!0),a.focusContextCell()}),a.syncEditorClip(),e?a.animate(Ext.applyIf({to:{top:i},duration:e.duration||125,callback:o},e)):(a.setLocalY(i),o&&o()))},getScrollDelta:function(){var e=this,t=e.scrollingViewEl.dom,n=e.context,i=e.body,r=0;return n&&(r=Ext.fly(n.row).getOffsetsTo(t)[1]-i.getBorderPadding().beforeY,r>0&&(r=Math.max(r+e.getHeight()+e.floatingButtons.getHeight()-t.clientHeight-i.getBorderWidth("b"),0))),r},calculateLocalRowTop:function(e){var t=this.editingPlugin.grid;return Ext.fly(e).getOffsetsTo(t)[1]-t.el.getBorderWidth("t")+this.lastScrollTop},calculateEditorTop:function(e){return e-this.body.getBorderPadding().beforeY-this.lastScrollTop},getClientWidth:function(){var e,t=this,n=t.editingPlugin.grid;return e=t.lockable?n.lockedGrid.getWidth()+n.normalGrid.view.el.dom.clientWidth-1:n.view.el.dom.clientWidth},getEditor:function(e){var t=this;return Ext.isNumber(e)?t.query("[isEditorComponent]")[e]:e.isHeader&&!e.isGroupHeader?e.getEditor():void 0},addFieldsForColumn:function(e,t){var n,i,r,o=this;if(Ext.isArray(e))for(n=0,i=e.length;i>n;n++)o.addFieldsForColumn(e[n],t);else e.getEditor&&(r=e.getEditor(null,o.getDefaultFieldCfg()),"right"===e.align&&(r.fieldStyle="text-align:right"),"actioncolumn"===e.xtype&&(r.fieldCls+=" "+Ext.baseCSSPrefix+"form-action-col-field"),o.isVisible()&&o.context&&(r.is("displayfield")?o.renderColumnData(r,o.context.record,e):(r.suspendEvents(),r.setValue(o.context.record.get(e.dataIndex)),r.resumeEvents())),e.hidden?o.onColumnHide(e):e.rendered&&!t&&o.onColumnShow(e))},getDefaultFieldCfg:function(){return{xtype:"displayfield",getModelData:function(){return null}}},loadRecord:function(e){var t,n,i,r=this,o=r.getForm(),a=o.getFields(),s=a.items,l=s.length;for(t=0;l>t;t++)s[t].suspendEvents();for(o.loadRecord(e),t=0;l>t;t++)s[t].resumeEvents();for(o.hasInvalidField()===o.wasValid&&delete o.wasValid,i=o.isValid(),r.errorSummary&&(i?r.hideToolTip():r.showToolTip()),r.updateButton(i),n=r.query(">displayfield"),l=n.length,t=0;l>t;t++)r.renderColumnData(n[t],e)},renderColumnData:function(e,t,n){var i,r,o,a=this,s=a.editingPlugin.grid,l=s.headerCt,d=a.scrollingView,u=d.dataSource,c=n||e.column,h=t.get(c.dataIndex),f=c.editRenderer||c.renderer,g=c.usingDefaultRenderer&&!c.scope?c:c.scope;f&&(i={tdCls:"",style:""},r=u.indexOf(t),o=l.getHeaderIndex(c),h=f.call(g||l.ownerCt,h,i,t,r,o,u,d)),e.setRawValue(h),e.resetOriginalValue()},beforeEdit:function(){var e,t=this;return t.isVisible()&&t.errorSummary&&!t.autoCancel&&t.isDirty()?(e=t.getScrollDelta(),e&&t.scrollingViewEl.scrollBy(0,e,!0),t.showToolTip(),!1):void 0},startEdit:function(e,t){var n=this,i=n.editingPlugin,r=i.grid,o=n.context=i.context;n.rendered?n.syncFieldsHorizontalScroll():(n.width=n.getClientWidth(),n.render(r.el,r.el.dom.firstChild),n.getFloatingButtons().render(n.el),n.onViewScroll()),o.grid.getSelectionModel().select(e),n.isVisible()?n.reposition(!0):n.show(),n.onGridResize(),n.loadRecord(e)},syncButtonPosition:function(e){var t=this,n=t.getFloatingButtons(),i=t.scrollingView,r=i.el.dom,o=t.getScrollDelta()-(r.scrollHeight-i.getScrollY()-t.scrollingViewEl.dom.clientHeight);return o>0?(t._buttonsOnTop||(n.setButtonPosition("top"),t._buttonsOnTop=!0),e=0):t._buttonsOnTop!==!1&&(n.setButtonPosition("bottom"),t._buttonsOnTop=!1),e},syncEditorClip:function(){var e,t=this,n=t.getScrollDelta();n?(t.isOverflowing=!0,e=t.floatingButtons.getHeight(),n>0?t.clipBottom(Math.max(t.getHeight()-n+e,-e)):0>n&&(n=Math.abs(n),t.clipTop(Math.max(n,0)))):t.isOverflowing&&(t.clearClip(),t.isOverflowing=!1)},focusContextCell:function(){var e,t=this.context.column;t.isDestroyed||(e=this.getEditor(t),e&&e.focus&&e.focus())},cancelEdit:function(){var e,t=this,n=t.getForm(),i=n.getFields(),r=i.items,o=r.length;for(t.hide(),n.clearInvalid(),e=0;o>e;e++)r[e].suspendEvents();for(n.reset(),e=0;o>e;e++)r[e].resumeEvents()},completeEdit:function(){var e=this,t=e.getForm();return t.isValid()?(t.updateRecord(e.context.record),e.hide(),!0):!1},onShow:function(){var e=this;e.callParent(arguments),e.needsSyncFieldWidths&&(e.suspendLayouts(),e.syncAllFieldWidths(),e.resumeLayouts(!0)),delete e.needsSyncFieldWidths,e.reposition()},onHide:function(){var e=this;e.callParent(arguments),e.tooltip&&e.hideToolTip(),e.context&&(e.context.view.focusRow(e.context.record),e.context=null)},isDirty:function(){var e=this,t=e.getForm();return t.isDirty()},getToolTip:function(){return this.tooltip||(this.tooltip=new Ext.tip.ToolTip({cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:this.errorsText,autoHide:!1,closable:!0,closeAction:"disable",anchor:"left",anchorToTarget:!1}))},hideToolTip:function(){var e=this,t=e.getToolTip();t.rendered&&t.disable(),e.hiddenTip=!1},showToolTip:function(){var e=this,t=e.getToolTip();t.showAt([0,0]),t.update(e.getErrors()),e.repositionTip(),t.enable()},repositionTip:function(){var e=this,t=e.getToolTip(),n=e.context,i=Ext.get(n.row),r=e.scrollingViewEl,o=r.dom.clientHeight,a=e.lastScrollTop,s=a+o,l=i.getHeight(),d=i.getOffsetsTo(e.context.view.body)[1],u=d+l;u>a&&s>d?(t.showAt(t.getAlignToXY(r,"tl-tr",[15,i.getOffsetsTo(r)[1]])),e.hiddenTip=!1):(t.hide(),e.hiddenTip=!0)},getErrors:function(){var e,t=this,n=[],i=t.query(">[isFormField]"),r=i.length;for(e=0;r>e;e++)n=n.concat(Ext.Array.map(i[e].getErrors(),t.createErrorListItem));return n.length||t.autoCancel||!t.isDirty()||(n[0]=t.createErrorListItem(t.dirtyText)),'<ul class="'+Ext.plainListCls+'">'+n.join("")+"</ul>"},createErrorListItem:function(e){return'<li class="'+this.errorCls+'">'+e+"</li>"},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip),this.callParent()},clipBottom:function(e){this.el.setStyle("clip","rect(-1000px auto "+e+"px auto)")},clipTop:function(e){this.el.setStyle("clip","rect("+e+"px auto 1000px auto)")},clearClip:function(e){this.el.setStyle("clip",Ext.isIE8?"rect(-1000px auto 1000px auto)":"auto")}}),Ext.define("Ext.grid.Scroller",{constructor:Ext.deprecated()}),Ext.define("Ext.view.DropZone",{extend:"Ext.dd.DropZone",indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",indicatorHtml:['<div class="',Ext.baseCSSPrefix,'grid-drop-indicator-left" role="presentation"></div>','<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right" role="presentation"></div>'].join(""),constructor:function(e){var t=this;Ext.apply(t,e),t.ddGroup||(t.ddGroup="view-dd-zone-"+t.view.id),t.callParent([t.view.el])},fireViewEvent:function(){var e,t=this;return t.lock(),e=t.view.fireEvent.apply(t.view,arguments),t.unlock(),e},getTargetFromEvent:function(e){var t,n,i,r,o,a,s=e.getTarget(this.view.getItemSelector());if(!s)for(t=e.getY(),r=0,n=this.view.getNodes(),o=n.length;o>r;r++)if(i=n[r],a=Ext.fly(i).getBox(),t<=a.bottom)return i;return s},getIndicator:function(){var e=this;return e.indicator||(e.indicator=new Ext.Component({ariaRole:"presentation",html:e.indicatorHtml,cls:e.indicatorCls,ownerCt:e.view,floating:!0,shadow:!1})),e.indicator},getPosition:function(e,t){var n,i=e.getXY()[1],r=Ext.fly(t).getRegion();return n=r.bottom-i>=(r.bottom-r.top)/2?"before":"after"},containsRecordAtOffset:function(e,t,n){if(!t)return!1;var i=this.view,r=i.indexOf(t),o=i.getNode(r+n),a=o?i.getRecord(o):null;return a&&Ext.Array.contains(e,a)},positionIndicator:function(e,t,n){var i,r=this,o=r.view,a=r.getPosition(n,e),s=o.getRecord(e),l=t.records;Ext.Array.contains(l,s)||("before"!==a||r.containsRecordAtOffset(l,s,-1))&&("after"!==a||r.containsRecordAtOffset(l,s,1))?r.invalidateDrop():(r.valid=!0,(r.overRecord!==s||r.currentPosition!==a)&&(i=Ext.fly(e).getY()-o.el.getY()-1,"after"===a&&(i+=Ext.fly(e).getHeight()),r.getIndicator().setWidth(Ext.fly(o.el).getWidth()).showAt(0,i),r.overRecord=s,r.currentPosition=a))},invalidateDrop:function(){this.valid&&(this.valid=!1,this.getIndicator().hide())},onNodeOver:function(e,t,n,i){var r=this;return Ext.Array.contains(i.records,r.view.getRecord(e))||r.positionIndicator(e,i,n),r.valid?r.dropAllowed:r.dropNotAllowed},notifyOut:function(e,t,n,i){var r=this;r.callParent(arguments),r.overRecord=r.currentPosition=null,r.valid=!1,r.indicator&&r.indicator.hide()},onContainerOver:function(e,t,n){var i=this,r=i.view,o=r.dataSource.getCount();return o?i.positionIndicator(r.all.last(),n,t):(i.overRecord=i.currentPosition=null,i.getIndicator().setWidth(Ext.fly(r.el).getWidth()).showAt(0,0),i.valid=!0),i.dropAllowed},onContainerDrop:function(e,t,n){return this.onNodeDrop(e,null,t,n)},onNodeDrop:function(e,t,n,i){var r=this,o=!1,a={wait:!1,processDrop:function(){r.invalidateDrop(),r.handleNodeDrop(i,r.overRecord,r.currentPosition),o=!0,r.fireViewEvent("drop",e,i,r.overRecord,r.currentPosition)},cancelDrop:function(){r.invalidateDrop(),o=!0}},s=!1;if(r.valid){if(s=r.fireViewEvent("beforedrop",e,i,r.overRecord,r.currentPosition,a),a.wait)return;s!==!1&&(o||a.processDrop())}return s},destroy:function(){Ext.destroy(this.indicator),delete this.indicator,this.callParent()}}),Ext.define("Ext.grid.ViewDropZone",{extend:"Ext.view.DropZone",indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left" role="presentation"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right" role="presentation"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",handleNodeDrop:function(e,t,n){var i,r,o,a,s=this.view,l=s.getStore();if(e.copy)for(r=e.records,e.records=[],o=0,a=r.length;a>o;o++)e.records.push(r[o].copy());else e.view.store.remove(e.records,e.view===s);t&&n?(i=l.indexOf(t),"before"!==n&&i++,l.insert(i,e.records)):l.add(e.records),s.getSelectionModel().select(e.records)}}),Ext.define("Ext.grid.column.Action",{extend:"Ext.grid.column.Column",alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",stopSelection:!0,actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:!1,innerCls:Ext.baseCSSPrefix+"grid-cell-inner-action-col",actionIconCls:Ext.baseCSSPrefix+"action-col-icon",constructor:function(e){var t,n,i,r=this,o=Ext.apply({},e),a=o.items||r.items||[r];for(r.origRenderer=o.renderer||r.renderer,r.origScope=o.scope||r.scope,r.renderer=r.scope=o.renderer=o.scope=null,o.items=null,r.callParent([o]),r.items=a,n=0,i=a.length;i>n;++n)if(a[n].getClass){t=!0;break}(r.origRenderer||t)&&(r.hasCustomRenderer=!0)},initComponent:function(){var e=this;e.callParent(),e.sortable&&!e.dataIndex&&(e.sortable=!1)},defaultRenderer:function(e,t,n,i,r,o,a){var s,l,d,u,c=this,h=Ext.baseCSSPrefix,f=c.origScope||c,g=c.items,p=g.length,m=0;for(l=Ext.isFunction(c.origRenderer)?c.origRenderer.apply(f,arguments)||"":"",t.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";p>m;m++)s=g[m],d=s.disabled||(s.isDisabled?s.isDisabled.call(s.scope||f,a,i,r,s,n):!1),u=d?null:s.tooltip||(s.getTip?s.getTip.apply(s.scope||f,arguments):null),s.hasActionConfiguration||(s.stopSelection=c.stopSelection,s.disable=Ext.Function.bind(c.disableAction,c,[m],0),s.enable=Ext.Function.bind(c.enableAction,c,[m],0),s.hasActionConfiguration=!0),l+='<img role="button" alt="'+(s.altText||c.altText)+'" src="'+(s.icon||Ext.BLANK_IMAGE_URL)+'" class="'+c.actionIconCls+" "+h+"action-col-"+String(m)+" "+(d?h+"item-disabled":" ")+(Ext.isFunction(s.getClass)?s.getClass.apply(s.scope||f,arguments):s.iconCls||c.iconCls||"")+'"'+(u?' data-qtip="'+u+'"':"")+" />";return l},updater:function(e,t){var n={};e.firstChild.innerHTML=Ext.grid.column.Action.prototype.defaultRenderer.call(this,t,n),Ext.fly(e).addCls(n.tdCls)},enableAction:function(e,t){var n=this;e?Ext.isNumber(e)||(e=Ext.Array.indexOf(n.items,e)):e=0,n.items[e].disabled=!1,n.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+e).removeCls(n.disabledCls),t||n.fireEvent("enable",n)},disableAction:function(e,t){var n=this;e?Ext.isNumber(e)||(e=Ext.Array.indexOf(n.items,e)):e=0,n.items[e].disabled=!0,n.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+e).addCls(n.disabledCls),t||n.fireEvent("disable",n)},destroy:function(){return delete this.items,delete this.renderer,this.callParent(arguments)},processEvent:function(e,t,n,i,r,o,a,s){var l,d,u,c=this,h=o.getTarget(),f="keydown"===e&&o.getKey();return"mousedown"===e?!1:(f&&!Ext.fly(h).findParent(t.getCellSelector())&&(h=Ext.fly(n).down("."+Ext.baseCSSPrefix+"action-col-icon",!0)),h&&(l=h.className.match(c.actionIdRe))&&(d=c.items[parseInt(l[1],10)],u=d.disabled||(d.isDisabled?d.isDisabled.call(d.scope||c.origScope||c,t,i,r,d,a):!1),d&&!u&&("click"===e||f===o.ENTER||f===o.SPACE)&&(Ext.callback(d.handler||c.handler,d.scope||c.origScope,[t,i,r,d,o,a,s],void 0,c),d.stopSelection!==!1))?!1:c.callParent(arguments))},cascade:function(e,t){e.call(t||this,this)},getRefItems:function(){return[]}}),Ext.define("Ext.grid.column.Boolean",{extend:"Ext.grid.column.Column",alias:["widget.booleancolumn"],alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultFilterType:"boolean",producesHTML:!1,defaultRenderer:function(e){return void 0===e?this.undefinedText:e&&"false"!==e?this.trueText:this.falseText},updater:function(e,t){e.firstChild.firstChild.data=Ext.grid.column.Boolean.prototype.defaultRenderer.call(this,t)}}),Ext.define("Ext.grid.column.Check",{extend:"Ext.grid.column.Column",alternateClassName:["Ext.ux.CheckColumn","Ext.grid.column.CheckColumn"],alias:"widget.checkcolumn",align:"center",stopSelection:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-checkcolumn",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-checkcolumn",clickTargetName:"el",defaultFilterType:"boolean",constructor:function(){this.scope=this,this.callParent(arguments)},processEvent:function(e,t,n,i,r,o,a,s){var l=this,d="keydown"===e&&o.getKey(),u="mousedown"==e;if(l.disabled||!u&&d!=o.ENTER&&d!=o.SPACE)return l.callParent(arguments);var c=!l.isRecordChecked(a);return l.fireEvent("beforecheckchange",l,i,c)!==!1?(l.setRecordCheck(a,c,n,s,o),l.fireEvent("checkchange",l,i,c),u&&o.stopEvent(),l.stopSelection||t.selModel.selectByPosition({row:i,column:r}),!1):!l.stopSelection},onEnable:function(){this.callParent(arguments),this._setDisabled(!1)},onDisable:function(){this._setDisabled(!0)},_setDisabled:function(e){var t,n=this,i=n.disabledCls;t=n.up("tablepanel").el.select(n.getCellSelector()),e?t.addCls(i):t.removeCls(i)},defaultRenderer:function(e,t){var n=Ext.baseCSSPrefix,i=n+"grid-checkcolumn";return this.disabled&&(t.tdCls+=" "+this.disabledCls),e&&(i+=" "+n+"grid-checkcolumn-checked"),'<img class="'+i+'" src="'+Ext.BLANK_IMAGE_URL+'"/>'},isRecordChecked:function(e){var t=this.property;return t?e[t]:e.get(this.dataIndex)},setRecordCheck:function(e,t,n,i,r){var o=this,a=o.property;a?(e[a]=t,o.updater(n,t)):e.set(o.dataIndex,t)},updater:function(e,t){var n={};e.firstChild.innerHTML=this.defaultRenderer(t,n),Ext.fly(e).addCls(n.tdCls)}}),Ext.define("Ext.grid.column.Date",{extend:"Ext.grid.column.Column",alias:["widget.datecolumn"],requires:["Ext.Date"],alternateClassName:"Ext.grid.DateColumn",isDateColumn:!0,defaultFilterType:"date",producesHTML:!1,initComponent:function(){this.format||(this.format=Ext.Date.defaultFormat),this.callParent(arguments)},defaultRenderer:function(e){return Ext.util.Format.date(e,this.format)},updater:function(e,t){e.firstChild.innerHTML=Ext.grid.column.Date.prototype.defaultRenderer.call(this,t)}}),Ext.define("Ext.grid.column.Number",{extend:"Ext.grid.column.Column",alias:["widget.numbercolumn"],requires:["Ext.util.Format"],alternateClassName:"Ext.grid.NumberColumn",defaultFilterType:"number",format:"0,000.00",producesHTML:!1,defaultRenderer:function(e){return Ext.util.Format.number(e,this.format)},updater:function(e,t){e.firstChild.innerHTML=Ext.grid.column.Number.prototype.defaultRenderer.call(this,t)}}),Ext.define("Ext.grid.column.RowNumberer",{extend:"Ext.grid.column.Column",alternateClassName:"Ext.grid.RowNumberer",alias:"widget.rownumberer",text:"&#160;",width:23,sortable:!1,draggable:!1,autoLock:!0,lockable:!1,align:"right",producesHTML:!1,constructor:function(e){var t=this;t.width=t.width,t.callParent(arguments),t.sortable=!1,t.scope=t},resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",tdCls:Ext.baseCSSPrefix+"grid-cell-row-numberer "+Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-numberer",rowspan:void 0,defaultRenderer:function(e,t,n,i,r,o,a){var s=this.rowspan,l=o.currentPage,d=a.store.indexOf(n);return s&&(t.tdAttr='rowspan="'+s+'"'),l>1&&(d+=(l-1)*o.pageSize),d+1},updater:function(e,t){e.firstChild.innerHTML=Ext.grid.column.RowNumberer.prototype.defaultRenderer.call(this,t)}}),Ext.define("Ext.grid.column.Template",{extend:"Ext.grid.column.Column",alias:["widget.templatecolumn"],requires:["Ext.XTemplate"],alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){var e=this;e.tpl=!Ext.isPrimitive(e.tpl)&&e.tpl.compile?e.tpl:new Ext.XTemplate(e.tpl),e.hasCustomRenderer=!0,e.callParent(arguments)},defaultRenderer:function(e,t,n){var i=Ext.apply({},n.data,n.getAssociatedData());return this.tpl.apply(i)},updater:function(e,t){e.firstChild.innerHTML=Ext.grid.column.CheckColumn.prototype.defaultRenderer.call(this,t)}}),Ext.define("Ext.grid.column.Widget",{extend:"Ext.grid.column.Column",alias:"widget.widgetcolumn",config:{defaultWidgetUI:{}},sortable:!1,stopSelection:!0,preventUpdate:!0,initComponent:function(){var e,t=this;t.callParent(arguments),e=t.widget,(!e||e.isComponent)&&Ext.Error.raise("column.Widget requires a widget configuration."),e.ui||(e.ui=t.getDefaultWidgetUI()[e.xtype]||"default"),t.isFixedSize=Ext.isNumber(e.width)},processEvent:function(e,t,n,i,r,o,a,s){var l,d=t.innerSelector;return this.stopSelection&&"click"===e&&(l=o.getTarget(d),l&&l!==o.target)?!1:void 0},beforeRender:function(){var e,t=this;t.liveWidgets={},t.cachedStyles={},t.freeWidgetStack=[],t.listenerScopeFn=function(e){return"this"===e?this:t.resolveListenerScope(e)},e=t.getFreeWidget(),t.tdCls=e.getTdCls(),t.setupViewListeners(t.getView()),t.callParent(arguments)},afterRender:function(){var e=this.getView();this.callParent(arguments),e&&e.viewReady&&this.onViewRefresh(e,e.getViewRange())},defaultRenderer:Ext.emptyFn,updater:function(e,t,n){this.updateWidget(n)},onResize:function(e){var t,n,i=this,r=i.liveWidgets,o=i.getView();if(!i.isFixedSize&&i.rendered&&o&&o.viewReady&&(n=o.getEl().down(i.getCellInnerSelector()))){e-=parseInt(i.getCachedStyle(n,"padding-left"),10)+parseInt(i.getCachedStyle(n,"padding-right"),10);for(t in r)r[t].setWidth(e)}},onAdded:function(){var e;this.callParent(arguments),e=this.getView(),e&&this.setupViewListeners(e)},onRemoved:function(e){var t,n,i=this,r=i.liveWidgets,o=i.viewListeners;if(i.rendered&&(o&&(o.destroy(),this.viewListeners=null),!e))for(t in r)n=r[t],Ext.detachedBodyEl.dom.appendChild((n.el||n.element).dom);i.callParent(arguments)},onDestroy:function(){var e,t,n,i,r=this,o=r.liveWidgets,a=r.freeWidgetStack;if(r.rendered){for(e in o)t=o[e],t.$widgetRecord=t.$widgetColumn=null,delete t.getWidgetRecord,delete t.getWidgetColumn,t.destroy();for(n=0,i=a.length;i>n;++n)a[n].destroy()}r.freeWidgetStack=r.liveWidgets=null,r.callParent()},getWidget:function(e){var t,n=this.liveWidgets;return e&&n&&(t=n[e.internalId]),t||null},privates:{getCachedStyle:function(e,t){var n=this.cachedStyles;return n[t]||(n[t]=Ext.fly(e).getStyle(t))},getFreeWidget:function(){var e=this,t=e.freeWidgetStack.pop();return t||(t=Ext.widget(e.widget),t.resolveListenerScope=e.listenerScopeFn,t.getWidgetRecord=e.widgetRecordDecorator,t.getWidgetColumn=e.widgetColumnDecorator,t.dataIndex=e.dataIndex,t.measurer=e),t},onViewRefresh:function(e,t){var n,i,r,o,a,s,l,d,u,c=this,h=e.all,f=!!c.onWidgetAttach,g=c.liveWidgets,p=c.dataIndex,m=c.isFixedSize;if(c.rendered&&!c.hidden){for(c.liveWidgets={},Ext.suspendLayouts(),s=h.startIndex,l=0;s<=h.endIndex;s++,l++)d=t[l],d.isNonData||(a=d.internalId,n=e.getRow(h.item(s)).cells[c.getVisibleIndex()].firstChild,i=c.liveWidgets[a]=g[a]||c.getFreeWidget(),delete g[a],m||void 0!==o||(o=c.lastBox.width-parseInt(c.getCachedStyle(n,"padding-left"),10)-parseInt(c.getCachedStyle(n,"padding-right"),10)),Ext.fly(n).empty(),(r=i.el||i.element)?(n.appendChild(r.dom),m||i.setWidth(o)):(m||(i.width=o),i.render(n)),i.defaultBindProperty&&p&&i.setConfig(i.defaultBindProperty,t[l].get(p)),i.$widgetRecord=d,i.$widgetColumn=c,f&&c.onWidgetAttach(i,d));Ext.resumeLayouts(!0);for(u in g)i=g[u],i.$widgetRecord=i.$widgetColumn=null,c.freeWidgetStack.unshift(i),Ext.detachedBodyEl.dom.appendChild((i.el||i.element).dom)}},onItemUpdate:function(e,t,n){this.updateWidget(e)},onItemAdd:function(e,t,n){var i,r,o,a,s,l,d,u=this,c=u.getView(),h=!!u.onWidgetAttach,f=(u.dataIndex,u.isFixedSize),g=e.length;if(u.rendered&&!u.hidden)for(i=0;g>i;i++)r=e[i],r.isNonData||(o=c.getRowFromItem(n[i]),o&&(a=o.cells[u.getVisibleIndex()].firstChild,f||d||(d=u.lastBox.width-parseInt(u.getCachedStyle(a,"padding-left"),10)-parseInt(u.getCachedStyle(a,"padding-right"),10)),s=u.liveWidgets[r.internalId]=u.getFreeWidget(),Ext.fly(a).empty(),(l=s.el||s.element)?(a.appendChild(l.dom),f||s.setWidth(d)):(f||(s.width=d),s.render(a)),s.defaultBindProperty&&u.dataIndex&&s.setConfig(s.defaultBindProperty,r.get(u.dataIndex)),s.$widgetColumn=u,h&&u.onWidgetAttach(s,r)))},onItemRemove:function(e,t,n){var i,r=this,o=r.liveWidgets;r.rendered&&e&&(i=o[e.internalId])&&(delete o[e.internalId],r.freeWidgetStack.unshift(i),i.$widgetRecord=i.$widgetColumn=null,Ext.detachedBodyEl.dom.appendChild((i.el||i.element).dom))},setupViewListeners:function(e){var t=this;t.viewListeners=e.on({refresh:t.onViewRefresh,itemupdate:t.onItemUpdate,itemadd:t.onItemAdd,itemremove:t.onItemRemove,scope:t,destroyable:!0})},updateWidget:function(e){var t,n=this.dataIndex;this.rendered&&(t=this.liveWidgets[e.internalId],t&&t.defaultBindProperty&&n&&t.setConfig(t.defaultBindProperty,e.get(n)))},widgetRecordDecorator:function(){return this.$widgetRecord},widgetColumnDecorator:function(){return this.$widgetColumn}}}),Ext.define("Ext.grid.feature.Feature",{extend:"Ext.util.Observable",alias:"feature.feature",wrapsItem:!1,isFeature:!0,disabled:!1,hasFeatureEvent:!0,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(e){this.initialConfig=e,this.callParent(arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,destroy:function(){this.clearListeners()},getFireEventArgs:function(e,t,n,i){return[e,t,n,i]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}}),Ext.define("Ext.grid.feature.AbstractSummary",{extend:"Ext.grid.feature.Feature",alias:"feature.abstractsummary",summaryRowCls:Ext.baseCSSPrefix+"grid-row-summary",summaryRowSelector:"."+Ext.baseCSSPrefix+"grid-row-summary",readDataOptions:{recordCreator:Ext.identityFn},summaryRowTpl:{fn:function(e,t,n){t.record.isSummary&&this.summaryFeature.showSummaryRow?this.summaryFeature.outputSummaryRecord(t.record,t,e,n):this.nextTpl.applyOut(t,e,n)},priority:1e3},showSummaryRow:!0,init:function(){var e=this;e.view.summaryFeature=e,e.rowTpl=e.view.self.prototype.rowTpl,e.view.addRowTpl(e.summaryRowTpl).summaryFeature=e,e.summaryData={},e.groupInfo={},e.summaryTableCls||(e.summaryTableCls=Ext.baseCSSPrefix+"grid-item")},toggleSummaryRow:function(e){this.showSummaryRow=1===arguments.length?!!e:!this.showSummaryRow},createRenderer:function(e,t){var n=this,i=t.ownerGroup,r=i?n.summaryData[i]:n.summaryData,o=e.dataIndex||e.id;return function(){return e.summaryRenderer?e.summaryRenderer(t.data[o],r,o):t.data[o]}},outputSummaryRecord:function(e,t,n){var i,r,o=t.view,a=o.rowValues,s=t.columns||o.headerCt.getVisibleGridColumns(),l=s.length,d={view:o,record:e,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:o.getRowId(e),columns:s};for(i=0;l>i;i++)r=s[i],r.savedRenderer=r.renderer,r.summaryType||r.summaryRenderer?r.renderer=this.createRenderer(r,e):r.renderer=Ext.emptyFn;for(o.rowValues=d,o.self.prototype.rowTpl.applyOut(d,n,parent),o.rowValues=a,i=0;l>i;i++)r=s[i],r.renderer=r.savedRenderer,r.savedRenderer=null},getSummary:function(e,t,n,i){var r=!!i,o=r?i:e;if(t){if(Ext.isFunction(t))return r?o.aggregate(n,t):o.aggregate(t,null,!1,[n]);switch(t){case"count":return o.count(n);case"min":return o.min(n);case"max":return o.max(n);case"sum":return o.sum(n);case"average":return o.average(n);default:return""}}},generateSummaryData:function(){var e,t,n,i,r,o,a,s,l,d=this,u=d.view.store,c=u.getGroups().items,h=u.getProxy().getReader(),f=c.length,g=d.getGroupField(),p={},m=d.lockingPartner;if(d.remoteRoot&&h.rawData){for(o=!0,s={},i=h.getRootProperty(),h.setRootProperty(d.remoteRoot),h.buildExtractors(!0),r=h.getRoot(h.rawData)||[],f=r.length,e=0;f>e;++e)a=h.extractRecordData(r[e],d.readDataOptions),s[a[g]]=a;h.setRootProperty(i),h.buildExtractors(!0)}for(e=0;f>e;++e)t=c[e],l=d.getGroupInfo(t),o||u.updating||l.lastGeneration!==t.generation?(n=d.populateRecord(t,l,s),m&&d.view.ownerCt!==d.view.ownerCt.ownerLockable.normalGrid||(l.lastGeneration=t.generation)):n=d.getAggregateRecord(t),p[t.getGroupKey()]=n;return p},setSummaryData:function(e,t,n,i){i?(this.summaryData[i]||(this.summaryData[i]={}),this.summaryData[i][t]=n):this.summaryData[t]=n},populateRecord:function(e,t,n){var i,r,o,a,s,l,d=this,u=d.grid.ownerLockable?d.grid.ownerLockable.view:d.view,c=d.view.getStore(),h=d.getAggregateRecord(e),f=u.headerCt.getGridColumns(),g=f.length,p=e.getGroupKey();if(h.beginEdit(),n){i=n[p];for(r in i)i.hasOwnProperty(r)&&r!==h.idProperty&&h.set(r,i[r])}for(o=0;g>o;++o)a=f[o],s=a.dataIndex||a.id,n?l=h.get(dataIndex):(l=d.getSummary(c,a.summaryType,s,e),h.set(s,l)),d.setSummaryData(h,a.id,l,p);return h.ownerGroup=p,h.endEdit(!0),h.commit(),h},getGroupInfo:function(e){var t,n=this.groupInfo,i=e.getGroupKey(),r=n[i];return r||(t=this.view.getStore().getModel(),r=n[i]={lastGeneration:null,aggregateRecord:new t}),r},getAggregateRecord:function(e,t){var n,i=this;return(t===!0||e.dirty||!e.aggregateRecord)&&(n=new(i.view.store.getModel()),e.aggregateRecord=n,n.isNonData=n.isSummary=!0),e.aggregateRecord}}),Ext.define("Ext.grid.feature.GroupStore",{extend:"Ext.util.Observable",isStore:!0,defaultViewSize:100,isFeatureStore:!0,constructor:function(e,t){var n=this;n.callParent(),n.groupingFeature=e,n.bindStore(t)},bindStore:function(e){var t=this;t.store&&(Ext.destroy(t.storeListeners),t.store=null),e&&(t.storeListeners=e.on({groupchange:t.onGroupChange,remove:t.onRemove,add:t.onAdd,update:t.onUpdate,refresh:t.onRefresh,clear:t.onClear,scope:t,destroyable:!0}),t.store=e,t.processStore(e))},processStore:function(e){var t,n,i,r,o,a,s=this,l=e.getGroups(),d=l?l.length:0,u=s.data,c=s.groupingFeature.groupCache,h=s.groupingFeature.clearGroupCache(),f=s.groupingFeature.startCollapsed,g=e.getGroupField();
if(u?u.clear():u=s.data=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{property:"internalId",rootProperty:""}}}),e.getCount())if(s.groupingFeature.startCollapsed=!1,d>0)for(t=0;d>t;t++)n=l.getAt(t),r=n.getGroupKey(),h[r]=n,n.isCollapsed=f||c[r]&&c[r].isCollapsed,n.isCollapsed?(a=e.getModel(),o={},o[a.idProperty]="group-"+r+"-placeholder",o[g]=r,n.placeholder=i=new a(o),i.isNonData=i.isCollapsedPlaceholder=!0,u.add(i)):u.insert(s.data.length,n.items);else u.add(e.getRange())},isCollapsed:function(e){return this.groupingFeature.groupCache[e].isCollapsed},isInCollapsedGroup:function(e){var t,n=this.store;return n.isGrouped()&&(t=this.groupingFeature.groupCache[e.get(n.getGroupField())])?t.isCollapsed||!1:!1},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(e,t){return t<this.getCount()},getRange:function(e,t,n){var i=this.data.getRange(e,Ext.isNumber(t)?t+1:t);return n&&n.callback&&n.callback.call(n.scope||this,i,e,t,n),i},getAt:function(e){return this.data.getAt(e)},getById:function(e){return this.store.getById(e)},getByInternalId:function(e){return this.data.byInternalId.get(e)||null},expandGroup:function(e){var t,n,i=this;"string"==typeof e&&(e=i.groupingFeature.groupCache[e]),e&&(n=e.items),n.length&&-1!==(t=i.data.indexOf(e.placeholder))&&(e.isCollapsed=!1,i.isExpandingOrCollapsing=1,i.data.removeAt(t),i.data.insert(t,e.items),i.fireEvent("replace",i,t,[e.placeholder],e.items),i.fireEvent("groupexpand",i,e),i.isExpandingOrCollapsing=0)},collapseGroup:function(e){var t,n,i,r,o=this;"string"==typeof e&&(e=o.groupingFeature.groupCache[e]),e&&(r=e.items),r&&(i=r.length)&&-1!==(t=o.data.indexOf(r[0]))&&(e.isCollapsed=!0,o.isExpandingOrCollapsing=2,o.data.removeAt(t,i),o.data.insert(t,n=o.getGroupPlaceholder(e)),o.fireEvent("replace",o,t,r,[n]),o.fireEvent("groupcollapse",o,e),o.isExpandingOrCollapsing=0)},getGroupPlaceholder:function(e){if(!e.placeholder){var t,n=this.store,i=n.getModel(),r={},o=e.getGroupKey();r[i.idProperty]="group-"+o+"-placeholder",r[n.getGroupField()]=o,t=e.placeholder=new i(r),t.isNonData=t.isCollapsedPlaceholder=!0}return e.placeholder},indexOf:function(e){return e.isCollapsedPlaceholder?-1:this.data.indexOf(e)},indexOfTotal:function(e){return this.store.indexOf(e)},onRefresh:function(e){this.processStore(this.store),this.fireEvent("refresh",this)},onRemove:function(e,t,n,i){this.processStore(this.store),this.fireEvent("refresh",this)},onClear:function(e,t,n){this.processStore(this.store),this.fireEvent("clear",this)},onAdd:function(e,t,n){this.processStore(this.store),this.fireEvent("replace",this,this.indexOf(t[0]),[],t)},onUpdate:function(e,t,n,i){var r,o,a,s,l=this;if(e.isGrouped()){if(r=t.group=l.groupingFeature.getRecordGroup(t),i&&Ext.Array.contains(i,l.groupingFeature.getGroupField()))return l.onRefresh(l.store);r.isCollapsed?l.fireEvent("update",l,r.placeholder):(Ext.suspendLayouts(),l.fireEvent("update",l,t,n,i),s=r.items,o=s[0],a=s[s.length-1],o!==t&&(o.group=r,l.fireEvent("update",l,o,"edit",i),delete o.group),a!==t&&a!==o&&l.groupingFeature.showSummaryRow&&(a.group=r,l.fireEvent("update",l,a,"edit",i),delete a.group),Ext.resumeLayouts(!0)),delete t.group}else l.fireEvent("update",l,t,n,i)},onGroupChange:function(e){this.fireEvent("groupchange",e)}}),Ext.define("Ext.grid.feature.Grouping",{extend:"Ext.grid.feature.Feature",mixins:{summary:"Ext.grid.feature.AbstractSummary"},requires:["Ext.grid.feature.GroupStore"],alias:"feature.grouping",eventPrefix:"group",groupCls:Ext.baseCSSPrefix+"grid-group-hd",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",refreshData:{},groupInfo:{},wrapsItem:!0,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",hdNotCollapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-not-collapsible",collapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-collapsible",ctCls:Ext.baseCSSPrefix+"group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:!1,startCollapsed:!1,enableGroupingMenu:!0,enableNoGroups:!0,collapsible:!0,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:!1,outerTpl:["{%","if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {","this.groupingFeature.setup(values.rows, values.view.rowValues);","}","this.nextTpl.applyOut(values, out, parent);","if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {","this.groupingFeature.cleanup(values.rows, values.view.rowValues);","}","%}",{priority:200}],groupRowTpl:["{%","var me = this.groupingFeature,",'colspan = "colspan=" + values.columns.length;',"if (me.disabled || parent.rows.length === 1 && parent.rows[0].isSummary) {","values.needsWrap = false;","} else {","me.setupRowData(values.record, values.rowIndex, values);","}","%}",'<tpl if="needsWrap">','<tpl if="isFirstRow">',"{% values.view.renderColumnSizer(values, out); %}",'<tr data-boundView="{view.id}" data-recordId="{record.internalId:htmlEncode}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}" class="{groupHeaderCls}">','<td class="{[me.ctCls]}" {[colspan]}>',"{%",'var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";',"%}",'<div id="{groupId}" class="',Ext.baseCSSPrefix,'grid-group-hd {collapsibleCls}" tabIndex="0" hidefocus="on" {ariaCellInnerAttr}>','<div class="',Ext.baseCSSPrefix,'grid-group-title" style="{[groupTitleStyle]}" {ariaGroupTitleAttr}>','{[values.groupHeaderTpl.apply(values.groupInfo, parent) || "&#160;"]}',"</div>","</div>","</td>","</tr>","</tpl>",'<tpl if="!isCollapsedGroup">',"{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent);","%}","</tpl>",'<tpl if="summaryRecord">',"{%me.outputSummaryRecord(values.summaryRecord, values, out, parent);%}","</tpl>","<tpl else>","{%this.nextTpl.applyOut(values, out, parent);%}","</tpl>",{priority:200,syncRowHeights:function(e,t){e=Ext.fly(e,"syncDest"),t=Ext.fly(t,"sycSrc");var n,i,r,o,a=this.owner,s=e.down(a.eventSelector,!0),l=e.down(a.summaryRowSelector,!0);s&&(n=t.down(a.eventSelector,!0))&&(s.style.height=n.style.height="",(r=s.offsetHeight)>(o=n.offsetHeight)?Ext.fly(n).setHeight(r):o>r&&Ext.fly(s).setHeight(o)),l&&(i=t.down(a.summaryRowSelector,!0))&&(l.style.height=i.style.height="",(r=l.offsetHeight)>(o=i.offsetHeight)?Ext.fly(i).setHeight(r):o>r&&Ext.fly(l).setHeight(o))},syncContent:function(e,t,n){e=Ext.fly(e,"syncDest"),t=Ext.fly(t,"sycSrc");var i=this.owner,r=e.down(i.eventSelector,!0),o=t.down(i.eventSelector,!0),a=e.down(i.summaryRowSelector,!0),s=t.down(i.summaryRowSelector,!0);r&&o&&Ext.fly(r).syncContent(o),a&&s&&(n?this.groupingFeature.view.updateColumns(a,s,n):Ext.fly(a).syncContent(s))}}],constructor:function(){this.groupCache={},this.callParent(arguments)},init:function(e){var t,n=this,i=n.view,r=i.getStore();i.isGrouping=!!r.getGrouper(),n.lockingPartner&&n.lockingPartner.groupCache&&(n.groupCache=n.lockingPartner.groupCache),n.mixins.summary.init.call(n),n.callParent(arguments),i.headerCt.on({columnhide:n.onColumnHideShow,columnshow:n.onColumnHideShow,columnmove:n.onColumnMove,scope:n}),i.addTpl(Ext.XTemplate.getTpl(n,"outerTpl")).groupingFeature=n,i.addRowTpl(Ext.XTemplate.getTpl(n,"groupRowTpl")).groupingFeature=n,i.preserveScrollOnRefresh=!0,r.isBufferedStore?n.collapsible=!1:(t=n.lockingPartner,t&&t.dataSource?n.dataSource=i.dataSource=t.dataSource:n.dataSource=i.dataSource=new Ext.grid.feature.GroupStore(n,r)),e=e.ownerLockable||e,e.on({reconfigure:n.onReconfigure,scope:n}),i.on({afterrender:n.afterViewRender,scope:n,single:!0}),n.storeListeners=i.store.on({groupchange:n.onGroupChange,scope:n,destroyable:!0})},indexOf:function(e){return this.dataSource.indexOf(e)},isInCollapsedGroup:function(e){var t,n=this.view.getStore();return n.isGrouped()&&(t=this.getGroup(e))?t.isCollapsed||!1:!1},clearGroupCache:function(){var e=this,t=e.groupCache={};return e.lockingPartner&&(e.lockingPartner.groupCache=t),t},vetoEvent:function(e,t,n,i){return"mouseover"!==i.type&&"mouseout"!==i.type&&"mouseenter"!==i.type&&"mouseleave"!==i.type&&i.getTarget(this.eventSelector)?!1:void 0},enable:function(){var e,t=this,n=t.view,i=n.getStore();n.isGrouping=!0,t.callParent(),t.lastGrouper&&(i.group(t.lastGrouper),t.lastGrouper=null),e=t.view.headerCt.getMenu().down("#groupToggleMenuItem"),e&&e.setChecked(!0,!0)},disable:function(){var e,t=this,n=t.view,i=n.getStore(),r=i.getGrouper();n.isGrouping=!1,t.callParent(),r&&(t.lastGrouper=r,i.clearGrouping()),e=t.view.headerCt.getMenu().down("#groupToggleMenuItem"),e&&e.setChecked(!1,!0)},afterViewRender:function(){var e=this,t=e.view;t.on({scope:e,groupclick:e.onGroupClick}),e.enableGroupingMenu&&e.injectGroupingMenu(),e.pruneGroupedHeader(),e.lastGrouper=e.view.getStore().getGrouper(),e.disabled&&e.disable()},injectGroupingMenu:function(){var e=this,t=e.view.headerCt;t.showMenuBy=e.showMenuBy,t.getMenuItems=e.getMenuItems()},onColumnHideShow:function(e,t){var n,i,r,o,a=this.view,s=a.headerCt,l=s.getMenu(),d=l.activeHeader,u=l.down("#groupMenuItem"),c=this.grid.getVisibleColumnManager().getColumns().length;if(d&&u&&(n=d.groupable===!1||null==d.dataIndex||this.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",u[n]()),a.rendered)for(i=a.el.query("."+this.ctCls),o=0,r=i.length;r>o;++o)i[o].colSpan=c},onColumnMove:function(){var e,t,n,i,r,o=this,a=o.view.getStore();if(a.isGrouped()){e=o.groupCache,Ext.suspendLayouts();for(t in e)e.hasOwnProperty(t)&&(n=e[t],i=n.items[0],r=n.items[n.items.length-1],a.fireEvent("update",a,i,"edit",null),r!==i&&o.showSummaryRow&&a.fireEvent("update",a,r,"edit",null));Ext.resumeLayouts(!0)}},showMenuBy:function(e,t){var n=this.getMenu(),i=n.down("#groupMenuItem"),r=t.groupable===!1||null==t.dataIndex||this.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",o=n.down("#groupToggleMenuItem"),a=this.view.store.isGrouped();i[r](),o&&(o.setChecked(a,!0),o[a?"enable":"disable"]()),Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var e=this,t=e.groupByText,n=e.disabled||!e.getGroupField(),i=e.showGroupsText,r=e.enableNoGroups,o=e.view.headerCt.getMenuItems;return function(){var a=o.call(this);return a.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",itemId:"groupMenuItem",text:t,handler:e.onGroupMenuItemClick,scope:e}),r&&a.push({itemId:"groupToggleMenuItem",text:i,checked:!n,checkHandler:e.onGroupToggleMenuItemClick,scope:e}),a}},onGroupMenuItemClick:function(e,t){var n=this,i=e.parentMenu,r=i.activeHeader,o=n.view,a=o.store;n.disabled&&(n.lastGrouper=null,n.block(),n.enable(),n.unblock()),a.group(r.dataIndex),n.pruneGroupedHeader()},block:function(e){this.blockRefresh=this.view.blockRefresh=!0,this.lockingPartner&&!e&&this.lockingPartner.block(!0)},unblock:function(e){this.blockRefresh=this.view.blockRefresh=!1,this.lockingPartner&&!e&&this.lockingPartner.unblock(!0)},onGroupToggleMenuItemClick:function(e,t){this[t?"enable":"disable"]()},pruneGroupedHeader:function(){var e=this,t=e.getGroupedHeader();e.hideGroupedHeader&&t&&(Ext.suspendLayouts(),e.prunedHeader&&e.prunedHeader!==t&&e.prunedHeader.show(),e.prunedHeader=t,t.rendered&&t.hide(),Ext.resumeLayouts(!0))},getHeaderNode:function(e){return document.getElementById(this.createGroupId(e))},getGroup:function(e){e.isModel&&(e=e.get(this.view.getStore().getGroupField()));var t=this.groupCache,n=t[e];return n||(n=t[e]={isCollapsed:!1}),n},isExpanded:function(e){return!this.getGroup(e).isCollapsed},expand:function(e,t){this.doCollapseExpand(!1,e,t)},expandAll:function(){var e,t=this,n=t.groupCache,i=t.lockingPartner;for(e in n)n.hasOwnProperty(e)&&(n[e].isCollapsed=!1);Ext.suspendLayouts(),t.dataSource.onRefresh(),Ext.resumeLayouts(!0);for(e in n)n.hasOwnProperty(e)&&(t.afterCollapseExpand(!1,e),i&&i.afterCollapseExpand(!1,e))},collapse:function(e,t){this.doCollapseExpand(!0,e,t)},isAllCollapsed:function(){var e,t=this,n=t.groupCache;for(e in n)if(n.hasOwnProperty(e)&&!n[e].isCollapsed)return!1;return!0},isAllExpanded:function(){var e,t=this,n=t.groupCache;for(e in n)if(n.hasOwnProperty(e)&&n[e].isCollapsed)return!1;return!0},collapseAll:function(){var e,t=this,n=t.groupCache,i=t.lockingPartner;for(e in n)n.hasOwnProperty(e)&&(n[e].isCollapsed=!0);Ext.suspendLayouts(),t.dataSource.onRefresh(),i&&!i.isAllCollapsed()&&i.collapseAll(),Ext.resumeLayouts(!0);for(e in n)n.hasOwnProperty(e)&&(t.afterCollapseExpand(!0,e),i&&i.afterCollapseExpand(!0,e))},doCollapseExpand:function(e,t,n){var i=this,r=i.lockingPartner,o=i.groupCache[t];o.isCollapsed!==e&&(Ext.suspendLayouts(),e?i.dataSource.collapseGroup(o):i.dataSource.expandGroup(o),Ext.resumeLayouts(!0),i.afterCollapseExpand(e,t,n),r&&r.afterCollapseExpand(e,t,!1))},afterCollapseExpand:function(e,t,n){var i,r=this,o=r.view;i=r.getHeaderNode(t),o.fireEvent(e?"groupcollapse":"groupexpand",o,i,t),n&&o.scrollElIntoView(Ext.fly(i).up(o.getItemSelector()),!1,!0)},onGroupChange:function(e,t){var n=this,i=n.grid.ownerCt,r=n.view;t?n.lastGrouper=t:i&&i.lockable?i.view.refresh():r.refresh()},getMenuItem:function(e){var t=this.view,n=t.headerCt.down("gridcolumn[dataIndex="+e+"]"),i=t.headerCt.getMenu();return n?i.down("menuitem[headerId="+n.id+"]"):null},onGroupKey:function(e,t){var n=this,i=n.getGroupName(t.target);i&&n.onGroupClick(n.view,t.target,i,t)},onGroupClick:function(e,t,n,i){var r,o=this,a=o.groupCache,s=!o.isExpanded(n);if(o.collapsible){if(i.ctrlKey){Ext.suspendLayouts();for(r in a)r===n?s&&o.expand(n):a[r].isCollapsed||o.doCollapseExpand(!0,r,!1);return void Ext.resumeLayouts(!0)}s?o.expand(n):o.collapse(n)}},setupRowData:function(e,t,n){var i,r,o,a,s,l=this,d=n.recordIndex,u=l.refreshData,c=l.groupInfo,h=u.header,f=u.groupField,g=l.view.getStore(),p=l.view.dataSource;if(n.isCollapsedGroup=!1,n.summaryRecord=n.groupHeaderCls=null,u.doGrouping){if(i=g.getGrouper(),e.isCollapsedPlaceholder)return r=i.getGroupString(e),s=g.getGroups().get(r).items,n.isFirstRow=n.isLastRow=!0,n.groupHeaderCls=l.hdCollapsedCls,n.isCollapsedGroup=n.needsWrap=!0,n.groupInfo=c,c.groupField=f,c.name=r,c.groupValue=s[0].get(f),c.columnName=h?h.text:f,n.collapsibleCls=l.collapsible?l.collapsibleCls:l.hdNotCollapsibleCls,n.groupId=l.createGroupId(r),c.rows=c.children=s,void(l.showSummaryRow&&(n.summaryRecord=u.summaryData[r]));r=i.getGroupString(e),e.group?(s=e.group.items,n.isFirstRow=e===s[0],n.isLastRow=e===s[s.length-1]):(n.isFirstRow=0===d,n.isFirstRow||(o=g.getAt(d-1),o&&(n.isFirstRow=!o.isEqual(i.getGroupString(o),r))),n.isLastRow=d==(g.isBufferedStore?g.getTotalCount():g.getCount())-1,n.isLastRow||(a=g.getAt(d+1),a&&(n.isLastRow=!a.isEqual(i.getGroupString(a),r)))),n.isFirstRow&&(c.groupField=f,c.name=r,c.groupValue=e.get(f),c.columnName=h?h.text:f,n.collapsibleCls=l.collapsible?l.collapsibleCls:l.hdNotCollapsibleCls,n.groupId=l.createGroupId(r),l.isExpanded(r)||(n.itemClasses.push(l.hdCollapsedCls),n.isCollapsedGroup=!0),p.isBufferedStore?c.rows=c.children=[]:c.rows=c.children=l.getRecordGroup(e).items,n.groupInfo=c),n.isLastRow&&l.showSummaryRow&&(n.summaryRecord=u.summaryData[r],n.itemClasses.push(Ext.baseCSSPrefix+"grid-group-last")),n.needsWrap=n.isFirstRow||n.summaryRecord}},setup:function(e,t){var n=this,i=n.refreshData,r=t.view,o=!n.disabled&&r.isGrouping;n.skippedRows=0,r.bufferedRenderer&&(r.bufferedRenderer.variableRowHeight=r.bufferedRenderer.variableRowHeight||r.store.isGrouped()),i.groupField=n.getGroupField(),i.header=n.getGroupedHeader(i.groupField),i.doGrouping=o,t.groupHeaderTpl=Ext.XTemplate.getTpl(n,"groupHeaderTpl"),o&&n.showSummaryRow&&(i.summaryData=n.generateSummaryData())},cleanup:function(e,t){var n=this.refreshData;t.groupInfo=t.groupHeaderTpl=t.isFirstRow=null,n.groupField=n.header=null},getGroupName:function(e){var t,n,i,r=this,o=r.view,a=r.eventSelector;return n=Ext.fly(e).findParent(a),n||(i=Ext.fly(e).findParent(o.itemSelector),i&&(n=i.down(a,!0))),n&&(t=n.id.split(o.id+"-hd-"),2===t.length)?Ext.htmlDecode(t[1]):void 0},getRecordGroup:function(e){var t=this.view.getStore().getGrouper();return t?this.groupCache[t.getGroupString(e)]:void 0},createGroupId:function(e){return this.view.id+"-hd-"+Ext.htmlEncode(e)},createGroupCls:function(e){return this.view.id+"-"+Ext.htmlEncode(e)+"-item"},getGroupField:function(){return this.view.store.getGroupField()},getGroupedHeader:function(e){var t,n,i=this,r=i.view.headerCt,o=i.lockingPartner;return e=e||this.getGroupField(),e&&(t="[dataIndex="+e+"]",n=r.down(t),!n&&o&&(n=o.view.headerCt.down(t))),n||null},getFireEventArgs:function(e,t,n,i){return[e,t,n,this.getGroupName(n),i]},destroy:function(){var e=this,t=e.dataSource;e.view=e.prunedHeader=e.grid=e.groupCache=e.dataSource=null,e.callParent(),t&&t.bindStore(null)},onReconfigure:function(e,t,n,i,r){var o,a=this,s=a.view,l=a.dataSource,d=e.lockable?e:null;t&&t!==i&&(o=t.isBufferedStore,a.storeListeners&&a.storeListeners.destroy(),a.storeListeners=t.on({groupchange:a.onGroupChange,scope:a,destroyable:!0}),o!==i.isBufferedStore&&Ext.Error.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores"),s.isGrouping=!!t.getGrouper(),l.bindStore(t),d?d.getView().bindStore(l,!1,"dataSource"):s.refresh())}}),Ext.define("Ext.grid.feature.GroupingSummary",{extend:"Ext.grid.feature.Grouping",alias:"feature.groupingsummary",showSummaryRow:!0,vetoEvent:function(e,t,n,i){var r=this.callParent(arguments);return r!==!1&&i.getTarget(this.summaryRowSelector)&&(r=!1),r}}),Ext.define("Ext.grid.feature.RowBody",{extend:"Ext.grid.feature.Feature",alias:"feature.rowbody",rowBodyCls:Ext.baseCSSPrefix+"grid-row-body",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTdSelector:"td."+Ext.baseCSSPrefix+"grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr."+Ext.baseCSSPrefix+"grid-rowbody-tr",colSpanDecrement:0,outerTpl:{fn:function(e,t,n){var i=t.view,r=i.rowValues;this.rowBody.setup(t.rows,r),this.nextTpl.applyOut(t,e,n),this.rowBody.cleanup(t.rows,r)},priority:100},extraRowTpl:["{%","this.nextTpl.applyOut(values, out, parent);","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);","%}",'<tr class="'+Ext.baseCSSPrefix+'grid-rowbody-tr {rowBodyCls}" {ariaRowAttr}>','<td class="'+Ext.baseCSSPrefix+"grid-td "+Ext.baseCSSPrefix+'grid-cell-rowbody" colspan="{rowBodyColspan}" {ariaCellAttr}>','<div class="'+Ext.baseCSSPrefix+'grid-rowbody {rowBodyDivCls}" {ariaCellInnerAttr}>{rowBody}</div>',"</td>","</tr>",{priority:100,syncRowHeights:function(e,t){var n,i,r,o=this.owner,a=Ext.fly(e).down(o.eventSelector,!0);a&&(n=Ext.fly(t).down(o.eventSelector,!0))&&((i=a.offsetHeight)>(r=n.offsetHeight)?Ext.fly(n).setHeight(i):r>i&&Ext.fly(a).setHeight(r))},syncContent:function(e,t,n){var i,r=this.owner,o=Ext.fly(e).down(r.eventSelector,!0);o&&(i=Ext.fly(t).down(r.eventSelector,!0))&&Ext.fly(o).syncContent(i)}}],init:function(e){var t=this,n=t.view=e.getView();e.variableRowHeight=n.variableRowHeight=!0,n.rowBodyFeature=t,e.mon(n,{element:"el",click:t.onClick,scope:t}),n.headerCt.on({columnschanged:t.onColumnsChanged,scope:t}),n.addTpl(t.outerTpl).rowBody=t,n.addRowTpl(Ext.XTemplate.getTpl(this,"extraRowTpl")),t.callParent(arguments)},onClick:function(e){var t=this,n=e.getTarget(t.eventSelector);n&&Ext.fly(n=n.previousSibling).is(t.view.rowSelector)&&(e.target=n,t.view.handleEvent(e))},getSelectedRow:function(e,t){var n=e.getNode(t);return n?Ext.fly(n).down(this.eventSelector):null},onColumnsChanged:function(e){var t,n=this.view.el.query(this.rowBodyTdSelector),i=e.getVisibleGridColumns().length,r=n.length;for(t=0;r>t;++t)n[t].colSpan=i},setupRowData:function(e,t,n){this.getAdditionalData&&Ext.apply(n,this.getAdditionalData(e.data,t,e,n))},setup:function(e,t){t.rowBodyCls=this.rowBodyCls,t.rowBodyColspan=t.view.getGridColumns().length-this.colSpanDecrement},cleanup:function(e,t){t.rowBodyCls=t.rowBodyColspan=t.rowBody=null}}),Ext.define("Ext.grid.feature.Summary",{extend:"Ext.grid.feature.AbstractSummary",alias:"feature.summary",dock:void 0,dockedSummaryCls:Ext.baseCSSPrefix+"docked-summary",summaryItemCls:Ext.baseCSSPrefix+"grid-item-summary",panelBodyCls:Ext.baseCSSPrefix+"summary-",scrollPadProperty:"padding-right",hasFeatureEvent:!1,init:function(e){var t=this,n=t.view;t.callParent(arguments),t.dock?(e.headerCt.on({add:t.onStoreUpdate,afterlayout:t.onStoreUpdate,scope:t}),e.on({beforerender:function(){var i=[t.summaryTableCls];n.columnLines&&(i[i.length]=n.ownerCt.colLinesCls),t.summaryBar=e.addDocked({childEls:["innerCt","item"],renderTpl:['<div id="{id}-innerCt" data-ref="innerCt" role="presentation">','<table id="{id}-item" data-ref="item" cellPadding="0" cellSpacing="0" class="'+i.join(" ")+'">','<tr class="'+t.summaryRowCls+'"></tr>',"</table>","</div>"],style:"overflow:hidden",itemId:"summaryBar",cls:[t.dockedSummaryCls,t.dockedSummaryCls+"-"+t.dock],xtype:"component",dock:t.dock,weight:1e7})[0]},afterrender:function(){e.body.addCls(t.panelBodyCls+t.dock),n.on("scroll",t.onViewScroll,t),t.onStoreUpdate()},single:!0}),e.headerCt.afterComponentLayout=Ext.Function.createSequence(e.headerCt.afterComponentLayout,function(){var e=this.getTableWidth(),n=t.summaryBar.innerCt;t.summaryBar.item.setWidth(e),this.tooNarrow&&(e+=Ext.getScrollbarSize().width),n.setWidth(e)})):t.view.addFooterFn(t.renderSummaryRow),e.on({columnmove:t.onStoreUpdate,scope:t}),n.mon(n.store,{update:t.onStoreUpdate,datachanged:t.onStoreUpdate,scope:t})},renderSummaryRow:function(e,t,n){var i=e.view,r=i.findFeature("summary");r.showSummaryRow&&(t.push('<table class="'+Ext.baseCSSPrefix+"table-plain "+r.summaryItemCls+'">'),r.outputSummaryRecord(r.createSummaryRecord(i),e,t,n),t.push("</table>"))},toggleSummaryRow:function(e){var t=this,n=t.summaryBar;t.callParent(arguments),n&&(n.setVisible(t.showSummaryRow),t.onViewScroll())},vetoEvent:function(e,t,n,i){return!i.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.setScrollX(this.view.getScrollX())},createSummaryRecord:function(e){var t,n,i,r,o,a,s=e.headerCt.getVisibleGridColumns(),l=this.summaryRecord,d=s.length;for(l||(o=e.store.getModel(),a={},a[o.idProperty]=e.id+"-summary-record",l=this.summaryRecord=new o(a)),l.beginEdit(),t=0;d>t;t++)n=s[t],i=n.dataIndex||n.id,r=this.getSummary(e.store,n.summaryType,i),l.set(i,r),this.setSummaryData(l,n.id,r);return l.endEdit(!0),l.commit(!0),l.isSummary=!0,l},onStoreUpdate:function(){var e,t,n=this,i=n.view,r=n.createSummaryRecord(i),o=i.createRowElement(r,-1).firstChild.firstChild;i.rendered&&(n.dock?(t=n.summaryBar.item.dom.firstChild,e=t.firstChild):(e=n.view.getRow(r),t=e?e.parentNode:null),t&&(t.insertBefore(o,e),t.removeChild(e)),n.dock&&n.onColumnHeaderLayout())},onColumnHeaderLayout:function(){var e,t,n,i=this.view,r=i.headerCt.getVisibleGridColumns(),o=r.length,a=this.summaryBar.el;for(t=0;o>t;t++)e=r[t],n=a.down(i.getCellSelector(e)),n&&n.setWidth(e.width||(e.lastBox?e.lastBox.width:100))}}),Ext.define("Ext.menu.Item",{extend:"Ext.Component",alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",isMenuItem:!0,mixins:["Ext.mixin.Queryable"],activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:!0,clickHideDelay:0,destroyMenu:!0,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"menu-item",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",baseIconCls:Ext.baseCSSPrefix+"menu-item-icon",textCls:Ext.baseCSSPrefix+"menu-item-text",indentCls:Ext.baseCSSPrefix+"menu-item-indent",indentNoSeparatorCls:Ext.baseCSSPrefix+"menu-item-indent-no-separator",indentRightIconCls:Ext.baseCSSPrefix+"menu-item-indent-right-icon",indentRightArrowCls:Ext.baseCSSPrefix+"menu-item-indent-right-arrow",linkCls:Ext.baseCSSPrefix+"menu-item-link",linkHrefCls:Ext.baseCSSPrefix+"menu-item-link-href",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:'<tpl if="plain">{text}<tpl else><a id="{id}-itemEl" data-ref="itemEl" class="{linkCls}<tpl if="hasHref"> {linkHrefCls}</tpl>{childElCls}" href="{href}" role="menuitem" <tpl if="hrefTarget"> target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"<tpl if="tabIndex"> tabIndex="{tabIndex}"</tpl>><span id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {indentCls}{childElCls}" unselectable="on">{text}</span><tpl if="hasIcon"><div role="presentation" id="{id}-iconEl" data-ref="iconEl" class="{baseIconCls}-{ui} {baseIconCls}{[values.rightIcon ? "-right" : ""]} {iconCls}{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">&#{glyph};</tpl></div></tpl><tpl if="showCheckbox"><div role="presentation" id="{id}-checkEl" data-ref="checkEl" class="{baseIconCls}-{ui} {baseIconCls}{[(values.hasIcon && !values.rightIcon) ? "-right" : ""]} {groupCls} {checkboxCls}{childElCls}"></div></tpl><tpl if="hasMenu"><div role="presentation" id="{id}-arrowEl" data-ref="arrowEl" class="{arrowCls} {arrowCls}-{ui}{childElCls}"></div></tpl></a></tpl>',maskOnDisable:!1,iconAlign:"left",activate:function(e){var t=this;(e||!t.activated&&t.canActivate&&t.rendered&&!t.isDisabled()&&t.isVisible())&&(t.plain||t.el.addCls(t.activeCls),t.focus(!1,!0),t.activated=!0,t.hasListeners.activate&&t.fireEvent("activate",t))},deactivate:function(){var e,t=this;t.activated&&(e=t.up(""),t.plain||t.el.removeCls(t.activeCls),e&&e.focus(!1,!0),t.hideMenu(),t.activated=!1,t.hasListeners.deactivate&&t.fireEvent("deactivate",t))},deferHideMenu:function(){this.menu.isVisible()&&this.menu.hide()},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var e;Ext.menu.Manager.hideAll(),Ext.Element.getActiveElement()||(e=this.up(":not([hidden])"),e&&e.focus())},expandMenu:function(e){var t=this;t.menu&&(t.cancelDeferHide(),0===e?t.doExpandMenu():(clearTimeout(t.expandMenuTimer),t.expandMenuTimer=Ext.defer(t.doExpandMenu,Ext.isNumber(e)?e:t.menuExpandDelay,t)))},doExpandMenu:function(){var e=this,t=e.menu;!e.activated||t.rendered&&t.isVisible()||(e.parentMenu.activeChild=t,t.ownerItem=e,t.parentMenu=e.parentMenu,t.constrainTo=document.body,t.showBy(e,e.menuAlign))},getRefItems:function(e){var t,n=this.menu;return n&&(t=n.getRefItems(e),t.unshift(n)),t||[]},hideMenu:function(e){var t=this;t.menu&&(clearTimeout(t.expandMenuTimer),t.hideMenuTimer=Ext.defer(t.deferHideMenu,Ext.isNumber(e)?e:t.menuHideDelay,t))},initComponent:function(){var e,t=this,n=Ext.baseCSSPrefix,i="";t.plain&&(i+=n+"menu-item-plain"),t.cls&&(i+=" "+t.cls),t.cls=i,t.menu&&(e=t.menu,delete t.menu,t.setMenu(e)),t.callParent(arguments)},onClick:function(e){var t,n=this,i=n.clickHideDelay,r=e.browserEvent;(!n.href||n.disabled)&&e.stopEvent(),n.disabled||n.handlingClick||(!n.hideOnClick||"touchcancel"===e.browserEvent.type||"tap"===e.type&&n.menu||(i?n.deferHideParentMenusTimer=Ext.defer(n.deferHideParentMenus,i,n):n.deferHideParentMenus()),Ext.callback(n.handler,n.scope,[n,e],0,n),n.fireEvent("click",n,e),t=Ext.isIE9m?r.returnValue===!1?!0:!1:!!r.defaultPrevented,n.href&&!t&&(n.handlingClick=!0,n.itemEl.dom.click(),delete n.handlingClick),n.hideOnClick||n.focus())},onRemoved:function(){var e=this;e.activated&&e.parentMenu.activeItem===e&&e.parentMenu.deactivateActiveItem(),e.callParent(arguments),e.parentMenu=e.ownerButton=null},beforeDestroy:function(){var e=this;e.rendered&&e.clearTip(),e.callParent()},onDestroy:function(){var e=this;clearTimeout(e.expandMenuTimer),e.cancelDeferHide(),clearTimeout(e.deferHideParentMenusTimer),e.setMenu(null),e.callParent(arguments)},beforeRender:function(){var e,t=this,n=t.glyph,i=Ext._glyphFontFamily,r=!!(t.icon||t.iconCls||n),o=!!t.menu,a="right"===t.iconAlign&&!o,s=t.isMenuCheckItem,l=[],d=t.ownerCt,u=d.plain;t.callParent(),r&&o&&t.showCheckbox&&(r=!1),"string"==typeof n&&(e=n.split("@"),n=e[0],i=e[1]),(!u||r&&!a||s)&&(d.showSeparator&&!u?l.push(t.indentCls):l.push(t.indentNoSeparatorCls)),o?l.push(t.indentRightArrowCls):r&&(a||s)&&l.push(t.indentRightIconCls),Ext.applyIf(t.renderData,{hasHref:!!t.href,href:t.href||"#",hrefTarget:t.hrefTarget,icon:t.icon,iconCls:t.iconCls,glyph:n,glyphCls:n?Ext.baseCSSPrefix+"menu-item-glyph":void 0,glyphFontFamily:i,hasIcon:r,hasMenu:o,indent:!u||r||s,isCheckItem:s,rightIcon:a,plain:t.plain,text:t.text,arrowCls:t.arrowCls,baseIconCls:t.baseIconCls,textCls:t.textCls,indentCls:l.join(" "),linkCls:t.linkCls,linkHrefCls:t.linkHrefCls,groupCls:t.group?t.groupCls:"",tabIndex:t.tabIndex})},onRender:function(){var e=this;e.callParent(arguments),e.tooltip&&e.setTooltip(e.tooltip,!0)},setMenu:function(e,t){var n=this,i=n.menu,r=n.arrowEl;i&&(delete i.parentMenu,delete i.ownerItem,(t===!0||t!==!1&&n.destroyMenu)&&Ext.destroy(i)),e?(n.menu=Ext.menu.Manager.get(e),n.menu.ownerItem=n):n.menu=null,n.rendered&&!n.destroying&&r&&r[n.menu?"addCls":"removeCls"](n.arrowCls)},setHandler:function(e,t){this.handler=e||null,this.scope=t},setIcon:function(e){var t=this.iconEl,n=this.icon;t&&(t.src=e||Ext.BLANK_IMAGE_URL),this.icon=e,this.fireEvent("iconchange",this,n,e)},setIconCls:function(e){var t=this,n=t.iconEl,i=t.iconCls;n&&(t.iconCls&&n.removeCls(t.iconCls),e&&n.addCls(e)),t.iconCls=e,t.fireEvent("iconchange",t,i,e)},setText:function(e){var t=this,n=t.textEl||t.el,i=t.text;t.text=e,t.rendered&&(n.setHtml(e||""),t.ownerCt.updateLayout()),t.fireEvent("textchange",t,i,e)},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},clearTip:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(e,t){var n=this;return n.rendered?(t||n.clearTip(),Ext.quickTipsActive&&Ext.isObject(e)?(Ext.tip.QuickTipManager.register(Ext.apply({target:n.itemEl.id},e)),n.tooltip=e):n.itemEl.dom.setAttribute(n.getTipAttr(),e)):n.tooltip=e,n},privates:{getFocusEl:function(){return this.itemEl}}}),Ext.define("Ext.menu.CheckItem",{extend:"Ext.menu.Item",alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,ariaRole:"menuitemcheckbox",childEls:["checkEl"],showCheckbox:!0,isMenuCheckItem:!0,checkboxCls:Ext.baseCSSPrefix+"menu-item-checkbox",initComponent:function(){var e=this;e.checked=!!e.checked,e.callParent(arguments),Ext.menu.Manager.registerCheckable(e),e.group&&e.initialConfig.hideOnClick!==!1&&(e.hideOnClick=!0)},beforeRender:function(){var e=this;e.callParent(),Ext.apply(e.renderData,{checkboxCls:e.checkboxCls,showCheckbox:e.showCheckbox})},afterRender:function(){var e=this;e.callParent(),e.checked=!e.checked,e.setChecked(!e.checked,!0),e.checkChangeDisabled&&e.disableCheckChange()},disableCheckChange:function(){var e=this,t=e.checkEl;t&&t.addCls(e.disabledCls),Ext.isIE8&&e.rendered&&e.el.repaint(),e.checkChangeDisabled=!0},enableCheckChange:function(){var e=this,t=e.checkEl;t&&t.removeCls(e.disabledCls),e.checkChangeDisabled=!1},onClick:function(e){var t=this;t.disabled||t.checkChangeDisabled||t.checked&&t.group||t.setChecked(!t.checked),this.callParent([e])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this),this.callParent(arguments)},setChecked:function(e,t){var n=this,i=n.checkedCls,r=n.uncheckedCls,o=n.el;n.checked===e||!t&&n.fireEvent("beforecheckchange",n,e)===!1||(o&&(e?(o.addCls(i),o.removeCls(r)):(o.addCls(r),o.removeCls(i))),n.checked=e,Ext.menu.Manager.onCheckChange(n,e),t||(Ext.callback(n.checkHandler,n.scope||n,[n,e]),n.fireEvent("checkchange",n,e)))}}),Ext.define("Ext.menu.KeyNav",{extend:"Ext.util.KeyNav",constructor:function(e){
var t=this;t.menu=e.target,t.callParent([Ext.apply({down:t.down,enter:t.enter,esc:t.escape,left:t.left,right:t.right,space:t.enter,tab:t.tab,up:t.up},e)])},down:function(e){var t=this,n=t.menu.focusedItem;return n&&e.getKey()==e.DOWN&&t.isWhitelisted(n)?!0:void t.focusNextItem(1)},enter:function(e){var t=this.menu,n=t.focusedItem;if(t.activeItem)t.onClick(e);else if(n&&n.isFormField)return!0},escape:function(e){Ext.menu.Manager.hideAll()},focusNextItem:function(e){for(var t,n=this.menu,i=n.items,r=n.focusedItem,o=r?i.indexOf(r):-1,a=o+e,s=i.length,l=0;s>l&&a!==o;){if(0>a?a=s-1:a>=s&&(a=0),t=i.getAt(a),n.canActivateItem(t)){n.setActiveItem(t);break}a+=e,++l}},isWhitelisted:function(e){var t=Ext.FocusManager;return t&&t.isWhitelisted(e)},left:function(e){var t=this.menu,n=t.focusedItem;return n&&this.isWhitelisted(n)?!0:void(t.parentMenu&&(t.hide(),t.parentMenu.focus()))},right:function(e){var t,n=this.menu,i=n.focusedItem,r=n.activeItem;return i&&this.isWhitelisted(i)?!0:void(r&&(t=n.activeItem.menu,t&&(r.expandMenu(0),t.setActiveItem(t.child(":focusable")))))},tab:function(e){var t=this;e.shiftKey?t.up(e):t.down(e)},up:function(e){var t=this,n=t.menu.focusedItem;return n&&e.getKey()==e.UP&&t.isWhitelisted(n)?!0:void t.focusNextItem(-1)}}),Ext.define("Ext.menu.Separator",{extend:"Ext.menu.Item",alias:"widget.menuseparator",canActivate:!1,focusable:!1,hideOnClick:!1,plain:!0,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",ariaRole:"separator",beforeRender:function(e,t){var n=this;n.callParent(),n.addCls(n.separatorCls)}}),Ext.define("Ext.menu.Menu",{extend:"Ext.panel.Panel",alias:"widget.menu",requires:["Ext.layout.container.VBox","Ext.menu.CheckItem","Ext.menu.Item","Ext.menu.KeyNav","Ext.menu.Manager","Ext.menu.Separator"],enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,isMenu:!0,showSeparator:!0,minWidth:void 0,defaultMinWidth:120,defaultAlign:"tl-bl?",baseCls:Ext.baseCSSPrefix+"menu",_iconSeparatorCls:Ext.baseCSSPrefix+"menu-icon-separator",_itemCmpCls:Ext.baseCSSPrefix+"menu-item-cmp",layout:{type:"vbox",align:"stretchmax",overflowHandler:"Scroller"},initComponent:function(){var e=this,t=[Ext.baseCSSPrefix+"menu"],n=e.bodyCls?[e.bodyCls]:[],i=e.floating!==!1;Ext.menu.Manager.register(e),e.plain&&t.push(Ext.baseCSSPrefix+"menu-plain"),e.cls=t.join(" "),n.push(Ext.baseCSSPrefix+"menu-body",Ext.dom.Element.unselectableCls),e.bodyCls=n.join(" "),i?void 0===e.minWidth&&(e.minWidth=e.defaultMinWidth):(e.hidden=!!e.initialConfig.hidden,e.constrain=!1),e.callParent(arguments),Ext.override(e.getLayout(),{configureItem:e.configureItem})},initHierarchyEvents:Ext.emptyFn,getInherited:function(){var e=this.callParent();return e.hidden=this.hidden,e},beforeRender:function(){this.callParent(arguments),this.getSizeModel().width.shrinkWrap||(this.layout.align="stretch")},onBoxReady:function(){var e=this,t={click:e.onClick,mouseover:e.onMouseOver,scope:e},n=e._iconSeparatorCls;Ext.supports.Touch&&(t.pointerdown=e.onMouseOver,e.mon(Ext.GlobalEvents,"mousedown",e.onDocMouseDown,e)),e.callParent(arguments),e.showSeparator&&(e.iconSepEl=e.body.insertFirst({role:"presentation",cls:n+" "+n+"-"+e.ui,html:"&#160;"})),e.mon(e.el,t),e.mouseMonitor=e.el.monitorMouseLeave(100,e.onMouseLeave,e),e.enableKeyNav&&(e.keyNav=new Ext.menu.KeyNav({target:e,keyMap:e.getKeyMap()}))},getRefOwner:function(){return this.ownerItem||this.ownerButton||this.callParent(arguments)},canActivateItem:function(e){return e&&!e.isDisabled()&&e.isVisible()&&(e.canActivate||!e.isMenuItem)},deactivateActiveItem:function(e){var t=this,n=t.activeItem,i=t.focusedItem;n&&(n.deactivate(),n.activated||delete t.activeItem),i&&e&&(i.blur(),delete t.focusedItem)},hide:function(){this.deactivateActiveItem(!0),this.callParent(arguments)},getItemFromEvent:function(e){for(var t=this,n=t.layout.getRenderTarget().dom,i=e.getTarget();i.parentNode!==n;)if(i=i.parentNode,!i)return;return Ext.getCmp(i.id)},lookupComponent:function(e){var t=this;return"string"==typeof e?e=t.lookupItemFromString(e):Ext.isObject(e)&&(e=t.lookupItemFromObject(e)),e.minWidth=e.minWidth||t.minWidth,e},lookupItemFromObject:function(e){var t=this;return e.isComponent||(e=e.xtype?Ext.ComponentManager.create(e,e.xtype):Ext.create("Ext.menu."+(Ext.isBoolean(e.checked)?"Check":"")+"Item",e)),e.isMenuItem&&(e.parentMenu=t),e},lookupItemFromString:function(e){return"separator"==e||"-"==e?new Ext.menu.Separator:new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:e})},configureItem:function(e){var t,n,i=this.owner,r=Ext.baseCSSPrefix,o=i.ui;e.isMenuItem?e.setUI(o):i.items.getCount()>1&&!e.rendered&&!e.dock&&(n=i._itemCmpCls,t=[n+" "+n+"-"+o],i.plain||e.indent===!1&&"no-icon"!==e.iconCls||t.push(r+"menu-item-indent-"+o),e.rendered?e.el.addCls(t):e.cls=(e.cls||"")+" "+t.join(" ")),this.callParent(arguments)},onClick:function(e){var t,n=this,i=e.type;return n.disabled?void e.stopEvent():(t="keydown"!==i?n.getItemFromEvent(e):n.activeItem,t&&t.isMenuItem&&(t.menu&&n.ignoreParentClicks?e.stopEvent():t.onClick(e)),(!t||t.disabled)&&(t=void 0),void n.fireEvent("click",n,t,e))},onDestroy:function(){var e=this;Ext.menu.Manager.unregister(e),e.parentMenu=e.ownerButton=null,e.rendered&&(e.el.un(e.mouseMonitor),Ext.destroy(e.keyNav),e.keyNav=null),e.callParent(arguments)},onDocMouseDown:function(e){this.owns(e.target)||this.deactivateActiveItem()},onMouseLeave:function(e){var t=this;t.deactivateActiveItem(),t.disabled||t.fireEvent("mouseleave",t,e)},onMouseOver:function(e){var t=this,n=e.getRelatedTarget(),i=!t.el.contains(n),r=t.getItemFromEvent(e),o=t.parentMenu,a=t.ownerItem;i&&o&&(o.setActiveItem(a),a.cancelDeferHide(),o.mouseMonitor.mouseenter()),t.disabled||(r&&!r.activated&&(t.setActiveItem(r),r.activated&&r.expandMenu&&r.expandMenu()),i&&t.fireEvent("mouseenter",t,e),t.fireEvent("mouseover",t,r,e))},setActiveItem:function(e){var t=this;e&&e!=t.activeItem&&(t.deactivateActiveItem(),t.canActivateItem(e)&&(e.activate?(e.activate(!0),e.activated&&(t.activeItem=e,t.focusedItem=e)):(e.focus(),t.focusedItem=e)))},beforeShow:function(){var e,t=this;t.floating&&(t.savedMaxHeight=t.maxHeight,e=t.container.getViewSize().height,t.maxHeight=Math.min(t.maxHeight||e,e)),t.callParent(arguments)},afterShow:function(){var e=this;e.callParent(arguments),e.floating&&(e.maxHeight=e.savedMaxHeight)},privates:{getFocusEl:function(){return this.focusedItem||this.items.items[0]}}}),Ext.define("Ext.grid.filters.filter.Base",{mixins:["Ext.mixin.Factoryable"],factoryConfig:{type:"grid.filter"},$configPrefixed:!1,$configStrict:!1,config:{itemDefaults:null,menuDefaults:{xtype:"menu"}},active:!1,type:"string",dataIndex:null,menu:null,updateBuffer:500,isGridFilter:!0,defaultRoot:"data",filterIdPrefix:"x-gridfilter",constructor:function(e){var t=this;t.initConfig(e),t.store=t.grid.store},destroy:function(){this.menu&&this.menu.destroy()},addStoreFilter:function(e){this.store.getFilters().add(e)},createFilter:function(e,t){return e.id=this.getBaseIdPrefix(),e.property||(e.property=this.column.dataIndex),e.root||(e.root=this.defaultRoot),t&&(e.id+="-"+t),new Ext.util.Filter(e)},createMenu:function(){var e=this.getMenuConfig();this.menu=Ext.widget(e)},getBaseIdPrefix:function(){return this.filterIdPrefix+"-"+this.column.dataIndex},getMenuConfig:function(){return Ext.apply({},this.getMenuDefaults())},getStoreFilter:function(e){var t=this.getBaseIdPrefix();return e&&(t+="-"+e),this.store.getFilters().get(t)},removeStoreFilter:function(e){this.store.getFilters().remove(e)},setActive:function(e){var t,n=this,i=n.owner,r=i.activeFilterMenuItem;n.active!==e&&(n.active=e,t=n.store.getFilters(),t.beginUpdate(),e?n.activate():n.deactivate(),t.endUpdate(),r&&r.activeFilter===n&&r.setChecked(e),n.column[e?"addCls":"removeCls"](i.filterCls))},showMenu:function(e){this.menu||this.createMenu(),e.activeFilter=this,e.setMenu(this.menu,!1),e.setChecked(this.active),e.setDisabled(this.disabled===!0),this.active&&this.activate(!0)},updateStoreFilter:function(e){this.store.getFilters().notify("endupdate")}}),Ext.define("Ext.grid.filters.filter.SingleFilter",{extend:"Ext.grid.filters.filter.Base",constructor:function(e){var t,n,i,r=this;r.callParent([e]),t=r.grid.stateful,i=r.value,n=r.getStoreFilter(),n?r.active=!0:(t&&r.store.saveStatefulFilters&&(i=void 0),r.active=!!i,n=r.createFilter({operator:r.operator,value:i}),r.active&&r.addStoreFilter(n)),r.filter=n},activate:function(e){e?this.activateMenu():this.addStoreFilter(this.filter)},deactivate:function(){this.removeStoreFilter(this.filter)},onFilterRemove:function(){(!this.menu||this.active)&&(this.active=!1)}}),Ext.define("Ext.grid.filters.filter.Boolean",{extend:"Ext.grid.filters.filter.SingleFilter",alias:"grid.filter.boolean",type:"boolean",operator:"=",defaultValue:!1,yesText:"Yes",noText:"No",createMenu:function(e){var t=this,n=Ext.id(),i={scope:t,click:t.onClick},r=t.getItemDefaults();t.callParent(arguments),t.menu.add([Ext.apply({text:t.yesText,filterKey:1,group:n,checked:!!t.defaultValue,listeners:i},r),Ext.apply({text:t.noText,filterKey:0,group:n,checked:!t.defaultValue,listeners:i},r)])},onClick:function(e){this.setValue(!!e.filterKey)},setValue:function(e){var t=this;t.filter.setValue(e),void 0!==e&&t.active?t.updateStoreFilter(t.filter):t.setActive(!0)},activateMenu:Ext.emptyFn}),Ext.define("Ext.grid.filters.filter.TriFilter",{extend:"Ext.grid.filters.filter.Base",menuItems:["lt","gt","-","eq"],constructor:function(e){var t,n,i,r,o,a,s=this,l=!1,d={};if(s.callParent([e]),t=s.grid.stateful,o=s.value,i=s.getStoreFilter("lt"),n=s.getStoreFilter("gt"),r=s.getStoreFilter("eq"),i||n||r?l=s.active=!0:(t&&s.store.saveStatefulFilters&&(o=void 0),s.active=!!o),d.lt=i||s.createFilter({operator:"lt",value:!l&&o&&o.lt||null},"lt"),d.gt=n||s.createFilter({operator:"gt",value:!l&&o&&o.gt||null},"gt"),d.eq=r||s.createFilter({operator:"eq",value:!l&&o&&o.eq||null},"eq"),s.filter=d,!l&&s.active)for(a in o)s.addStoreFilter(s.filter[a])},activate:function(e){var t,n,i,r,o=this,a=this.filter,s=o.fields;if(!o.settingValue)for(i in a)t=a[i],n=s[i],r=t.getValue(),r&&(r=o.convertValue(r,!0),n.setValue(r),n.up("menuitem").setChecked(!0,!0),e||o.addStoreFilter(t))},deactivate:function(){var e,t,n=this.filter;if(this.hasActiveFilter()&&!this.settingValue){this.settingValue=!0;for(e in n)t=n[e],t.getValue()&&this.removeStoreFilter(t);this.settingValue=!1}},hasActiveFilter:function(){var e=!1,t=this.filter,n=this.store.getFilters();if(n.length)for(filter in t)if(n.map[this.getBaseIdPrefix()+"-"+filter]){e=!0;break}return e},onFilterRemove:function(e){var t,n=this;n.menu||n.hasActiveFilter()?n.menu&&(t={},t[e]=null,n.setValue(t)):n.active=!1},setValue:function(e){var t,n,i,r,o,a=this,s=a.fields,l=a.filter,d=[],u=[],c=!1,h=a.store.getFilters();if(!a.settingValue){if(a.settingValue=!0,"eq"in e?(l.lt.getValue()&&u.push(s.lt),l.gt.getValue()&&u.push(s.gt),e.eq?(i=a.convertValue(e.eq,!1),d.push(s.eq),l.eq.setValue(i)):u.push(s.eq)):(l.eq.getValue()&&u.push(s.eq),"lt"in e&&(e.lt?(i=a.convertValue(e.lt,!1),d.push(s.lt),l.lt.setValue(i)):u.push(s.lt)),"gt"in e&&(e.gt?(i=a.convertValue(e.gt,!1),d.push(s.gt),l.gt.setValue(i)):u.push(s.gt))),u.length||d.length){if(h.beginUpdate(),u.length)for(r=0,o=u.length;o>r;r++)t=u[r],n=t.filter,t.setValue(null),n.setValue(null),a.removeStoreFilter(n);if(d.length){for(r=0,o=d.length;o>r;r++)a.addStoreFilter(d[r].filter);c=!0}h.endUpdate()}!c&&h.length&&(c=a.hasActiveFilter()),c&&a.active||a.setActive(c),a.settingValue=!1}}}),Ext.define("Ext.grid.filters.filter.Date",{extend:"Ext.grid.filters.filter.TriFilter",alias:"grid.filter.date",uses:["Ext.picker.Date","Ext.menu.Menu"],type:"date",config:{fields:{lt:{text:"Before"},gt:{text:"After"},eq:{text:"On"}},pickerDefaults:{xtype:"datepicker",border:0}},itemDefaults:{xtype:"menucheckitem",selectOnFocus:!0,width:125,menu:{layout:"auto",plain:!0}},dateFormat:"m/d/Y",convertValue:function(e,t){return t&&!Ext.isDate(e)?e=Ext.isDate(e):!t&&Ext.isDate(e)&&(e=+e),e},createMenu:function(e){var t,n,i,r,o,a,s,l,d,u=this,c={scope:u,checkchange:u.onCheckChange};for(this.callParent(arguments),n=u.getItemDefaults(),t=u.getFields(),i=Ext.apply({minDate:u.minDate,maxDate:u.maxDate,format:u.dateFormat,listeners:{scope:u,select:u.onMenuSelect}},u.getPickerDefaults()),u.fields={},r=0,o=u.menuItems.length;o>r;r++)a=u.menuItems[r],"-"!==a&&(l={menu:{items:[Ext.apply({itemId:a},i)]}},n&&Ext.merge(l,n),t&&Ext.merge(l,t[a]),s=u.menu.add(l),d=u.fields[a]=s.down("datepicker"),d.filter=u.filter[a],d.filterKey=a,s.on(c))},getPicker:function(e){return this.fields[e]},onCheckChange:function(e,t){var n,i=e.down("datepicker").filter;!t&&i.getValue()&&(n={},n[i.getOperator()]=null,this.setValue(n))},onFilterRemove:function(e){var t={};t[e]=null,this.setValue(t),this.fields[e].up("menuitem").setChecked(!1,!0)},onMenuSelect:function(e,t){var n=this.fields,i=n[e.itemId],r=n.gt,o=n.lt,a=n.eq,s={};i.up("menuitem").setChecked(!0,!0),i===a?(o.up("menuitem").setChecked(!1,!0),r.up("menuitem").setChecked(!1,!0)):(a.up("menuitem").setChecked(!1,!0),i===r&&+o.value<+t?o.up("menuitem").setChecked(!1,!0):i===o&&+r.value>+t&&r.up("menuitem").setChecked(!1,!0)),s[i.filterKey]=t,this.setValue(s),e.up("menu").hide()}}),Ext.define("Ext.grid.filters.filter.List",{extend:"Ext.grid.filters.filter.SingleFilter",alias:"grid.filter.list",type:"list",operator:"in",itemDefaults:{checked:!1,hideOnClick:!1},idField:"id",labelField:"text",loadingText:"Loading...",loadOnShow:!0,single:!1,plain:!0,destroy:function(){var e=this,t=e.optionsStore;t&&(e.autoStore?t.destroyStore():t.un("unload",e.onLoad,e)),e.callParent()},createMenu:function(e){var t,n,i=this,r=i.grid.store,o=i.optionsStore,a=i.options;i.callParent(arguments),t=i.menu,o?(n=o.getData(),n.length?i.createMenuItems(o):(t.add({text:i.loadingText,iconCls:"loading-indicator"}),o.on("load",i.createMenuStore,i,{single:!0}))):a?i.createMenuStore(a):r.getData().length?i.createMenuStore():r.on("load",i.createMenuStore,t,{single:!0})},createMenuItems:function(e){var t,n,i,r,o=this,a=o.menu,s=e.getData(),l=s.length,d={checkchange:o.setValue,scope:o},u=o.getItemDefaults();if(l){for(t=s.items,a.removeAll(!0),n=o.single?Ext.id():null,r=0;l>r;r++)s=t[r].data,i=s[o.idField],a.add(Ext.apply({text:s[o.labelField],group:n,value:i,listeners:d},u));o.loaded=!0}},createMenuStore:function(e){var t,n,i,r,o=this,a=[];for(e=e||o.grid.store.collect(o.column.dataIndex,!1,!0)||[],t=0,n=e.length;n>t;t++)switch(i=e[t],Ext.typeOf(i)){case"array":a.push(i);break;case"object":a.push([i[o.idField],i[o.labelField]]);break;default:null!=i&&a.push([i,i])}r=o.menu.store=new Ext.data.ArrayStore({fields:[o.idField,o.labelField],data:a}),o.createMenuItems(r),o.loaded=!0,o.autoStore=!0},setValue:function(){var e,t,n,i=this,r=i.menu.items,o=[];for(e=0,t=r.length;t>e;e++)n=r.getAt(e),n.checked&&o.push(n.value);i.filter.setValue(o),t=o.length,t&&i.active?i.updateStoreFilter(i.filter):i.setActive(!!t)},show:function(){!this.loadOnShow||this.loaded||this.optionsStore.loading||this.optionsStore.load(),this.callParent()},activateMenu:function(){var e,t,n,i=this,r=i.menu.items,o=i.filter.getValue();for(e=0,t=r.length;t>e;e++)n=r.getAt(e),o.indexOf(n.value)>-1&&n.setChecked(!0,!0)}}),Ext.define("Ext.grid.filters.filter.Number",{extend:"Ext.grid.filters.filter.TriFilter",alias:["grid.filter.number","grid.filter.numeric"],uses:["Ext.form.field.Number"],type:"number",config:{fields:{gt:{iconCls:Ext.baseCSSPrefix+"grid-filters-gt",margin:"0 0 3px 0"},lt:{iconCls:Ext.baseCSSPrefix+"grid-filters-lt",margin:"0 0 3px 0"},eq:{iconCls:Ext.baseCSSPrefix+"grid-filters-eq",margin:0}}},itemDefaults:{xtype:"numberfield",emptyText:"Enter Number...",enableKeyEvents:!0,hideEmptyLabel:!1,labelSeparator:"",labelWidth:29,selectOnFocus:!1},menuDefaults:{bodyPadding:3,showSeparator:!1},convertValue:Ext.identityFn,createMenu:function(){var e,t,n,i,r,o,a=this,s={scope:a,keyup:{fn:a.onInputKeyUp,buffer:200},spin:{fn:a.onInputSpin,buffer:200},el:{click:a.stopFn}},l=a.getItemDefaults(),d=a.getFields();for(a.callParent(),a.fields={},t=0,n=a.menuItems.length;n>t;t++)i=a.menuItems[t],"-"!==i&&(e=d[i],o={labelClsExtra:Ext.baseCSSPrefix+"grid-filters-icon "+e.iconCls},l&&Ext.merge(o,l),Ext.merge(o,e),delete o.iconCls,a.fields[i]=r=a.menu.add(o),r.filter=a.filter[i],r.filterKey=i,r.on(s))},onInputKeyUp:function(e,t){var n;t.getKey()===t.RETURN&&e.isValid()&&(t.stopEvent(),this.hide()),n={},n[e.filterKey]=e.getValue(),this.setValue(n)},onInputSpin:function(e,t){var n={};n[e.filterKey]=e.getValue(),this.setValue(n)},stopFn:function(e){e.stopPropagation()}}),Ext.define("Ext.grid.filters.filter.String",{extend:"Ext.grid.filters.filter.SingleFilter",alias:"grid.filter.string",type:"string",operator:"like",itemDefaults:{xtype:"textfield",emptyText:"Enter Filter Text...",enableKeyEvents:!0,hideEmptyLabel:!1,iconCls:Ext.baseCSSPrefix+"grid-filters-find",labelSeparator:"",labelWidth:29,margin:0,selectOnFocus:!0},menuDefaults:{bodyPadding:3,showSeparator:!1},createMenu:function(){var e,t=this;t.callParent(),e=Ext.apply({},t.getItemDefaults()),!e.iconCls||"labelClsExtra"in e||(e.labelClsExtra=Ext.baseCSSPrefix+"grid-filters-icon "+e.iconCls),delete e.iconCls,t.inputItem=t.menu.add(e),t.inputItem.on({scope:t,keyup:{fn:t.onInputKeyUp,buffer:200},el:{click:function(e){e.stopPropagation()}}})},onInputKeyUp:function(e,t){var n=this,i=t.getKey();return i===t.RETURN&&e.isValid()?(t.stopEvent(),void n.menu.hide()):void n.setValue(e.getValue())},setValue:function(e){var t=this;t.inputItem&&t.inputItem.setValue(e),t.filter.setValue(e),e&&t.active?t.updateStoreFilter(t.filter):t.setActive(!!e)},activateMenu:function(){this.inputItem.setValue(this.filter.getValue())}}),Ext.define("Ext.grid.filters.Filters",{extend:"Ext.plugin.Abstract",requires:["Ext.grid.filters.filter.*"],alias:"plugin.gridfilters",pluginId:"gridfilters",defaultFilterTypes:{"boolean":"boolean","int":"number",date:"date",number:"number"},filterCls:Ext.baseCSSPrefix+"grid-filters-filtered-column",menuFilterText:"Filters",showMenu:!0,stateId:void 0,init:function(e){var t,n,i=this;Ext.Assert.falsey(i.grid),i.grid=e,e.filters=i,i.grid.normalGrid&&(i.isLocked=!0),e.clearFilters=i.clearFilters.bind(i),t=e.store,n=e.headerCt,n.on({scope:i,add:i.onAdd,menucreate:i.onMenuCreate}),e.on({scope:i,beforedestroy:i.destroy,beforereconfigure:i.onBeforeReconfigure,reconfigure:i.onReconfigure}),i.bindStore(t),e.stateful&&(t.statefulFilters=!0),i.initColumns()},initColumns:function(){var e,t,n,i,r,o;for(n=this.grid.columnManager.getColumns(),e=0,t=n.length;t>e;e++)i=n[e],r=i.filter,r&&!r.isGridFilter&&(o||(o=this.grid.store.getFilters(),o.beginUpdate()),this.createColumnFilter(i));o&&o.endUpdate()},createColumnFilter:function(e){var t,n,i,r=this,o=e.filter,a={column:e,grid:r.grid,owner:r};return Ext.isString(o)?a.type=o:Ext.apply(a,o),a.type||(n=r.store.model,t=n&&n.getField(e.dataIndex),i=t&&t.type,a.type=i&&r.defaultFilterTypes[i]||e.defaultFilterType||"string"),e.filter=Ext.Factory.gridFilter(a)},onAdd:function(e,t,n){var i=t.filter;i&&!i.isGridFilter&&this.createColumnFilter(t)},onMenuCreate:function(e,t){t.on({beforeshow:this.onMenuBeforeShow,scope:this})},onMenuBeforeShow:function(e){var t,n,i,r,o=this;o.showMenu&&(o.menuItems||(o.menuItems={}),i=e.up("grid"),r=i.id,t=o.menuItems[r],(!t||t.isDestroyed)&&(t=o.createMenuItem(e,r)),o.activeFilterMenuItem=t,n=o.getMenuFilter(i.headerCt),n&&n.showMenu(t),t.setVisible(!!n),o.sep.setVisible(!!n))},createMenuItem:function(e,t){var n=this;return n.sep=e.add("-"),n.menuItems[t]=e.add({checked:!1,itemId:"filters",text:n.menuFilterText,listeners:{scope:n,checkchange:n.onCheckChange}})},destroy:function(){Ext.destroyMembers(this,"menuItem","sep"),this.callParent()},bindStore:function(e){var t=this;e&&(t.store&&(t.store.destroyStore(),t.store.getFilters().un("remove",t.onFilterRemove,t)),t.local=!e.remoteFilter,e.getFilters().on("remove",t.onFilterRemove,t)),t.store=e},onFilterRemove:function(e,t){var n,i,r,o=t.items.length,a=this.grid.columnManager;for(n=0;o>n;n++)i=t.items[n],r=a.getHeaderByDataIndex(i.getProperty()).filter,r.settingValue||r.onFilterRemove(i.getOperator())},getMenuFilter:function(e){return e.getMenu().activeHeader.filter},onCheckChange:function(e,t){var n=this.isLocked?e.up("grid"):this.grid,i=this.getMenuFilter(n.headerCt);i.setActive(t)},getHeaders:function(){return this.grid.view.headerCt.columnManager.getColumns()},isStateful:function(){return this.grid.stateful},addFilter:function(e){var t,n,i,r,o,a,s=this,l=s.grid,d=s.store,u=!0;for(Ext.isArray(e)||(e=[e]),i=0,r=e.length;r>i;i++)o=e[i],t=o.dataIndex,o.value&&(u=!1),(n=l.columnManager.getHeaderByDataIndex(t))&&(a=n.filter,!a||a&&!a.isGridFilter?n.filter=Ext.apply(a||{},o):(Ext.destroy(a),n.filter=o));d.suppressNextFilter=u,s.initColumns(),d.suppressNextFilter=!1},addFilters:function(e){e&&this.addFilter(e)},getFilter:function(e){return this.filters.get(e)},clearFilters:function(e){var t,n,i,r,o,a=this.grid,s=a.columnManager.getColumns(),l=a.store,d=l.getAutoFilter();for(void 0!==e&&l.setAutoFilter(e),i=0,r=s.length;r>i;i++)t=s[i],n=t.filter,n&&n.isGridFilter&&(o||(o=l.getFilters(),o.beginUpdate()),n.setActive(!1));o&&o.endUpdate(),void 0!==e&&l.setAutoFilter(d)},onBeforeReconfigure:function(e,t,n){n&&t.getFilters().beginUpdate(),this.reconfiguring=!0},onReconfigure:function(e,t,n,i){var r=this;i!==t&&r.bindStore(t),n&&(r.initColumns(),t.getFilters().endUpdate()),r.reconfiguring=!1}}),Ext.define("Ext.grid.locking.HeaderContainer",{extend:"Ext.grid.header.Container",requires:["Ext.grid.ColumnManager"],headerCtRelayEvents:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","remove","add","beforeremove","beforeadd","afterlayout","menucreate","sortchange","columnschanged","columnshow","columnhide","columnmove","headertriggerclick","headercontextmenu","headerclick","columnresize","statesave","beforestatesave","staterestore","beforestaterestore"],constructor:function(e){var t=this,n=e.lockedGrid,i=e.normalGrid;t.lockable=e,t.callParent(),n.visibleColumnManager.rootColumns=i.visibleColumnManager.rootColumns=e.visibleColumnManager=t.visibleColumnManager=new Ext.grid.ColumnManager(!0,n.headerCt,i.headerCt),n.columnManager.rootColumns=i.columnManager.rootColumns=e.columnManager=t.columnManager=new Ext.grid.ColumnManager(!1,n.headerCt,i.headerCt),t.relayEvents(n.headerCt,t.headerCtRelayEvents),t.relayEvents(i.headerCt,t.headerCtRelayEvents)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var e=this,t=e.lockable.lockedGrid.headerCt.getColumnsState(),n=e.lockable.normalGrid.headerCt.getColumnsState();return t.concat(n)},applyColumnsState:function(e){var t,n,i,r,o=this,a=o.lockable.lockedGrid,s=a.headerCt,l=o.lockable.normalGrid.headerCt,d=Ext.Array.toValueMap(s.items.items,"headerId"),u=Ext.Array.toValueMap(l.items.items,"headerId"),c=[],h=[],f=1,g=e.length;for(t=0;g>t;t++)r=e[t],i=d[r.id],n=i||u[r.id],n&&(n.applyColumnState&&n.applyColumnState(r),void 0===n.locked&&(n.locked=!!i),n.locked?(c.push(n),n.hidden||"number"!=typeof n.width||(f+=n.width)):h.push(n));c.length+h.length==s.items.getCount()+l.items.getCount()&&(s.removeAll(!1),l.removeAll(!1),s.add(c),l.add(h),a.setWidth(f))}}),Ext.define("Ext.grid.locking.View",{alternateClassName:"Ext.grid.LockingView",requires:["Ext.view.AbstractView"],mixins:["Ext.util.Observable","Ext.util.StoreHolder"],isLockingView:!0,loadMask:!0,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(e){var t,n,i=this;i.panel=e.panel,e.locked.viewConfig.bindStore=e.normal.viewConfig.bindStore=Ext.emptyFn,e.locked.viewConfig.beforeLayout=e.normal.viewConfig.beforeLayout=i.beforeLayout,i.lockedGrid=i.panel.lockedGrid=Ext.ComponentManager.create(e.locked),i.lockedView=t=i.lockedGrid.getView(),i.lockedGrid.isTree&&(i.lockedView.animate=!1,e.normal.store=t.store,e.normal.viewConfig.stripeRows=i.lockedView.stripeRows,e.normal.rowLines=i.lockedGrid.rowLines),i.normalGrid=i.panel.normalGrid=Ext.ComponentManager.create(e.normal),t.lockingPartner=n=i.normalView=i.normalGrid.getView(),n.lockingPartner=t,i.loadMask=void 0!==e.loadMask?e.loadMask:i.loadMask,i.mixins.observable.constructor.call(i),i.relayEvents(t,Ext.view.Table.events),i.relayEvents(n,Ext.view.Table.events),n.on({scope:i,itemmouseleave:i.onItemMouseLeave,itemmouseenter:i.onItemMouseEnter}),t.on({scope:i,itemmouseleave:i.onItemMouseLeave,itemmouseenter:i.onItemMouseEnter}),i.panel.on({render:i.onPanelRender,scope:i}),i.loadingText=n.loadingText,i.loadingCls=n.loadingCls,i.loadingUseMsg=n.loadingUseMsg,i.bindStore(n.dataSource,!0,"dataSource")},beforeLayout:function(){var e=this.ownerCt.ownerLockable.view,t=e.lockedGrid.view,n=e.normalGrid.view;e.relayingOperation||(e.lockedGrid.isVisible()&&t.refreshNeeded&&t.doFirstRefresh(t.dataSource),n.refreshNeeded&&n.doFirstRefresh(n.dataSource))},onPanelRender:function(){var e=this,t=e.loadMask,n={target:e.panel,msg:e.loadingText,msgCls:e.loadingCls,useMsg:e.loadingUseMsg,store:e.panel.store};e.el=e.panel.body,e.fireEvent("render",e),t&&(Ext.isObject(t)&&(n=Ext.apply(n,t)),e.loadMask=new Ext.LoadMask(n))},getRefOwner:function(){return this.panel},getGridColumns:function(){var e=this.lockedGrid.headerCt.getVisibleGridColumns();return e.concat(this.normalGrid.headerCt.getVisibleGridColumns())},getEl:function(e){return this.getViewForColumn(e).getEl()},getViewForColumn:function(e){var t,n=this.lockedView;return n.headerCt.cascade(function(n){return n===e?(t=!0,!1):void 0}),t?n:this.normalView},onItemMouseEnter:function(e,t){var n,i=this,r=i.lockedView,o=i.normalView;e.trackOver&&(e!==r&&(o=r),n=o.getNode(t),o.highlightItem(n))},onItemMouseLeave:function(e,t){var n=this,i=n.lockedView,r=n.normalView;e.trackOver&&(e!==i&&(r=i),r.clearHighlight())},relayFn:function(e,t){t=t||[];var n=this.lockedView;this.relayingOperation=!0,n[e].apply(n,t),n=this.normalView,n[e].apply(n,t),this.relayingOperation=!1},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},bindStore:function(e,t,n){var i=this;i.mixins.storeholder.bindStore.apply(i,arguments),t||"dataSource"===n||i.getSelectionModel().bindStore(e),i.normalView.componentLayoutCounter&&(Ext.suspendLayouts(),i.normalView.doFirstRefresh(e),i.lockedView.doFirstRefresh(e),Ext.resumeLayouts(!0))},getStoreListeners:function(){var e=this;return{refresh:e.onDataRefresh,replace:e.onReplace,add:e.onAdd,remove:e.onRemove,update:e.onUpdate,clear:e.refresh}},onDataRefresh:function(e,t,n){this.relayFn("onDataRefresh",arguments)},onReplace:function(e,t,n){this.relayFn("onReplace",arguments)},onAdd:function(e,t,n){this.relayFn("onAdd",arguments)},onRemove:function(e,t,n){this.relayFn("onRemove",arguments)},onUpdate:function(e,t,n){this.relayFn("onUpdate",arguments)},refresh:function(e,t,n){this.relayFn("refresh",arguments)},getNode:function(e){return this.normalView.getNode(e)},getRow:function(e){return this.normalView.getRow(e)},getCell:function(e,t){var n=this.getViewForColumn(t),i=n.getRow(e);return Ext.fly(i).down(t.getCellSelector())},indexOf:function(e){var t=this.lockedView.indexOf(e);return t||(t=this.normalView.indexOf(e)),t},focus:function(){var e=this.getSelectionModel().getCurrentPosition(),t=e?e.view:this.normalView;t.focus()},focusRow:function(e){this.normalView.focusRow(e)},focusCell:function(e){e.view.focusCell(e)},isVisible:function(e){return this.panel.isVisible(e)},getCellByPosition:function(e,t){var n=e.column,i=this.lockedGrid.getColumnManager().getColumns().length;return n>=i?(e=Ext.apply({},e),e.column-=i,this.normalView.getCellByPosition(e,t)):this.lockedView.getCellByPosition(e,t)},getRecord:function(e){var t=this.lockedView.getRecord(e);return t||(t=this.normalView.getRecord(e)),t},scrollBy:function(){var e=this.normalView;e.scrollBy.apply(e,arguments)},addElListener:function(e,t,n){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var e=this,t=e.loadMask;this.isDestroyed=!0,e.clearListeners(),t&&t.bindStore&&t.bindStore(null)}},function(){this.borrow(Ext.Component,["up"]),this.borrow(Ext.view.AbstractView,["doFirstRefresh","applyFirstRefresh"])}),Ext.define("Ext.grid.locking.Lockable",{alternateClassName:"Ext.grid.Lockable",requires:["Ext.grid.locking.View","Ext.grid.header.Container","Ext.grid.locking.HeaderContainer","Ext.view.Table"],supportsOverflowX:"overflow-x"in document.documentElement.style,syncRowHeight:!0,headerCounter:0,scrollDelta:40,lockedGridCls:Ext.baseCSSPrefix+"grid-inner-locked",normalGridCls:Ext.baseCSSPrefix+"grid-inner-normal",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["invalidateScrollerOnRefresh","hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","multiColumnSort","columnLines","rowLines","variableRowHeight","numFromEdge","trailingBufferZone","leadingBufferZone","scrollToLoadBuffer"],normalCfgCopy:["verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(e){var t,n,i,r,o,a=this;if(a.subGridXType)t=a.subGridXType;else{if(!e)return"gridpanel";n=this.getXTypes().split("/"),i=n.length,r=n[i-1],o=n[i-2],t="tablepanel"!==o?o:r}return t},injectLockable:function(){this.lockable=!0,this.hasView=!0;var e,t,n,i,r,o,a,s,l,d,u,c=this,h=Ext.getScrollbarSize().height,f=c.store=Ext.StoreManager.lookup(c.store),g=c.getSelectionModel(),p=c.viewConfig,m=p&&p.loadMask,x=void 0!==m?m:c.loadMask,E=c.findPlugin("bufferedrenderer");for(e=c.constructLockableFeatures(),c.features=null,t=c.constructLockablePlugins(),c.plugins=t.topPlugins,n=Ext.apply({id:c.id+"-locked",isLocked:!0,ownerGrid:c,ownerLockable:c,xtype:c.determineXTypeToCreate(!0),store:f,scrollerOwner:!1,animate:!1,scroll:h?!1:"vertical",selModel:g,border:!1,cls:c.lockedGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||c.normalGrid.floatedFromCollapse},features:e.lockedFeatures,plugins:t.lockedPlugins},c.lockedGridConfig),i=Ext.apply({id:c.id+"-normal",isLocked:!1,ownerGrid:c,ownerLockable:c,xtype:c.determineXTypeToCreate(),store:f,scrollerOwner:!1,selModel:g,border:!1,cls:c.normalGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||c.lockedGrid.floatedFromCollapse},features:e.normalFeatures,plugins:t.normalPlugins},c.normalGridConfig),c.addCls(Ext.baseCSSPrefix+"grid-locked"),Ext.copyTo(i,c,c.bothCfgCopy,!0),Ext.copyTo(n,c,c.bothCfgCopy,!0),Ext.copyTo(i,c,c.normalCfgCopy,!0),Ext.copyTo(n,c,c.lockedCfgCopy,!0),r=0;r<c.normalCfgCopy.length;r++)delete c[c.normalCfgCopy[r]];for(r=0;r<c.lockedCfgCopy.length;r++)delete c[c.lockedCfgCopy[r]];c.addStateEvents(["lockcolumn","unlockcolumn"]),o=c.processColumns(c.columns,n),n.columns=o.locked,n.columns.items.length||(n.hidden=!0),i.columns=o.normal,i.flex=1,n.viewConfig=c.lockedViewConfig||{},i.viewConfig=c.normalViewConfig||{},n.viewConfig.loadingUseMsg=!1,n.viewConfig.loadMask=!1,h&&!c.supportsOverflowX&&(n.viewConfig.style="border-bottom:"+h+"px solid #f6f6f6;"+(n.viewConfig.style||""),i.viewConfig.style="border-bottom:"+h+"px solid #f6f6f6;"+(n.viewConfig.style||"")),i.viewConfig.loadMask=!1,p&&p.id&&Ext.log.warn('id specified on Lockable viewConfig, it will be shared between both views: "'+p.id+'"'),Ext.applyIf(n.viewConfig,p),Ext.applyIf(i.viewConfig,p),c.initialConfig.layout||(c.layout={type:"hbox",align:"stretch"}),c.getLayout(),"border"===c.layout.type&&(c.split&&(n.split=!0),
i.title||(n.header=!1),n.region||(n.region="west"),i.region||(i.region="center"),c.addCls(Ext.baseCSSPrefix+"grid-locked-split")),c.layout instanceof Ext.layout.container.Box||(c.split=!1),c.view=new Ext.grid.locking.View({loadMask:x,locked:n,normal:i,panel:c}),l=c.lockedGrid.getView(),d=c.normalGrid.getView(),u=E?{}:{scroll:c.onLockedViewScroll,scope:c},h&&(c.lockedGrid.on({afterlayout:c.afterLockedViewLayout,scope:c}),l.getOverflowStyle(),l.scrollFlags.y||(u.mousewheel={fn:c.onLockedViewMouseWheel,element:"el",scope:c})),l.on(u),u=E?{}:{scroll:c.onNormalViewScroll,scope:c},d.on(u),a=c.lockedGrid.headerCt,s=c.normalGrid.headerCt,c.headerCt=c.view.headerCt=new Ext.grid.locking.HeaderContainer(c),a.lockedCt=!0,a.lockableInjected=!0,s.lockableInjected=!0,a.on({add:{buffer:1,scope:c,fn:c.onLockedHeaderAdd},columnshow:c.onLockedHeaderShow,columnhide:c.onLockedHeaderHide,sortchange:c.onLockedHeaderSortChange,columnresize:c.onLockedHeaderResize,scope:c}),s.on({sortchange:c.onNormalHeaderSortChange,scope:c}),c.modifyHeaderCt(),c.items=[c.lockedGrid],c.split&&(c.addCls(Ext.baseCSSPrefix+"grid-locked-split"),c.items[1]={xtype:"splitter"}),c.items.push(c.normalGrid),c.relayHeaderCtEvents(a),c.relayHeaderCtEvents(s),c.storeRelayers=c.relayEvents(f,["filterchange","groupchange"]),c.gridRelayers=c.relayEvents(c.normalGrid,["viewready"])},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(e,t){var n,i,r,o,a=this,s=new Ext.grid.header.Container,l=[],d=[],u={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:l},c={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:d},h={lockedWidth:t.width||0,locked:u,normal:c},f=a.shrinkWrapLocked=!(t.width||t.flex);for(Ext.isObject(e)&&(Ext.applyIf(u,e),Ext.applyIf(c,e),o=Ext.apply({},e),delete o.items,Ext.apply(s,o),e=e.items),n=0,i=e.length;i>n;++n)r=e[n],r.isComponent||(r=s.lookupComponent(s.applyDefaults(r))),r.processed=!0,r.locked||r.autoLock?(f&&!r.hidden&&(h.lockedWidth+=a.getColumnWidth(r)||s.defaultWidth),l.push(r)):d.push(r),r.headerId||(r.headerId=(r.initialConfig||r).id||"h"+ ++a.headerCounter);return a.fireEvent("processcolumns",a,l,d),s.destroy(),f&&(t.width=h.lockedWidth+=Ext.num(a.getSelectionModel().headerWidth,0)+(l.length?1:0)),h},getColumnWidth:function(e){var t,n,i,r=e.width||0;if(e.flex&&Ext.Error.raise("Locked columns in an unsized locked side do NOT support a flex width. You must set a width on the "+e.text+"column."),!r&&e.isGroupHeader)for(t=e.items.items,n=t.length,i=0;n>i;i++)r+=this.getColumnWidth(t[i]);return r},afterLockedViewLayout:function(){var e=this,t=e.lockedGrid.getView(),n=e.normalGrid.getView(),i=t.el,r=n.el,o=Ext.getScrollbarSize().height,a=t.scrollFlags.x&&e.lockedGrid.headerCt.tooNarrow?o:0,s=n.scrollFlags.x&&e.normalGrid.headerCt.tooNarrow?o:0;a!==s?a?e.supportsOverflowX?(r.dom.style.overflowX="scroll",t.getOverflowEl().setStyle(t.getOverflowStyle())):(r.dom.style.borderBottomWidth=a+"px",i.dom.style.borderBottomWidth="0px"):e.supportsOverflowX?(i.dom.style.overflowX="scroll",n.getOverflowEl().setStyle(n.getOverflowStyle())):(i.dom.style.borderBottomWidth=s+"px",r.dom.style.borderBottomWidth="0px"):e.supportsOverflowX?(t.getOverflowEl().dom.style.overflowX=s?"scroll":"",n.getOverflowEl().setStyle(n.getOverflowStyle())):r.dom.style.borderBottomWidth=i.dom.style.borderBottomWidth="0px"},onLockedViewMouseWheel:function(e){var t,n,i,r=this,o=-r.scrollDelta*e.getWheelDeltas().y,a=r.lockedGrid.getView(),s=a.el.dom;r.ignoreMousewheel||(s&&(t=a.getScrollY(),n=t!==s.scrollHeight-s.clientHeight,i=0!==t),(0>o&&i||o>0&&n)&&(e.stopEvent(),t+=o,a.setScrollY(t),r.normalGrid.getView().setScrollY(t),r.onNormalViewScroll()))},onLockedViewScroll:function(){var e,t,n=this,i=n.lockedGrid.getView(),r=n.normalGrid.getView(),o=i.getScrollY(),a=r.getScrollY();a!==o&&(r.setScrollY(o),r.bufferedRenderer&&(t=i.body.dom,e=r.body.dom,e.style.position="absolute",e.style.top=t.style.top))},onNormalViewScroll:function(){var e,t=this,n=t.lockedGrid.getView(),i=t.normalGrid.getView(),r=n.getScrollY(),o=i.getScrollY();o!==r&&(n.setScrollY(o),i.bufferedRenderer&&(e=n.body,e.dom&&(e.dom.style.position="absolute",e.translate(null,i.bufferedRenderer.bodyTop))))},syncRowHeights:function(){var e,t,n=this,i=n.lockedGrid.getView(),r=n.normalGrid.getView(),o=i.all.slice(),a=r.all.slice(),s=o.length;if(a.length===s){for(e=0;s>e;e++)r.syncRowHeights(o[e],a[e]);t=r.getScrollY(),r.setScrollY(t),i.setScrollY(t)}},modifyHeaderCt:function(){var e=this;e.lockedGrid.headerCt.getMenuItems=e.getMenuItems(e.lockedGrid.headerCt.getMenuItems,!0),e.normalGrid.headerCt.getMenuItems=e.getMenuItems(e.normalGrid.headerCt.getMenuItems,!1),e.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(e.lockedGrid.headerCt.showMenuBy,e.showMenuBy),e.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(e.normalGrid.headerCt.showMenuBy,e.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(e,t){var n=this.getMenu(),i=n.down("#unlockItem"),r=n.down("#lockItem"),o=i.prev();t.lockable===!1?(o.hide(),i.hide(),r.hide()):(o.show(),i.show(),r.show(),i.initialConfig.disabled||i.setDisabled(t.lockable===!1),r.initialConfig.disabled||r.setDisabled(!t.isLockable()))},getMenuItems:function(e,t){var n=this,i=n.unlockText,r=n.lockText,o=Ext.baseCSSPrefix+"hmenu-unlock",a=Ext.baseCSSPrefix+"hmenu-lock",s=n.onUnlockMenuClick.bind(n),l=n.onLockMenuClick.bind(n);return function(){var n=e.call(this);return n.push("-",{itemId:"unlockItem",iconCls:o,text:i,handler:s,disabled:!t}),n.push({itemId:"lockItem",iconCls:a,text:r,handler:l,disabled:t}),n}},syncLockedWidth:function(){var e=this,t=e.lockedGrid,n=t.view,i=n.el.dom,r=e.normalGrid,o=t.headerCt.getVisibleGridColumns().length,a=r.headerCt.getVisibleGridColumns().length;return Ext.suspendLayouts(),a?(r.show(),o?(e.shrinkWrapLocked&&!t.headerCt.forceFit&&(delete t.flex,t.setWidth(t.headerCt.getTableWidth()+t.el.getBorderWidth("lr"))),t.addCls(e.lockedGridCls),t.show(),e.split&&e.child("splitter").show()):(t.getView().clearViewEl(),t.hide(),e.split&&e.child("splitter").hide()),n.el.setStyle(n.getOverflowStyle()),e.ignoreMousewheel=n.scrollFlags.y):(r.hide(),i.style.borderBottomWidth="0",t.flex=1,delete t.width,t.removeCls(e.lockedGridCls),t.show(),n.el.setStyle(r.view.getOverflowStyle()),e.ignoreMousewheel=!0),Ext.resumeLayouts(!0),[o,a]},onLockedHeaderAdd:function(){this.ignoreAddLockedColumn||this.syncLockedWidth()},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:Ext.emptyFn,onNormalHeaderSortChange:Ext.emptyFn,lock:function(e,t,n){var i,r,o=this,a=o.normalGrid,s=o.lockedGrid,l=a.view,d=s.view,u=a.headerCt;e=e||u.getMenu().activeHeader,n=n||s.headerCt,r=e.ownerCt,e.isLockable()&&(e.flex&&(e.width=e.getWidth(),e.flex=null),Ext.suspendLayouts(),l.blockRefresh=d.blockRefresh=!0,r.remove(e,!1),e.locked=!0,o.ignoreAddLockedColumn=!0,Ext.isDefined(t)?n.insert(t,e):n.add(e),o.ignoreAddLockedColumn=!1,l.blockRefresh=d.blockRefresh=!1,i=o.syncLockedWidth(),i[0]&&s.getView().refreshView(),i[1]&&a.getView().refreshView(),Ext.resumeLayouts(!0),o.fireEvent("lockcolumn",o,e))},unlock:function(e,t,n){var i,r=this,o=r.normalGrid,a=r.lockedGrid,s=o.view,l=a.view,d=a.headerCt;Ext.isDefined(t)||(t=0),e=e||d.getMenu().activeHeader,n=n||o.headerCt,Ext.suspendLayouts(),s.blockRefresh=l.blockRefresh=!0,e.ownerCt.remove(e,!1),e.locked=!1,n.insert(t,e),s.blockRefresh=l.blockRefresh=!1,i=r.syncLockedWidth(),i[0]&&a.getView().refreshView(),i[1]&&o.getView().refreshView(),Ext.resumeLayouts(!0),r.fireEvent("unlockcolumn",r,e)},reconfigureLockable:function(e,t){var n,i=this,r=i.store,o=i.lockedGrid,a=i.normalGrid;Ext.suspendLayouts(),t&&(o.reconfiguring=a.reconfiguring=!0,o.headerCt.removeAll(),a.headerCt.removeAll(),t=i.processColumns(t,o),i.ignoreAddLockedColumn=!0,o.headerCt.add(t.locked.items),i.ignoreAddLockedColumn=!1,a.headerCt.add(t.normal.items),o.reconfiguring=a.reconfiguring=!1,i.syncLockedWidth()),e&&e!==r?(e=Ext.data.StoreManager.lookup(e),i.store=e,o.bindStore(e),n=o.view,n.store=e,n.dataSource.isFeatureStore||(n.dataSource=e),a.bindStore(e),n=a.view,n.store=e,n.dataSource.isFeatureStore||(n.dataSource=e),i.view.store=e,i.view.bindStore(e,!1,"dataSource")):(o.getView().refreshView(),a.getView().refreshView()),Ext.resumeLayouts(!0)},constructLockableFeatures:function(){var e,t,n,i,r,o=this.features,a=0;if(o)for(Ext.isArray(o)||(o=[o]),n=[],i=[],r=o.length;r>a;a++)switch(e=o[a],e.isFeature||(e=Ext.create("feature."+e.ftype,e)),e.lockableScope){case"locked":n.push(e);break;case"normal":i.push(e);break;default:e.lockableScope="both",n.push(e),i.push(t=e.clone()),t.lockingPartner=e,e.lockingPartner=t}return{normalFeatures:i,lockedFeatures:n}},constructLockablePlugins:function(){var e,t,n,i,r,o,a,s,l,d=this.plugins,u=0;if(d)for(Ext.isArray(d)||(d=[d]),i=[],r=[],o=[],a=d.length;a>u;u++)switch(e=d[u],e.init?s=e.lockableScope:(l=e.ptype?Ext.ClassManager.getByAlias("plugin."+e.ptype):Ext.ClassManager.get(e.xclass),s=l.prototype.lockableScope),s){case"both":r.push(n=e.clonePlugin()),o.push(t=e.clonePlugin()),n.lockingPartner=t,t.lockingPartner=n,Ext.destroy(e);break;case"locked":r.push(e);break;case"normal":o.push(e);break;default:i.push(e)}return{topPlugins:i,normalPlugins:o,lockedPlugins:r}},destroyLockable:function(){Ext.destroy(this.view,this.headerCt)}},function(){this.borrow(Ext.Component,["constructPlugin"])}),Ext.define("Ext.grid.plugin.BufferedRenderer",{extend:"Ext.AbstractPlugin",alias:"plugin.bufferedrenderer",isBufferedRenderer:!0,lockableScope:"both",numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:!0,scrollToLoadBuffer:200,viewSize:100,rowHeight:21,position:0,lastScrollDirection:1,bodyTop:0,scrollHeight:0,init:function(e){var t=this,n=e.view,i={scroll:t.onViewScroll,resize:t.onViewResize,refresh:t.onViewRefresh,columnschanged:t.checkVariableRowHeight,scope:t,destroyable:!0};(e.isTree||e.ownerLockable&&e.ownerLockable.isTree)&&(n.blockRefresh=!1,n.loadMask=!0),n.positionBody&&(i.refresh=t.onViewRefresh),t.grid=e,t.view=n,t.isRTL=n.getInherited().rtl,n.bufferedRenderer=t,n.preserveScrollOnRefresh=!0,n.animate=!1,t.bindStore(n.dataSource),n.hasOwnProperty("rowHeight")&&(t.rowHeight=n.rowHeight),t.position=0,t.gridListeners=e.on("reconfigure",t.onReconfigure,t),t.viewListeners=n.on(i)},checkVariableRowHeight:function(){var e=this,t=e.grid;e.variableRowHeight=e.view.hasVariableRowHeight(),t.ownerLockable&&(t.ownerLockable.syncRowHeight=e.variableRowHeight)},bindStore:function(e){var t=this,n=t.view,i=n.dataSource,r=i&&i.isFeatureStore;r===e.isFeatureStore&&(t.store&&t.unbindStore(),t.storeListeners=e.on({scope:t,groupchange:t.onStoreGroupChange,clear:t.onStoreClear,destroyable:!0}),t.store=e),t.view.componentLayout.layoutCount&&t.onViewResize(t.view,0,t.view.getHeight())},onReconfigure:function(e,t){t&&t!==this.store&&this.bindStore(t)},unbindStore:function(){this.storeListeners.destroy(),this.store=null},onStoreClear:function(){var e=this,t=e.view;t.rendered&&!e.store.isDestroyed&&(0!==e.scrollTop&&(e.bodyTop=e.scrollTop=e.position=e.scrollHeight=0,e.view.setScrollY(0)),e.lastScrollDirection=e.scrollOffset=null,t.hasOwnProperty("rowHeight")||delete e.rowHeight)},onStoreGroupChange:function(e){var t=this;delete t.rowHeight,t.stretchView(t.view,t.getScrollHeight())},onViewRefresh:function(){var e,t=this,n=t.view,i=t.scrollHeight;return t.checkVariableRowHeight(),t.variableRowHeight&&!n.componentLayoutCounter?void n.on({boxready:t.onViewRefresh,scope:t,single:!0}):(!n.hasOwnProperty("rowHeight")&&n.all.getCount()&&delete t.rowHeight,e=t.getScrollHeight(),e!=i&&t.stretchView(n,e),void(t.refreshing||(t.scrollTop!==n.getScrollY()?t.onViewScroll():(t.hasOwnProperty("bodyTop")||(t.bodyTop=n.all.startIndex*t.rowHeight,n.setScrollY(t.bodyTop)),t.setBodyTop(t.bodyTop),n.all.getCount()&&Ext.on({idle:function(){n.isDestroyed||t.onViewResize(n,null,n.getHeight())},single:!0})))))},onViewResize:function(e,t,n,i,r){var o,a=this;a.tableTopBorderWidth=e.body.getBorderWidth("t"),r&&n===r||(o=Math.ceil(n/a.rowHeight)+a.trailingBufferZone+a.leadingBufferZone,a.viewSize=a.setViewSize(o),a.viewClientHeight=e.el.dom.clientHeight)},stretchView:function(e,t){var n,i=this,r=i.store.isBufferedStore?i.store.getTotalCount():i.store.getCount(),o=e.getTargetEl();i.scrollTop>t&&(i.position=i.scrollTop=t-e.body.dom.offsetHeight,i.view.setScrollY(i.scrollTop)),i.bodyTop>t&&e.body.translate(null,i.bodyTop=i.position),e.scrollManager&&(e.scrollManager.scroller.setSize({x:e.headerCt.getTableWidth(),y:t}),e.scrollManager.refresh()),e.scrollManager&&1!==Ext.supports.touchScroll||(i.stretcher||(o=e.getTargetEl(),e.refreshCounter&&e.fixedNodes++,n={style:{width:"1px",height:"1px",marginTop:t-1+"px",position:"absolute"}},n.style[i.isRTL?"right":"left"]=0,i.stretcher=o.createChild(n,o.dom.firstChild)),i.hasOwnProperty("viewSize")&&r<=i.viewSize?i.stretcher.dom.style.display="none":(i.stretcher.dom.style.marginTop=t-1+"px",i.stretcher.dom.style.display=""))},setViewSize:function(e){if(e!==this.viewSize){this.scrollTop=this.view.getScrollY();var t,n,i=this,r=i.store,o=i.view,a=o.all,s=a.getCount(),l=i.view.lockingPartner&&i.view.lockingPartner.bufferedRenderer;i.viewSize=e,r.isBufferedStore&&r.setViewSize(e),s&&(t=o.all.startIndex,n=Math.min(t+e-1,(r.isBufferedStore?r.getTotalCount():r.getCount())-1),(t!==a.startIndex||n!==a.endIndex)&&(l&&l.disable(),o.clearViewEl(!0),i.renderRange(t,n),l&&l.enable()))}return e},getViewRange:function(){var e=this,t=e.view.all,n=e.store,i=0;return t.getCount()?i=t.startIndex:n.isBufferedStore&&(n.currentPage||(n.currentPage=1),i=t.startIndex=(n.currentPage-1)*(n.pageSize||1),n.currentPage=1),n.data.getCount()?n.getRange(i,i+e.viewSize-1):[]},onReplace:function(e,t,n,i){var r=this,o=r.view,a=o.all,s=a.getCount(),l=e.getCount(),d=a.first(!0);!s||t<=a.endIndex||s<r.viewSize&&i.length>n.length||s>l?(r.refreshView(),s=a.getCount(),i.length<n.length&&(l=e.isBufferedStore?e.getTotalCount():l,a.endIndex===l-1&&s<r.viewSize&&l>s&&(a.scroll(e.getRange(Math.max(0,l-r.viewSize),a.startIndex-1),-1,0),l>r.viewSize&&r.setBodyTop(r.bodyTop-d.offsetTop)),l<=r.viewSize?r.stretcher&&(r.setBodyTop(0),r.stretcher.dom.style.display="none"):r.bodyTop+o.body.dom.offsetHeight-1>r.scrollHeight&&r.setBodyTop(r.scrollHeight-(o.body.dom.offsetHeight-1)))):(r.refreshing=!0,r.onViewRefresh(),r.refreshing=!0)},scrollTo:function(e,t,n,i){var r,o,a,s,l,d,u,c,h=this,f=h.view,g=f.el.dom,p=h.store,m=p.isBufferedStore?p.getTotalCount():p.getCount();(d=f.dataSource.groupingFeature)&&d.collapsible!==!1?(e=Math.min(Math.max(e,0),f.store.getCount()-1),c=f.store.getAt(e),u=d.getGroup(c),u.isCollapsed&&(d.expand(u.getGroupKey()),m=p.isBufferedStore?p.getTotalCount():p.getCount()),e=d.indexOf(c)):e=Math.min(Math.max(e,0),m-1),r=Math.max(Math.min(e-Math.floor((h.leadingBufferZone+h.trailingBufferZone)/2),m-h.viewSize+1),0),l=Math.max(r*h.rowHeight-h.tableTopBorderWidth,0),o=Math.min(r+h.viewSize-1,m-1),p.getRange(r,o,{callback:function(r,o,d){h.renderRange(o,d,!0),a=p.data.getRange(e,e+1)[0],s=f.getNode(a),f.body.translate(null,h.bodyTop=l),h.position=h.scrollTop=l=Math.min(Math.max(0,l-f.body.getOffsetsTo(s)[1]),g.scrollHeight-g.clientHeight),f.setScrollY(l),Ext.isIE&&f.setScrollY(l),t&&f.selModel.select(a),n&&n.call(i||h,e,a)}})},onViewScroll:function(){var e,t,n=this,i=n.store,r=i.isBufferedStore?i.getTotalCount():i.getCount(),o=n.scrollTop=n.view.getScrollY(),a=!1,s=n.view.lockingPartner&&n.view.lockingPartner.bufferedRenderer;n.disabled||r<n.viewSize||(e=o-n.position,t=e>0?1:-1,(Math.abs(e)>=20||t!==n.lastScrollDirection)&&(n.lastScrollDirection=t,a=n.handleViewScroll(n.lastScrollDirection))),a||s&&s.scrollTop!==o&&s.view.setScrollY(s.position=o)},handleViewScroll:function(e){var t,n,i=this,r=i.view.all,o=i.store,a=i.viewSize,s=(o.isBufferedStore?o.getTotalCount():o.getCount())-1;return-1==e?r.startIndex&&i.topOfViewCloseToEdge()&&(t=Math.max(0,i.getLastVisibleRowIndex()+i.trailingBufferZone-a)):r.endIndex<s&&i.bottomOfViewCloseToEdge()&&(t=Math.max(0,i.getFirstVisibleRowIndex()-i.trailingBufferZone)),null!=t&&(n=Math.min(t+a-1,s),i.variableRowHeight&&n===r.endIndex&&s>n&&(n++,i.viewSize=a++,o.isBufferedStore&&o.setViewSize(i.viewSize)),t!==r.startIndex||n!==r.endIndex)?(i.renderRange(t,n),!0):void 0},bottomOfViewCloseToEdge:function(){var e=this;return e.variableRowHeight?e.bodyTop+e.view.body.dom.offsetHeight<e.scrollTop+e.view.lastBox.height+e.numFromEdge*e.rowHeight:e.view.all.endIndex-e.getLastVisibleRowIndex()<e.numFromEdge},topOfViewCloseToEdge:function(){var e=this;return e.variableRowHeight?e.bodyTop>e.scrollTop-e.numFromEdge*e.rowHeight:e.getFirstVisibleRowIndex()-e.view.all.startIndex<e.numFromEdge},refreshView:function(e){var t,n=this,i=n.view.all,r=n.store,o=(r.isBufferedStore?r.getTotalCount():r.getCount())-1;e=Math.max(0,Math.min(null==e?i.startIndex:e,o-(n.viewSize-n.leadingBufferZone)+1)),t=Math.min(i.startIndex+n.viewSize-1,o),r.getRange(e,t,{callback:n.doRefreshView,scope:n})},doRefreshView:function(e,t,n,i){var r,o=this,a=o.view,s=a.all,l=s.getCount();a.refreshCounter?(a.refreshing=o.refreshing=!0,a.clearViewEl(!0),e.length&&(r=a.doAdd(e,t),a.refreshSize(s.getCount()!==l),a.fireEvent("refresh",a,e)),a.selModel.onLastFocusChanged(null,a.selModel.lastFocused,!0),a.refreshNeeded=a.refreshing=o.refreshing=!1):a.refresh()},renderRange:function(e,t,n){var i=this,r=i.view.all,o=i.store;(e!==r.startIndex||t!==r.endIndex)&&(o.rangeCached(e,t)?(i.cancelLoad(),i.synchronousRender||n?i.onRangeFetched(null,e,t):(i.renderTask||(i.renderTask=new Ext.util.DelayedTask(i.onRangeFetched,i,null,!1)),i.renderTask.delay(1,null,null,[null,e,t]))):i.attemptLoad(e,t))},onRangeFetched:function(e,t,n,i,r){var o,a,s,l,d,u,c,h=this,f=h.view,g=f.all,p=0,m=h.view.lockingPartner&&h.view.lockingPartner.bufferedRenderer,x=h.variableRowHeight;if(!f.isDestroyed){if(e)h.scrollTop=h.view.getScrollY();else if(e=h.store.getRange(t,n),!e)return;if(s=x?h.scrollTop-h.rowHeight*(h.scrollTop<h.position?h.leadingBufferZone:h.trailingBufferZone):t*h.rowHeight-h.tableTopBorderWidth,t<g.startIndex&&n>g.endIndex){for(u=g.startIndex-t,f.clearViewEl(!0),d=f.doAdd(e,t),f.fireEvent("itemadd",e,t,d),c=0;u>c;c++)p-=d[c].offsetHeight;return void h.setBodyTop(h.bodyTop+p)}(h.teleported||t>g.endIndex||n<g.startIndex)&&(f.clearViewEl(!0),l=s,h.teleported=!1),g.getCount()?n>g.endIndex?(a=Math.max(t-g.startIndex,0),x&&(p=g.item(g.startIndex+a,!0).offsetTop),g.scroll(Ext.Array.slice(e,g.endIndex+1-t),1,a,t,n),l=x?h.bodyTop+p:s):(a=Math.max(g.endIndex-n,0),o=g.startIndex,g.scroll(Ext.Array.slice(e,0,g.startIndex-t),-1,a,t,n),x?(l=h.bodyTop-g.item(o,!0).offsetTop,g.startIndex?0>l&&(p=g.startIndex*h.rowHeight,f.setScrollY(h.position=h.scrollTop+=p),l=h.bodyTop+p):l&&(f.setScrollY(h.position=h.scrollTop-=l),l=0)):l=s):(d=f.doAdd(e,t),f.fireEvent("itemadd",e,t,d)),h.position=h.scrollTop,l=Math.max(Math.floor(l),0),f.positionBody&&h.setBodyTop(l),!m||m.disabled||r||(m.onRangeFetched(null,t,n,i,!0),m.bodyTop!==l&&m.setBodyTop(l),m.scrollTop!==h.scrollTop&&m.view.setScrollY(m.scrollTop=m.position=h.scrollTop))}},setBodyTop:function(e){var t=this,n=t.view,i=t.store,r=n.body;r.translate(t.isRTL&&Ext.supports.xOriginBug&&n.scrollFlags.y?Ext.getScrollbarSize().width:null,t.bodyTop=e),t.variableRowHeight&&(n.all.endIndex===(i.isBufferedStore?i.getTotalCount():i.getCount())-1?t.stretchView(n,t.bodyTop+r.dom.offsetHeight-1):t.bodyTop+r.dom.offsetHeight-1>t.scrollHeight&&t.stretchView(n,t.scrollHeight+=((i.isBufferedStore?i.getTotalCount():i.getCount())-n.all.endIndex)*t.rowHeight))},getFirstVisibleRowIndex:function(e,t,n,i){var r,o,a=this,s=a.view,l=s.all,d=l.elements,u=a.viewClientHeight,c=a.bodyTop;if(l.getCount()&&a.variableRowHeight){if(arguments.length)r=e+Math.floor((t-e)/2);else{if(e=l.startIndex,t=l.endIndex,n=a.scrollTop,i=n+u,c>i||c+s.body.dom.offsetHeight<n)return a.teleported=!0,Math.floor(a.scrollTop/a.rowHeight);r=e+Math.min(a.numFromEdge+(-1===a.lastScrollDirection?a.leadingBufferZone:a.trailingBufferZone),Math.floor((t-e)/2))}if(o=c+d[r].offsetTop,o+d[r].offsetHeight<n)return a.getFirstVisibleRowIndex(r+1,t,n,i);if(n>=o)return r;if(r!==e)return a.getFirstVisibleRowIndex(e,r-1,n,i)}return Math.floor(a.scrollTop/a.rowHeight)},getLastVisibleRowIndex:function(e,t,n,i){var r,o,a,s=this,l=s.view,d=l.all,u=d.elements,c=s.viewClientHeight,h=s.bodyTop;if(d.getCount()&&s.variableRowHeight){if(arguments.length)r=e+Math.floor((t-e)/2);else{if(e=d.startIndex,t=d.endIndex,n=s.scrollTop,i=n+c,h>i||h+l.body.dom.offsetHeight<n)return s.teleported=!0,Math.floor(s.scrollTop/s.rowHeight)+Math.ceil(c/s.rowHeight);r=t-Math.min(s.numFromEdge+(1===s.lastScrollDirection?s.leadingBufferZone:s.trailingBufferZone),Math.floor((t-e)/2))}if(o=h+u[r].offsetTop,o>i)return s.getLastVisibleRowIndex(e,r-1,n,i);if(a=o+u[r].offsetHeight,a>=i)return r;if(r!==t)return s.getLastVisibleRowIndex(r+1,t,n,i)}return s.getFirstVisibleRowIndex()+Math.ceil(c/s.rowHeight)},getScrollHeight:function(e){var t,n,i=this,r=i.view,o=r.all,a=i.store,s=a.isBufferedStore?a.getTotalCount():a.getCount();return s?(i.hasOwnProperty("rowHeight")||(t=o.getCount())&&(i.rowHeight=i.variableRowHeight?Math.floor(r.body.dom.clientHeight/t):o.first(!0).offsetHeight),n=Math.floor(s*i.rowHeight),e||n&&o.endIndex===s-1&&(n=Math.max(n,i.bodyTop+r.body.dom.offsetHeight-1)),i.scrollHeight=n):0},attemptLoad:function(e,t){var n=this;n.scrollToLoadBuffer?(n.loadTask||(n.loadTask=new Ext.util.DelayedTask(n.doAttemptLoad,n,[])),n.loadTask.delay(n.scrollToLoadBuffer,n.doAttemptLoad,n,[e,t])):n.store.getRange(e,t,{callback:n.onRangeFetched,scope:n,fireEvent:!1})},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(e,t){this.store.getRange(e,t,{callback:this.onRangeFetched,scope:this,fireEvent:!1})},destroy:function(){var e=this,t=e.view;t&&t.el&&t.un("scroll",e.onViewScroll,e),Ext.destroy(e.viewListeners,e.storeListeners,e.gridListeners)}},function(e){Ext.supports.Touch&&(e.prototype.leadingBufferZone=e.prototype.trailingBufferZone=2,e.prototype.numFromEdge=1)}),Ext.define("Ext.grid.plugin.Editing",{extend:"Ext.plugin.Abstract",alias:"editing.editing",requires:["Ext.grid.column.Column","Ext.util.KeyNav","Ext.form.field.Base","Ext.view.Table"],mixins:{observable:"Ext.util.Observable"},clicksToEdit:2,triggerEvent:void 0,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldUI:"default",defaultFieldXType:"textfield",editStyle:"",constructor:function(e){var t=this;t.callParent(arguments),t.mixins.observable.constructor.call(t),t.on("edit",function(e,n){t.fireEvent("afteredit",e,n)})},init:function(e){var t=this;t.grid=e,t.view=e.view,t.initEvents(),t.mon(e,{beforereconfigure:t.onBeforeReconfigure,reconfigure:t.onReconfigure,scope:t,beforerender:{fn:t.onReconfigure,single:!0,scope:t}}),e.relayEvents(t,t.relayedEvents),t.grid.ownerLockable&&t.grid.ownerLockable.relayEvents(t,t.relayedEvents),e.isEditable=!0,e.editingPlugin=e.view.editingPlugin=t},resolveListenerScope:function(e){var t=this.grid;return t?t.resolveListenerScope(e):this.callParent([e])},onBeforeReconfigure:function(){this.reconfiguring=!0},onReconfigure:function(){this.initFieldAccessors(this.grid.getTopLevelColumnManager().getColumns()),delete this.reconfiguring},destroy:function(){var e=this,t=e.grid;Ext.destroy(e.keyNav),e.clearListeners(),t&&(t.editingPlugin=t.view.editingPlugin=e.grid=e.view=e.editor=e.keyNav=null)},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(e){e.isGroupHeader?e=e.getGridColumns():Ext.isArray(e)||(e=[e]);var t,n,i=this,r=e.length;for(t=0;r>t;t++)n=e[t],n.getEditor||(n.getEditor=function(e,t){return i.getColumnField(this,t)}),n.hasEditor||(n.hasEditor=function(){return i.hasColumnField(this)}),n.setEditor||(n.setEditor=function(e){i.setColumnField(this,e)})},removeFieldAccessors:function(e){e.isGroupHeader?e=e.getGridColumns():Ext.isArray(e)||(e=[e]);var t,n,i=e.length;for(t=0;i>t;t++)n=e[t],n.getEditor=n.hasEditor=n.setEditor=n.field=n.editor=null},getColumnField:function(e,t){var n=this,i=e.field;return i&&i.isFormField||(i=e.field=n.createColumnField(e,t)),i&&"default"===i.ui&&!i.hasOwnProperty("ui")&&(i.ui=n.defaultFieldUI),i},hasColumnField:function(e){return!(!e.field||!e.field.isComponent)},setColumnField:function(e,t){e.field=t,e.field=this.createColumnField(e)},createColumnField:function(e,t){var n,i=e.field;return!i&&e.editor&&(i=e.editor,e.editor=null),!i&&t&&(i=t),i&&(n=e.dataIndex,i.isComponent?i.column=e:(i=Ext.isString(i)?{name:n,xtype:i,column:e}:Ext.apply({name:n,column:e},i),i=Ext.ComponentManager.create(i,this.defaultFieldXType)),i.dataIndex=n,i.isEditorComponent=!0,e.field=i),i},initEvents:function(){var e=this;e.initEditTriggers(),e.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var e=this,t=e.view;"cellfocus"==e.triggerEvent?e.mon(t,"cellfocus",e.onCellFocus,e):"rowfocus"==e.triggerEvent?e.mon(t,"rowfocus",e.onRowFocus,e):(t.getSelectionModel().isCellModel&&(t.onCellFocus=e.beforeViewCellFocus.bind(e)),e.mon(t,e.triggerEvent||"cell"+(1===e.clicksToEdit?"click":"dblclick"),e.onCellClick,e)),e.initAddRemoveHeaderEvents(),t.on("render",e.initKeyNavHeaderEvents,e,{single:!0})},beforeViewCellFocus:function(e){!this.view.selModel.keyNavigation&&this.editing&&this.isCellEditable&&this.isCellEditable(e.row,e.columnHeader)||this.view.focusCell.apply(this.view,arguments)},onRowFocus:function(e,t,n){this.startEdit(t,0)},onCellFocus:function(e,t,n){this.startEdit(n.row,n.column)},onCellClick:function(e,t,n,i,r,o,a){var s=e.expanderSelector,l=e.ownerCt.getColumnManager().getHeaderAtIndex(n),d=l.getEditor(i);!this.shouldStartEdit(d)||s&&a.getTarget(s)||this.startEdit(i,l)},initAddRemoveHeaderEvents:function(){var e=this,t=e.grid.headerCt;e.mon(t,{scope:e,add:e.onColumnAdd,columnmove:e.onColumnMove,beforedestroy:e.beforeGridHeaderDestroy})},initKeyNavHeaderEvents:function(){var e=this;e.keyNav=Ext.create("Ext.util.KeyNav",e.view.el,{enter:e.onEnterKey,esc:e.onEscKey,scope:e})},onColumnAdd:function(e,t){this.initFieldAccessors(t)},onColumnMove:Ext.emptyFn,onEnterKey:function(e){var t,n,i,r=this,o=r.grid,a=o.getSelectionModel();a.getCurrentPosition&&(n=a.getCurrentPosition())?(t=n.record,i=n.columnHeader):(t=a.getLastSelected(),i=o.getColumnManager().getHeaderAtIndex(0)),t&&i&&r.startEdit(t,i)},onEscKey:function(e){return this.cancelEdit()},beforeEdit:Ext.emptyFn,shouldStartEdit:function(e){return!!e},startEdit:function(e,t){var n,i=this,r=i.grid.lockable?i.grid:i.view;return r.componentLayoutCounter?i.grid.collapsed||!i.grid.view.isVisible(!0)?!1:(n=i.getEditingContext(e,t),null==n?!1:i.preventBeforeCheck||i.beforeEdit(n)!==!1&&i.fireEvent("beforeedit",i,n)!==!1&&!n.cancel?n:!1):(r.on({boxready:Ext.Function.bind(i.startEdit,i,[e,t]),single:!0}),!1)},getEditingContext:function(e,t){var n,i,r,o,a=this,s=a.grid,l=s.columnManager;return Ext.isNumber(t)&&(t=l.getHeaderAtIndex(t)),t&&(t.hidden&&(t=t.next(":not([hidden])")||t.prev(":not([hidden])")),n=t.getOwnerHeaderCt().view,i=n.getRow(e),i&&(o=l.getHeaderIndex(t),Ext.isNumber(e)?(r=e,e=n.getRecord(i)):r=n.indexOf(i),e))?{grid:s,view:n,store:n.dataSource,record:e,field:t.dataIndex,value:e.get(t.dataIndex),row:i,column:t,rowIdx:r,colIdx:o}:void 0},cancelEdit:function(){var e=this;e.editing=!1,e.fireEvent("canceledit",e,e.context)},completeEdit:function(){var e=this;e.editing&&e.validateEdit()&&e.fireEvent("edit",e,e.context),e.context=null,e.editing=!1},validateEdit:function(){var e=this,t=e.context;return e.fireEvent("validateedit",e,t)!==!1&&!t.cancel}}),Ext.define("Ext.grid.plugin.CellEditing",{alias:"plugin.cellediting",extend:"Ext.grid.plugin.Editing",requires:["Ext.grid.CellEditor","Ext.util.DelayedTask"],lockableScope:"both",init:function(e){var t=this,n=t.lockingPartner;t.callParent(arguments),n?n.editors?t.editors=n.editors:t.editors=n.editors=new Ext.util.MixedCollection(!1,function(e){return e.editorId}):t.editors=new Ext.util.MixedCollection(!1,function(e){return e.editorId})},beforeGridHeaderDestroy:function(e){var t,n,i,r=this,o=r.grid.getColumnManager().getColumns(),a=o.length;for(t=0;a>t;t++)n=o[t],i=r.editors.getByKey(n.getItemId()),!i&&n.hasEditor&&n.hasEditor()&&(i=n.getEditor()),Ext.destroy(i),r.removeFieldAccessors(n)},onReconfigure:function(e,t,n){n&&this.editors.clear(),this.callParent()},destroy:function(){var e=this;e.editors&&(e.editors.each(Ext.destroy,Ext),e.editors.clear()),e.callParent(arguments)},initCancelTriggers:function(){var e=this,t=e.grid;t.view;e.mon(t,{columnresize:e.cancelEdit,columnmove:e.cancelEdit,scope:e})},isCellEditable:function(e,t){var n=this,i=n.getEditingContext(e,t);return n.grid.view.isVisible(!0)&&i&&(t=i.column,e=i.record,t&&n.getEditor(e,t))?!0:void 0},startEdit:function(e,t,n){var i,r,o,a=this;return n||(a.preventBeforeCheck=!0,n=a.callParent(arguments),delete a.preventBeforeCheck,n!==!1)?n&&a.grid.view.isVisible(!0)?(e=n.record,t=n.column,n.originalValue=n.value=e.get(t.dataIndex),(r=t&&t.getEditor(e)&&!(a.beforeEdit(n)===!1||a.fireEvent("beforeedit",a,n)===!1||n.cancel))?(o=a.getEditor(e,t),i=o.editing,a.completeEdit(i),a.context=n,a.grid.view.cancelFocus(),a.view.scrollCellIntoView(a.getCell(e,t)),o?(i&&(o.editing=!1,Ext.isIE&&(o.selectSameEditor=!0)),a.showEditor(o,n,n.value),!0):!1):!1):void 0:!1},showEditor:function(e,t,n){var i=this,r=t.record,o=t.column,a=i.grid.getSelectionModel(),s=a.preventFocus,l=a.getCurrentPosition();return o.up(i.view.ownerCt)?(i.setEditingContext(t),i.setActiveEditor(e),i.setActiveRecord(r),i.setActiveColumn(o),l&&a.isCellSelected(i.view,r,o)||(a.preventFocus=!0,a.selectByPosition({row:r,column:o,view:i.view},!0),a.preventFocus=s),Ext.isIE&&"click"===Ext.event.Event.type?Ext.Function.defer(e.startEdit,1,e,[i.getCell(r,o),n,t]):e.startEdit(i.getCell(r,o),n,t),i.editing=!0,void(i.scroll=i.view.el.getScroll())):i.lockingPartner.showEditor(e,i.lockingPartner.getEditingContext(l.record,l.columnHeader),n)},completeEdit:function(e){var t=this.getActiveEditor();t&&(t.completeEdit(e),this.editing=!1)},setEditingContext:function(e){this.context=e,this.lockingPartner&&(this.lockingPartner.context=e)},setActiveEditor:function(e){this.activeEditor=e,this.lockingPartner&&(this.lockingPartner.activeEditor=e)},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(e){this.activeColumn=e,this.lockingPartner&&(this.lockingPartner.activeColumn=e)},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(e){this.activeRecord=e,this.lockingPartner&&(this.lockingPartner.activeRecord=e)},getActiveRecord:function(){return this.activeRecord},getEditor:function(e,t){var n=this,i=n.editors,r=t.getItemId(),o=i.getByKey(r),a=n.grid.ownerLockable||n.grid;if(!o){if(o=t.getEditor(e),!o)return!1;o instanceof Ext.grid.CellEditor?o.floating=!0:o=new Ext.grid.CellEditor({floating:!0,editorId:r,field:o}),o.field.excludeForm=!0,o.ownerCt!==a&&(a.add(o),o.on({scope:n,specialkey:n.onSpecialKey,complete:n.onEditComplete,canceledit:n.cancelEdit}),t.on("removed",n.onColumnRemoved,n)),i.add(o)}return t.isTreeColumn&&(o.isForTree=t.isTreeColumn,o.addCls(Ext.baseCSSPrefix+"tree-cell-editor")),o.setGrid(n.grid),o.editingPlugin=n,o},onColumnRemoved:function(e){var t,n=this,i=n.context,r=n.grid.ownerLockable||n.grid;i&&i.column===e&&n.cancelEdit(),e.un("removed",n.onColumnRemoved,n),e.getEditor&&(t=e.getEditor())&&t.ownerCt===r&&(r.remove(t),t.un({scope:n,specialkey:n.onSpecialKey,complete:n.onEditComplete,canceledit:n.cancelEdit}))},setColumnField:function(e,t){var n=this.editors.getByKey(e.getItemId());Ext.destroy(n,e.field),this.editors.removeAtKey(e.getItemId()),this.callParent(arguments)},getCell:function(e,t){return this.grid.getView().getCell(e,t);
},onSpecialKey:function(e,t,n){var i;return n.getKey()===n.TAB&&(n.stopEvent(),e&&e.onEditorTab(n),i=e.up("tablepanel").getSelectionModel(),i.onEditorTab)?i.onEditorTab(e.editingPlugin,n):void 0},onEditComplete:function(e,t,n){var i,r=this,o=r.getActiveColumn(),a=r.context;if(o){if(i=a.record,r.setActiveEditor(null),r.setActiveColumn(null),r.setActiveRecord(null),a.value=t,!r.validateEdit())return void(r.editing=!1);i.isEqual(t,n)||i.set(o.dataIndex,t),a.view.focusRow(a.rowIdx,100),r.fireEvent("edit",r,a),r.editing=!1}},cancelEdit:function(){var e=this,t=e.context,n=e.getActiveEditor();return e.setActiveEditor(null),e.setActiveColumn(null),e.setActiveRecord(null),n?(n.field&&(e.context.value="editedValue"in n?n.editedValue:n.getValue(),n.cancelEdit()),t.view.focusRow(t.rowIdx,100),void e.callParent(arguments)):!0},startEditByPosition:function(e){var t,n=this.grid.getColumnManager();return e.isCellContext||(e=new Ext.grid.CellContext(this.view).setPosition(e)),t=n.getHeaderIndex(e.columnHeader),e.setColumn(n.getVisibleHeaderClosestToIndex(t)),this.startEdit(e.record,e.columnHeader)}}),Ext.define("Ext.grid.plugin.DragDrop",{extend:"Ext.plugin.Abstract",alias:"plugin.gridviewdragdrop",uses:["Ext.view.DragZone","Ext.grid.ViewDropZone"],dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:!0,enableDrag:!0,containerScroll:!1,init:function(e){e.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){var e=this;e.dragZone&&e.dragZone.unlock(),e.dropZone&&e.dropZone.unlock(),e.callParent()},disable:function(){var e=this;e.dragZone&&e.dragZone.lock(),e.dropZone&&e.dropZone.lock(),e.callParent()},onViewRender:function(e){var t,n=this;n.enableDrag&&(n.containerScroll&&(t=e.getEl()),n.dragZone=new Ext.view.DragZone(Ext.apply({view:e,ddGroup:n.dragGroup||n.ddGroup,dragText:n.dragText,containerScroll:n.containerScroll,scrollEl:t},n.dragZone))),n.enableDrop&&(n.dropZone=new Ext.grid.ViewDropZone(Ext.apply({view:e,ddGroup:n.dropGroup||n.ddGroup},n.dropZone)))}}),Ext.define("Ext.grid.plugin.RowEditing",{extend:"Ext.grid.plugin.Editing",alias:"plugin.rowediting",requires:["Ext.grid.RowEditor"],lockableScope:"top",editStyle:"row",autoCancel:!0,errorSummary:!0,constructor:function(){var e=this;e.callParent(arguments),e.clicksToMoveEditor||(e.clicksToMoveEditor=e.clicksToEdit),e.autoCancel=!!e.autoCancel},destroy:function(){Ext.destroy(this.editor),this.callParent(arguments)},onBeforeReconfigure:function(){this.callParent(arguments),this.cancelEdit()},onReconfigure:function(e,t,n){var i=this.editor;this.callParent(arguments),n&&i&&i.rendered&&(i.needsSyncFieldWidths=!0)},shouldStartEdit:function(e){return!0},startEdit:function(e,t){var n,i=this,r=i.getEditor();return Ext.isEmpty(t)&&(t=i.grid.getTopLevelVisibleColumnManager().getHeaderAtIndex(0)),r.beforeEdit()!==!1&&(n=i.callParent([e,t]))?(i.context=n,i.lockingPartner&&i.lockingPartner.cancelEdit(),r.startEdit(n.record,n.column,n),i.editing=!0,!0):!1},cancelEdit:function(){var e=this;return e.editing?(e.getContextFieldValues(),e.getEditor().cancelEdit(),void e.callParent(arguments)):!0},completeEdit:function(){var e=this;e.editing&&e.validateEdit()&&(e.editing=!1,e.fireEvent("edit",e,e.context))},validateEdit:function(){return this.getContextFieldValues(),this.callParent(arguments)&&this.getEditor().completeEdit()},getEditor:function(){var e=this;return e.editor||(e.editor=e.initEditor()),e.editor},getContextFieldValues:function(){var e,t,n,i=this.editor,r=this.context,o=r.record,a={},s={},l=i.query(">[isFormField]"),d=l.length;for(e=0;d>e;e++)n=l[e],t=n.dataIndex,a[t]=n.getValue(),s[t]=o.get(t);Ext.apply(r,{newValues:a,originalValues:s})},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){var e,t,n=this,i=n.grid,r=n.view,o=i.headerCt,a=["saveBtnText","cancelBtnText","errorsText","dirtyText"],s=a.length,l={autoCancel:n.autoCancel,errorSummary:n.errorSummary,fields:o.getGridColumns(),hidden:!0,view:r,editingPlugin:n};for(e=0;s>e;e++)t=a[e],Ext.isDefined(n[t])&&(l[t]=n[t]);return l},initEditTriggers:function(){var e=this,t=e.view,n=1===e.clicksToMoveEditor?"click":"dblclick";e.callParent(arguments),e.clicksToMoveEditor!==e.clicksToEdit&&e.mon(t,"cell"+n,e.moveEditorByClick,e),t.on({render:function(){e.mon(e.grid.headerCt,{scope:e,columnresize:e.onColumnResize,columnhide:e.onColumnHide,columnshow:e.onColumnShow})},single:!0})},startEditByClick:function(){var e=this;e.editing&&e.clicksToMoveEditor!==e.clicksToEdit||e.callParent(arguments)},moveEditorByClick:function(){var e=this;e.editing&&e.superclass.onCellClick.apply(e,arguments)},onColumnAdd:function(e,t){if(t.isHeader){var n,i=this;i.initFieldAccessors(t),n=i.editor,n&&n.onColumnAdd(t)}},beforeGridHeaderDestroy:function(e){var t,n,i,r=this.grid.getColumnManager().getColumns(),o=r.length;for(t=0;o>t;t++)n=r[t],n.hasEditor&&(n.hasEditor()&&(i=n.getEditor())&&i.destroy(),this.removeFieldAccessors(n))},onColumnResize:function(e,t,n){if(t.isHeader){var i=this,r=i.getEditor();r&&r.onColumnResize(t,n)}},onColumnHide:function(e,t){var n=this,i=n.getEditor();i&&i.onColumnHide(t)},onColumnShow:function(e,t){var n=this,i=n.getEditor();i&&i.onColumnShow(t)},onColumnMove:function(e,t,n,i){var r=this,o=r.getEditor();r.initFieldAccessors(t),o&&o.onColumnMove(t,n,i)},setColumnField:function(e,t){var n=this,i=n.getEditor();i&&i.destroyColumnEditor(e),n.callParent(arguments),i&&i.insertColumnEditor(e)},createColumnField:function(e,t){var n,i=this.editor;return i&&(n=i.getDefaultFieldCfg()),this.callParent([e,t||n])}}),Ext.define("Ext.grid.plugin.RowExpander",{extend:"Ext.plugin.Abstract",lockableScope:"normal",requires:["Ext.grid.feature.RowBody"],alias:"plugin.rowexpander",columnWidth:24,rowBodyTpl:null,lockedTpl:null,expandOnEnter:!0,expandOnDblClick:!0,selectRowOnExpand:!1,headerWidth:24,rowBodyTrSelector:"."+Ext.baseCSSPrefix+"grid-rowbody-tr",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowCollapsedCls:Ext.baseCSSPrefix+"grid-row-collapsed",addCollapsedCls:{fn:function(e,t,n){var i=this.rowExpander;i.recordsExpanded[t.record.internalId]||t.itemClasses.push(i.rowCollapsedCls),this.nextTpl.applyOut(t,e,n)},syncRowHeights:function(e,t){this.rowExpander.syncRowHeights(e,t)},priority:2e4},setCmp:function(e){var t,n=this;n.callParent(arguments),n.recordsExpanded={},n.rowBodyTpl||Ext.Error.raise("The 'rowBodyTpl' config is required and is not defined."),n.rowBodyTpl=Ext.XTemplate.getTpl(n,"rowBodyTpl"),t=n.getFeatureConfig(e),e.features?e.features=Ext.Array.push(t,e.features):e.features=t},getFeatureConfig:function(e){var t=this,n=[],i={ftype:"rowbody",rowExpander:t,recordsExpanded:t.recordsExpanded,rowBodyHiddenCls:t.rowBodyHiddenCls,rowCollapsedCls:t.rowCollapsedCls,setupRowData:t.getRowBodyFeatureData,setup:t.setup};return n.push(Ext.apply({lockableScope:"normal",getRowBodyContents:t.getRowBodyContentsFn(t.rowBodyTpl)},i)),e.enableLocking&&n.push(Ext.apply({lockableScope:"locked",getRowBodyContents:t.lockedTpl?t.getRowBodyContentsFn(t.lockedTpl):function(){return""}},i)),n},getRowBodyContentsFn:function(e){var t=this;return function(n){return e.owner=t,e.applyTemplate(n.record.getData())}},init:function(e){e.lockable&&(e=e.normalGrid);var t,n,i=this,r=e.ownerLockable;i.callParent(arguments),i.grid=e,t=i.view=e.getView(),i.bindView(t),t.addRowTpl(i.addCollapsedCls).rowExpander=i,r?(i.addExpander(r.lockedGrid.headerCt.items.getCount()?r.lockedGrid:e),n=r.lockedGrid.getView(),i.bindView(n),n.addRowTpl(i.addCollapsedCls).rowExpander=i,r.syncRowHeight=!0,r.mon(r,{processcolumns:i.onLockableProcessColumns,lockcolumn:i.onColumnLock,unlockcolumn:i.onColumnUnlock,scope:i}),i.viewListeners=t.on({itemadd:Ext.Function.createAnimationFrame(r.syncRowHeights,r)})):(i.addExpander(e),e.on("beforereconfigure",i.beforeReconfigure,i))},beforeReconfigure:function(e,t,n,i,r){var o=this;o.viewListeners&&o.viewListeners.destroy(),n&&(o.expanderColumn=new Ext.grid.Column(o.getHeaderConfig()),n.unshift(o.expanderColumn))},onLockableProcessColumns:function(e,t,n){this.addExpander(t.length?e.lockedGrid:e.normalGrid)},addExpander:function(e){var t=this,n=t.getHeaderConfig();e.isLocked&&e.ownerLockable.shrinkWrapLocked&&(e.width+=n.width),t.expanderColumn=e.headerCt.insert(0,n),e.getSelectionModel().injectCheckbox=1},getRowBodyFeatureData:function(e,t,n){var i=this;i.self.prototype.setupRowData.apply(i,arguments),n.rowBody=i.getRowBodyContents(n),n.rowBodyCls=i.recordsExpanded[e.internalId]?"":i.rowBodyHiddenCls},setup:function(e,t){var n=this,i=n.grid.ownerLockable;n.self.prototype.setup.apply(n,arguments),i&&-1!==Ext.Array.indexOf(n.grid.columnManager.getColumns(),n.rowExpander.expanderColumn)&&(t.rowBodyColspan-=1)},bindView:function(e){this.expandOnEnter&&e.on("itemkeydown",this.onKeyDown,this),this.expandOnDblClick&&e.on("itemdblclick",this.onDblClick,this)},onKeyDown:function(e,t,n,i,r){if(r.getKey()===r.ENTER)for(var o=e.store,a=e.getSelectionModel().getSelection(),s=a.length,l=0;s>l;l++)i=o.indexOf(a[l]),this.toggleRow(i,a[l])},onDblClick:function(e,t,n,i,r){this.toggleRow(i,t)},toggleRow:function(e,t){var n,i,r=this,o=r.view,a=o.bufferedRenderer,s=o.scrollManager,l=o,d=o.getNode(e),u=Ext.fly(d),c=u.down(r.rowBodyTrSelector,!0),h=u.hasCls(r.rowCollapsedCls),f=h?"removeCls":"addCls",g=h?2:1,p=r.grid.ownerLockable;u[f](r.rowCollapsedCls),Ext.fly(c)[f](r.rowBodyHiddenCls),r.recordsExpanded[t.internalId]=h,r.grid.ownerLockable&&(l=p.getView(),p.lockedGrid.isVisible()&&(o=p.view.lockedGrid.view,n=Ext.fly(o.getNode(e)),n&&(n[f](r.rowCollapsedCls),c=n.down(r.rowBodyTrSelector,!0),Ext.fly(c)[f](r.rowBodyHiddenCls)))),r.expanderColumn&&(i=Ext.fly(o.getRow(e)).down(r.expanderColumn.getCellSelector(),!0),i&&(i.rowSpan=g)),l.fireEvent(h?"expandbody":"collapsebody",d,t,c),(o.getSizeModel().height.shrinkWrap||p)&&o.refreshSize(!0),s&&(a?a.stretchView(o,a.getScrollHeight(!0)):s.refresh(!0))},syncRowHeights:function(e,t){var n,i,r=this,o=Ext.fly(e).down(r.rowBodyTrSelector),a=Ext.fly(t).down(r.rowBodyTrSelector);a.isVisible()?(n=o.getHeight())!==(i=a.getHeight())&&(n>i?a.setHeight(n):o.setHeight(i)):o.dom.style.height=a.dom.style.height=""},onColumnUnlock:function(e,t){var n,i=this;e=i.grid.ownerLockable,n=e.lockedGrid.visibleColumnManager.getColumns(),1===n.length&&(n[0]===i.expanderColumn?e.unlock(i.expanderColumn):e.lock(i.expanderColumn,0))},onColumnLock:function(e,t){var n,i=this;e=i.grid.ownerLockable,n=e.lockedGrid.visibleColumnManager.getColumns(),1===n.length&&e.lockedGrid.headerCt.insert(0,i.expanderColumn)},getHeaderConfig:function(){var e=this,t=e.grid.ownerLockable;return{width:e.headerWidth,lockable:!1,autoLock:!0,sortable:!1,resizable:!1,draggable:!1,hideable:!1,menuDisabled:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-expander",renderer:function(){return'<div class="'+Ext.baseCSSPrefix+'grid-row-expander" role="presentation"></div>'},processEvent:function(t,n,i,r,o,a,s){return a.getTarget("."+Ext.baseCSSPrefix+"grid-row-expander")&&"click"===t?(e.toggleRow(r,s),e.selectRowOnExpand):void 0},isLocked:function(){return t.lockedGrid.isVisible()||this.locked},editRenderer:function(){return"&#160;"}}}}),Ext.define("Ext.grid.property.Grid",{extend:"Ext.grid.Panel",alias:"widget.propertygrid",alternateClassName:"Ext.grid.PropertyGrid",uses:["Ext.grid.plugin.CellEditing","Ext.grid.property.Store","Ext.grid.property.HeaderContainer","Ext.XTemplate","Ext.grid.CellEditor","Ext.form.field.Date","Ext.form.field.Text","Ext.form.field.Number","Ext.form.field.ComboBox"],valueField:"value",nameField:"name",inferTypes:!0,enableColumnMove:!1,columnLines:!0,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,gridCls:Ext.baseCSSPrefix+"property-grid",initComponent:function(){var e=this;e.source=e.source||{},e.addCls(e.gridCls),e.plugins=e.plugins||[],e.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:e.clicksToEdit,startEdit:function(t,n){return this.self.prototype.startEdit.call(this,t,e.valueColumn)}})),e.selModel={selType:"cellmodel",onCellSelect:function(t){return t.columnHeader=e.valueColumn,t.column=e.valueColumn.getVisibleIndex(),this.self.prototype.onCellSelect.call(this,t)}},e.sourceConfig=Ext.apply({},e.sourceConfig),e.store||(e.propStore=e.store=new Ext.grid.property.Store(e,e.source)),e.configure(e.sourceConfig),e.sortableColumns&&e.store.sort("name","ASC"),e.columns=new Ext.grid.property.HeaderContainer(e,e.store),e.callParent(),e.getView().walkCells=this.walkCells,e.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:!0})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:!0})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:!0})}),"boolean":new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:!1,store:[[!0,e.headerCt.trueText],[!1,e.headerCt.falseText]]})})},e.store.on("update",e.onUpdate,e)},configure:function(e){var t,n,i,r,o=this,a=o.store,s=0,l=o.store.getCount(),d=o.nameField,u=o.valueField;if(o.configureLegacy(e),o.inferTypes)for(;l>s;++s)i=a.getAt(s),t=i.get(d),o.getConfig(t,"type")||(n=i.get(u),r=Ext.isDate(n)?"date":Ext.isNumber(n)?"number":Ext.isBoolean(n)?"boolean":"string",o.setConfig(t,"type",r))},getConfig:function(e,t,n){var i,r=this.sourceConfig[e];return r&&(i=r[t]),i||n},setConfig:function(e,t,n){var i=this.sourceConfig,r=i[e];return r?r.__copied||(r=Ext.apply({__copied:!0},r),i[e]=r):r=i[e]={__copied:!0},r[t]=n,n},configureLegacy:function(e){var t=this;t.copyLegacyObject(e,t.customRenderers,"renderer"),t.copyLegacyObject(e,t.customEditors,"editor"),t.copyLegacyObject(e,t.propertyNames,"displayName"),(t.customRenderers||t.customEditors||t.propertyNames)&&Ext.global.console&&Ext.global.console.warn&&Ext.global.console.warn(this.$className,'customRenderers, customEditors & propertyNames have been consolidated into a new config, see "sourceConfig". These configurations will be deprecated.')},copyLegacyObject:function(e,t,n){var i;for(i in t)t.hasOwnProperty(i)&&(e[i]||(e[i]={}),e[i][n]=t[i])},onUpdate:function(e,t,n){var i,r,o=this;o.rendered&&n==Ext.data.Model.EDIT&&(i=t.get(o.valueField),r=t.modified.value,o.fireEvent("beforepropertychange",o.source,t.getId(),i,r)!==!1?(o.source&&(o.source[t.getId()]=i),t.commit(),o.fireEvent("propertychange",o.source,t.getId(),i,r)):t.reject())},walkCells:function(e,t,n,i,r,o){var a=this,s=a.ownerCt.valueColumn;return"left"==t?t="up":"right"==t&&(t="down"),e=Ext.view.Table.prototype.walkCells.call(a,e,t,n,i,r,o),e.columnHeader=s,e.column=s.getVisibleIndex(),e},getCellEditor:function(e,t){var n=this,i=e.get(n.nameField),r=e.get(n.valueField),o=n.getConfig(i,"editor"),a=n.getConfig(i,"type"),s=n.editors;if(o)o instanceof Ext.grid.CellEditor||(o instanceof Ext.form.field.Base||(o=Ext.ComponentManager.create(o,"textfield")),o=n.setConfig(i,"editor",new Ext.grid.CellEditor({field:o})));else if(a)switch(a){case"date":o=s.date;break;case"number":o=s.number;break;case"boolean":o=n.editors["boolean"];break;default:o=s.string}else o=Ext.isDate(r)?s.date:Ext.isNumber(r)?s.number:Ext.isBoolean(r)?s["boolean"]:s.string;return o.editorId=i,o.field.column=n.valueColumn,o},beforeDestroy:function(){var e=this;e.callParent(),e.destroyEditors(e.editors),e.destroyEditors(e.customEditors),delete e.source},destroyEditors:function(e){for(var t in e)e.hasOwnProperty(t)&&Ext.destroy(e[t])},setSource:function(e,t){var n=this;n.source=e,void 0!==t&&(n.sourceConfig=Ext.apply({},t),n.configure(n.sourceConfig)),n.propStore.setSource(e)},getSource:function(){return this.propStore.getSource()},setProperty:function(e,t,n){this.propStore.setValue(e,t,n)},removeProperty:function(e){this.propStore.remove(e)}}),Ext.define("Ext.grid.property.HeaderContainer",{extend:"Ext.grid.header.Container",alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",nameColumnInnerCls:Ext.baseCSSPrefix+"grid-cell-inner-property-name",constructor:function(e,t){var n=this;n.grid=e,n.store=t,n.callParent([{isRootHeader:!0,enableColumnResize:Ext.isDefined(e.enableColumnResize)?e.enableColumnResize:n.enableColumnResize,enableColumnMove:Ext.isDefined(e.enableColumnMove)?e.enableColumnMove:n.enableColumnMove,items:[{header:n.nameText,width:e.nameColumnWidth||n.nameWidth,sortable:e.sortableColumns,dataIndex:e.nameField,renderer:n.renderProp.bind(n),itemId:e.nameField,menuDisabled:!0,tdCls:n.nameColumnCls,innerCls:n.nameColumnInnerCls},{header:n.valueText,renderer:n.renderCell.bind(n),getEditor:n.getCellEditor.bind(n),sortable:e.sortableColumns,flex:1,fixed:!0,dataIndex:e.valueField,itemId:e.valueField,menuDisabled:!0}]}]),n.grid.valueColumn=n.items.items[1]},getCellEditor:function(e){return this.grid.getCellEditor(e,this)},renderProp:function(e){return this.getPropertyName(e)},renderCell:function(e,t,n){var i=this,r=i.grid,o=r.getConfig(n.get(r.nameField),"renderer"),a=e;return o?o.apply(i,arguments):(Ext.isDate(e)?a=i.renderDate(e):Ext.isBoolean(e)&&(a=i.renderBool(e)),Ext.util.Format.htmlEncode(a))},renderDate:Ext.util.Format.date,renderBool:function(e){return this[e?"trueText":"falseText"]},getPropertyName:function(e){return this.grid.getConfig(e,"displayName",e)}}),Ext.define("Ext.grid.property.Property",{extend:"Ext.data.Model",alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name"}),Ext.define("Ext.grid.property.Reader",{extend:"Ext.data.reader.Reader",successProperty:null,totalProperty:null,messageProperty:null,read:function(e){return this.readRecords(e)},readRecords:function(e){var t,n,i=this.getModel(),r={records:[],success:!0};for(n in e)e.hasOwnProperty(n)&&(t=e[n],this.isEditableValue(t)&&r.records.push(new i({name:n,value:t})));return r.total=r.count=r.records.length,new Ext.data.ResultSet(r)},isEditableValue:function(e){return Ext.isPrimitive(e)||Ext.isDate(e)||null===e}}),Ext.define("Ext.grid.property.Store",{extend:"Ext.data.Store",alternateClassName:"Ext.grid.PropertyStore",remoteSort:!0,requires:["Ext.grid.property.Reader","Ext.data.proxy.Memory","Ext.grid.property.Property"],constructor:function(e,t){var n=this;n.grid=e,n.source=t,n.callParent([{data:t,model:Ext.grid.property.Property,proxy:n.getProxy()}])},getProxy:function(){var e=this.proxy;return e||(e=this.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})),e},getReader:function(){var e=this.reader;return e||(e=this.reader=new Ext.grid.property.Reader({model:Ext.grid.property.Property})),e},setSource:function(e){var t=this;t.source=e,t.suspendEvents(),t.removeAll(),t.getProxy().setData(e),t.load(),t.resumeEvents(),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)},getProperty:function(e){return Ext.isNumber(e)?this.getAt(e):this.getById(e)},setValue:function(e,t,n){var i=this,r=i.getRec(e);r?(r.set("value",t),i.source[e]=t):n&&(i.source[e]=t,r=new Ext.grid.property.Property({name:e,value:t},e),i.add(r))},remove:function(e){var t=this.getRec(e);t&&(this.callParent([t]),delete this.source[e])},getRec:function(e){return this.getById(e)},getSource:function(){return this.source},onDestroy:function(){Ext.destroy(this.reader,this.proxy),this.callParent()}}),Ext.define("Ext.layout.ClassList",function(){var e=Ext.String.splitWords,t=Ext.Array.toMap;return{dirty:!1,constructor:function(n){this.owner=n,this.map=t(this.classes=e(n.el.className))},add:function(e){var t=this;t.map[e]||(t.map[e]=!0,t.classes.push(e),t.dirty||(t.dirty=!0,t.owner.markDirty()))},addMany:function(t){Ext.each(e(t),this.add,this)},contains:function(e){return this.map[e]},flush:function(){this.owner.el.className=this.classes.join(" "),this.dirty=!1},remove:function(e){var t=this;t.map[e]&&(delete t.map[e],t.classes=Ext.Array.filter(t.classes,function(t){return t!=e}),t.dirty||(t.dirty=!0,t.owner.markDirty()))},removeMany:function(n){var i=this,r=t(e(n));i.classes=Ext.Array.filter(i.classes,function(e){return r[e]?(delete i.map[e],i.dirty||(i.dirty=!0,i.owner.markDirty()),!1):!0})}}}()),Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(e){var t=this,n=t.getKey(e);return t.map[n]||(++t.length,t.items.push(e),t.map[n]=e),e},clear:function(){var e=this,t=e.items;return e.items=[],e.map={},e.length=0,t},contains:function(e){var t=this.getKey(e);return this.map.hasOwnProperty(t)},getCount:function(){return this.length},getKey:function(e){return e.id},remove:function(e){var t,n=this,i=n.getKey(e),r=n.items;return n.map[i]&&(t=Ext.Array.indexOf(r,e),Ext.Array.erase(r,t,1),delete n.map[i],--n.length),e}}),Ext.define("Ext.layout.ContextItem",{requires:["Ext.layout.ClassList"],heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(e){var t,n,i,r,o,a,s,l,d,u,c,h,f,g,p=this,m=Ext.layout.SizeModel.sizeModels,x=m.configured,E=m.shrinkWrap;Ext.apply(p,e),t=p.el,p.id=t.id,p.flushedProps={},p.props=o={},p.styles={},s=p.target,s.isComponent?(p.wrapsComponent=!0,p.framing=s.frameSize||null,p.isComponentChild=s.ownerLayout&&s.ownerLayout.isComponentLayout,n=s.lastBox,i=s.ownerCt,i&&(r=i.el&&p.context.items[i.el.id])&&(p.ownerCtContext=r),p.sizeModel=a=s.getSizeModel(r&&r.widthModel.pairsByHeightOrdinal[r.heightModel.ordinal]),p.widthModel=h=a.width,p.heightModel=f=a.height,n&&n.invalid===!1&&(u=s.width===(l=n.width),c=s.height===(d=n.height),h===E&&f===E?g=!0:h===x&&u&&(g=f===E||f===x&&c),g&&(p.optOut=!0,o.width=l,o.height=d))):n=t.lastBox,p.lastBox=n},init:function(e,t){var n,i,r,o,a,s,l,d,u=this,c=u.props,h=u.dirty,f=u.ownerCtContext,g=u.target.ownerLayout,p=!u.state,m=e||p,x=u.heightModel,E=u.widthModel,v=0;if(u.dirty=u.invalid=!1,u.props={},u.remainingChildDimensions=0,u.boxChildren&&(u.boxChildren.length=0),p||(u.clearAllBlocks("blocks"),u.clearAllBlocks("domBlocks")),!u.wrapsComponent)return m;if(s=u.target,u.state={},p)s.beforeLayout&&s.beforeLayout!==Ext.emptyFn&&s.beforeLayout(),!f&&(o=s.ownerCt)&&(f=u.context.items[o.el.id]),f?(u.ownerCtContext=f,u.isBoxParent=g&&g.isItemBoxParent(u)):u.isTopLevel=!0,u.frameBodyContext=u.getEl("frameBody");else for(f=u.ownerCtContext,u.isTopLevel=!f,n=u.children,i=0,r=n.length;r>i;++i)n[i].init(!0);return u.hasRawContent=!(s.isContainer&&s.items.items.length>0),e?(u.widthModel=u.heightModel=null,a=s.getSizeModel(f&&f.widthModel.pairsByHeightOrdinal[f.heightModel.ordinal]),p&&(u.sizeModel=a),u.widthModel=a.width,u.heightModel=a.height,f&&!u.isComponentChild&&(g.needsItemSize||!s.liquidLayout?f.remainingChildDimensions+=2:(u.widthModel.calculated&&++f.remainingChildDimensions,u.heightModel.calculated&&++f.remainingChildDimensions))):c&&(u.recoverProp("x",c,h),u.recoverProp("y",c,h),u.widthModel.calculated?u.recoverProp("width",c,h):"width"in c&&++v,u.heightModel.calculated?u.recoverProp("height",c,h):"height"in c&&++v,f&&!u.isComponentChild&&(f.remainingChildDimensions+=v)),c&&g&&g.manageMargins&&(u.recoverProp("margin-top",c,h),u.recoverProp("margin-right",c,h),u.recoverProp("margin-bottom",c,h),u.recoverProp("margin-left",c,h)),t&&(l=t.heightModel,d=t.widthModel,d&&l&&E&&x&&E.shrinkWrap&&x.shrinkWrap&&d.constrainedMax&&l.constrainedMin&&(l=null),d&&(u.widthModel=d),l&&(u.heightModel=l),t.state&&Ext.apply(u.state,t.state)),m},initContinue:function(e){var t,n=this,i=n.ownerCtContext,r=n.target,o=n.widthModel,a=r.getInherited();return o.fixed?a.inShrinkWrapTable=!1:delete a.inShrinkWrapTable,e&&(i&&o.shrinkWrap?(t=i.isBoxParent?i:i.boxParent,t&&t.addBoxChild(n)):o.natural&&(n.boxParent=i)),e},initDone:function(e){var t=this,n=t.props,i=t.state;0===t.remainingChildDimensions&&(n.containerChildrenSizeDone=!0),e&&(n.containerLayoutDone=!0),t.boxChildren&&t.boxChildren.length&&t.widthModel.shrinkWrap&&(t.el.setWidth(1e4),i.blocks=(i.blocks||0)+1)},initAnimation:function(){var e=this,t=e.target,n=e.ownerCtContext;n&&n.isTopLevel?e.animatePolicy=t.ownerLayout.getAnimatePolicy(e):!n&&t.isCollapsingOrExpanding&&t.animCollapse&&(e.animatePolicy=t.componentLayout.getAnimatePolicy(e)),e.animatePolicy&&e.context.queueAnimation(e)},addCls:function(e){this.getClassList().addMany(e)},removeCls:function(e){this.getClassList().removeMany(e)},addBlock:function(e,t,n){var i=this,r=i[e]||(i[e]={}),o=r[n]||(r[n]={});o[t.id]||(o[t.id]=t,++t.blockCount,++i.context.blockCount)},addBoxChild:function(e){var t,n=this,i=e.widthModel;e.boxParent=this,e.measuresBox=i.shrinkWrap?e.hasRawContent:i.natural,e.measuresBox&&(t=n.boxChildren,t?t.push(e):n.boxChildren=[e])},addPositionStyles:function(e,t){var n=t.x,i=t.y,r=0;return void 0!==n&&(e.left=n+"px",++r),void 0!==i&&(e.top=i+"px",++r),r},addTrigger:function(e,t){var n=this,i=t?"domTriggers":"triggers",r=n[i]||(n[i]={}),o=n.context,a=o.currentLayout,s=r[e]||(r[e]={});s[a.id]||(s[a.id]=a,++a.triggerCount,s=o.triggers[t?"dom":"data"],(s[a.id]||(s[a.id]=[])).push({item:this,prop:e}),void 0!==n.props[e]&&(t&&n.dirty&&e in n.dirty||++a.firedTriggers))},boxChildMeasured:function(){var e=this,t=e.state,n=t.boxesMeasured=(t.boxesMeasured||0)+1;n==e.boxChildren.length&&(t.clearBoxWidth=1,++e.context.progressCount,e.markDirty())},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(e){var t=e.getStyles(e.borderNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},marginInfo:function(e){var t=e.getStyles(e.marginNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},paddingInfo:function(e){var t=e.frameBodyContext||e,n=t.getStyles(e.paddingNames,e.trblNames);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}},checkCache:function(e){return this.cacheMissHandlers[e](this)},clearAllBlocks:function(e){var t,n=this[e];if(n)for(t in n)this.clearBlocks(e,t)},clearBlocks:function(e,t){var n,i,r,o=this[e],a=o&&o[t];if(a){delete o[t],n=this.context;for(r in a)i=a[r],--n.blockCount,--i.blockCount||i.pending||i.done||n.queueLayout(i)}},block:function(e,t){this.addBlock("blocks",e,t)},domBlock:function(e,t){this.addBlock("domBlocks",e,t)},fireTriggers:function(e,t){var n,i,r=this[e],o=r&&r[t],a=this.context;if(o)for(i in o)n=o[i],++n.firedTriggers,n.done||n.blockCount||n.pending||a.queueLayout(n)},flush:function(){var e=this,t=e.dirty,n=e.state,i=e.el;e.dirtyCount=0,e.classList&&e.classList.dirty&&e.classList.flush(),"attributes"in e&&(i.set(e.attributes),delete e.attributes),"innerHTML"in e&&(i.innerHTML=e.innerHTML,delete e.innerHTML),n&&n.clearBoxWidth&&(n.clearBoxWidth=0,e.el.setStyle("width",null),--n.blocks||e.context.queueItemLayouts(e)),t&&(delete e.dirty,e.writeProps(t,!0))},flushAnimations:function(){var e,t,n,i,r,o,a,s,l,d,u,c=this,h=c.previousSize;if(h){for(e=c.target,t=e.getAnimationProps(),n=t.duration,i=Ext.Object.getKeys(c.animatePolicy),r=Ext.apply({},{from:{},to:{},duration:n||Ext.fx.Anim.prototype.duration},t),o=0,a=0,s=i.length;s>a;a++)l=i[a],d=h[l],u=c.peek(l),d!=u&&(l=c.translateProps[l]||l,r.from[l]=d,r.to[l]=u,++o);o&&(1===c.isCollapsingOrExpanding?e.componentLayout.undoLayout(c):c.writeProps(r.from),c.el.animate(r),Ext.fx.Manager.getFxQueue(c.el.id)[0].on({afteranimate:function(){1===c.isCollapsingOrExpanding?(e.componentLayout.redoLayout(c),e.afterCollapse(!0)):2===c.isCollapsingOrExpanding&&e.afterExpand(!0)}}))}},getBorderInfo:function(){var e=this,t=e.borderInfo;return t||(e.borderInfo=t=e.checkCache("borderInfo")),t},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(e,t){var n,i,r,o=this;if(e){if(e.dom)i=e;else if(n=o.target,t&&(n=t),i=n[e],"function"==typeof i&&(i=i.call(n),i===o.el))return this;i&&(r=o.context.getEl(o,i))}return r||null},getFrameInfo:function(){var e,t,n=this,i=n.frameInfo;return i||(e=n.framing,t=n.getBorderInfo(),n.frameInfo=i=e?{top:e.top+t.top,right:e.right+t.right,bottom:e.bottom+t.bottom,left:e.left+t.left,width:e.width+t.width,height:e.height+t.height}:t),i},getMarginInfo:function(){var e,t,n,i,r=this,o=r.marginInfo;return o||(r.wrapsComponent?(e=r.target,n=e.ownerLayout,i=n?n.id:null,t=n&&n.manageMargins,o=e.margin$,o&&o.ownerId!==i&&(o=null),o||(o=r.parseMargins(e,e.margin)||r.checkCache("marginInfo"),t&&(r.setProp("margin-top",0),r.setProp("margin-right",0),r.setProp("margin-bottom",0),r.setProp("margin-left",0)),o.ownerId=i,e.margin$=o),o.width=o.left+o.right,o.height=o.top+o.bottom):o=r.checkCache("marginInfo"),r.marginInfo=o),o},clearMarginCache:function(){delete this.marginInfo,delete this.target.margin$},getPaddingInfo:function(){var e=this,t=e.paddingInfo;return t||(e.paddingInfo=t=e.checkCache("paddingInfo")),t},getProp:function(e){var t=this,n=t.props[e];return t.addTrigger(e),n},getDomProp:function(e){var t=this,n=t.dirty&&e in t.dirty?void 0:t.props[e];return t.addTrigger(e,!0),n},getStyle:function(e){var t,n,i=this,r=i.styles;return e in r?n=r[e]:(t=i.styleInfo[e],n=i.el.getStyle(e),t&&t.parseInt&&(n=parseInt(n,10)||0),r[e]=n),n},getStyles:function(e,t){var n,i,r,o,a,s,l,d,u=this,c=u.styles,h={},f=0,g=e.length;for(t=t||e,n=0;g>n;++n)o=e[n],o in c?(h[t[n]]=c[o],++f,n&&1==f&&(i=e.slice(0,n),r=t.slice(0,n))):f&&((i||(i=[])).push(o),(r||(r=[])).push(t[n]));if(g>f)for(i=i||e,r=r||t,s=u.styleInfo,l=u.el.getStyle(i),n=i.length;n--;)o=i[n],a=s[o],d=l[o],a&&a.parseInt&&(d=parseInt(d,10)||0),h[r[n]]=d,c[o]=d;return h},hasProp:function(e){return null!=this.getProp(e)},hasDomProp:function(e){return null!=this.getDomProp(e)},invalidate:function(e){this.context.queueInvalidate(this,e)},markDirty:function(){1==++this.dirtyCount&&this.context.queueFlush(this)},onBoxMeasured:function(){var e=this.boxParent,t=this.state;e&&e.widthModel.shrinkWrap&&!t.boxMeasured&&this.measuresBox&&(t.boxMeasured=1,e.boxChildMeasured())},parseMargins:function(e,t){t===!0&&(t=5);var n,i=typeof t;return"string"==i||"number"==i?n=e.parseBox(t):t&&(n={top:0,right:0,bottom:0,left:0},t&&(t=Ext.apply(n,e.parseBox(t)))),n},peek:function(e){return this.props[e]},recoverProp:function(e,t,n){var i,r=this,o=r.props;e in t&&(o[e]=t[e],n&&e in n&&(i=r.dirty||(r.dirty={}),i[e]=n[e]))},redo:function(e){var t,n,i,r=this;if(r.revertProps(r.props),e&&r.wrapsComponent){if(r.childItems)for(i=0,t=r.childItems,n=t.length;n>i;i++)t[i].redo(e);for(i=0,t=r.children,n=t.length;n>i;i++)t[i].redo()}},removeEl:function(e,t){var n,i,r=this;if(e){if(e.dom)i=e;else if(n=r.target,t&&(n=t),i=n[e],"function"==typeof i&&(i=i.call(n),i===r.el))return this;i&&r.context.removeEl(r,i)}},revertProps:function(e){var t,n=this.flushedProps,i={};for(t in e)n.hasOwnProperty(t)&&(i[t]=e[t]);this.writeProps(i)},setAttribute:function(e,t){var n=this;n.attributes||(n.attributes={}),n.attributes[e]=t,n.markDirty()},setBox:function(e){var t=this;"left"in e&&t.setProp("x",e.left),"top"in e&&t.setProp("y",e.top),t.setSize(e.width,e.height)},setContentHeight:function(e,t){return!t&&this.hasRawContent?1:this.setProp("contentHeight",e)},setContentWidth:function(e,t){return!t&&this.hasRawContent?1:this.setProp("contentWidth",e)},setContentSize:function(e,t,n){return this.setContentWidth(e,n)+this.setContentHeight(t,n)==2},setProp:function(e,t,n){var i,r=this,o=typeof t;return"undefined"==o||"number"===o&&isNaN(t)?0:r.props[e]===t?1:(r.props[e]=t,++r.context.progressCount,n===!1?(r.fireTriggers("domTriggers",e),r.clearBlocks("domBlocks",e)):(i=r.styleInfo[e],i&&(r.dirty||(r.dirty={}),
r.dirty[e]=t,r.markDirty())),r.fireTriggers("triggers",e),r.clearBlocks("blocks",e),1)},setHeight:function(e,t){var n,i,r,o,a,s=this,l=s.target,d=s.ownerCtContext;if(0>e&&(e=0),s.wrapsComponent){if(r=s.collapsedVert?0:l.minHeight||0,e=Ext.Number.constrain(e,r,l.maxHeight),o=s.props.height,!s.setProp("height",e,t))return NaN;d&&!s.isComponentChild&&isNaN(o)&&(a=--d.remainingChildDimensions,a||d.setProp("containerChildrenSizeDone",!0)),n=s.frameBodyContext,n&&(i=s.getFrameInfo(),n[s.el.vertical?"setWidth":"setHeight"](e-i.height,t))}else if(!s.setProp("height",e,t))return NaN;return e},setWidth:function(e,t){var n,i,r,o,a,s=this,l=s.target,d=s.ownerCtContext;if(0>e&&(e=0),s.wrapsComponent){if(r=s.collapsedHorz?0:l.minWidth||0,e=Ext.Number.constrain(e,r,l.maxWidth),o=s.props.width,!s.setProp("width",e,t))return NaN;d&&!s.isComponentChild&&isNaN(o)&&(a=--d.remainingChildDimensions,a||d.setProp("containerChildrenSizeDone",!0)),n=s.frameBodyContext,n&&(i=s.getFrameInfo(),n.setWidth(e-i.width,t))}else if(!s.setProp("width",e,t))return NaN;return e},setSize:function(e,t,n){this.setWidth(e,n),this.setHeight(t,n)},translateProps:{x:"left",y:"top"},undo:function(e){var t,n,i,r=this;if(r.revertProps(r.lastBox),e&&r.wrapsComponent){if(r.childItems)for(i=0,t=r.childItems,n=t.length;n>i;i++)t[i].undo(e);for(i=0,t=r.children,n=t.length;n>i;i++)t[i].undo()}},unsetProp:function(e){var t=this.dirty;delete this.props[e],t&&delete t[e]},writeProps:function(e,t){if(!e||"object"!=typeof e)return void Ext.Logger.warn("writeProps expected dirtyProps to be an object");var n,i,r,o,a,s,l,d,u,c=this,h=c.el,f={},g=0,p=c.styleInfo,m=e.width,x=e.height,E=c.target;"displayed"in e&&h.setDisplayed(e.displayed);for(i in e)t&&(c.fireTriggers("domTriggers",i),c.clearBlocks("domBlocks",i),c.flushedProps[i]=1),n=p[i],n&&n.dom&&(n.suffix&&(r=parseInt(e[i],10))?f[i]=r+n.suffix:f[i]=e[i],++g);("x"in e||"y"in e)&&(E.isComponent?E.setPosition(e.x,e.y):g+=c.addPositionStyles(f,e)),c.wrapsComponent&&Ext.isIE9&&((o=void 0!==m&&c.hasOverflowY)||(a=void 0!==x&&c.hasOverflowX))&&(s=c.isAbsolute,void 0===s&&(s=!1,u=c.target.getTargetEl(),d=u.getStyle("position"),c.isAbsolute="absolute"===d),s&&(l=Ext.getScrollbarSize(),o&&(m=parseInt(m,10)+l.width,f.width=m+"px",++g),a&&(x=parseInt(x,10)+l.height,f.height=x+"px",++g))),g&&h.setStyle(f)},debugHooks:{$enabled:!1,addBlock:function(e,t,n){return(t.blockedBy||(t.blockedBy={}))[this.id+"."+n+("dom"==e.substring(0,3)?":dom":"")]=1,this.callParent(arguments)},addBoxChild:function(e){var t,n=this.callParent(arguments),i=this.boxChildren;return i&&1==i.length&&(t=this.context.boxParents||(this.context.boxParents=new Ext.util.MixedCollection),t.add(this)),n},addTrigger:function(e,t){var n,i=this.context.currentLayout;this.callParent(arguments),n=this.context.triggersByLayoutId,(n[i.id]||(n[i.id]={}))[this.id+"."+e+(t?":dom":"")]={item:this,name:e}},checkAuthority:function(e){var t,n,i=this,r=i[e+"Model"],o=i.context.currentLayout;o==i.target.ownerLayout?t=r.calculated:o.isComponentLayout&&(t=i.isTopLevel||r.auto||r.configured),t||(n=i.context.getLayoutName(o),Ext.log(n+" cannot set "+e))},clearBlocks:function(e,t){var n,i,r=this[e],o=r&&r[t],a=this.id+"."+t+("dom"==e.substring(0,3)?":dom":"");if(o)for(i in o)n=o[i],delete n.blockedBy[a];return this.callParent(arguments)},getEl:function(e){var t=this.callParent(arguments);return t&&t!==this&&t.parent!==this&&Ext.Error.raise({msg:"Got element from wrong component"}),t},init:function(){var e,t=this;return e=t.callParent(arguments),t.context.logOn.initItem&&Ext.log(t.id," consumers: content=",t.consumersContentWidth,"/",t.consumersContentHeight,", container=",t.consumersContainerWidth,"/",t.consumersContainerHeight,", size=",t.consumersWidth,"/",t.consumersHeight),e},invalidate:function(){return this.wrapsComponent?this.context.logOn.invalidate&&Ext.log("invalidate: ",this.id):Ext.Error.raise({msg:"Cannot invalidate an element contextItem"}),this.callParent(arguments)},setProp:function(e,t,n){var i,r=this,o=r.context.currentLayout,a=r.context.getLayoutName(o),s=r.id+"."+e;return null!==t&&(i=r.setBy||(r.setBy={}),i[e]?i[e]!=a&&Ext.log({level:"warn"},"BAD! ",s," set by ",i[e]," and ",a):i[e]=a),r.context.logOn.setProp&&("undefined"==typeof t||isNaN(t)||r.props[e]===t||Ext.log("set ",s," = ",t," (",n,")")),this.callParent(arguments)},setHeight:function(e,t,n){return!n&&this.wrapsComponent&&this.checkAuthority("height"),this.callParent(arguments)},setWidth:function(e,t,n){return!n&&this.wrapsComponent&&this.checkAuthority("width"),this.callParent(arguments)}}},function(){var e={dom:!0,parseInt:!0,suffix:"px"},t={dom:!0},n={dom:!1};this.prototype.styleInfo={containerChildrenSizeDone:n,containerLayoutDone:n,displayed:n,done:n,x:n,y:n,columnWidthsDone:n,left:e,top:e,right:e,bottom:e,width:e,height:e,"border-top-width":e,"border-right-width":e,"border-bottom-width":e,"border-left-width":e,"margin-top":e,"margin-right":e,"margin-bottom":e,"margin-left":e,"padding-top":e,"padding-right":e,"padding-bottom":e,"padding-left":e,"line-height":t,display:t}}),Ext.define("Ext.layout.Context",{requires:["Ext.perf.Monitor","Ext.util.Queue","Ext.layout.ContextItem","Ext.layout.Layout","Ext.fx.Anim","Ext.fx.Manager"],remainingLayouts:0,state:0,constructor:function(e){var t=this;Ext.apply(t,e),t.items={},t.layouts={},t.blockCount=0,t.cycleCount=0,t.flushCount=0,t.calcCount=0,t.animateQueue=t.newQueue(),t.completionQueue=t.newQueue(),t.finalizeQueue=t.newQueue(),t.finishQueue=t.newQueue(),t.flushQueue=t.newQueue(),t.invalidateData={},t.layoutQueue=t.newQueue(),t.invalidQueue=[],t.triggers={data:{},dom:{}}},callLayout:function(e,t){this.currentLayout=e,e[t](this.getCmp(e.owner))},cancelComponent:function(e,t,n){var i,r,o,a,s,l,d,u,c,h,f=this,g=e,p=!e.isComponent,m=p?g.length:1;for(i=0;m>i;++i){if(p&&(e=g[i]),n&&e.ownerCt&&(h=this.items[e.ownerCt.el.id],h&&Ext.Array.remove(h.childItems,f.getCmp(e))),!t&&(d=f.invalidQueue,o=d.length))for(f.invalidQueue=l=[],r=0;o>r;++r)u=d[r],c=u.item.target,c==e||c.isDescendantOf(e)||l.push(u);s=e.componentLayout,f.cancelLayout(s),s.getLayoutItems&&(a=s.getLayoutItems(),a.length&&f.cancelComponent(a,!0)),e.isContainer&&!e.collapsed&&(s=e.layout,f.cancelLayout(s),a=s.getVisibleItems(),a.length&&f.cancelComponent(a,!0))}},cancelLayout:function(e){var t=this;t.completionQueue.remove(e),t.finalizeQueue.remove(e),t.finishQueue.remove(e),t.layoutQueue.remove(e),e.running&&t.layoutDone(e),e.ownerContext=null},clearTriggers:function(e,t){var n,i,r,o=e.id,a=this.triggers[t?"dom":"data"],s=a&&a[o],l=s&&s.length||0;for(n=0;l>n;++n)r=s[n],i=r.item,a=t?i.domTriggers:i.triggers,delete a[r.prop][o]},flush:function(){var e,t=this,n=t.flushQueue.clear(),i=n.length;if(i)for(++t.flushCount,e=0;i>e;++e)n[e].flush()},flushAnimations:function(){var e,t=this,n=t.animateQueue.clear(),i=n.length;if(i){for(e=0;i>e;e++)n[e].target.animate!==!1&&n[e].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var e,t,n,i,r=this,o=r.invalidQueue,a=o&&o.length;if(r.invalidQueue=[],a){for(t=[],i=0;a>i;++i)e=(n=o[i]).item.target,e.container.isDetachedBody||(t.push(e),n.options&&(r.invalidateData[e.id]=n.options));r.invalidate(t,null)}},flushLayouts:function(e,t,n){var i,r,o=this,a=n?o[e].items:o[e].clear(),s=a.length;if(s){for(i=0;s>i;++i)r=a[i],r.running||o.callLayout(r,t);o.currentLayout=null}},getCmp:function(e){return this.getItem(e,e.el)},getEl:function(e,t){var n=this.getItem(t,t);return n.parent||(n.parent=e,e.children.length?e.children.push(n):e.children=[n]),n},getItem:function(e,t){var n=t.id,i=this.items,r=i[n]||(i[n]=new Ext.layout.ContextItem({context:this,target:e,el:t}));return r},handleFailure:function(){var e,t,n=this.layouts;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(t in n)e=n[t],n.hasOwnProperty(t)&&(e.running=!1,e.ownerContext=null);Ext.repoDevMode&&!this.pageAnalyzerMode?Ext.Error.raise("Layout run failed"):Ext.log.error("Layout run failed")},invalidate:function(e,t){var n,i,r,o,a,s,l,d,u,c,h,f,g,p=this,m=!e.isComponent;for(o=0,d=m?e.length:1;d>o;++o)if(a=m?e[o]:e,a.rendered&&!a.hidden){if(i=a.ownerLayout,u=a.componentLayout,r=!u.ownerContext,g=!1,i&&i.needsItemSize||!a.liquidLayout||(g=!0),(!g||i&&i.setsItemSize)&&(s=p.getCmp(a),c=a.isContainer&&!a.collapsed?a.layout:null,h=p.invalidateData[s.id],delete p.invalidateData[s.id],f=s.init(t,h)),g)continue;h&&p.processInvalidate(h,s,"before"),u.beforeLayoutCycle&&u.beforeLayoutCycle(s),c&&c.beforeLayoutCycle&&c.beforeLayoutCycle(s),f=s.initContinue(f),n=!0,u.getLayoutItems&&(u.renderChildren(),l=u.getLayoutItems(),l.length&&p.invalidate(l,!0)),c&&(n=!1,c.renderChildren(),(c.needsItemSize||c.activeItemCount)&&(l=c.getVisibleItems(),l.length&&p.invalidate(l,!0))),s.initDone(n),p.resetLayout(u,s,r),c&&p.resetLayout(c,s,r),s.initAnimation(),h&&p.processInvalidate(h,s,"after")}p.currentLayout=null},layoutDone:function(e){var t=e.ownerContext;e.running=!1,e.isComponentLayout?(t.measuresBox&&t.onBoxMeasured(),t.setProp("done",!0)):t.setProp("containerLayoutDone",!0),--this.remainingLayouts,++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(e,t,n){if(e[n]){var i=this,r=i.currentLayout;i.currentLayout=e.layout||null,e[n](t,e),i.currentLayout=r}},queueAnimation:function(e){this.animateQueue.add(e)},queueCompletion:function(e){this.completionQueue.add(e)},queueFinalize:function(e){this.finalizeQueue.add(e)},queueFlush:function(e){this.flushQueue.add(e)},chainFns:function(e,t,n){var i=this,r=e.layout,o=t.layout,a=e[n],s=t[n];return function(n){var l=i.currentLayout;a&&(i.currentLayout=r,a.call(e.scope||e,n,e)),i.currentLayout=o,s.call(t.scope||t,n,t),i.currentLayout=l}},purgeInvalidates:function(){var e,t,n,i,r,o,a,s=this,l=[],d=s.invalidQueue,u=d.length;for(e=0;u>e;++e){for(r=d[e],o=r.item.target,a=!0,t=l.length;t--;){if(n=l[t],i=n.item.target,o.isDescendant(i)){a=!1;break}i.isDescendant(o)&&Ext.Array.erase(l,t,1)}a&&l.push(r)}s.invalidQueue=l},queueInvalidate:function(e,t){var n,i,r,o,a,s=this,l=[],d=s.invalidQueue,u=d.length;for(e.isComponent?e=s.getCmp(n=e):n=e.target,e.invalid=!0;u--;){if(i=d[u],r=i.item.target,n.isDescendantOf(r))return;if(r==n)return void((o=i.options)?t&&(t.widthModel&&(o.widthModel=t.widthModel),t.heightModel&&(o.heightModel=t.heightModel),(a=o.state)?t.state&&Ext.apply(a,t.state):o.state=t.state,t.before&&(o.before=s.chainFns(o,t,"before")),t.after&&(o.after=s.chainFns(o,t,"after"))):i.options=t);r.isDescendantOf(n)||l.push(i)}l.push({item:e,options:t}),s.invalidQueue=l},queueItemLayouts:function(e){var t=e.isComponent?e:e.target,n=t.componentLayout;n.pending||n.invalid||n.done||this.queueLayout(n),n=t.layout,!n||n.pending||n.invalid||n.done||this.queueLayout(n)},queueLayout:function(e){this.layoutQueue.add(e),e.pending=!0},removeEl:function(e,t){var n=t.id,i=e.children,r=this.items;i&&Ext.Array.remove(i,r[n]),delete r[n]},resetLayout:function(e,t,n){var i=this;i.currentLayout=e,e.done=!1,e.pending=!0,e.firedTriggers=0,i.layoutQueue.add(e),n?(i.layouts[e.id]=e,e.running=!0,e.finishedLayout&&i.finishQueue.add(e),++i.remainingLayouts,++e.layoutCount,e.ownerContext=t,e.beginCount=0,e.blockCount=0,e.calcCount=0,e.triggerCount=0,e.initialized||e.initLayout(),e.beginLayout(t)):(++e.beginCount,e.running||(++i.remainingLayouts,e.running=!0,e.isComponentLayout&&t.unsetProp("done"),i.completionQueue.remove(e),i.finalizeQueue.remove(e))),e.beginLayoutCycle(t,n)},run:function(){var e=this,t=!1,n=100;for(e.purgeInvalidates(),e.flushInvalidates(),e.state=1,e.totalCount=e.layoutQueue.getCount(),e.flush();(e.remainingLayouts||e.invalidQueue.length)&&n--;){if(e.invalidQueue.length&&e.flushInvalidates(),e.runCycle())t=!1;else if(t){if(!e.invalidQueue.length){e.state=2;break}}else e.flush(),t=!0,e.flushLayouts("completionQueue","completeLayout");e.remainingLayouts||e.invalidQueue.length||(e.flush(),e.flushLayouts("completionQueue","completeLayout"),e.flushLayouts("finalizeQueue","finalizeLayout"))}return e.runComplete()},runComplete:function(){var e=this;return e.state=2,e.remainingLayouts?(e.handleFailure(),!1):(e.flush(),e.flushLayouts("finishQueue","finishedLayout",!0),e.flushLayouts("finishQueue","notifyOwner"),e.flush(),e.flushAnimations(),!0)},runCycle:function(){var e,t=this,n=t.layoutQueue.clear(),i=n.length;for(++t.cycleCount,t.progressCount=0,e=0;i>e;++e)t.runLayout(t.currentLayout=n[e]);return t.currentLayout=null,t.progressCount>0},runLayout:function(e){var t=this,n=t.getCmp(e.owner);e.pending=!1,n.state.blocks||(e.done=!0,++e.calcCount,++t.calcCount,e.calculate(n),e.done?(t.layoutDone(e),e.completeLayout&&t.queueCompletion(e),e.finalizeLayout&&t.queueFinalize(e)):e.pending||e.invalid||e.blockCount+e.triggerCount-e.firedTriggers||t.queueLayout(e))},setItemSize:function(e,t,n){var i,r,o=e,a=1;for(e.isComposite?(o=e.elements,a=o.length,e=o[0]):e.dom||e.el||(a=o.length,e=o[0]),r=0;a>r;)i=this.get(e),i.setSize(t,n),e=o[++r]},debugHooks:{$enabled:!1,pageAnalyzerMode:!0,logOn:{0:0},cancelComponent:function(e){this.logOn.cancelComponent&&Ext.log("cancelCmp: ",e.id),this.callParent(arguments)},cancelLayout:function(e){this.logOn.cancelLayout&&Ext.log("cancelLayout: ",this.getLayoutName(e)),this.callParent(arguments)},callLayout:function(e,t){var n=this.accumByType[e.type],i=n&&n.enter();this.callParent(arguments),n&&i.leave()},checkRemainingLayouts:function(){var e,t,n=this,i=0;for(e in n.layouts)t=n.layouts[e],n.layouts.hasOwnProperty(e)&&t.running&&++i;n.remainingLayouts!=i&&Ext.Error.raise({msg:"Bookkeeping error me.remainingLayouts"})},flush:function(){if(this.logOn.flush){var e=this.flushQueue;Ext.log("--- Flush ",e&&e.getCount())}return this.callParent(arguments)},flushInvalidates:function(){this.logOn.flushInvalidate&&Ext.log(">> flushInvalidates");var e=this.callParent(arguments);return this.logOn.flushInvalidate&&Ext.log("<< flushInvalidates"),e},getCmp:function(e){var t=this.callParent(arguments);return t.wrapsComponent||Ext.Error.raise({msg:e.id+" is not a component"}),t},getEl:function(e,t){var n=this.callParent(arguments);return n&&n.wrapsComponent&&Ext.Error.raise({msg:e.id+"/"+t.id+" is a component (expected element)"}),n},getLayoutName:function(e){return e.owner.id+"<"+e.type+">"},layoutDone:function(e){var t=this,n=t.getLayoutName(e);t.logOn.layoutDone&&Ext.log("layoutDone: ",n," ( ",t.remainingLayouts," running)"),e.running||Ext.Error.raise({msg:n+" is already done"}),t.remainingLayouts||Ext.Error.raise({msg:n+" finished but no layouts are running"}),t.callParent(arguments)},layoutTreeHasFailures:function(e,t){function n(e){var t,i,o=!e.done;if(e.done)for(t in r.layouts)r.layouts.hasOwnProperty(t)&&(i=r.layouts[t],i.owner.ownerLayout===e&&n(i)&&(o=!0));return o}function i(e){var n,o;t[e.id]=1;for(n in r.layouts)r.layouts.hasOwnProperty(n)&&(o=r.layouts[n],o.owner.ownerLayout===e&&i(o))}var r=this;return n(e)?!0:(i(e),!1)},queueLayout:function(e){return(e.done||e.blockCount||e.pending)&&Ext.Error.raise({msg:this.getLayoutName(e)+" should not be queued for layout"}),this.logOn.queueLayout&&Ext.log("Queue ",this.getLayoutName(e)),this.callParent(arguments)},reportLayoutResult:function(e,t){var n,i,r,o,a,s,l,d,u=this,c=e.owner,h=u.getCmp(c),f=[],g=[];t[e.id]=1;for(n in e.blockedBy)e.blockedBy.hasOwnProperty(n)&&f.push(e.blockedBy[n]);f.sort();for(n in u.triggersByLayoutId[e.id])u.triggersByLayoutId[e.id].hasOwnProperty(n)&&(i=u.triggersByLayoutId[e.id][n],g.push({name:n,info:i}));if(g.sort(function(e,t){return e.name<t.name?-1:t.name<e.name?1:0}),Ext.log({indent:1},e.done?"++":"--",u.getLayoutName(e),h.isBoxParent?" [isBoxParent]":"",h.boxChildren?" - boxChildren: "+h.state.boxesMeasured+"/"+h.boxChildren.length:"",h.boxParent?" - boxParent: "+h.boxParent.id:""," - size: ",h.widthModel.name,"/",h.heightModel.name),!e.done||u.reportOnSuccess){if(f.length){for(++Ext.log.indent,Ext.log({indent:1},"blockedBy:  count=",e.blockCount),o=f.length,r=0;o>r;r++)Ext.log(f[r]);Ext.log.indent-=2}if(g.length){for(++Ext.log.indent,Ext.log({indent:1},"triggeredBy: count="+e.triggerCount),o=g.length,r=0;o>r;r++)d=i.info||i,s=d.item,l=s.setBy&&s.setBy[d.name]||"?",i=g[r],Ext.log(i.name," (",s.props[d.name],") dirty: ",s.dirty?!!s.dirty[d.name]:!1,", setBy: ",l);Ext.log.indent-=2}}for(n in u.layouts)u.layouts.hasOwnProperty(n)&&(a=u.layouts[n],a.done||a.owner.ownerLayout!==e||u.reportLayoutResult(a,t));for(n in u.layouts)u.layouts.hasOwnProperty(n)&&(a=u.layouts[n],a.done&&a.owner.ownerLayout===e&&u.reportLayoutResult(a,t));--Ext.log.indent},resetLayout:function(e){var t,n=this,i=e.type,r=n.getLayoutName(e),o=n.accumByType[i];n.logOn.resetLayout&&Ext.log("resetLayout: ",r," ( ",n.remainingLayouts," running)"),n.state||(!o&&n.profileLayoutsByType&&(n.accumByType[i]=o=Ext.Perf.get("layout_"+e.type)),n.numByType[i]=(n.numByType[i]||0)+1),t=o&&o.enter(),n.callParent(arguments),o&&t.leave(),n.checkRemainingLayouts()},round:function(e){return Math.round(1e3*e)/1e3},run:function(){var e,t,n,i,r,o,a,s,l,d,u,c,h,f,g=this;if(g.accumByType={},g.calcsByType={},g.numByType={},g.timesByType={},g.triggersByLayoutId={},Ext.log.indentSize=3,Ext.log("==================== LAYOUT ===================="),t=Ext.perf.getTimestamp(),e=g.callParent(arguments),t=Ext.perf.getTimestamp()-t,g.logOn.boxParent&&g.boxParents)for(n in g.boxParents)if(g.boxParents.hasOwnProperty(n))for(o=g.boxParents[n],a=o.boxChildren,s=a.length,Ext.log("boxParent: ",o.id),i=0;s>i;++i)Ext.log(" --> ",a[i].id);e?Ext.log("----------------- SUCCESS -----------------"):Ext.log({level:"error"},"----------------- FAILURE -----------------");for(n in g.layouts)g.layouts.hasOwnProperty(n)&&(r=g.layouts[n],r.running&&Ext.log.error("Layout left running: ",g.getLayoutName(r)),r.ownerContext&&Ext.log.error("Layout left connected: ",g.getLayoutName(r)));if(!e||g.reportOnSuccess){l={},d=0;for(n in g.layouts)g.layouts.hasOwnProperty(n)&&(r=g.layouts[n],g.items[r.owner.el.id].isTopLevel&&(g.reportOnSuccess||g.layoutTreeHasFailures(r,l))&&g.reportLayoutResult(r,l));for(n in g.layouts)g.layouts.hasOwnProperty(n)&&(r=g.layouts[n],l[r.id]||(d||Ext.log("----- Unreported!! -----"),++d,g.reportLayoutResult(r,l)))}Ext.log("Cycles: ",g.cycleCount,", Flushes: ",g.flushCount,", Calculates: ",g.calcCount," in ",g.round(t)," msec"),Ext.log("Calculates by type:"),u=[];for(n in g.numByType)g.numByType.hasOwnProperty(n)&&(c=g.numByType[n],u.push({type:n,total:c,calcs:g.calcsByType[n],multiple:Math.round(g.calcsByType[n]/c*10)/10,calcTime:g.round(g.timesByType[n]),avgCalcTime:g.round(g.timesByType[n]/g.calcsByType[n])}));for(u.sort(function(e,t){return t.calcTime-e.calcTime}),h=u.length,i=0;h>i;i++)f=u[i],Ext.log(f.type,": ",f.total," in ",f.calcs," tries (",f.multiple,"x) at ",f.calcTime," msec (avg ",f.avgCalcTime," msec)");return e},runCycle:function(){return this.logOn.runCycle&&Ext.log(">>> Cycle ",this.cycleCount," (queue length: ",this.layoutQueue.length,")"),this.callParent(arguments)},runLayout:function(e){var t,n,i,r=this,o=e.type,a=r.accumByType[o];return r.logOn.calculate&&Ext.log("-- calculate ",this.getLayoutName(e)),t=a&&a.enter(),i=Ext.perf.getTimestamp(),n=r.callParent(arguments),i=Ext.perf.getTimestamp()-i,a&&t.leave(),r.calcsByType[o]=(r.calcsByType[o]||0)+1,r.timesByType[o]=(r.timesByType[o]||0)+i,n}}}),Ext.define("Ext.layout.component.FieldSet",{extend:"Ext.layout.component.Body",alias:["layout.fieldset"],type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(e){e.target.collapsed&&(e.heightModel=this.sizeModels.shrinkWrap)},beginLayoutCycle:function(e){var t,n=e.target;this.callParent(arguments),n.collapsed&&(e.setContentHeight(0),e.restoreMinHeight=n.minHeight,delete n.minHeight,e.widthModel.shrinkWrap&&(t=n.lastComponentSize,e.setContentWidth(t&&t.contentWidth||this.defaultCollapsedWidth)))},finishedLayout:function(e){var t=this.owner,n=e.restoreMinHeight;this.callParent(arguments),n&&(t.minHeight=n)},calculateOwnerHeightFromContentHeight:function(e,t){var n=e.getBorderInfo(),i=e.target.legend;return e.getProp("contentHeight")+e.getPaddingInfo().height+(Ext.isIE8?e.bodyContext.getPaddingInfo().top:0)+(i?i.getHeight():n.top)+n.bottom},publishInnerHeight:function(e,t){var n=e.target.legend;n&&(t-=n.getHeight()),this.callParent([e,t])},getLayoutItems:function(){var e=this.owner.legend;return e?[e]:[]}}),Ext.define("Ext.layout.container.Absolute",{alias:"layout.absolute",extend:"Ext.layout.container.Anchor",alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:Ext.baseCSSPrefix+"abs-layout-ct",itemCls:Ext.baseCSSPrefix+"abs-layout-item",ignoreOnContentChange:!0,type:"absolute",adjustWidthAnchor:function(e,t){var n=this.targetPadding,i=t.getStyle("left");return e-i+n.left},adjustHeightAnchor:function(e,t){var n=this.targetPadding,i=t.getStyle("top");return e-i+n.top},isItemLayoutRoot:function(e){return this.ignoreOnContentChange||this.callParent(arguments)},isItemShrinkWrap:function(e){return!0},beginLayout:function(e){var t=this,n=t.getTarget();t.callParent(arguments),n.dom!==document.body&&n.position(),t.targetPadding=e.targetContext.getPaddingInfo()},isItemBoxParent:function(e){return!0},onContentChange:function(){return this.ignoreOnContentChange?!1:this.callParent(arguments)},calculateContentSize:function(e,t){var n,i,r,o,a,s,l,d=this,u=(t||0)|((e.widthModel.shrinkWrap?1:0)|(e.heightModel.shrinkWrap?2:0)),c=1&u||void 0,h=2&u||void 0,f=e.childItems,g=f.length,p=0,m=0,x=0,E=e.props;if(c&&(isNaN(E.contentWidth)?++x:c=void 0),h&&(isNaN(E.contentHeight)?++x:h=void 0),x){for(a=0;g>a;++a)if(r=f[a],i=r.target,o=h&&r.getProp("height"),l=c&&r.getProp("width"),s=r.getMarginInfo(),o+=s.bottom,l+=s.right,p=Math.max(p,(i.y||0)+o),m=Math.max(m,(i.x||0)+l),isNaN(p)&&isNaN(m))return void(d.done=!1);(c||h)&&(n=e.targetContext.getPaddingInfo()),c&&!e.setContentWidth(m+n.width)&&(d.done=!1),h&&!e.setContentHeight(p+n.height)&&(d.done=!1)}}}),Ext.define("Ext.layout.container.Accordion",{extend:"Ext.layout.container.VBox",alias:"layout.accordion",type:"accordion",alternateClassName:"Ext.layout.AccordionLayout",targetCls:Ext.baseCSSPrefix+"accordion-layout-ct",itemCls:[Ext.baseCSSPrefix+"box-item",Ext.baseCSSPrefix+"accordion-item"],align:"stretch",enableSplitters:!1,fill:!0,titleCollapse:!0,hideCollapseTool:!1,collapseFirst:void 0,animate:!0,activeOnTop:!1,multi:!1,panelCollapseMode:"header",defaultAnimatePolicy:{y:!0,height:!0},constructor:function(){var e=this;e.callParent(arguments),e.animate?(e.animatePolicy={},e.animatePolicy[e.names.x]=!0,e.animatePolicy[e.names.width]=!0):e.animatePolicy=null},beforeRenderItems:function(e){var t,n,i=this,r=e.length,o=i.owner,a=i.collapseFirst,s=Ext.isDefined(a),l=i.getExpanded(!0)[0],d=i.multi;for(n=0;r>n;n++)t=e[n],t.rendered||(d&&t.collapsible===!1||(t.collapsible=!0),t.collapsible&&(s&&(t.collapseFirst=a),i.hideCollapseTool?(t.hideCollapseTool=i.hideCollapseTool,t.titleCollapse=!0):i.titleCollapse&&void 0===t.titleCollapse&&(t.titleCollapse=i.titleCollapse)),t.hideHeader=t.width=null,t.title=t.title||"&#160;",t.addBodyCls(Ext.baseCSSPrefix+"accordion-body"),d||(l?t.collapsed=l!==t:t.hasOwnProperty("collapsed")&&t.collapsed===!1?l=t:t.collapsed=!0,o.mon(t,"show",i.onComponentShow,i)),t.headerOverCls=Ext.baseCSSPrefix+"accordion-hd-over");i.processing||d||(l?i.activeOnTop&&(l.collapsed=!1,i.configureItem(l),o.items.indexOf(l)>0&&o.insert(0,l)):r&&(e[0].collapsed=!1))},getItemsRenderTree:function(e){return this.beforeRenderItems(e),this.callParent(arguments)},renderItems:function(e,t){this.beforeRenderItems(e),this.callParent(arguments)},configureItem:function(e){this.callParent(arguments),e.ignoreHeaderBorderManagement=!0,e.animCollapse=!1,this.fill&&(e.flex=1)},beginLayout:function(e){this.callParent(arguments),this.updatePanelClasses(e)},updatePanelClasses:function(e){var t,n,i,r=e.visibleItems,o=r.length,a=!0;for(t=0;o>t;t++)n=r[t],i=n.header,i.addCls(Ext.baseCSSPrefix+"accordion-hd"),a?i.removeCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"):i.addCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"),t+1==o&&n.collapsed?i.addCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"):i.removeCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"),a=n.collapsed},onBeforeComponentExpand:function(e){var t,n,i=this,r=i.owner,o=i.multi,a=!o&&!i.animate&&i.activeOnTop;i.processing||(i.processing=!0,n=r.deferLayouts,r.deferLayouts=!0,o||(t=i.getExpanded()[0],t&&t!==e&&t.collapse()),a&&(Ext.suspendLayouts(),r.insert(0,e),Ext.resumeLayouts()),r.deferLayouts=n,i.processing=!1)},onBeforeComponentCollapse:function(e){var t,n,i,r=this,o=r.owner;return 1===r.owner.items.getCount()?!1:void(r.processing||(r.processing=!0,i=o.deferLayouts,o.deferLayouts=!0,t=e.next()||e.prev(),r.multi?(n=r.getExpanded(),1===n.length&&t.expand()):t&&t.expand(),o.deferLayouts=i,r.processing=!1))},onComponentShow:function(e){this.onBeforeComponentExpand(e)},onAdd:function(e){var t=this;t.callParent(arguments),"placeholder"===e.collapseMode&&(e.collapseMode=t.panelCollapseMode),e.collapseDirection=e.headerPosition,t.layoutCount&&!t.multi&&t.owner.items.getCount()>1&&(t.processing=!0,e.collapse(),t.processing=!1)},onRemove:function(e,t){var n,i=this;i.callParent(arguments),i.owner.destroying||i.multi||e.collapsed||(n=i.owner.items.first(),n&&n.expand())},getExpanded:function(e){for(var t,n,i=this.owner.items.items,r=i.length,o=0,a=[];r>o;++o)n=i[o],n.hidden||(t=e?n.hasOwnProperty("collapsed")&&n.collapsed===!1:!n.collapsed,t&&a.push(n));return a}}),Ext.define("Ext.layout.container.Center",{extend:"Ext.layout.container.Fit",alias:["layout.center","layout.ux.center"],alternateClassName:"Ext.ux.layout.Center",percentRe:/^\d+(?:\.\d+)?\%$/,itemCls:Ext.baseCSSPrefix+"center-layout-item",targetCls:Ext.baseCSSPrefix+"center-layout",getItemSizePolicy:function(e,t){var n=this,i=t||n.owner.getSizeModel(),r=n.percentRe,o=(i.width.shrinkWrap||!r.test(e.width)?0:1)|(i.height.shrinkWrap||!r.test(e.height)?0:2);return n.sizePolicies[o]},getPos:function(e,t,n){var i=e.props[n]+t.margins[n],r=Math.round((t.targetSize[n]-i)/2);return isNaN(r)&&(this.done=!1),Math.max(r,0)},positionItemX:function(e,t){var n=this.getPos(e,t,"width");e.setProp("x",n)},positionItemY:function(e,t){var n=this.getPos(e,t,"height");e.setProp("y",n)},setItemHeight:function(e,t){var n=parseFloat(e.target.height)/100;e.setHeight(Math.round((t.targetSize.height-t.margins.height)*n))},setItemWidth:function(e,t){var n=parseFloat(e.target.width)/100;e.setWidth(Math.round((t.targetSize.width-t.margins.width)*n))}}),Ext.define("Ext.layout.container.Form",{extend:"Ext.layout.container.Auto",alternateClassName:"Ext.layout.FormLayout",alias:"layout.form",type:"form",formWrapCls:Ext.baseCSSPrefix+"form-layout-wrap",formWrapAutoLabelCls:Ext.baseCSSPrefix+"form-layout-auto-label",formWrapSizedLabelCls:Ext.baseCSSPrefix+"form-layout-sized-label",formColGroupCls:Ext.baseCSSPrefix+"form-layout-colgroup",formColumnCls:Ext.baseCSSPrefix+"form-layout-column",formLabelColumnCls:Ext.baseCSSPrefix+"form-layout-label-column",childEls:["formWrap","labelColumn"],beforeBodyTpl:'<div id="{ownerId}-formWrap" data-ref="formWrap" class="{formWrapCls}"<tpl if="itemSpacing"> style="border-spacing:{itemSpacing}px"</tpl>><div class="{formColGroupCls}"><div id="{ownerId}-labelColumn" data-ref="labelColumn" class="{formColumnCls} {formLabelColumnCls}"<tpl if="labelWidth"> style="width:{labelWidth}"</tpl>></div><div class="{formColumnCls}"></div></div>',afterBodyTpl:"</div>",getRenderData:function(){var e=this,t=e.labelWidth,n=e.formWrapCls,i=e.callParent();return t?("number"==typeof t&&(t+="px"),i.labelWidth=t,n+=" "+e.formWrapSizedLabelCls):n+=" "+e.formWrapAutoLabelCls,i.formWrapCls=n,i.formColGroupCls=e.formColGroupCls,i.formColumnCls=e.formColumnCls,i.formLabelColumnCls=e.formLabelColumnCls,i},getRenderTarget:function(){return this.formWrap}}),Ext.define("Ext.layout.container.SegmentedButton",{extend:"Ext.layout.container.Container",alias:"layout.segmentedbutton",needsItemSize:!1,setsItemSize:!1,_btnRowCls:Ext.baseCSSPrefix+"segmented-button-row",getRenderTree:function(){var e,t,n=this,i=n.callParent();if(n.owner.getVertical())for(e=0,t=i.length;t>e;e++)i[e]={cls:n._btnRowCls,cn:i[e]};return i},getItemLayoutEl:function(e){var t=e.el.dom;return this.owner.getVertical()?t.parentNode:t}}),Ext.define("Ext.menu.ColorPicker",{extend:"Ext.menu.Menu",alias:"widget.colormenu",requires:["Ext.picker.Color"],hideOnClick:!0,pickerId:null,initComponent:function(){var e=this,t=Ext.apply({},e.initialConfig);delete t.listeners,Ext.apply(e,{plain:!0,showSeparator:!1,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-color-item",margin:0,id:e.pickerId,xtype:"colorpicker"},t)}),e.callParent(arguments),e.picker=e.down("colorpicker"),e.relayEvents(e.picker,["select"]),e.hideOnClick&&e.on("select",e.hidePickerOnSelect,e)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.menu.DatePicker",{extend:"Ext.menu.Menu",alias:"widget.datemenu",requires:["Ext.picker.Date"],hideOnClick:!0,pickerId:null,initComponent:function(){var e=this,t=Ext.apply({},e.initialConfig);delete t.listeners,Ext.apply(e,{showSeparator:!1,plain:!0,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-date-item",margin:0,border:!1,id:e.pickerId,xtype:"datepicker"},t)}),e.callParent(arguments),e.picker=e.down("datepicker"),e.relayEvents(e.picker,["select"]),e.hideOnClick&&e.on("select",e.hidePickerOnSelect,e)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.panel.Pinnable",{extend:"Ext.Mixin",mixinId:"pinnable",pinnable:!0,pinnedTip:"Unpin this item",unpinnedTip:"Pin this item",initPinnable:function(){var e=this,t=e.isPinned();e.addTool(e.pinTool=Ext.widget({xtype:"tool",type:t?"unpin":"pin",callback:"togglePin",scope:e,tooltip:t?e.pinnedTip:e.unpinnedTip}))},isPinned:function(){return!this.floating},setPinned:function(e){var t,n=this;e!==n.isPinned()&&(t=[n,e],n.fireEventArgs("beforepinchange",t)!==!1&&(n.updatePinned(e),n.fireEventArgs("pinchange",t)))},togglePin:function(){this.setPinned(!this.isPinned())},updatePinned:function(e){var t=this,n=t.pinTool;n.setTooltip(e?t.pinnedTip:t.unpinnedTip),n.setType(e?"unpin":"pin")}}),Ext.define("Ext.plugin.Manager",{alternateClassName:["Ext.PluginManager","Ext.PluginMgr"],singleton:!0,typeName:"ptype",create:function(e,t,n){var i,r;return e.init?i=e:(n?(e=Ext.apply({},e),e.cmp=n):n=e.cmp,e.xclass?i=Ext.create(e):(r="plugin."+(e.ptype||t),i=Ext.ClassManager.instantiateByAlias(r,e))),i&&n&&i.setCmp&&!i.setCmpCalled&&(i.setCmp(n),i.setCmpCalled=!0),i}}),Ext.define("Ext.resizer.BorderSplitterTracker",{extend:"Ext.resizer.SplitterTracker",requires:["Ext.util.Region"],getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var e,t,n,i,r,o,a,s=this,l=s.splitter,d=l.collapseTarget,u=l.defaultSplitMin,c=l.vertical?"Width":"Height",h="min"+c,f="max"+c,g="get"+c,p=l.neighbors,m=p.length,x=d.el.getBox(),E=x.x,v=x.y,y=x.right,b=x.bottom,C=l.vertical?y-E:b-v;for(n=(d[h]||Math.min(C,u))-C,i=d[f],i?i-=C:i=1e9,a=C,e=0;m>e;++e)t=p[e],C=t[g](),r=C-t[f],o=C-(t[h]||Math.min(C,u)),isNaN(r)||r>n&&(n=r),i>o&&(i=o);return 2>i-n?null:(x=new Ext.util.Region(v,y,b,E),s.constraintAdjusters[s.getCollapseDirection()](x,n,i,l),s.dragInfo={minRange:n,maxRange:i,targetSize:a},x)},constraintAdjusters:{left:function(e,t,n,i){e[0]=e.x=e.left=e.right+t,e.right+=n+i.getWidth()},top:function(e,t,n,i){e[1]=e.y=e.top=e.bottom+t,e.bottom+=n+i.getHeight()},bottom:function(e,t,n,i){e.bottom=e.top-t,e.top-=n+i.getHeight()},right:function(e,t,n,i){e.right=e.left-t,e[0]=e.x=e.left=e.x-n+i.getWidth()}},onBeforeStart:function(e){var t,n,i=this,r=i.splitter,o=r.collapseTarget,a=r.neighbors,s=a.length;if(o.collapsed)return!1;for(t=0;s>t;++t)if(n=a[t],n.collapsed&&n.isHorz===o.isHorz)return!1;return(i.constrainTo=i.calculateConstrainRegion())?!0:!1},performResize:function(e,t){var n,i=this,r=i.splitter,o=r.getCollapseDirection(),a=r.collapseTarget,s=i.splitAdjusters[r.vertical?"horz":"vert"],l=t[s.index],d=i.dragInfo;("right"==o||"bottom"==o)&&(l=-l),l=Math.min(Math.max(d.minRange,l),d.maxRange),
l&&((n=r.ownerCt).suspendLayouts(),s.adjustTarget(a,d.targetSize,l),n.resumeLayouts(!0))},splitAdjusters:{horz:{index:0,adjustTarget:function(e,t,n){e.flex=null,e.setSize(t+n)}},vert:{index:1,adjustTarget:function(e,t,n){e.flex=null,e.setSize(void 0,t+n)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}}),Ext.define("Ext.resizer.Handle",{extend:"Ext.Component",handleCls:"",baseHandleCls:Ext.baseCSSPrefix+"resizable-handle",region:"",ariaRole:"presentation",beforeRender:function(){var e=this;e.callParent(),e.protoEl.unselectable(),e.addCls(e.baseHandleCls,e.baseHandleCls+"-"+e.region,e.handleCls)}}),Ext.define("Ext.resizer.ResizeTracker",{extend:"Ext.dd.DragTracker",dynamic:!0,preserveRatio:!1,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(e){var t,n,i,r=this;e.el||(e.target.isComponent?r.el=e.target.getEl():r.el=e.target),this.callParent(arguments),r.preserveRatio&&r.minWidth&&r.minHeight&&(t=r.minWidth/r.el.getWidth(),n=r.minHeight/r.el.getHeight(),n>t?r.minWidth=r.el.getWidth()*n:r.minHeight=r.el.getHeight()*t),r.throttle&&(i=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(r,arguments)},r.throttle),r.resize=function(e,t,n){n?Ext.resizer.ResizeTracker.prototype.resize.apply(r,arguments):i.apply(null,arguments)})},onBeforeStart:function(e){this.startBox=this.target.getBox()},getProxy:function(){var e=this;return e.dynamic||e.proxy||(e.proxy=e.createProxy(e.target||e.el),e.hideProxy=!0),e.proxy?(e.proxy.show(),e.proxy):void 0},createProxy:function(e){var t,n=this.proxyCls;return t=e.isComponent?e.getProxy().addCls(n):e.createProxy({tag:"div",role:"presentation",cls:n,id:e.id+"-rzproxy"},Ext.getBody()),t.removeCls(Ext.baseCSSPrefix+"proxy-el"),t},onStart:function(e){this.activeResizeHandle=Ext.get(this.getDragTarget().id),this.dynamic||this.resize(this.startBox)},onDrag:function(e){(this.dynamic||this.proxy)&&this.updateDimensions(e)},updateDimensions:function(e,t){var n,i,r,o,a,s,l,d,u,c=this,h=c.activeResizeHandle.region,f=c.getOffset(c.constrainTo?"dragTarget":null),g=c.startBox,p=0,m=0,x=0,E=0;switch(h=c.convertRegionName(h)){case"south":m=f[1],s=2;break;case"north":m=-f[1],E=-m,s=2;break;case"east":p=f[0],s=1;break;case"west":p=-f[0],x=-p,s=1;break;case"northeast":m=-f[1],E=-m,p=f[0],a=[g.x,g.y+g.height],s=3;break;case"southeast":m=f[1],p=f[0],a=[g.x,g.y],s=3;break;case"southwest":p=-f[0],x=-p,m=f[1],a=[g.x+g.width,g.y],s=3;break;case"northwest":m=-f[1],E=-m,p=-f[0],x=-p,a=[g.x+g.width,g.y+g.height],s=3}if(l={width:g.width+p,height:g.height+m,x:g.x+x,y:g.y+E},i=Ext.Number.snap(l.width,c.widthIncrement),r=Ext.Number.snap(l.height,c.heightIncrement),i!=l.width||r!=l.height){switch(h){case"northeast":l.y-=r-l.height;break;case"north":l.y-=r-l.height;break;case"southwest":l.x-=i-l.width;break;case"west":l.x-=i-l.width;break;case"northwest":l.x-=i-l.width,l.y-=r-l.height}l.width=i,l.height=r}l.width<c.minWidth||l.width>c.maxWidth?(l.width=Ext.Number.constrain(l.width,c.minWidth,c.maxWidth),x&&(l.x=g.x+(g.width-l.width))):c.lastX=l.x,l.height<c.minHeight||l.height>c.maxHeight?(l.height=Ext.Number.constrain(l.height,c.minHeight,c.maxHeight),E&&(l.y=g.y+(g.height-l.height))):c.lastY=l.y,(c.preserveRatio||e.shiftKey)&&(n=c.startBox.width/c.startBox.height,d=Math.min(Math.max(c.minHeight,l.width/n),c.maxHeight),u=Math.min(Math.max(c.minWidth,l.height*n),c.maxWidth),1==s?l.height=d:2==s?l.width=u:(o=Math.abs(a[0]-this.lastXY[0])/Math.abs(a[1]-this.lastXY[1]),o>n?l.height=d:l.width=u,"northeast"==h?l.y=g.y-(l.height-g.height):"northwest"==h?(l.y=g.y-(l.height-g.height),l.x=g.x-(l.width-g.width)):"southwest"==h&&(l.x=g.x-(l.width-g.width)))),c.setPosition=l.x!==c.startBox.x||l.y!==c.startBox.y,c.resize(l,t)},resize:function(e,t){var n,i=this,r=i.setPosition;(i.dynamic||!i.dynamic&&t)&&(r?i.target.setBox(e):i.target.setSize(e.width,e.height)),t||(n=i.getProxy(),n&&n!==i.target&&(r||i.hideProxy?n.setBox(e):n.setSize(e.width,e.height)))},onEnd:function(e){this.updateDimensions(e,!0),this.proxy&&this.hideProxy&&this.proxy.hide()},convertRegionName:function(e){return e}}),Ext.define("Ext.resizer.Resizer",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.resizer.ResizeTracker","Ext.Component"],alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",overCls:Ext.baseCSSPrefix+"resizable-handle-over",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",wrappedCls:Ext.baseCSSPrefix+"resizable-wrapped",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},ariaRole:"presentation",constructor:function(e){var t,n,i,r,o,a,s,l,d,u,c=this,h=c.handles,f=0,g=[],p=Ext.dom.Element.unselectableCls;for((Ext.isString(e)||Ext.isElement(e)||e.dom)&&(t=e,e=arguments[1]||{},e.target=t),c.mixins.observable.constructor.call(c,e),t=c.target,t?t.isComponent?(t.addClsWithUI("resizable"),c.el=t.getEl(),t.minWidth&&(c.minWidth=t.minWidth),t.minHeight&&(c.minHeight=t.minHeight),t.maxWidth&&(c.maxWidth=t.maxWidth),t.maxHeight&&(c.maxHeight=t.maxHeight),t.floating&&(c.hasOwnProperty("handles")||(c.handles="n ne e se s sw w nw")),c.el=t.getEl()):t=c.el=c.target=Ext.get(t):t=c.target=c.el=Ext.get(c.el),c.el.addCls(Ext.Component.prototype.borderBoxCls),Ext.isNumber(c.width)&&(c.width=Ext.Number.constrain(c.width,c.minWidth,c.maxWidth)),Ext.isNumber(c.height)&&(c.height=Ext.Number.constrain(c.height,c.minHeight,c.maxHeight)),(null!==c.width||null!==c.height)&&c.target.setSize(c.width,c.height),n=c.el.dom.tagName.toUpperCase(),("TEXTAREA"===n||"IMG"===n||"TABLE"===n)&&(c.originalTarget=c.target,c.el.addCls(c.wrappedCls),c.target=c.el=c.el.wrap({role:"presentation",cls:c.wrapCls,id:c.el.id+"-rzwrap",style:t.getStyle(["margin-top","margin-bottom"])}),d=t.getPositioning(),c.el.setPositioning(d),t.clearPositioning(),l=t.getBox(),"absolute"!=d.position&&(l.x=0,l.y=0),c.el.setBox(l),t.setStyle("position","absolute")),c.el.position(),c.pinned&&c.el.addCls(c.pinnedCls),c.resizeTracker=new Ext.resizer.ResizeTracker({disabled:c.disabled,target:t,el:c.el,constrainTo:c.constrainTo,handleCls:c.handleCls,overCls:c.overCls,throttle:c.throttle,proxy:c.originalTarget?c.el:null,dynamic:c.originalTarget?!0:c.dynamic,originalTarget:c.originalTarget,delegate:"."+c.handleCls,preserveRatio:c.preserveRatio,heightIncrement:c.heightIncrement,widthIncrement:c.widthIncrement,minHeight:c.minHeight,maxHeight:c.maxHeight,minWidth:c.minWidth,maxWidth:c.maxWidth}),c.resizeTracker.on({mousedown:c.onBeforeResize,drag:c.onResize,dragend:c.onResizeEnd,scope:c}),"all"==c.handles&&(c.handles="n s e w ne nw se sw"),h=c.handles=c.handles.split(c.delimiterRe),r=c.possiblePositions,o=h.length,i=c.handleCls+" "+c.handleCls+"-{0}",c.target.isComponent&&(u=c.target.baseCls,i+=" "+u+"-handle "+u+"-handle-{0}",Ext.supports.CSS3BorderRadius&&(i+=" "+u+"-handle-{0}-br"));o>f;f++)h[f]&&r[h[f]]&&(a=r[h[f]],g.push('<div id="',c.el.id,"-",a,'-handle" class="',Ext.String.format(i,a)," ",p,'" unselectable="on" role="presentation"',"></div>"));for(Ext.DomHelper.append(c.el,g.join("")),g.length=0,f=0;o>f;f++)h[f]&&r[h[f]]&&(a=r[h[f]],s=c[a]=c.el.getById(c.el.id+"-"+a+"-handle"),g.push(s),s.region=a,c.transparent&&s.setOpacity(0));c.resizeTracker.handleEls=g},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(e,t){return this.fireResizeEvent("beforeresize",e,t)},onResize:function(e,t){return this.fireResizeEvent("resizedrag",e,t)},onResizeEnd:function(e,t){return this.fireResizeEvent("resize",e,t)},fireResizeEvent:function(e,t,n){var i,r=this;return r.hasListeners[e]?(i=r.el.getBox(),r.fireEvent(e,r,i.width,i.height,n)):void 0},resizeTo:function(e,t){var n=this;n.target.setSize(e,t),n.fireEvent("resize",n,e,t,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var e,t,n=this,i=n.handles,r=i.length,o=n.possiblePositions;for(n.resizeTracker.destroy(),e=0;r>e;e++)(t=n[o[i[e]]])&&t.destroy()}}),Ext.define("Ext.scroll.Indicator",{config:{axis:null,containerEl:null,scroller:null,minLength:null,scrollSize:null,maxScrollPosition:null,hasOpposite:null},hideAnimConfig:{to:{opacity:0},duration:300},names:{x:{side:"l",getSize:"getHeight",clientSize:"clientWidth",setLength:"setWidth",setPosition:"setLocalX"},y:{side:"t",getSize:"getWidth",clientSize:"clientHeight",setLength:"setHeight",setPosition:"setLocalY"}},cls:Ext.baseCSSPrefix+"scroll-indicator",constructor:function(e){var t,n,i,r=this;r.initConfig(e),i=r.getAxis(),r.names=r.names[i],r.el=r.getContainerEl().createChild({cls:r.cls+" "+r.cls+"-"+i}),r.size||r.cacheStyles(),t=r.getMinLength(),n=r.size,(!t||n>t)&&r.setMinLength(n)},cacheStyles:function(){var e=this,t=e.self.prototype,n=e.el,i=(e.getAxis(),e.names);t.size=n[i.getSize](),t.margin=n.getMargin(i.side)},hide:function(){this.el.animate(this.hideAnimConfig)},refreshLength:function(){var e=this,t=e.names,n=e.getScrollSize(),i=e.getContainerEl().dom[t.clientSize],r=i/n,o=e.getHasOpposite(),a=2*e.margin,s=o?a+e.size:a,l=Math.max(Math.round((i-s)*r),e.getMinLength());e.sizeAdjust=s,e.length=l,e.el[t.setLength](l)},setValue:function(e){var t,n=this,i=n.el,r=n.names,o=n.getMaxScrollPosition(),a=n.getContainerEl().dom[r.clientSize],s=n.length,l=n.getMinLength(),d=s,u=a-s-n.sizeAdjust,c=Math.round,h=Math.max;0>e?(d=c(h(s+s*e/a,l)),t=0):e>o?(d=c(h(s-s*(e-o)/a,l)),t=u+s-d):t=c(e/o*u),i[r.setPosition](t),i[r.setLength](d)},show:function(){var e=this,t=e.el,n=t.getActiveAnimation();n&&n.end(),e.refreshLength(),t.setStyle("opacity","")},destroy:function(){this.el.destroy()}}),Ext.define("Ext.scroll.Manager",{extend:"Ext.util.Observable",requires:["Ext.scroll.Scroller","Ext.scroll.Indicator","Ext.GlobalEvents"],minIndicatorLength:24,refreshCounter:0,translationMethods:{1:"scrollparent",2:"csstransform"},constructor:function(e){var t,n=this,i={dragend:"onDragEnd",dragcancel:"onDragEnd",scope:n};2===Ext.supports.touchScroll&&(i.mousewheel="onMouseWheel",i.scroll={fn:"onElementScroll",delegated:!1,scope:n}),n.callParent(arguments),n.scroller=new Ext.scroll.Scroller({autoRefresh:!1,element:n.el,direction:n.direction,momentumEasing:{bounce:{springTension:1}},outOfBoundRestrictFactor:0,translatable:{translationMethod:n.translationMethods[Ext.supports.touchScroll]},listeners:{scrollstart:"onScrollStart",scroll:"onScroll",scrollend:"onScrollEnd",scope:n}}),Ext.GlobalEvents.on("idle",n.doRefresh,n),t=n.containerEl=n.el.parent(),n.owner.mon(t,i),n.initIndicators()},onElementScroll:function(e,t){t.scrollTop=t.scrollLeft=0},destroy:function(){var e=this;e.clearListeners(),Ext.GlobalEvents.un("idle",e.doRefresh,e),e.scroller.destroy()},initIndicators:function(){var e=this,t=e.containerEl,n=e.scroller,i=e.minIndicatorLength;2===Ext.supports.touchScroll&&(e.xIndicator=new Ext.scroll.Indicator({axis:"x",scroller:n,containerEl:t,minLength:i}),e.yIndicator=new Ext.scroll.Indicator({axis:"y",scroller:n,containerEl:t,minLength:i}),e.refreshIndicators())},invokeIndicators:function(e,t,n){var i=this,r=i.xIndicator,o=i.yIndicator;r&&i.isAxisEnabled("x")&&r[e].apply(r,t),o&&i.isAxisEnabled("y")&&o[e].apply(o,n||t)},getPosition:function(){return this.scroller.getPosition()},refresh:function(e){++this.refreshCounter,e&&this.doRefresh()},refreshIndicators:function(){var e=this,t=e.scroller,n=t.getMaxPosition(),i=t.getSize();e.invokeIndicators("setMaxScrollPosition",[n.x],[n.y]),e.invokeIndicators("setScrollSize",[i.x],[i.y]),e.invokeIndicators("setHasOpposite",[e.isAxisEnabled("y")],[e.isAxisEnabled("x")])},doRefresh:function(){var e=this,t=e.scroller;e.refreshCounter&&(t.refresh(),e.refreshIndicators(),e.refreshCounter=0)},onScrollStart:function(){this.isTouching=Ext.isScrolling=!0,this.invokeIndicators("show"),this.toggleOthers(!0)},onScroll:function(e,t,n){var i=this;i.invokeIndicators("setValue",[t],[n]),i.fireEvent("scroll",i,t,n)},onScrollEnd:function(){var e=this;Ext.isScrolling=!1,e.isTouching||e.invokeIndicators("hide")},onDragEnd:function(){this.isTouching=!1,this.toggleOthers(!1)},onMouseWheel:function(e){var t=this,n=t.scroller,i=e.getWheelDeltas(),r=-i.x,o=-i.y,a=n.getPosition(),s=n.getMaxPosition(),l=n.getMinPosition(),d=Math.max,u=Math.min,c=d(u(a.x+r,s.x),l.x),h=d(u(a.y+o,s.y),l.y);r=c-a.x,o=h-a.y,(r||o)&&(e.stopEvent(),t.onScrollStart(),t.scrollBy(r,o),t.onScroll(n,c,h),t.onScrollEnd(n))},isAxisEnabled:function(e){return this.scroller.isAxisEnabled(e)},setScrollX:function(e){var t=this.scroller;t.scrollTo(e,t.getPosition().y)},setScrollY:function(e){var t=this.scroller;t.scrollTo(t.getPosition().x,e)},scrollTo:function(e,t,n){this.scroller.scrollTo(e,t,n)},scrollBy:function(e,t,n){e.length?(n=t,t=e[1],e=e[0]):Ext.isNumber(e)||(n=t,t=e.y,e=e.x),this.scroller.scrollBy(e,t,n)},scrollIntoView:function(e,t,n){var i=this,r=i.containerEl,o=i.scroller,a=o.getPosition(),s=a.x,l=a.y,d=Ext.fly(e).getScrollIntoViewXY(r,s,l),u=d.x,c=d.y;t===!1&&(u=s),(u!==s||c!==l)&&o.scrollTo(u,c,n)},toggleOthers:function(e){var t,n,i=Ext.scroll.Scroller.instances;for(n in i)t=i[n],t!==this.scroller&&t.setDisabled(e)},preventDefault:function(e){1===e.touches.length&&e.preventDefault()}}),Ext.define("Ext.selection.CellModel",{extend:"Ext.selection.Model",alias:"selection.cellmodel",requires:["Ext.grid.CellContext","Ext.util.KeyNav"],isCellModel:!0,enableKeyNav:!0,preventWrap:!1,noSelection:{row:-1,column:-1},bindComponent:function(e){var t=this,n=e.ownerCt;t.primaryView=e,t.views=t.views||[],t.views.push(e),t.bindStore(e.getStore(),!0),e.on({cellclick:t.onCellClick,refresh:t.onViewRefresh,scope:t}),n.optimizedColumnMove!==!1&&n.on("columnmove",t.onColumnMove,t),t.enableKeyNav&&t.initKeyNav(e)},initKeyNav:function(e){var t=this;return e.rendered?(e.el.set({tabIndex:-1}),void(t.keyNav=new Ext.util.KeyNav({target:e.el,ignoreInputFields:!0,up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,tab:t.onKeyTab,scope:t}))):void e.on("render",Ext.Function.bind(t.initKeyNav,t,[e],0),t,{single:!0})},getHeaderCt:function(){var e=this.getCurrentPosition(),t=e?e.view:this.primaryView;return t.headerCt},onKeyUp:function(e){this.doMove("up",e)},onKeyDown:function(e){this.doMove("down",e)},onKeyLeft:function(e){this.doMove("left",e)},onKeyRight:function(e){this.doMove("right",e)},doMove:function(e,t){this.keyNavigation=!0,this.move(e,t),this.keyNavigation=!1},selectWithEvent:function(e,t){this.select(e)},select:function(e,t,n){var i,r=this,o=r.getCurrentPosition(),a=r.view.store;(e||0===e)&&(e.isModel?(i=a.indexOf(e),e=-1!==i?{row:i,column:o?o.column:0}:null):"number"==typeof e&&(e={row:e,column:0})),e?r.selectByPosition(e,n):r.deselect()},deselect:function(e,t){this.selectByPosition(null,t)},move:function(e,t){var n,i=this,r=i.getCurrentPosition();return r&&(n=r.view.walkCells(r,e,t,i.preventWrap))?i.setCurrentPosition(n):null},getCurrentPosition:function(){return this.selecting?this.nextSelection:this.selection},setCurrentPosition:function(e,t,n){var i=this,r=i.selection;return i.lastSelection=r,e&&(e=e.isCellContext?e:new Ext.grid.CellContext(i.primaryView).setPosition(e)),!n&&r&&(e&&e.record===r.record&&e.columnHeader===r.columnHeader&&e.view===r.view?e=null:i.onCellDeselect(i.selection,t)),e?(i.nextSelection=e,i.selecting=!0,i.onCellSelect(i.nextSelection,t),i.selecting=!1,i.selection=e):null},isCellSelected:function(e,t,n){var i,r=this,o=r.getCurrentPosition();return o&&o.view===e?(i=new Ext.grid.CellContext(e).setPosition({row:t,column:n}),i.record===o.record&&i.columnHeader===o.columnHeader):void 0},onStoreRemove:function(e,t,n){var i=this,r=i.getCurrentPosition();i.callParent(arguments),r&&e.getCount()&&-1!==e.indexOf(r.record)?i.setCurrentPosition({row:r.record,column:r.columnHeader},!0,!0):i.selection=null},onStoreClear:function(){this.callParent(arguments),this.selection=null},onStoreAdd:function(){var e=this,t=e.getCurrentPosition();e.callParent(arguments),t?e.setCurrentPosition({row:t.record,column:t.columnHeader},!0,!0):e.selection=null},onCellClick:function(e,t,n,i,r,o,a){var s;-1!==o&&(s=new Ext.grid.CellContext(e).setPosition({view:e,row:r,column:e.ownerCt.getColumnManager().getHeaderAtIndex(n)}),this.setCurrentPosition(s))},onCellSelect:function(e,t){e&&void 0!==e.row&&e.row>-1&&this.doSelect(e.record,!1,t)},onCellDeselect:function(e,t){e&&void 0!==e.row&&this.doDeselect(e.record,t)},onSelectChange:function(e,t,n,i){var r,o,a,s=this;t?(r=s.nextSelection,o="select"):(r=s.lastSelection||s.noSelection,o="deselect"),a=r.view||s.primaryView,(n||s.fireEvent("before"+o,s,e,r.row,r.column))!==!1&&i()!==!1&&(t?(s.preventFocus||a.focusCell(r,!0),a.onCellSelect(r)):(a.onCellDeselect(r),delete s.selection),n||s.fireEvent(o,s,e,r.row,r.column))},onKeyTab:function(e,t){var n,i=this,r=i.getCurrentPosition();r&&(n=r.view.editingPlugin,n&&i.wasEditing?i.onEditorTab(n,e):i.move(e.shiftKey?"left":"right",e))},onEditorTab:function(e,t){var n=this,i=t.shiftKey?"left":"right",r=n.getCurrentPosition(),o=r.view.walkCells(r,i,t,n.preventWrap);o&&(e.startEdit(o.record,o.columnHeader)?n.wasEditing=!1:(n.setCurrentPosition(o),n.wasEditing=!0))},refresh:function(){var e,t=this.getCurrentPosition();t&&-1!==(e=this.store.indexOf(this.selected.last()))&&(t.row=e)},onColumnMove:function(e,t,n,i){var r=e.up("tablepanel");r&&this.onViewRefresh(r.view)},onUpdate:function(e){var t,n=this;n.isSelected(e)&&(t=n.selecting?n.nextSelection:n.selection,n.view.onCellSelect(t))},onViewRefresh:function(e){var t,n,i,r=this,o=r.getCurrentPosition(),a=e.headerCt;o&&o.view===e&&(n=o.record,i=o.columnHeader,i.isDescendantOf(a)||(i=a.queryById(i.id)||a.down('[text="'+i.text+'"]')||a.down('[dataIndex="'+i.dataIndex+'"]')),o.record?i&&-1!==e.store.indexOfId(n.getId())&&(t=new Ext.grid.CellContext(e).setPosition({row:n,column:i}),r.setCurrentPosition(t)):r.selection=null)},selectByPosition:function(e,t){this.setCurrentPosition(e,t)}}),Ext.define("Ext.slider.Thumb",{requires:["Ext.dd.DragTracker","Ext.util.Format"],constructor:function(e){var t=this;Ext.apply(t,e||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:!1}),t.callParent([e])},render:function(){var e=this;e.el=e.slider.innerEl.insertFirst(e.getElConfig()),e.onRender()},onRender:function(){this.disabled&&this.disable(),this.initEvents()},getElConfig:function(){var e=this,t=e.slider,n={};return n[t.vertical?"bottom":t.horizontalProp]=t.calculateThumbPosition(t.normalizeValue(e.value))+"%",{style:n,id:this.id,cls:this.cls,role:"presentation"}},move:function(e,t){var n,i,r=this,o=r.el,a=r.slider,s=a.vertical?"bottom":a.horizontalProp;e+="%",t?(n={},n[s]=e,Ext.supports.GetPositionPercentage||(i={},i[s]=o.dom.style[s]),new Ext.fx.Anim({target:o,duration:350,from:i,to:n})):o.dom.style[s]=e},enable:function(){var e=this;e.disabled=!1,e.el&&e.el.removeCls(e.slider.disabledCls)},disable:function(){var e=this;e.disabled=!0,e.el&&e.el.addCls(e.slider.disabledCls)},initEvents:function(){var e=this;e.tracker=new Ext.dd.DragTracker({el:e.el,onBeforeStart:e.onBeforeDragStart.bind(e),onStart:e.onDragStart.bind(e),onDrag:e.onDrag.bind(e),onEnd:e.onDragEnd.bind(e),tolerance:3,autoStart:300,overCls:Ext.baseCSSPrefix+"slider-thumb-over"})},onBeforeDragStart:function(e){var t=this,n=t.el,i=t.tracker.getXY(),r=t.pointerOffset=n.getXY();return t.disabled?!1:(r[0]+=Math.floor(n.getWidth()/2)-i[0],r[1]+=Math.floor(n.getHeight()/2)-i[1],t.slider.promoteThumb(t),!0)},onDragStart:function(e){var t=this,n=t.slider;n.onDragStart(t,e),t.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag"),t.dragging=t.slider.dragging=!0,t.dragStartValue=t.value,n.fireEvent("dragstart",n,e,t)},onDrag:function(e){var t,n,i=this,r=i.slider,o=i.index,a=i.getValueFromTracker();void 0!==a&&(i.constrain&&(t=r.thumbs[o+1],n=r.thumbs[o-1],void 0!==n&&a<=n.value&&(a=n.value),void 0!==t&&a>=t.value&&(a=t.value)),r.setValue(o,a,!1),r.fireEvent("drag",r,e,i))},getValueFromTracker:function(){var e,t=this.slider,n=this.tracker.getXY();return n[0]+=this.pointerOffset[0],n[1]+=this.pointerOffset[1],e=t.getTrackpoint(n),void 0!==e?t.reversePixelValue(e):void 0},onDragEnd:function(e){var t=this,n=t.slider,i=t.value;n.onDragEnd(t,e),t.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag"),t.dragging=n.dragging=!1,n.fireEvent("dragend",n,e),t.dragStartValue!=i&&(n.fireEvent("changecomplete",n,i,t),n.publishOnComplete&&n.publishValue(i))},destroy:function(){Ext.destroy(this.tracker),this.el.destroy(),this.el=null}}),Ext.define("Ext.slider.Tip",{extend:"Ext.tip.Tip",minWidth:10,alias:"widget.slidertip",offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:!0,init:function(e){var t,n,i=this;switch(i.position||(i.position=e.vertical?i.defaultVerticalPosition:i.defaultHorizontalPosition),i.position){case"top":n=[0,-10],t="b-t?";break;case"bottom":n=[0,10],t="t-b?";break;case"left":n=[-10,0],t="r-l?";break;case"right":n=[10,0],t="l-r?"}i.align||(i.align=t),i.offsets||(i.offsets=n),e.on({scope:i,dragstart:i.onSlide,drag:i.onSlide,dragend:i.hide,destroy:i.destroy})},onSlide:function(e,t,n){var i=this;i.show(),i.update(i.getText(n)),i.el.alignTo(n.el,i.align,i.offsets)},getText:function(e){return String(e.value)}}),Ext.define("Ext.slider.Multi",{extend:"Ext.form.field.Base",alias:"widget.multislider",alternateClassName:"Ext.slider.MultiSlider",requires:["Ext.slider.Thumb","Ext.slider.Tip","Ext.Number","Ext.util.Format","Ext.Template"],childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" role="{role}" {inputAttrTpl} class="'+Ext.baseCSSPrefix+"slider {fieldCls} {vertical}",'{childElCls}"','<tpl if="tabIdx != null"> tabIndex="{tabIdx}"</tpl>','<tpl if="isVertical"> aria-orientation="vertical"<tpl else> aria-orientation="horizontal"</tpl>',">",'<div id="{cmpId}-endEl" data-ref="endEl" class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div id="{cmpId}-innerEl" data-ref="innerEl" class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>","</div>",{renderThumbs:function(e,t){for(var n,i,r=t.$comp,o=0,a=r.thumbs,s=a.length;s>o;o++)n=a[o],i=n.getElConfig(),i.id=r.id+"-thumb-"+o,Ext.DomHelper.generateMarkup(i,e)},disableFormats:!0}],horizontalProp:"left",vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,constrainThumbs:!0,useTips:!0,tipText:null,ariaRole:"slider",initValue:function(){var e=this,t=Ext.valueFrom,n=t(e.values,[t(e.value,t(e.minValue,0))]),i=0,r=n.length;for(e.originalValue=n;r>i;i++)e.addThumb(e.normalizeValue(n[i]))},initComponent:function(){var e,t,n,i,r,o=this;if(o.thumbs=[],o.keyIncrement=Math.max(o.increment,o.keyIncrement),o.extraFieldBodyCls=Ext.baseCSSPrefix+"slider-ct-"+(o.vertical?"vert":"horz"),o.callParent(),o.useTips){for(e=Ext.isObject(o.useTips)?Ext.apply({},o.useTips):o.tipText?{getText:o.tipText}:{},r=o.plugins=o.plugins||[],i=r.length,n=0;i>n;n++)if(r[n].isSliderTip){t=!0;break}t||o.plugins.push(new Ext.slider.Tip(e))}},addThumb:function(e){var t=this,n=new Ext.slider.Thumb({ownerCt:t,value:e,slider:t,index:t.thumbs.length,constrain:t.constrainThumbs,disabled:!!t.readOnly});return t.thumbs.push(n),t.rendered&&n.render(),n},promoteThumb:function(e){var t,n=this.thumbStack||(this.thumbStack=Ext.Array.slice(this.thumbs)),i=n.length,r=1e4;for(n[0]!==e&&(Ext.Array.remove(n,e),n.unshift(e)),t=0;i>t;t++)n[t].el.setStyle("zIndex",r),r-=1e3},getSubTplData:function(){var e=this;return Ext.apply(e.callParent(),{$comp:e,isVertical:e.vertical,vertical:e.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:e.minValue,maxValue:e.maxValue,value:e.value,tabIdx:e.tabIndex,childElCls:""})},onRender:function(){var e,t=this,n=t.thumbs,i=n.length,r=0;for(t.callParent(arguments),r=0;i>r;r++)e=n[r],e.el=t.el.getById(t.id+"-thumb-"+r),e.onRender()},initEvents:function(){var e=this;e.mon(e.el,{scope:e,mousedown:e.onMouseDown,keydown:e.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(e){var t,n,i,r=this,o=r.vertical,a=r.innerEl;return o?(i="top",t=a.getHeight()):(i=r.horizontalProp,t=a.getWidth()),e=r.transformTrackPoints(a.translatePoints(e)),n=Ext.Number.constrain(e[i],0,t),o?t-n:n},transformTrackPoints:Ext.identityFn,onMouseDown:function(e){var t,n=this,i=!1,r=0,o=n.thumbs,a=o.length;if(!n.disabled){for(;!i&&a>r;r++)i=i||e.target==o[r].el.dom;n.clickToChange&&!i&&(t=n.getTrackpoint(e.getXY()),void 0!==t&&n.onClickChange(t)),n.focus()}},onClickChange:function(e){var t,n,i=this;t=i.getNearest(e),t.disabled||(n=t.index,i.setValue(n,Ext.util.Format.round(i.reversePixelValue(e),i.decimalPrecision),void 0,!0))},getNearest:function(e){for(var t,n,i,r=this,o=r.reversePixelValue(e),a=r.getRange()+5,s=null,l=r.thumbs,d=0,u=l.length;u>d;d++)t=r.thumbs[d],n=t.value,i=Math.abs(n-o),Math.abs(i)<=a&&(s=t,a=i);return s},onKeyDown:function(e){var t,n,i=this;if(i.disabled||1!==i.thumbs.length)return void e.preventDefault();switch(t=e.getKey()){case e.UP:case e.RIGHT:e.stopEvent(),n=e.ctrlKey?i.maxValue:i.getValue(0)+i.keyIncrement,i.setValue(0,n,void 0,!0);break;case e.DOWN:case e.LEFT:e.stopEvent(),n=e.ctrlKey?i.minValue:i.getValue(0)-i.keyIncrement,i.setValue(0,n,void 0,!0);break;default:e.preventDefault()}},normalizeValue:function(e){var t=this,n=t.zeroBasedSnapping?"snap":"snapInRange";return e=Ext.Number[n](e,t.increment,t.minValue,t.maxValue),e=Ext.util.Format.round(e,t.decimalPrecision),e=Ext.Number.constrain(e,t.minValue,t.maxValue)},setMinValue:function(e){var t,n,i=this,r=i.thumbs,o=r.length;for(i.minValue=e,n=0;o>n;++n)t=r[n],t.value<e&&i.setValue(n,e,!1);i.syncThumbs()},setMaxValue:function(e){var t,n,i=this,r=i.thumbs,o=r.length;for(i.maxValue=e,n=0;o>n;++n)t=r[n],t.value>e&&i.setValue(n,e,!1);i.syncThumbs()},setValue:function(e,t,n,i){var r,o,a,s,l=this,d=l.thumbs,u=l.publishOnComplete;if(Ext.isArray(e)){for(s=e,n=t,a=0,o=s.length;o>a;++a)r=d[a],r&&l.setValue(a,s[a],n);return l}return r=l.thumbs[e],t=l.normalizeValue(t),t!==r.value&&l.fireEvent("beforechange",l,t,r.value,r)!==!1&&(r.value=t,l.rendered&&(r.move(l.calculateThumbPosition(t),Ext.isDefined(n)?n!==!1:l.animate),l.fireEvent("change",l,t,r),l.checkDirty(),i?(l.fireEvent("changecomplete",l,t,r),u&&l.publishValue(t)):u===!1&&l.publishValue(t))),l},calculateThumbPosition:function(e){var t=this,n=t.minValue,i=(e-n)/t.getRange()*100;return isNaN(i)&&(i=0),i},getRatio:function(){var e=this,t=e.innerEl,n=e.vertical?t.getHeight():t.getWidth(),i=e.getRange();return 0===i?n:n/i},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(e){return this.minValue+e/this.getRatio()},reversePercentageValue:function(e){return this.minValue+this.getRange()*(e/100)},onDisable:function(){var e,t,n,i=this,r=0,o=i.thumbs,a=o.length;for(i.callParent();a>r;r++)e=o[r],t=e.el,e.disable(),Ext.isIE&&(n=t.getXY(),t.hide(),i.innerEl.addCls(i.disabledCls).dom.disabled=!0,i.thumbHolder||(i.thumbHolder=i.endEl.createChild({role:"presentation",cls:Ext.baseCSSPrefix+"slider-thumb "+i.disabledCls})),i.thumbHolder.show().setXY(n))},onEnable:function(){var e,t,n=this,i=0,r=n.thumbs,o=r.length;for(this.callParent();o>i;i++)e=r[i],t=e.el,e.enable(),Ext.isIE&&(n.innerEl.removeCls(n.disabledCls).dom.disabled=!1,n.thumbHolder&&n.thumbHolder.hide(),t.show(),n.syncThumbs())},syncThumbs:function(){if(this.rendered)for(var e=this.thumbs,t=e.length,n=0;t>n;n++)e[n].move(this.calculateThumbPosition(e[n].value))},getValue:function(e){return Ext.isNumber(e)?this.thumbs[e].value:this.getValues()},getValues:function(){for(var e=[],t=0,n=this.thumbs,i=n.length;i>t;t++)e.push(n[t].value);return e},getSubmitValue:function(){var e=this;return e.disabled||!e.submitValue?null:e.getValue()},reset:function(){for(var e,t=this,n=[].concat(t.originalValue),i=0,r=n.length;r>i;i++)e=n[i],t.setValue(i,e);t.clearInvalid(),delete t.wasValid},setReadOnly:function(e){var t=this,n=t.thumbs,i=n.length,r=0;for(t.callParent(arguments),e=t.readOnly;i>r;++r)e?n[r].disable():n[r].enable()},beforeDestroy:function(){for(var e,t=this,n=t.thumbs,i=0,r=n.length;r>i;i++)e=n[i],Ext.destroy(e);t.callParent()}}),Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:"Ext.selection.RowModel",mode:"MULTI",injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:void 0,checkSelector:"."+Ext.baseCSSPrefix+"grid-row-checker",headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",tdCls:Ext.baseCSSPrefix+"grid-cell-special "+Ext.baseCSSPrefix+"grid-cell-row-checker",constructor:function(){var e=this;e.callParent(arguments),"SINGLE"===e.mode&&e.showHeaderCheckbox!==!0&&(e.showHeaderCheckbox=!1)},beforeViewRender:function(e){var t,n=this;n.callParent(arguments),(!n.hasLockedHeader()||e.headerCt.lockedCt)&&(n.showHeaderCheckbox!==!1&&e.headerCt.on("headerclick",n.onHeaderClick,n),n.addCheckbox(e,!0),t=e.ownerCt,e.headerCt.lockedCt&&(t=t.ownerCt),n.mon(t,"reconfigure",n.onReconfigure,n))},bindComponent:function(e){var t=this;t.sortable=!1,t.callParent(arguments)},hasLockedHeader:function(){var e,t=this.views,n=t.length;for(e=0;n>e;e++)if(t[e].headerCt.lockedCt)return!0;return!1},addCheckbox:function(e,t){var n=this,i=n.injectCheckbox,r=e.headerCt;i!==!1&&("first"===i?i=0:"last"===i&&(i=r.getColumnCount()),Ext.suspendLayouts(),e.getStore().isBufferedStore&&(n.showHeaderCheckbox=!1),r.add(i,n.getHeaderConfig()),Ext.resumeLayouts()),t!==!0&&e.refresh()},onReconfigure:function(e,t,n){n&&this.addCheckbox(this.views[0])},toggleUiHeader:function(e){var t=this.views[0],n=t.headerCt,i=n.child("gridcolumn[isCheckerHd]"),r=this.checkerOnCls;i&&(e?i.addCls(r):i.removeCls(r))},onHeaderClick:function(e,t,n){if(t.isCheckerHd){n.stopEvent();var i=this,r=t.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");i.preventFocus=!0,r?i.deselectAll():i.selectAll(),delete i.preventFocus}},getHeaderConfig:function(){var e=this,t=e.showHeaderCheckbox!==!1;return{isCheckerHd:t,text:"&#160;",clickTargetName:"el",width:e.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",tdCls:e.tdCls,cls:t?Ext.baseCSSPrefix+"column-header-checkbox ":"",defaultRenderer:e.renderer.bind(e),editRenderer:e.editRenderer||e.renderEmpty,locked:e.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},refresh:function(){this.callParent(arguments),this.updateHeaderState()},renderer:function(e,t,n,i,r,o,a){return'<div class="'+Ext.baseCSSPrefix+'grid-row-checker" role="presentation">&#160;</div>'},processSelection:function(e,t,n,i,r){var o,a=this,s=r.getTarget(a.checkSelector);(!a.checkOnly||s)&&(s?(o=a.getSelectionMode(),"SINGLE"!==o&&a.setSelectionMode("SIMPLE"),a.selectWithEvent(t,r),a.setSelectionMode(o)):a.selectWithEvent(t,r))},onSelectChange:function(){this.callParent(arguments),this.suspendChange||this.updateHeaderState()},onStoreLoad:function(){this.callParent(arguments),this.updateHeaderState()},onStoreAdd:function(){this.callParent(arguments),this.updateHeaderState()},onStoreRemove:function(){this.callParent(arguments),this.updateHeaderState()},onStoreRefresh:function(){this.callParent(arguments),this.updateHeaderState()},maybeFireSelectionChange:function(e){e&&!this.suspendChange&&this.updateHeaderState(),this.callParent(arguments)},resumeChanges:function(){this.callParent(),this.suspendChange||this.updateHeaderState()},updateHeaderState:function(){var e,t,n,i=this,r=i.store,o=r.getCount(),a=i.views,s=!1,l=0;if(!r.isBufferedStore&&o>0){for(e=i.selected,s=!0,n=0,t=e.getCount();t>n&&-1!==r.indexOfId(e.getAt(n).id);++n)++l;s=o===l}a&&a.length&&i.toggleUiHeader(s)}}),Ext.define("Ext.slider.Single",{extend:"Ext.slider.Multi",alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],
publishOnComplete:!0,getValue:function(){return this.callParent([0])},setValue:function(e,t){var n=arguments,i=n.length;return(1==i||3>=i&&"number"!=typeof n[1])&&(n=Ext.toArray(n),n.unshift(0)),this.callParent(n)},getNearest:function(){return this.thumbs[0]}}),Ext.define("Ext.slider.Widget",{extend:"Ext.Widget",alias:"widget.sliderwidget",requires:["Ext.slider.Multi"],cachedConfig:{vertical:!1},config:{clickToChange:!0,ui:"widget",value:0,minValue:0,maxValue:100,publishOnComplete:!0,twoWayBindable:{value:1}},decimalPrecision:0,defaultBindProperty:"value",element:{reference:"element",cls:Ext.baseCSSPrefix+"slider",listeners:{mousedown:"onMouseDown",dragstart:"cancelDrag",drag:"cancelDrag",dragend:"cancelDrag"},children:[{reference:"endEl",cls:Ext.baseCSSPrefix+"slider-end",children:[{reference:"innerEl",cls:Ext.baseCSSPrefix+"slider-inner"}]}]},thumbCls:Ext.baseCSSPrefix+"slider-thumb",horizontalProp:"left",animateOnSetValue:void 0,applyValue:function(e){var t,n,i=this,r=i.animateOnSetValue;if(Ext.isArray(e))for(e=Ext.Array.from(e),t=0,n=e.length;n>t;++t)i.setThumbValue(t,e[t]=i.normalizeValue(e[t]),r,!0);else e=i.normalizeValue(e),i.setThumbValue(0,e,r,!0);return e},updateVertical:function(e,t){this.element.removeCls(Ext.baseCSSPrefix+"slider-"+(t?"vert":"horz")),this.element.addCls(Ext.baseCSSPrefix+"slider-"+(e?"vert":"horz"))},doSetHeight:function(e){this.callParent(arguments),this.endEl.dom.style.height=this.innerEl.dom.style.height="100%"},cancelDrag:function(e){e.stopPropagation()},getThumb:function(e){var t,n=this,i=(n.thumbs||(n.thumbs=[]))[e];return i||(t={cls:n.thumbCls,style:{}},t["data-thumbIndex"]=e,i=n.thumbs[e]=n.innerEl.createChild(t)),i},getThumbPositionStyle:function(){return this.getVertical()?"bottom":this.rtl&&Ext.rtl?"right":"left"},update:function(){var e,t=this,n=t.getValue(),i=n.length;for(e=0;i>e;e++)this.thumbs[e].dom.style[t.getThumbPositionStyle()]=t.calculateThumbPosition(n[e])+"%"},onMouseDown:function(e){var t,n,i=this,r=e.getXY();i.disabled||0!==e.button||(t=e.getTarget("."+i.thumbCls,null,!0),t?(i.animateOnSetValue=!1,i.promoteThumb(t),i.captureMouse(i.onMouseMove,i.onMouseUp,[t],1),n=i.pointerOffset=t.getXY(),n[0]+=Math.floor(t.getWidth()/2)-r[0],n[1]+=Math.floor(t.getHeight()/2)-r[1]):i.getClickToChange()&&(r=i.getTrackpoint(r),null!=r&&i.onClickChange(r)))},onClickChange:function(e){var t,n,i,r=this;t=r.getNearest(e),n=parseInt(t.getAttribute("data-thumbIndex"),10),i=Ext.util.Format.round(r.reversePixelValue(e),r.decimalPrecision),n?r.setThumbValue(n,i,void 0,!0):r.setValue(i)},getNearest:function(e){for(var t,n,i,r=this,o=r.reversePixelValue(e),a=r.getRange()+5,s=null,l=r.thumbs,d=0,u=l.length;u>d;d++)t=l[d],n=r.reversePercentageValue(parseInt(t.dom.style[r.getThumbPositionStyle()],10)),i=Math.abs(n-o),Math.abs(i)<=a&&(s=t,a=i);return s},promoteThumb:function(e){var t,n=this.thumbStack||(this.thumbStack=Ext.Array.slice(this.thumbs)),i=n.length,r=1e4;for(n[0]!==e&&(Ext.Array.remove(n,e),n.unshift(e)),t=0;i>t;t++)n[t].el.setStyle("zIndex",r),r-=1e3},doMouseMove:function(e,t,n){var i,r,o,a=this,s=e.getXY();s[0]+=a.pointerOffset[0],s[1]+=a.pointerOffset[1],o=a.getTrackpoint(s),o&&(i=a.reversePixelValue(o),r=parseInt(t.getAttribute("data-thumbIndex"),10),r||!n&&a.getPublishOnComplete()?a.setThumbValue(r,i,!1,n):a.setValue(i))},onMouseMove:function(e,t){this.doMouseMove(e,t,!1)},onMouseUp:function(e,t){this.doMouseMove(e,t,!0),delete this.animateOnSetValue},setThumbValue:function(e,t,n,i){var r,o,a,s,l,d=this;if(Ext.isArray(e)){for(l=e,n=t,s=0,a=l.length;a>s;++s)d.setThumbValue(s,l[s],n,i);return d}return r=d.getThumb(e),o=d.reversePercentageValue(parseInt(r.dom.style[d.getThumbPositionStyle()],10)),t=d.normalizeValue(t),t!==o&&d.fireEvent("beforechange",d,t,o,r)!==!1&&d.element.dom&&(d.element.set({"aria-valuenow":t,"aria-valuetext":t}),d.moveThumb(r,d.calculateThumbPosition(t),Ext.isDefined(n)?n!==!1:d.animate),d.fireEvent("change",d,t,r)),d},getValue:function(e){var t,n=this;return Ext.isNumber(e)?(t=n.thumbs[e].dom.style[n.getThumbPositionStyle()],t=n.reversePercentageValue(parseInt(t,10))):(t=n.getValues(),1===t.length&&(t=t[0])),t},getValues:function(){for(var e=this,t=[],n=0,i=e.thumbs,r=i.length;r>n;n++)t.push(e.reversePercentageValue(parseInt(e.thumbs[n].dom.style[e.getThumbPositionStyle()],10)));return t},moveThumb:function(e,t,n){var i,r,o=this,a=o.getThumbPositionStyle();t+="%",n?(i={},i[a]=t,Ext.supports.GetPositionPercentage||(r={},r[a]=e.dom.style[a]),new Ext.fx.Anim({target:e,duration:350,from:r,to:i})):e.dom.style[a]=t},normalizeValue:function(e){var t=this,n=t.zeroBasedSnapping?"snap":"snapInRange";return e=Ext.Number[n](e,t.increment,t.minValue,t.maxValue),e=Ext.util.Format.round(e,t.decimalPrecision),e=Ext.Number.constrain(e,t.minValue,t.maxValue)},getTrackpoint:function(e){var t,n,i,r=this,o=r.getVertical(),a=r.innerEl;return o?(i="top",t=a.getHeight()):(i="left",t=a.getWidth()),e=r.transformTrackPoints(a.translatePoints(e)),n=Ext.Number.constrain(e[i],0,t),o?t-n:n},transformTrackPoints:Ext.identityFn,calculateThumbPosition:function(e){var t=this,n=(e-t.getMinValue())/t.getRange()*100;return isNaN(n)&&(n=0),n},getRatio:function(){var e=this,t=e.innerEl,n=e.getVertical()?t.getHeight():t.getWidth(),i=e.getRange();return 0===i?n:n/i},getRange:function(){return this.getMaxValue()-this.getMinValue()},reversePixelValue:function(e){return this.getMinValue()+e/this.getRatio()},reversePercentageValue:function(e){return this.getMinValue()+this.getRange()*(e/100)},captureMouse:function(e,t,n,i){var r,o,a=this;e=e&&Ext.Function.bind(e,a,n,i),t=t&&Ext.Function.bind(t,a,n,i),r=function(){Ext.getDoc().un(o),t&&t.apply(a,arguments)},o={mousemove:e,mouseup:r},Ext.getDoc().on(o)}}),Ext.define("Ext.sparkline.Shape",{constructor:function(e,t,n,i){this.target=e,this.id=t,this.type=n,this.args=i},append:function(){return this.target.appendShape(this),this}}),Ext.define("Ext.sparkline.CanvasBase",{requires:["Ext.sparkline.Shape"],shapeCount:0,_pxregex:/(\d+)(px)?\s*$/i,setWidth:function(e){this.pixelWidth=e},setHeight:function(e){this.pixelHeight=e},drawLine:function(e,t,n,i,r,o){return this.drawShape([[e,t],[n,i]],r,o)},drawShape:function(e,t,n,i){return this._genShape("Shape",[e,t,n,i])},drawCircle:function(e,t,n,i,r,o){return this._genShape("Circle",[e,t,n,i,r,o])},drawPieSlice:function(e,t,n,i,r,o,a){return this._genShape("PieSlice",[e,t,n,i,r,o,a])},drawRect:function(e,t,n,i,r,o){return this._genShape("Rect",[e,t,n,i,r,o])},getElement:function(){return this.el},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_genShape:function(e,t){var n=this.shapeCount++;return t.unshift(n),new Ext.sparkline.Shape(this,n,e,t)},appendShape:function(e){alert("appendShape not implemented")},replaceWithShape:function(e,t){alert("replaceWithShape not implemented")},insertAfterShape:function(e,t){alert("insertAfterShape not implemented")},removeShapeId:function(e){alert("removeShapeId not implemented")},getShapeAt:function(e,t){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),Ext.define("Ext.sparkline.CanvasCanvas",{extend:"Ext.sparkline.CanvasBase",constructor:function(e){this.owner=e},setWidth:function(e){this.callParent(arguments),this.owner.element.dom.width=e},setHeight:function(e){this.callParent(arguments),this.owner.element.dom.height=e},onOwnerUpdate:function(){var e=this;e.el=e.owner.element,e.interact=!e.owner.initialConfig.disableInteraction,e.shapes={},e.shapeseq=[],e.currentTargetShapeId=e.lastShapeId=null},_getContext:function(e,t,n){var i=this.el.dom.getContext("2d");return null!=e&&(i.strokeStyle=e),i.lineWidth=n||1,null!=t&&(i.fillStyle=t),i},reset:function(){var e=this._getContext();e.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=this.lastShapeId=null},_drawShape:function(e,t,n,i,r){var o,a,s=this._getContext(n,i,r);for(s.beginPath(),s.moveTo(t[0][0]+.5,t[0][1]+.5),o=1,a=t.length;a>o;o++)s.lineTo(t[o][0]+.5,t[o][1]+.5);null!=n&&s.stroke(),null!=i&&s.fill(),null!=this.targetX&&null!=this.targetY&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawCircle:function(e,t,n,i,r,o,a){var s=this._getContext(r,o,a);s.beginPath(),s.arc(t,n,i,0,2*Math.PI,!1),null!=this.targetX&&null!=this.targetY&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e),void 0!==r&&s.stroke(),void 0!==o&&s.fill()},_drawPieSlice:function(e,t,n,i,r,o,a,s){var l=this._getContext(a,s);l.beginPath(),l.moveTo(t,n),l.arc(t,n,i,r,o,!1),l.lineTo(t,n),l.closePath(),null!=a&&l.stroke(),s&&l.fill(),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawRect:function(e,t,n,i,r,o,a){return this._drawShape(e,[[t,n],[t+i,n],[t+i,n+r],[t,n+r],[t,n]],o,a)},appendShape:function(e){return this.shapes[e.id]=e,this.shapeseq.push(e.id),this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var n,i=this.shapeseq;for(this.shapes[t.id]=t,n=i.length;n--;)i[n]==e&&(i[n]=t.id);delete this.shapes[e]},replaceWithShapes:function(e,t){var n,i,r,o=this.shapeseq,a={};for(i=e.length;i--;)a[e[i]]=!0;for(i=o.length;i--;)n=o[i],a[n]&&(o.splice(i,1),delete this.shapes[n],r=i);for(i=t.length;i--;)o.splice(r,0,t[i].id),this.shapes[t[i].id]=t[i]},insertAfterShape:function(e,t){var n,i=this.shapeseq;for(n=i.length;n--;)if(i[n]===e)return i.splice(n+1,0,t.id),void(this.shapes[t.id]=t)},removeShapeId:function(e){var t,n=this.shapeseq;for(t=n.length;t--;)if(n[t]===e){n.splice(t,1);break}delete this.shapes[e]},getShapeAt:function(e,t){return this.targetX=e,this.targetY=t,this.render(),this.currentTargetShapeId},render:function(){var e,t,n,i=this.shapeseq,r=this.shapes,o=i.length,a=this._getContext();for(a.clearRect(0,0,this.pixelWidth,this.pixelHeight),n=0;o>n;n++)e=i[n],t=r[e],this["_draw"+t.type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}}),Ext.define("Ext.sparkline.VmlCanvas",{extend:"Ext.sparkline.CanvasBase",constructor:function(e){var t=this;t.owner=e,e.element={tag:"span",reference:"element",listeners:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},style:{display:"inline-block",position:"relative",overflow:"hidden",margin:"0px",padding:"0px",verticalAlign:"top",cursor:"default"},children:[{tag:"svml:group",reference:"groupEl",coordorigin:"0 0",coordsize:"0 0",style:"position:absolute;width:0;height:0;pointer-events:none"}]}},setWidth:function(e){var t=this;t.callParent(arguments),t.owner.groupEl.dom.coordsize=t.width+" "+(t.height||0),t.owner.groupEl.dom.style.width=e+"px"},setHeight:function(e){var t=this;t.callParent(arguments),t.owner.groupEl.dom.coordsize=(t.width||0)+" "+t.height,t.owner.groupEl.dom.style.height=e+"px"},onOwnerUpdate:function(){var e=this;e.group=e.owner.groupEl,e.el=e.owner.element,e.prerender=[]},_drawShape:function(e,t,n,i,r){var o,a,s,l,d,u,c=[];for(u=0,d=t.length;d>u;u++)c[u]=t[u][0]+","+t[u][1];return o=c.splice(0,1),r=null==r?1:r,a=null==n?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+n+'" ',s=null==i?' filled="false"':' fillColor="'+i+'" filled="true" ',l=c[0]===c[c.length-1]?"x ":"",['<svml:shape coordorigin="0 0" coordsize="',this.pixelWidth," ",this.pixelHeight,'" id="jqsshape',e,'" ',a,s,' style="position:absolute;height:',this.pixelHeight,"px;width:",this.pixelWidth,'px" ',' path="m ',o," l ",c.join(", ")," ",l,'e"></svml:shape>'].join("")},_drawCircle:function(e,t,n,i,r,o,a){var s,l,d=2*i;return t-=i,n-=i,s=null==r?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+r+'" ',l=null==o?' filled="false"':' fillColor="'+o+'" filled="true" ',['<svml:oval id="jqsshape',e,'" ',s,l,' style="position:absolute;top:',n,"px; left:",t,"px;width:",d,"px;height:",d,'px"></svml:oval>'].join("")},_drawPieSlice:function(e,t,n,i,r,o,a,s){var l,d,u,c,h,f=this.pixelWidth,g=this.pixelHeight,p=null==a?' stroked="false" ':' strokeWeight="1px" strokeColor="'+a+'" ',m=null==s?' filled="false"':' fillColor="'+s+'" filled="true" ';if(r===o)return"";if(o-r===2*Math.PI&&(r=0,o=2*Math.PI),d=t+Math.round(Math.cos(r)*i),u=n+Math.round(Math.sin(r)*i),c=t+Math.round(Math.cos(o)*i),h=n+Math.round(Math.sin(o)*i),d===c&&u===h){if(o-r<Math.PI)return"";d=c=t+i,u=h=n}return d===c&&u===h&&o-r<Math.PI?"":(l=[t-i,n-i,t+i,n+i,d,u,c,h],['<svml:shape coordorigin="0 0" coordsize="',f," ",g,'" id="jqsshape',e,'" ',p,m,' style="position:absolute;height:',g,"px;width:",f,'px" path="m ',t,",",n," wa ",l.join(", "),' x e"></svml:shape>'].join(""))},_drawRect:function(e,t,n,i,r,o,a){return this._drawShape(e,[[t,n],[t,n+r],[t+i,n+r],[t+i,n],[t,n]],o,a)},reset:function(){Ext.fly(this.group).empty()},appendShape:function(e){return this.prerender.push(this["_draw"+e.type].apply(this,e.args)),this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var n=this.el.getById("jqsshape"+e,!0),i=this["_draw"+t.type].apply(this,t.args);n.outerHTML=i},replaceWithShapes:function(e,t){var n,i=this.el.getById("jqsshape"+e[0],!0),r="",o=t.length;for(n=0;o>n;n++)r+=this["_draw"+t[n].type].apply(this,t[n].args);for(i.outerHTML=r,n=1;n<e.length;n++)this.el.getById("jqsshape"+e[n]).destroy()},insertAfterShape:function(e,t){var n=this.el.getById("jqsshape"+e,!0),i=this["_draw"+t.type].apply(this,t.args);n.insertAdjacentHTML("afterEnd",i)},removeShapeId:function(e){var t=this.el.getById("jqsshape"+e,!0);this.group.removeChild(t)},getShapeAt:function(e,t){var n=this.el.id.substr(8);return n},render:function(){this.group.dom.innerHTML=this.prerender.join("")}},function(){Ext.onReady(function(){var e=document;e.namespaces&&!e.namespaces.svml&&e.namespaces.add("svml","urn:schemas-microsoft-com:vml","#default#VML")})}),Ext.define("Ext.sparkline.Base",{extend:"Ext.Widget",requires:["Ext.XTemplate","Ext.sparkline.CanvasCanvas","Ext.sparkline.VmlCanvas"],cachedConfig:{baseCls:Ext.baseCSSPrefix+"sparkline",lineColor:"#157fcc",fillColor:"#def",defaultPixelsPerValue:3,tagValuesAttribute:"values",enableTagOptions:!1,enableHighlight:!0,highlightColor:null,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableTooltips:!1,disableInteraction:!1,tipTpl:null},config:{values:null},element:{tag:"canvas",reference:"element",style:{display:"inline-block",verticalAlign:"top"},listeners:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},width:0,height:0},defaultBindProperty:"values",redrawQueue:{},inheritableStatics:{sparkLineTipClass:Ext.baseCSSPrefix+"sparkline-tip-target",onClassCreated:function(e){var t,n=e.prototype,i=e.getConfigurator().configs;for(t in i)"tipTpl"!==t&&(n[Ext.Config.get(t).names.apply]=n.applyConfigChange)}},constructor:function(e){var t=this;t.canvas=Ext.supports.Canvas?new Ext.sparkline.CanvasCanvas(t):new Ext.sparkline.VmlCanvas(t),t.getDisableTooltips()||(t.element.cls=Ext.sparkline.Base.sparkLineTipClass),Ext.apply(t,e),t.callParent([e]),t.el=t.element},all:function(e,t,n){var i;for(i=t.length;i--;)if((!n||null!==t[i])&&t[i]!==e)return!1;return!0},applyConfigChange:function(e){var t=this;return t.redrawQueue[t.getId()]=t,t.redrawTimer||(Ext.sparkline.Base.prototype.redrawTimer=Ext.Function.requestAnimationFrame(t.processRedrawQueue)),e},applyTipTpl:function(e){return e.isTemplate||(e=new Ext.XTemplate(e)),e},normalizeValue:function(e){var t;switch(e){case"undefined":e=void 0;break;case"null":e=null;break;case"true":e=!0;break;case"false":e=!1;break;default:t=parseFloat(e),e==t&&(e=t)}return e},normalizeValues:function(e){var t,n=[];for(t=e.length;t--;)n[t]=this.normalizeValue(e[t]);return n},doSetWidth:function(e){var t=this,n=t.element.dom;t.callParent(arguments),t.canvas.setWidth(e),t.width=e,null==t.height?t.setHeight(parseInt(t.measurer.getCachedStyle(n.parentNode,"line-height"),10)):t.redrawQueue[t.getId()]=t},doSetHeight:function(e){var t=this;t.callParent(arguments),t.canvas.setHeight(e),t.height=e,t.redrawQueue[t.getId()]=t},updateValues:function(e){this.values=e},redraw:function(){var e,t=this;t.getValues()&&(e=t.tooltip,e&&e.isVisible()&&t.currentPageXY&&t.el.getRegion().contains(t.currentPageXY)&&(t.tooltip.triggerElement=t.el.dom),t.onUpdate(),t.canvas.onOwnerUpdate(),t.renderGraph())},onUpdate:Ext.emptyFn,renderGraph:function(){var e=!0;return this.disabled&&(this.canvas.reset(),e=!1),e},onMouseEnter:function(e){this.onMouseMove(e)},onMouseMove:function(e){this.currentPageXY=e.getPoint(),this.redraw()},onMouseLeave:function(){var e=this;e.currentPageXY=e.targetX=e.targetY=null,e.redraw()},updateDisplay:function(){var e,t,n,i,r=this;r.currentPageXY&&r.el.getRegion().contains(r.currentPageXY)&&(e=r.canvas.el.getXY(),i=r.getRegion(r.currentPageXY[0]-e[0],r.currentPageXY[1]-e[1]),null==i||r.disableHighlight||r.renderHighlight(i),r.fireEvent("sparklineregionchange",r),t=r.tooltip,null!=i&&t&&(n=r.getRegionTooltip(i),n?r.lastTooltipHTML&&n[0]===r.lastTooltipHTML[0]&&n[1]===r.lastTooltipHTML[1]||(t.setTitle(n[0]),t.update(n[1]),r.lastTooltipHTML=n):t.hide()))},getRegion:Ext.emptyFn,getRegionTooltip:function(e){var t,n,r,o,a,s,l,d,u=this,c=u.tooltipChartTitle,h=[],f=u.getTipTpl();if(t=u.getRegionFields(e),s=u.tooltipFormatter)return s(u,u,t);if(!f)return"";if(Ext.isArray(t)||(t=[t]),n=u.tooltipFormatFieldlist,r=u.tooltipFormatFieldlistKey,n&&r){for(o=[],i=t.length;i--;)a=t[i][r],-1!=(d=Ext.Array.indexOf(a,n))&&(o[d]=t[i]);t=o}for(l=t.length,d=0;l>d;d++)t[d].isNull&&u.getTooltipSkipNull()||(Ext.apply(t[d],{prefix:u.getTooltipPrefix(),suffix:u.getTooltipSuffix()}),h.push(f.apply(t[d])));return c||h.length?[c,h.join("<br>")]:""},getRegionFields:Ext.emptyFn,calcHighlightColor:function(e){var t,n,i,r,o=this,a=o.getHighlightColor(),s=o.getHighlightLighten();if(a)return a;if(s&&(t=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e))){for(i=[],n=4===e.length?16:1,r=0;3>r;r++)i[r]=Ext.Number.constrain(Math.round(parseInt(t[r+1],16)*n*s),0,255);return"rgb("+i.join(",")+")"}return e},destroy:function(){delete this.redrawQueue[this.getId()],this.callParent()}},function(e){var t=e.prototype;Ext.onReady(function(){t.tooltip=new Ext.tip.ToolTip({id:"sparklines-tooltip",target:document.body,delegate:"."+e.sparkLineTipClass,showDelay:0,dismissDelay:0,hideDelay:400})}),e.onClassCreated(e),t.processRedrawQueue=function(){var e,n=t.redrawQueue;for(e in n)n[e].redraw();t.redrawQueue={},t.redrawTimer=0}}),Ext.define("Ext.sparkline.BarBase",{extend:"Ext.sparkline.Base",renderHighlight:function(e){this.renderRegion(e,!0)},renderGraph:function(){var e,t,n,i,r=this,o=r.values,a=r.canvas,s=r.regionShapes||(r.regionShapes={});if(r.callParent()){for(n=o.length;n--;)if(e=r.renderRegion(n))if(Ext.isArray(e)){for(t=[],i=e.length;i--;)e[i].append(),t.push(e[i].id);s[n]=t}else e.append(),s[n]=e.id;else s[n]=null;r.currentPageXY&&(r.currentRegion=null,r.updateDisplay()),a.render()}}}),Ext.define("Ext.sparkline.RangeMap",{constructor:function(e){var t,n,i=[];for(t in e)e.hasOwnProperty(t)&&"string"==typeof t&&t.indexOf(":")>-1&&(n=t.split(":"),n[0]=0===n[0].length?-(1/0):parseFloat(n[0]),n[1]=0===n[1].length?1/0:parseFloat(n[1]),n[2]=e[t],i.push(n));this.map=e,this.rangelist=i||!1},get:function(e){var t,n,i,r=this.rangelist;if(void 0!==(i=this.map[e]))return i;if(r)for(t=r.length;t--;)if(n=r[t],n[0]<=e&&n[1]>=e)return n[2]}}),Ext.define("Ext.sparkline.Bar",{extend:"Ext.sparkline.BarBase",requires:["Ext.sparkline.RangeMap"],alias:"widget.sparklinebar",config:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:null,nullColor:null,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMin:null,chartRangeMax:null,chartRangeClip:!1,colorMap:null,tipTpl:new Ext.XTemplate("&#9679; {prefix}{value}{suffix}")},remove:function(e,t){var n,i,r=[];for(n=0,i=e.length;i>n;n++)e[n]!==t&&r.push(e[n]);return r},all:function(e,t,n){var i;for(i=e.length;i--;)if((!n||null!==e[i])&&e[i]!==t)return!1;return!0},applyColorMap:function(e){var t=this;return Ext.isArray(e)?(t.colorMapByIndex=e,t.colorMapByValue=null):(t.colorMapByIndex=null,t.colorMapByValue=e,t.colorMapByValue&&null==t.colorMapByValue.get&&(t.colorMapByValue=new Ext.sparkline.RangeMap(e))),e},onUpdate:function(){var e,t,n,i,r,o,a,s,l,d,u,c,h,f,g,p,m,x,E,v,y,b=this,C=b.values,S=b.getBarWidth(),w=b.getBarSpacing(),T=b.getChartRangeMin(),P=b.getChartRangeMax(),I=b.getChartRangeClip(),k=1/0,M=-(1/0),R=b.getZeroAxis(),D=[],A=[];for(o=0,a=C.length;a>o;o++)E=C[o],e="string"==typeof E&&E.indexOf(":")>-1,(e||Ext.isArray(E))&&(f=!0,e&&(E=C[o]=b.normalizeValues(E.split(":"))),E=b.remove(E,null),t=Math.min.apply(Math,E),n=Math.max.apply(Math,E),k>t&&(k=t),n>M&&(M=n));for(b.stacked=f,b.regionShapes={},b.totalBarWidth=S+w,b.width=C.length*S+(C.length-1)*w,I&&(c=null==T?-(1/0):T,h=null==P?1/0:P),r=[],i=f?[]:r,o=0,a=C.length;a>o;o++)if(f)for(g=C[o],C[o]=x=[],D[o]=0,i[o]=A[o]=0,p=0,m=g.length;m>p;p++)E=x[p]=I?Ext.Number.constrain(g[p],c,h):g[p],null!==E&&(E>0&&(D[o]+=E),0>k&&M>0?0>E?A[o]+=Math.abs(E):i[o]+=E:i[o]+=Math.abs(E-(0>E?M:k)),r.push(E));else E=I?Ext.Number.constrain(C[o],c,h):C[o],E=C[o]=b.normalizeValue(E),null!==E&&r.push(E);b.max=u=Math.max.apply(Math,r),b.min=d=Math.min.apply(Math,r),b.stackMax=M=f?Math.max.apply(Math,D):u,b.stackMin=k=f?Math.min.apply(Math,r):d,null!=T&&(I||d>T)&&(d=T),null!=P&&(I||P>u)&&(u=P),l=0>=d&&u>=0&&R?0:0==R?d:d>0?d:u,b.xAxisOffset=l,s=f?Math.max.apply(Math,i)+Math.max.apply(Math,A):u-d,b.canvasHeightEf=R&&0>d?b.getHeight()-2:b.getHeight()-1,l>d?(y=f&&u>=0?M:u,v=(y-l)/s*b.getHeight(),v!==Math.ceil(v)&&(b.canvasHeightEf-=2,v=Math.ceil(v))):v=b.getHeight(),b.yoffset=v,b.range=s},getRegion:function(e,t){var n=Math.floor(e/this.totalBarWidth);return 0>n||n>=this.values.length?void 0:n},getRegionFields:function(e){var t,n,i=Ext.Array.from(this.values[e]),r=[];for(n=i.length;n--;)t=i[n],r.push({isNull:null===t,value:t,color:this.calcColor(n,t,e),offset:e});return r},calcColor:function(e,t,n){var i,r,o=this,a=o.colorMapByIndex,s=o.colorMapByValue,l=o.getZeroColor();return i=this.stacked?o.getStackedBarColor():0>t?o.getNegBarColor():o.getBarColor(),0===t&&void 0!==l&&(i=l),s&&(r=s.get(t))?i=r:a&&a.length>n&&(i=a[n]),Ext.isArray(i)?i[e%i.length]:i},renderRegion:function(e,t){var n,i,r,o,a,s,l,d,u,c,h=this,f=h.values[e],g=h.xAxisOffset,p=h.range,m=h.stacked,x=h.canvas,E=h.getBarWidth(),v=e*h.totalBarWidth,y=h.canvasHeightEf,b=h.yoffset,C=h.getNullColor();if(f=Ext.isArray(f)?f:[f],l=f.length,d=f[0],o=h.all(f,null),c=h.all(f,g,!0),o)return void(C&&(r=t?C:h.calcHighlightColor(C,h),n=b>0?b-1:b,x.drawRect(v,n,E-1,0,r,r).append()));for(a=b,s=0;l>s;s++){if(d=f[s],m&&d===g){if(!c||u)continue;u=!0}i=p>0?Math.floor(y*(Math.abs(d-g)/p))+1:1,g>d||d===g&&0===b?(n=a,a+=i):(n=b-i,b-=i),r=h.calcColor(s,d,e),t&&(r=h.calcHighlightColor(r,h)),x.drawRect(v,n,E-1,i-1,r,r).append()}}},function(e){e.onClassCreated(e)}),Ext.define("Ext.sparkline.Box",{extend:"Ext.sparkline.Base",alias:"widget.sparklinebox",config:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:null,targetColor:"#4a2",chartRangeMin:null,chartRangeMax:null,tipTpl:new Ext.XTemplate("{field:this.fields}: {value}",{fields:function(e){var t={lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"};return t[e]}}),tooltipFormatFieldlistKey:"field"},quartile:function(e,t){var n;return 2===t?(n=Math.floor(e.length/2),e.length%2?e[n]:(e[n-1]+e[n])/2):e.length%2?(n=(e.length*t+t)/4,n%1?(e[Math.floor(n)]+e[Math.floor(n)-1])/2:e[n-1]):(n=(e.length*t+2)/4,n%1?(e[Math.floor(n)]+e[Math.floor(n)-1])/2:e[n-1])},applyValues:function(e){return e=Ext.Array.map(Ext.Array.from(e),Number),this.disabled=!(e&&e.length),e},getRegion:function(){return 1},getRegionFields:function(){var e=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return void 0!==this.loutlier&&e.push({field:"lo",value:this.loutlier}),void 0!==this.routlier&&e.push({field:"ro",value:this.routlier}),void 0!==this.lwhisker&&e.push({field:"lw",value:this.lwhisker}),void 0!==this.rwhisker&&e.push({field:"rw",value:this.rwhisker}),e},renderHighlight:Ext.emptyFn,renderGraph:function(){var e,t,n,i,r,o,a,s,l,d,u,c=this,h=c.canvas,f=c.values,g=f.length,p=c.getWidth(),m=c.getHeight(),x=c.getChartRangeMin(),E=c.getChartRangeMax(),v=null==x?Math.min.apply(Math,f):x,y=null==E?Math.max.apply(Math,f):E,b=0,C=c.getSpotRadius(),S=c.getOutlierLineColor(),w=c.getOutlierFillColor(),T=c.getShowOutliers(),P=c.getOutlierIQR(),I=c.getLineColor(),k=c.getWhiskerColor(),M=c.getTargetColor();if(c.callParent()){if(c.raw)T&&f.length>5?(t=f[0],e=f[1],i=f[2],r=f[3],o=f[4],a=f[5],s=f[6]):(e=f[0],i=f[1],r=f[2],o=f[3],a=f[4]);else if(f.sort(function(e,t){return e-t}),i=c.quartile(f,1),r=c.quartile(f,2),o=c.quartile(f,3),n=o-i,T){for(e=a=null,l=0;g>l;l++)null==e&&f[l]>i-n*P&&(e=f[l]),f[l]<o+n*P&&(a=f[l]);t=f[0],s=f[g-1]}else e=f[0],a=f[g-1];c.quartiles=[i,r,o],c.lwhisker=e,c.rwhisker=a,c.loutlier=t,c.routlier=s,u=p/(y-v+1),T&&(b=Math.ceil(C),p-=2*Math.ceil(C),u=p/(y-v+1),e>t&&h.drawCircle((t-v)*u+b,m/2,C,S,w).append(),s>a&&h.drawCircle((s-v)*u+b,m/2,C,S,w).append()),h.drawRect(Math.round((i-v)*u+b),Math.round(.1*m),Math.round((o-i)*u),Math.round(.8*m),c.getBoxLineColor(),c.getBoxFillColor()).append(),h.drawLine(Math.round((e-v)*u+b),Math.round(m/2),Math.round((i-v)*u+b),Math.round(m/2),I).append(),h.drawLine(Math.round((e-v)*u+b),Math.round(m/4),Math.round((e-v)*u+b),Math.round(m-m/4),k).append(),h.drawLine(Math.round((a-v)*u+b),Math.round(m/2),Math.round((o-v)*u+b),Math.round(m/2),I).append(),h.drawLine(Math.round((a-v)*u+b),Math.round(m/4),Math.round((a-v)*u+b),Math.round(m-m/4),k).append(),h.drawLine(Math.round((r-v)*u+b),Math.round(.1*m),Math.round((r-v)*u+b),Math.round(.9*m),c.getMedianColor()).append(),c.target&&(d=Math.ceil(c.spotRadius),h.drawLine(Math.round((c.target-v)*u+b),Math.round(m/2-d),Math.round((c.target-v)*u+b),Math.round(m/2+d),M).append(),h.drawLine(Math.round((c.target-v)*u+b-d),Math.round(m/2),Math.round((c.target-v)*u+b+d),Math.round(m/2),M).append()),c.currentPageXY&&c.el.getRegion().contains(c.currentPageXY)&&(c.currentRegion=null,c.updateDisplay()),h.render()}}}),Ext.define("Ext.sparkline.Bullet",{extend:"Ext.sparkline.Base",alias:"widget.sparklinebullet",config:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:null,tipTpl:new Ext.XTemplate("{fieldkey:this.fields} - {value}",{fields:function(e){return"r"===e?"Range":"p"===e?"Performance":"t"===e?"Target":void 0}})},applyValues:function(e){return e=Ext.Array.map(Ext.Array.from(e),this.normalizeValue),this.disabled=!(e&&e.length),e},onUpdate:function(){var e,t,n,i=this,r=i.values,o=i.getBase();i.callParent(arguments),n=r.slice(),n[0]=null===n[0]?n[2]:n[0],n[1]=null===r[1]?n[2]:n[1],e=Math.min.apply(Math,r),t=Math.max.apply(Math,r),e=null==o?0>e?e:0:o,i.min=e,i.max=t,i.range=t-e,i.shapes={},i.valueShapes={},i.regiondata={},r.length||(i.disabled=!0)},getRegion:function(e,t){var n=this.canvas.getShapeAt(e,t);return void 0!==n&&void 0!==this.shapes[n]?this.shapes[n]:void 0},getRegionFields:function(e){return{fieldkey:e.substr(0,1),value:this.values[e.substr(1)],region:e}},renderHighlight:function(e){switch(e.substr(0,1)){case"r":this.renderRange(e.substr(1),!0).append();break;case"p":this.renderPerformance(!0).append();break;case"t":this.renderTarget(!0).append()}},renderRange:function(e,t){var n=this.values[e],i=Math.round(this.getWidth()*((n-this.min)/this.range)),r=this.getRangeColors()[e-2];return t&&(r=this.calcHighlightColor(r)),this.canvas.drawRect(0,0,i-1,this.getHeight()-1,r,r)},renderPerformance:function(e){var t=this.values[1],n=Math.round(this.getWidth()*((t-this.min)/this.range)),i=this.getPerformanceColor();return e&&(i=this.calcHighlightColor(i)),this.canvas.drawRect(0,Math.round(.3*this.getHeight()),n-1,Math.round(.4*this.getHeight())-1,i,i)},renderTarget:function(e){var t=this.values[0],n=this.getTargetWidth(),i=Math.round(this.getWidth()*((t-this.min)/this.range)-n/2),r=Math.round(.1*this.getHeight()),o=this.getHeight()-2*r,a=this.getTargetColor();return e&&(a=this.calcHighlightColor(a)),this.canvas.drawRect(i,r,n-1,o-1,a,a)},renderGraph:function(){var e,t,n=this,i=n.values.length,r=n.canvas,o=n.shapes||(n.shapes={}),a=n.valueShapes||(n.valueShapes={});if(n.callParent()){for(e=2;i>e;e++)t=n.renderRange(e).append(),o[t.id]="r"+e,a["r"+e]=t.id;null!==n.values[1]&&(t=n.renderPerformance().append(),o[t.id]="p1",a.p1=t.id),null!==n.values[0]&&(t=this.renderTarget().append(),o[t.id]="t0",a.t0=t.id),n.currentPageXY&&n.el.getRegion().contains(n.currentPageXY)&&n.updateDisplay(),r.render()}}}),Ext.define("Ext.sparkline.Discrete",{extend:"Ext.sparkline.BarBase",alias:"widget.sparklinediscrete",config:{lineHeight:"auto",thresholdColor:null,thresholdValue:0,chartRangeMax:null,chartRangeMin:null,chartRangeClip:!1,tipTpl:new Ext.XTemplate("{prefix}{value}{suffix}")},applyValues:function(e){return e=Ext.Array.map(Ext.Array.from(e),Number),this.disabled=!(e&&e.length),e},onUpdate:function(){var e=this,t=e.values,n=e.getChartRangeMin(),i=e.getChartRangeMax(),r=e.getChartRangeClip();e.callParent(arguments),e.regionShapes={},e.min=Math.min.apply(Math,t),e.max=Math.max.apply(Math,t),e.range=e.max-e.min,e.width=e.getWidth(),e.interval=Math.floor(e.width/t.length),e.itemWidth=e.width/t.length,null!=n&&(r||n<e.min)&&(e.min=n),null!=i&&(r||i>e.max)&&(e.max=i),e.canvas&&"auto"===e.getLineHeight()&&e.setLineHeight(Math.round(.3*e.getHeight()))},getRegion:function(e,t){return Math.floor(e/this.itemWidth)},getRegionFields:function(e){return{isNull:void 0===this.values[e],value:this.values[e],offset:e}},renderRegion:function(e,t){var n,i,r,o,a=this,s=a.values,l=a.min,d=a.max,u=a.range,c=a.interval,h=a.canvas,f=a.getHeight(),g=a.getLineHeight(),p=f-g,m=a.getThresholdColor();i=Ext.Number.constrain(s[e],l,d),o=e*c,n=Math.round(p-p*((i-l)/u)),r=m&&i<a.getThresholdValue()?m:a.getLineColor(),t&&(r=a.calcHighlightColor(r)),h.drawLine(o,n,o,n+g,r).append()}}),Ext.define("Ext.sparkline.Line",{extend:"Ext.sparkline.Base",requires:["Ext.sparkline.RangeMap"],alias:"widget.sparklineline",config:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:null,normalRangeMax:null,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:null,chartRangeMax:null,chartRangeMinX:null,chartRangeMaxX:null,tipTpl:new Ext.XTemplate("&#9679; {prefix}{y}{suffix}"),valueSpots:null},applyValueSpots:function(e){return e&&!e.get&&(e=new Ext.sparkline.RangeMap(e)),e},onUpdate:function(){this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null},getRegion:function(e,t){var n,i=this.regionMap;for(n=i.length;n--;)if(null!==i[n]&&e>=i[n][0]&&e<=i[n][1])return i[n][2];return void 0},getRegionFields:function(e){return{isNull:null===this.yvalues[e],x:this.xvalues[e],y:this.yvalues[e],color:this.getLineColor(),fillColor:this.getFillColor(),offset:e}},renderHighlight:function(e){var t=this,n=t.canvas,i=t.vertices[e],r=t.getSpotRadius(),o=t.getHighlightSpotColor(),a=t.getHighlightLineColor();i&&(r&&o&&n.drawCircle(i[0],i[1],r,null,o).append(),a&&n.drawLine(i[0],t.canvasTop,i[0],t.canvasTop+t.getHeight(),a).append())},scanValues:function(){var e,t,n,i,r,o=this,a=o.values,s=a.length,l=o.xvalues,d=o.yvalues,u=o.yminmax;for(e=0;s>e;e++)t=a[e],n="string"==typeof a[e],i="object"==typeof a[e]&&a[e]instanceof Array,r=n&&a[e].split(":"),n&&2===r.length?(l.push(Number(r[0])),d.push(Number(r[1])),u.push(Number(r[1]))):i?(l.push(t[0]),d.push(t[1]),u.push(t[1])):(l.push(e),null===a[e]||"null"===a[e]?d.push(null):(d.push(Number(t)),u.push(Number(t))));o.xvalues&&(l=o.xvalues),
o.maxy=o.maxyorg=Math.max.apply(Math,u),o.miny=o.minyorg=Math.min.apply(Math,u),o.maxx=Math.max.apply(Math,l),o.minx=Math.min.apply(Math,l),o.xvalues=l,o.yvalues=d,o.yminmax=u},processRangeOptions:function(){var e=this,t=e.getNormalRangeMin(),n=e.getNormalRangeMax(),i=e.getChartRangeMin(),r=e.getChartRangeMinX(),o=e.getChartRangeMax(),a=e.getChartRangeMaxX();null!=t&&(t<e.miny&&(e.miny=t),n>e.maxy&&(e.maxy=n)),null!=i&&(e.chartRangeClip||i<e.miny)&&(e.miny=i),null!=o&&(e.chartRangeClip||o>e.maxy)&&(this.maxy=o),null!=r&&(e.chartRangeClipX||r<e.minx)&&(e.minx=r),null!=a&&(e.chartRangeClipX||a>e.maxx)&&(e.maxx=a)},drawNormalRange:function(e,t,n,i,r){var o=this.getNormalRangeMin(),a=this.getNormalRangeMax(),s=t+Math.round(n-n*((a-this.miny)/r)),l=Math.round(n*(a-o)/r);this.canvas.drawRect(e,s,i,l,void 0,this.normalRangeColor).append()},renderGraph:function(){var e,t,n,i,r,o,a,s,l,d,u,c,h,f,g,p,m,x,E,v,y,b,C,S,w=this,T=w.canvas,P=w.getWidth(),I=w.getHeight(),k=w.vertices,M=w.getSpotRadius(),R=w.regionMap,D=w.getValueSpots(),A=w.getSpotColor(),F=w.getMinSpotColor(),L=w.getMaxSpotColor(),O=w.getNormalRangeMin(),B=w.getDrawNormalOnTop();if(w.callParent()&&(w.scanValues(),w.processRangeOptions(),b=w.xvalues,C=w.yvalues,w.yminmax.length&&!(w.yvalues.length<2))){for(i=r=0,e=w.maxx-w.minx===0?1:w.maxx-w.minx,t=w.maxy-w.miny===0?1:w.maxy-w.miny,n=w.yvalues.length-1,M&&(4*M>P||4*M>I)&&(M=0),M&&(v=w.getHighlightSpotColor()&&!w.disableInteraction,(v||F||A&&C[n]===w.miny)&&(I-=Math.ceil(M)),(v||L||A&&C[n]===w.maxy)&&(I-=Math.ceil(M),i+=Math.ceil(M)),(v||(F||L)&&(C[0]===w.miny||C[0]===w.maxy))&&(r+=Math.ceil(M),P-=Math.ceil(M)),(v||A||F||L&&(C[n]===w.miny||C[n]===w.maxy))&&(P-=Math.ceil(M))),I--,null==O||B||w.drawNormalRange(r,i,I,P,t),a=[],s=[a],f=g=null,p=C.length,S=0;p>S;S++)l=b[S],u=b[S+1],d=C[S],c=r+Math.round((l-w.minx)*(P/e)),h=p-1>S?r+Math.round((u-w.minx)*(P/e)):P,g=c+(h-c)/2,R[S]=[f||0,g,S],f=g,null===d?S&&(null!==C[S-1]&&(a=[],s.push(a)),k.push(null)):(d<w.miny&&(d=w.miny),d>w.maxy&&(d=w.maxy),a.length||a.push([c,i+I]),o=[c,i+Math.round(I-I*((d-this.miny)/t))],a.push(o),k.push(o));for(m=[],x=[],E=s.length,S=0;E>S;S++)a=s[S],a.length&&(w.fillColor&&(a.push([a[a.length-1][0],i+I]),x.push(a.slice(0)),a.pop()),a.length>2&&(a[0]=[a[0][0],a[1][1]]),m.push(a));for(E=x.length,S=0;E>S;S++)T.drawShape(x[S],w.fillColor,w.fillColor).append();for(null!=O&&B&&w.drawNormalRange(r,i,I,P,t),E=m.length,S=0;E>S;S++)T.drawShape(m[S],w.getLineColor(),null,w.getLineWidth()).append();if(M&&D)for(null==D.get&&(D=new Ext.sparkline.RangeMap(D)),S=0;p>S;S++)y=D.get(C[S]),y&&T.drawCircle(r+Math.round((b[S]-w.minx)*(P/e)),i+Math.round(I-I*((C[S]-w.miny)/t)),M,null,y).append();M&&A&&null!=C[n]&&T.drawCircle(r+Math.round((b[b.length-1]-w.minx)*(P/e)),i+Math.round(I-I*((C[n]-w.miny)/t)),M,null,A).append(),w.maxy!==w.minyorg&&(M&&F&&(l=b[Ext.Array.indexOf(C,w.minyorg)],T.drawCircle(r+Math.round((l-w.minx)*(P/e)),i+Math.round(I-I*((w.minyorg-w.miny)/t)),M,null,F).append()),M&&L&&(l=b[Ext.Array.indexOf(C,w.maxyorg)],T.drawCircle(r+Math.round((l-w.minx)*(P/e)),i+Math.round(I-I*((w.maxyorg-w.miny)/t)),M,null,L).append())),w.canvasTop=i,w.currentPageXY&&w.el.getRegion().contains(w.currentPageXY)&&w.updateDisplay(),T.render()}}}),Ext.define("Ext.sparkline.Pie",{extend:"Ext.sparkline.Base",alias:"widget.sparklinepie",config:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tipTpl:new Ext.XTemplate('&#9679; {value} ({percent:number("0.0")}%)')},applyValues:function(e){return e=Ext.Array.map(Ext.Array.from(e),Number),this.disabled=!(e&&e.length),e},onUpdate:function(){var e,t=this,n=t.values,i=0;if(t.callParent(arguments),t.shapes={},t.valueShapes={},n.length>0)for(e=n.length;e--;)i+=n[e];t.total=i,t.radius=Math.floor(Math.min(t.getWidth(),t.getHeight())/2)},getRegion:function(e,t){var n=this.canvas.getShapeAt(e,t);return null!=n&&null!=this.shapes[n]?this.shapes[n]:null},getRegionFields:function(e){var t=this.getSliceColors();return{isNull:null==this.values[e],value:this.values[e],percent:this.values[e]/this.total*100,color:t[e%t.length],offset:e}},renderHighlight:function(e){this.renderSlice(e,!0).append()},renderSlice:function(e,t){var n,i,r,o,a,s=this,l=s.canvas,d=s.radius,u=s.getBorderWidth(),c=s.getOffset(),h=2*Math.PI,f=s.values,g=s.total,p=c?2*Math.PI*(c/360):0,m=this.getSliceColors();for(o=f.length,r=0;o>r;r++){if(n=p,i=p,g>0&&(i=p+h*(f[r]/g)),e===r)return a=m[r%m.length],t&&(a=s.calcHighlightColor(a)),l.drawPieSlice(d,d,d-u,n,i,null,a);p=i}},renderGraph:function(){var e,t,n=this,i=n.canvas,r=n.values,o=n.radius,a=n.getBorderWidth(),s=n.shapes||(n.shapes={}),l=n.valueShapes||(n.valueShapes={});if(n.callParent()){for(a&&i.drawCircle(o,o,Math.floor(o-a/2),n.getBorderColor(),null,a).append(),t=r.length;t--;)r[t]&&(e=n.renderSlice(t).append(),l[t]=e.id,s[e.id]=t);n.currentPageXY&&n.el.getRegion().contains(n.currentPageXY)&&(n.currentRegion=null,n.updateDisplay()),i.render()}}}),Ext.define("Ext.sparkline.TriState",{extend:"Ext.sparkline.BarBase",requires:["Ext.sparkline.RangeMap"],alias:"widget.sparklinetristate",config:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tipTpl:new Ext.XTemplate("&#9679; {value:this.states}",{states:function(e){var t=Number(e);return-1===t?"Loss":0===t?"Draw":1===t?"Win":e}})},applyColorMap:function(e){var t=this;return Ext.isArray(e)?(t.colorMapByIndex=e,t.colorMapByValue=null):(t.colorMapByIndex=null,t.colorMapByValue=e,t.colorMapByValue&&null==t.colorMapByValue.get&&(t.colorMapByValue=new Ext.sparkline.RangeMap(e))),e},applyValues:function(e){return e=Ext.Array.map(Ext.Array.from(e),Number),this.disabled=!(e&&e.length),e},onUpdate:function(){this.totalBarWidth=this.getBarWidth()+this.getBarSpacing()},getBarWidth:function(){var e=this.values;return this._barWidth||(this.getWidth()-(e.length-1)*this.getBarSpacing())/e.length},getRegion:function(e,t){return Math.floor(e/this.totalBarWidth)},getRegionFields:function(e){return{isNull:null==this.values[e],value:this.values[e],color:this.calcColor(this.values[e],e),offset:e}},calcColor:function(e,t){var n,i,r=this,o=r.values,a=r.colorMapByIndex,s=r.colorMapByValue;return n=s&&(i=s.get(e))?i:a&&a.length>t?a[t]:o[t]<0?r.getNegBarColor():o[t]>0?r.getPosBarColor():r.getZeroBarColor()},renderRegion:function(e,t){var n,i,r,o,a,s,l=this,d=l.values,u=l.canvas;n=u.pixelHeight,r=Math.round(n/2),o=e*l.totalBarWidth,d[e]<0?(a=r,i=r-1):d[e]>0?(a=0,i=r-1):(a=r-1,i=2),s=l.calcColor(d[e],e),null!=s&&(t&&(s=l.calcHighlightColor(s)),u.drawRect(o,a,l.getBarWidth()-1,i-1,s,s).append())}}),Ext.define("Ext.state.CookieProvider",{extend:"Ext.state.Provider",constructor:function(e){var t=this;t.path="/",t.expires=new Date(Ext.Date.now()+6048e5),t.domain=null,t.secure=!1,t.callParent(arguments),t.state=t.readCookies()},set:function(e,t){var n=this;return"undefined"==typeof t||null===t?void n.clear(e):(n.setCookie(e,t),void n.callParent(arguments))},clear:function(e){this.clearCookie(e),this.callParent(arguments)},readCookies:function(){for(var e,t,n,i={},r=document.cookie+";",o=/\s?(.*?)=(.*?);/g,a=this.prefix,s=a.length;null!=(e=o.exec(r));)t=e[1],n=e[2],t&&t.substring(0,s)==a&&(i[t.substr(s)]=this.decodeValue(n));return i},setCookie:function(e,t){var n=this;document.cookie=n.prefix+e+"="+n.encodeValue(t)+(null==n.expires?"":"; expires="+n.expires.toUTCString())+(null==n.path?"":"; path="+n.path)+(null==n.domain?"":"; domain="+n.domain)+(1==n.secure?"; secure":"")},clearCookie:function(e){var t=this;document.cookie=t.prefix+e+"=null; expires=Thu, 01-Jan-1970 00:00:01 GMT"+(null==t.path?"":"; path="+t.path)+(null==t.domain?"":"; domain="+t.domain)+(1==t.secure?"; secure":"")}}),Ext.define("Ext.state.LocalStorageProvider",{extend:"Ext.state.Provider",requires:["Ext.util.LocalStorage"],alias:"state.localstorage",constructor:function(){var e=this;e.callParent(arguments),e.store=e.getStorageObject(),e.store?e.state=e.readLocalStorage():e.state={}},readLocalStorage:function(){for(var e,t=this.store,n={},i=t.getKeys(),r=i.length;r--;)e=i[r],n[e]=this.decodeValue(t.getItem(e));return n},set:function(e,t){var n=this;n.clear(e),null!=t&&(n.store.setItem(e,n.encodeValue(t)),n.callParent(arguments))},clear:function(e){this.store.removeItem(e),this.callParent(arguments)},getStorageObject:function(){var e=this.prefix,t=e,n=t.length-1;return"-"===t.charAt(n)&&(t=t.substring(0,n)),new Ext.util.LocalStorage({id:t,prefix:e})}}),Ext.define("Ext.toolbar.Breadcrumb",{extend:"Ext.Container",xtype:"breadcrumb",requires:["Ext.data.TreeStore","Ext.button.Split"],isBreadcrumb:!0,baseCls:Ext.baseCSSPrefix+"breadcrumb",layout:"hbox",config:{buttonUI:"plain-toolbar",displayField:"text",overflowHandler:null,showIcons:null,store:null,useSplitButtons:!0},renderConfig:{selection:"root"},_breadcrumbCls:Ext.baseCSSPrefix+"breadcrumb",_btnCls:Ext.baseCSSPrefix+"breadcrumb-btn",_folderIconCls:Ext.baseCSSPrefix+"breadcrumb-icon-folder",_leafIconCls:Ext.baseCSSPrefix+"breadcrumb-icon-leaf",initComponent:function(){var e=this,t=this.layout,n=e.getOverflowHandler();"string"==typeof t&&(t={type:t}),n&&(t.overflowHandler=n),this.layout=t,this.defaultButtonUI=this.getButtonUI(),this.getStore()||Ext.Error.raise("Ext.toolbar.Breadcrumb requires a store"),e._buttons=[],e.addCls([e._breadcrumbCls,e._breadcrumbCls+"-"+e.ui]),e.callParent()},onDestroy:function(){this._buttons=Ext.destroy(this._buttons),this.callParent()},afterComponentLayout:function(){var e=this,t=e.layout.overflowHandler;e.callParent(arguments),t&&e.tooNarrow&&t.scrollToItem&&t.scrollToItem(e.getSelection().get("depth"))},applySelection:function(e){return"root"===e?this.getStore().getRoot():e},updateSelection:function(e){var t,n,i,r,o,a,s,l,d,u,c=this,h=c._buttons,f=[],g=c.items.getCount(),p=c._needsSync,m=c.getDisplayField();if(Ext.suspendLayouts(),e){for(o=e,d=e.get("depth"),r=d+1,u=d;o&&(l=o.getId(),s=h[u],p||!s||s._breadcrumbNodeId!==l);)a=o.get(m),s?s.setText(a):s=h[u]=Ext.create({xtype:c.getUseSplitButtons()?"splitbutton":"button",ui:c.getButtonUI(),cls:c._btnCls+" "+c._btnCls+"-"+c.ui,text:a,showEmptyMenu:!0,menu:{listeners:{click:"_onMenuClick",beforeshow:"_onMenuBeforeShow",scope:this}},handler:"_onButtonClick",scope:c}),t=this.getShowIcons(),t!==!1&&(i=o.get("icon"),n=o.get("iconCls"),i?(s.setIconCls(null),s.setIcon(i)):n?(s.setIcon(null),s.setIconCls(n)):t?(s.setIcon(null),s.setIconCls((o.isLeaf()?c._leafIconCls:c._folderIconCls)+"-"+c.ui)):(s.setIcon(null),s.setIconCls(null))),s.setArrowVisible(o.hasChildNodes()),s._breadcrumbNodeId=o.getId(),o=o.parentNode,u--;if(r>g)f=h.slice(g,d+1),c.add(f);else for(u=g-1;u>=r;u--)c.remove(c.items.items[u],!1)}else c.removeAll(!1);Ext.resumeLayouts(!0),c.fireEvent("selectionchange",c,e),c._needsSync=!1},applyUseSplitButtons:function(e,t){return this.rendered&&e!==t&&Ext.Error.raise("Cannot reconfigure 'useSplitButtons' config of Ext.toolbar.Breadcrumb after initial render"),e},updateStore:function(e,t){this._needsSync=!0,t&&this.setSelection(e.getRoot())},updateOverflowHandler:function(e){"menu"===e&&Ext.Error.raise("Using Menu overflow with breadcrumb is not currently supported.")},privates:{_onButtonClick:function(e,t){this.getUseSplitButtons()&&this.setSelection(this.getStore().getNodeById(e._breadcrumbNodeId))},_onMenuClick:function(e,t,n){this.setSelection(this.getStore().getNodeById(t._breadcrumbNodeId))},_onMenuBeforeShow:function(e){var t,n,i,r,o,a=this.getStore().getNodeById(e.ownerButton._breadcrumbNodeId),s=this.getDisplayField();if(!a.hasChildNodes())return!1;for(t=a.childNodes,i=[],r=0,o=t.length;o>r;r++)n=t[r],i.push({text:n.get(s),_breadcrumbNodeId:n.getId()});e.removeAll(),e.add(i)}}}),Ext.define("Ext.toolbar.Spacer",{extend:"Ext.Component",alias:"widget.tbspacer",alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",focusable:!1,ariaRole:"presentation"}),Ext.define("Ext.view.DragZone",{extend:"Ext.dd.DragZone",containerScroll:!1,constructor:function(e){var t,n,i,r=this;Ext.apply(r,e),r.ddGroup||(r.ddGroup="view-dd-zone-"+r.view.id),t=r.view,n=t.ownerCt,i=n?n.getTargetEl().dom:t.el.dom.parentNode,r.callParent([i]),r.ddel=Ext.get(document.createElement("div")),r.ddel.addCls(Ext.baseCSSPrefix+"grid-dd-wrap")},init:function(e,t,n){var i=this,r=Ext.supports.touchScroll?"itemlongpress":"itemmousedown",o={scope:i};o[r]=i.onItemMouseDown,i.initTarget(e,t,n),i.view.mon(i.view,o)},onValidDrop:function(e,t,n){this.callParent(),e.el.focus()},onItemMouseDown:function(e,t,n,i,r){this.isPreventDrag(r,t,n,i)||(e.focusRow&&e.focusRow(t),this.handleMouseDown(r))},isPreventDrag:function(e,t,n,i){return!1},getDragData:function(e){var t=this.view,n=e.getTarget(t.getItemSelector());return n?{copy:t.copy||t.allowCopy&&e.ctrlKey,event:e,view:t,ddel:this.ddel,item:n,records:t.getSelectionModel().getSelection(),fromPosition:Ext.fly(n).getXY()}:void 0},onInitDrag:function(e,t){var n=this,i=n.dragData,r=i.view,o=r.getSelectionModel(),a=r.getRecord(i.item);return o.isSelected(a)||o.selectWithEvent(a,n.DDMInstance.mousedownEvent),i.records=o.getSelection(),n.ddel.setHtml(n.getDragText()),n.proxy.update(n.ddel.dom),n.onStartDrag(e,t),!0},getDragText:function(){var e=this.dragData.records.length;return Ext.String.format(this.dragText,e,1===e?"":"s")},getRepairXY:function(e,t){return t?t.fromPosition:!1}}),Ext.define("Ext.tree.ViewDragZone",{extend:"Ext.view.DragZone",isPreventDrag:function(e,t){return t.get("allowDrag")===!1||!!e.getTarget(this.view.expanderSelector)},getDragText:function(){var e=this.dragData.records,t=e.length,n=e[0].get(this.displayField),i="s";return 1===t&&n?n:(n||(i=""),Ext.String.format(this.dragText,t,i))},afterRepair:function(){var e,t,n=this,i=n.view,r=i.selectedItemCls,o=n.dragData.records,a=o.length,s=Ext.fly;if(Ext.enableFx&&n.repairHighlight)for(e=0;a>e;e++)t=i.getNode(o[e]),s(t.firstChild).highlight(n.repairHighlightColor,{listeners:{beforeanimate:function(){i.isSelected(t)&&s(t).removeCls(r)},afteranimate:function(){i.isSelected(t)&&s(t).addCls(r)}}});n.dragging=!1}}),Ext.define("Ext.tree.ViewDropZone",{extend:"Ext.view.DropZone",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,expandDelay:500,indicatorCls:Ext.baseCSSPrefix+"tree-ddindicator",expandNode:function(e){var t=this.view;this.expandProcId=!1,e.isLeaf()||e.isExpanded()||(t.expand(e),this.expandProcId=!1)},queueExpand:function(e){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[e])},cancelExpand:function(){this.expandProcId&&(clearTimeout(this.expandProcId),this.expandProcId=!1)},getPosition:function(e,t){var n,i=this.view,r=i.getRecord(t),o=e.getY(),a=r.isLeaf(),s=!1,l=Ext.fly(t).getRegion();return r.isRoot()?"append":this.appendOnly?a?!1:"append":(this.allowParentInserts||(s=r.hasChildNodes()&&r.isExpanded()),n=(l.bottom-l.top)/(a?2:3),o>=l.top&&o<l.top+n?"before":!s&&(a||o>=l.bottom-n&&o<=l.bottom)?"after":"append")},isValidDropPoint:function(e,t,n,i,r){if(!e||!r.item)return!1;var o,a,s=this.view,l=s.getRecord(e),d=r.records,u=d.length,c=d.length;if(!(l&&t&&u))return!1;for(o=0;c>o;o++)if(a=d[o],a.isNode&&a.contains(l))return!1;return"append"===t&&l.get("allowDrop")===!1?!1:"append"!==t&&l.parentNode.get("allowDrop")===!1?!1:Ext.Array.contains(d,l)?!1:s.fireEvent("nodedragover",l,t,r,i)!==!1},onNodeOver:function(e,t,n,i){var r=this.getPosition(n,e),o=this.dropNotAllowed,a=this.view,s=a.getRecord(e),l=this.getIndicator(),d=0;return this.cancelExpand(),"append"!==r||this.expandProcId||Ext.Array.contains(i.records,s)||s.isLeaf()||s.isExpanded()||this.queueExpand(s),this.isValidDropPoint(e,r,t,n,i)?(this.valid=!0,this.currentPosition=r,this.overRecord=s,l.setWidth(Ext.fly(e).getWidth()),d=Ext.fly(e).getY()-Ext.fly(a.el).getY()-1,"before"===r?(o=s.isFirst()?Ext.baseCSSPrefix+"tree-drop-ok-above":Ext.baseCSSPrefix+"tree-drop-ok-between",l.showAt(0,d),t.proxy.show()):"after"===r?(o=s.isLast()?Ext.baseCSSPrefix+"tree-drop-ok-below":Ext.baseCSSPrefix+"tree-drop-ok-between",d+=Ext.fly(e).getHeight(),l.showAt(0,d),t.proxy.show()):(o=Ext.baseCSSPrefix+"tree-drop-ok-append",l.hide())):this.valid=!1,this.currentCls=o,o},onNodeOut:function(e,t,n,i){this.valid=!1,this.getIndicator().hide()},onContainerOver:function(e,t,n){return this.allowContainerDrops?this.dropAllowed:t.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},onContainerDrop:function(e,t,n){this.allowContainerDrops&&(this.valid=!0,this.currentPosition="append",this.overRecord=this.view.store.getRoot(),this.onNodeDrop(this.overRecord,e,t,n))},notifyOut:function(){this.callParent(arguments),this.cancelExpand()},handleNodeDrop:function(e,t,n){var i,r,o,a,s,l,d,u,c=this,h=c.view,f=t?t.parentNode:h.panel.getRootNode(),g=h.store.getModel();if(e.copy)for(i=e.records,e.records=[],r=0,o=i.length;o>r;r++)a=i[r],a.isNode?e.records.push(a.copy()):e.records.push(new g(Ext.apply({},a.data)));c.cancelExpand(),"before"===n?(s=f.insertBefore,l=[null,t],t=f):"after"===n?(t.nextSibling?(s=f.insertBefore,l=[null,t.nextSibling]):(s=f.appendChild,l=[null]),t=f):(t.isExpanded()||t.isLoading()||(d=!0),s=t.appendChild,l=[null]),u=function(){var n,i;for(Ext.suspendLayouts(),r=0,o=e.records.length;o>r;r++)a=e.records[r],a.isNode||(a=a.isModel?new g(a.data,a.getId()):new g(a),e.records[r]=a),l[0]=a,s.apply(t,l);if(c.sortOnDrop&&t.sort(t.getOwnerTree().store.getSorters().sortFn),Ext.resumeLayouts(!0),Ext.enableFx&&c.dropHighlight)for(n=c.dropHighlightColor,r=0;o>r;r++)i=h.getNode(e.records[r]),i&&Ext.fly(i).highlight(n)},d?t.expand(!1,u):t.isLoading()?t.on({expand:u,delay:1,single:!0}):u()}}),Ext.define("Ext.tree.plugin.TreeViewDragDrop",{extend:"Ext.plugin.Abstract",alias:"plugin.treeviewdragdrop",uses:["Ext.tree.ViewDragZone","Ext.tree.ViewDropZone"],dragText:"{0} selected node{1}",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,ddGroup:"TreeDD",containerScroll:!1,expandDelay:1e3,enableDrop:!0,enableDrag:!0,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,displayField:"text",init:function(e){e.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onViewRender:function(e){var t,n=this;n.enableDrag&&(n.containerScroll&&(t=e.getEl()),n.dragZone=new Ext.tree.ViewDragZone(Ext.apply({view:e,ddGroup:n.dragGroup||n.ddGroup,dragText:n.dragText,displayField:n.displayField,repairHighlightColor:n.nodeHighlightColor,repairHighlight:n.nodeHighlightOnRepair,scrollEl:t},n.dragZone))),n.enableDrop&&(n.dropZone=new Ext.tree.ViewDropZone(Ext.apply({view:e,ddGroup:n.dropGroup||n.ddGroup,allowContainerDrops:n.allowContainerDrops,appendOnly:n.appendOnly,allowParentInserts:n.allowParentInserts,expandDelay:n.expandDelay,dropHighlightColor:n.nodeHighlightColor,dropHighlight:n.nodeHighlightOnDrop,sortOnDrop:n.sortOnDrop,containerScroll:n.containerScroll},n.dropZone)))}},function(){var e=this.prototype;e.nodeHighlightOnDrop=e.nodeHighlightOnRepair=Ext.enableFx}),Ext.define("Ext.util.Cookies",{singleton:!0,set:function(e,t){var n=arguments,i=arguments.length,r=i>2?n[2]:null,o=i>3?n[3]:"/",a=i>4?n[4]:null,s=i>5?n[5]:!1;document.cookie=e+"="+escape(t)+(null===r?"":"; expires="+r.toUTCString())+(null===o?"":"; path="+o)+(null===a?"":"; domain="+a)+(s===!0?"; secure":"")},get:function(e){var t,n,i=document.cookie.split("; "),r=i.length;for(n=0;r>n;++n)if(t=i[n].split("="),t[0]===e)return t[1]||"";return null},clear:function(e,t){this.get(e)&&(t=t||"/",document.cookie=e+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+t)},getCookieVal:function(e){var t=document.cookie,n=t.indexOf(";",e);return-1==n&&(n=t.length),unescape(t.substring(e,n))}}),Ext.define("Ext.view.MultiSelectorSearch",{extend:"Ext.panel.Panel",xtype:"multiselector-search",layout:"fit",floating:!0,resizable:!0,minWidth:200,minHeight:200,border:!0,defaultListenerScope:!0,referenceHolder:!0,searchText:"Search...",initComponent:function(){var e,t,n,i,r=this,o=r.owner,a=r.makeItems();for(r.dockedItems=r.makeDockedItems(),r.items=a,i=Ext.data.StoreManager.lookup(r.store),e=a.length;e--;)if("grid"===(t=a[e]).xtype){t.store=i,t.isSearchGrid=!0,t.selModel=t.selModel||{selType:"checkboxmodel",pruneRemoved:!1,mode:"SIMPLE",listeners:{selectionchange:"onSelectionChange"}},Ext.merge(t,r.grid),t.columns||(t.hideHeaders=!0,t.columns=[{flex:1,dataIndex:r.field}]);break}if(r.callParent(),n=r.getOwnerStore().getRange(),!o.convertSelectionRecord.$nullFn)for(e=n.length;e--;)n[e]=o.convertSelectionRecord(n[e]);i.isLoading()||0===i.loadCount&&!i.getCount()?i.on("load",function(){r.isDestroyed||r.selectRecords(n)},null,{single:!0}):r.selectRecords(n)},getOwnerStore:function(){return this.owner.getStore()},afterShow:function(){var e=this.lookupReference("searchField");this.callParent(arguments),e&&e.focus()},getSearchStore:function(){var e=this.lookupReference("searchGrid");return e.getStore()},makeDockedItems:function(){return[{xtype:"textfield",reference:"searchField",dock:"top",hideFieldLabel:!0,emptyText:this.searchText,triggers:{clear:{cls:"x-form-clear-trigger",handler:"onClearSearch",hidden:!0}},listeners:{change:"onSearchChange",buffer:300}}]},makeItems:function(){return[{xtype:"grid",reference:"searchGrid",trailingBufferZone:2,leadingBufferZone:2,viewConfig:{deferEmptyText:!1,emptyText:"No results."}}]},selectRecords:function(e){var t=this.lookupReference("searchGrid");return t.getSelectionModel().select(e)},deselectRecords:function(e){var t=this.lookupReference("searchGrid");return t.getSelectionModel().deselect(e)},search:function(e){var t=this,n=t.searchFilter,i=t.getSearchStore().getFilters();e?(i.beginUpdate(),n?n.setValue(e):t.searchFilter=n=new Ext.util.Filter({id:"search",property:t.field,value:e}),i.add(n),i.endUpdate()):n&&i.remove(n)},privates:{onClearSearch:function(){var e=this.lookupReference("searchField");e.setValue(null),e.focus()},onSearchChange:function(e){var t=e.getValue(),n=e.getTrigger("clear");n.setHidden(!t),this.search(t)},onSelectionChange:function(e,t){var n,i,r,o,a=this.owner,s=a.getStore(),l=s.data,d=0,u={};for(i=t.length;i--;)o=t[i],r=o.id,u[r]=o,l.containsKey(r)||(n||(n=[])).push(a.convertSearchRecord(o));for(i=l.length;i--;)o=l.getAt(i),u[o.id]||(d||(d=[])).push(o);(n||d)&&l.splice(l.length,d,n)}}}),Ext.define("Ext.view.MultiSelector",{extend:"Ext.grid.Panel",xtype:"multiselector",config:{search:{xtype:"multiselector-search",width:200,height:200,store:{autoLoad:!0}}},fieldName:"name",fieldTitle:null,removeRowText:"&#10006",removeRowTip:"Remove this item",emptyText:"Nothing selected",addToolText:"Search for items to add",initComponent:function(){var e,t,n=this,i=n.emptyText,r=n.getStore(),o=n.getSearch(),a=n.fieldTitle;o||Ext.Error.raise("The search configuration is required for the multi selector"),e=o.store,t=e.isStore?e.getModel():e.model,r||(n.store={model:t}),i&&!n.viewConfig&&(n.viewConfig={deferEmptyText:!1,emptyText:i}),n.columns||(n.hideHeaders=!a,n.columns=[{text:a,dataIndex:n.fieldName,flex:1},n.makeRemoveRowColumn()]),n.callParent()},addTools:function(){this.addTool({type:"plus",tooltip:this.addToolText,callback:"onShowSearch",scope:this})},convertSearchRecord:Ext.identityFn,convertSelectionRecord:Ext.identityFn,makeRemoveRowColumn:function(){var e=this;return{width:22,menuDisabled:!0,processEvent:e.processRowEvent.bind(e),renderer:e.renderRemoveRow,updater:Ext.emptyFn,scope:e}},processRowEvent:function(e,t,n,i,r,o,a,s){"click"===o.type&&Ext.fly(o.getTarget()).hasCls(Ext.baseCSSPrefix+"multiselector-remove")&&(this.store.remove(a),this.searchPopup&&this.searchPopup.deselectRecords(a))},renderRemoveRow:function(){return'<span class="'+Ext.baseCSSPrefix+'multiselector-remove" data-qtip="'+this.removeRowTip+'" role="button">'+this.removeRowText+"</span>"},beforeDestroy:function(){Ext.un({mousedown:"onDismissSearch",scope:this}),this.callParent()},privates:{onDismissSearch:function(e){var t=this.searchPopup;!t||t.owns(e.getTarget())||this.owns(e.getTarget())||(Ext.un({mousedown:"onDismissSearch",scope:this}),t.hide())},onShowSearch:function(e,t){var n=this,i=n.searchPopup,r=n.getStore();i||(i=Ext.merge({owner:n,field:n.fieldName,floating:!0},n.getSearch()),n.searchPopup=i=n.add(i),r.getCount()&&i.selectRecords(r.getRange())),i.showBy(n,"tl-tr?"),Ext.on({mousedown:"onDismissSearch",scope:n})}}}),Ext.define("Ext.window.Toast",{extend:"Ext.window.Window",xtype:"toast",cls:Ext.baseCSSPrefix+"toast",bodyPadding:10,autoClose:!0,plain:!1,draggable:!1,resizable:!1,shadow:!1,focus:Ext.emptyFn,anchor:null,useXAxis:!1,align:"br",spacing:6,paddingX:30,paddingY:10,slideInAnimation:"easeIn",slideBackAnimation:"bounceOut",slideInDuration:1500,slideBackDuration:1e3,hideDuration:500,autoCloseDelay:3e3,stickOnClick:!0,stickWhileHover:!0,closeOnMouseDown:!1,isHiding:!1,isFading:!1,destroyAfterHide:!1,closeOnMouseOut:!1,xPos:0,yPos:0,initComponent:function(){var e=this;e.updateAlignment(e.align),e.setAnchor(e.anchor),e.callParent(arguments)},onRender:function(){var e=this;e.callParent(arguments),e.el.hover(e.onMouseEnter,e.onMouseLeave,e),e.closeOnMouseDown&&e.mon(Ext,"mousedown",e.onDocumentMousedown,e)},alignmentProps:{br:{paddingFactorX:-1,paddingFactorY:-1,siblingAlignment:"br-br",anchorAlign:"tr-br"},bl:{paddingFactorX:1,paddingFactorY:-1,siblingAlignment:"bl-bl",anchorAlign:"tl-bl"},tr:{paddingFactorX:-1,paddingFactorY:1,siblingAlignment:"tr-tr",anchorAlign:"br-tr"},tl:{paddingFactorX:1,paddingFactorY:1,siblingAlignment:"tl-tl",anchorAlign:"bl-tl"},b:{paddingFactorX:0,paddingFactorY:-1,siblingAlignment:"b-b",useXAxis:0,anchorAlign:"t-b"},t:{paddingFactorX:0,paddingFactorY:1,siblingAlignment:"t-t",useXAxis:0,anchorAlign:"b-t"},l:{paddingFactorX:1,paddingFactorY:0,siblingAlignment:"l-l",useXAxis:1,anchorAlign:"r-l"},r:{paddingFactorX:-1,paddingFactorY:0,siblingAlignment:"r-r",useXAxis:1,anchorAlign:"l-r"},x:{br:{anchorAlign:"bl-br"},bl:{anchorAlign:"br-bl"},tr:{anchorAlign:"tl-tr"},tl:{anchorAlign:"tr-tl"}}},updateAlignment:function(e){var t=this,n=t.alignmentProps,i=n[e],r=n.x[e];r&&t.useXAxis&&Ext.applyIf(t,r),Ext.applyIf(t,i)},getXposAlignedToAnchor:function(){var e=this,t=e.align,n=e.anchor,i=n&&n.el,r=e.el,o=0;return i&&i.dom&&(e.useXAxis?"br"===t||"tr"===t||"r"===t?(o+=i.getAnchorXY("r")[0],o-=r.getWidth()+e.paddingX):(o+=i.getAnchorXY("l")[0],o+=e.paddingX):o=r.getLeft()),o},getYposAlignedToAnchor:function(){var e=this,t=e.align,n=e.anchor,i=n&&n.el,r=e.el,o=0;return i&&i.dom&&(e.useXAxis?o=r.getTop():"br"===t||"bl"===t||"b"===t?(o+=i.getAnchorXY("b")[1],o-=r.getHeight()+e.paddingY):(o+=i.getAnchorXY("t")[1],o+=e.paddingY)),o},getXposAlignedToSibling:function(e){var t,n=this,i=n.align,r=n.el;return t=n.useXAxis?"tl"===i||"bl"===i||"l"===i?e.xPos+e.el.getWidth()+e.spacing:e.xPos-r.getWidth()-n.spacing:r.getLeft()},getYposAlignedToSibling:function(e){var t,n=this,i=n.align,r=n.el;return t=n.useXAxis?r.getTop():"tr"===i||"tl"===i||"t"===i?e.yPos+e.el.getHeight()+e.spacing:e.yPos-r.getHeight()-e.spacing},getToasts:function(){var e=this.anchor,t=this.anchorAlign,n=e.activeToasts||(e.activeToasts={});return n[t]||(n[t]=[])},setAnchor:function(e){var t,n=this;n.anchor=e="string"==typeof e?Ext.getCmp(e):e,e||(t=Ext.window.Toast,n.anchor=t.bodyAnchor||(t.bodyAnchor={el:Ext.getBody()}))},beforeShow:function(){var e=this;e.stickOnClick&&e.body.on("click",function(){e.cancelAutoClose()}),e.autoClose&&(e.closeTask||(e.closeTask=new Ext.util.DelayedTask(e.doAutoClose,e)),e.closeTask.delay(e.autoCloseDelay)),e.el.setX(-1e4),e.el.setOpacity(1)},afterShow:function(){var e,t,n,i,r=this,o=r.el;r.callParent(arguments),e=r.getToasts(),n=e.length,t=n&&e[n-1],t?(o.alignTo(t.el,r.siblingAlignment,[0,0]),r.xPos=r.getXposAlignedToSibling(t),r.yPos=r.getYposAlignedToSibling(t)):(o.alignTo(r.anchor.el,r.anchorAlign,[r.paddingX*r.paddingFactorX,r.paddingY*r.paddingFactorY],!1),r.xPos=r.getXposAlignedToAnchor(),r.yPos=r.getYposAlignedToAnchor()),Ext.Array.include(e,r),i=o.getXY(),o.animate({from:{x:i[0],y:i[1]},to:{x:r.xPos,y:r.yPos,opacity:1},easing:r.slideInAnimation,duration:r.slideInDuration,dynamic:!0})},onDocumentMousedown:function(e){this.isVisible()&&!this.owns(e.getTarget())&&this.hide()},slideBack:function(){var e=this,t=e.anchor,n=t&&t.el,i=e.el,r=e.getToasts(),o=Ext.Array.indexOf(r,e);!e.isHiding&&i&&i.dom&&n&&n.isVisible()&&(o?(e.xPos=e.getXposAlignedToSibling(r[o-1]),e.yPos=e.getYposAlignedToSibling(r[o-1])):(e.xPos=e.getXposAlignedToAnchor(),e.yPos=e.getYposAlignedToAnchor()),e.stopAnimation(),i.animate({to:{x:e.xPos,y:e.yPos},easing:e.slideBackAnimation,duration:e.slideBackDuration,dynamic:!0}))},update:function(){var e=this;e.isVisible()&&(e.isHiding=!0,e.hide()),e.callParent(arguments),e.show()},cancelAutoClose:function(){var e=this.closeTask;e&&e.cancel()},doAutoClose:function(){var e=this;e.stickWhileHover&&e.mouseIsOver?e.closeOnMouseOut=!0:e.close()},onMouseEnter:function(){this.mouseIsOver=!0},onMouseLeave:function(){var e=this;e.mouseIsOver=!1,e.closeOnMouseOut&&(e.closeOnMouseOut=!1,e.close())},removeFromAnchor:function(){var e,t,n=this;if(n.anchor&&(e=n.getToasts(),t=Ext.Array.indexOf(e,n),-1!==t))for(Ext.Array.erase(e,t,1);t<e.length;t++)e[t].slideBack()},hide:function(){var e=this,t=e.el;return e.cancelAutoClose(),e.isHiding?e.isFading||(e.callParent(arguments),e.removeFromAnchor(),e.isHiding=!1):(e.isHiding=!0,e.isFading=!0,e.cancelAutoClose(),t&&t.fadeOut({opacity:0,easing:"easeIn",duration:e.hideDuration,listeners:{afteranimate:function(){e.isFading=!1,e.hide(e.animateTarget,e.doClose,e)}}})),e}},function(e){Ext.toast=function(t,n,i,r){var o,a=t;return Ext.isString(t)&&(a={title:n,html:t,iconCls:r},i&&(a.align=i)),o=new e(a),o.show(),o}});